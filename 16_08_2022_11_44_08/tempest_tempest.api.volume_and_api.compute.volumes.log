{1} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.166683s] ... ok
{1} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.019839s] ... ok
{1} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.016599s] ... ok
{1} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.142258s] ... ok
{1} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.009884s] ... ok
{1} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.012010s] ... ok
{1} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.143061s] ... ok
{1} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.055945s] ... ok
{1} tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON.test_compare_volume_stats_values [0.091922s] ... ok
{1} tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON.test_get_capabilities_backend [0.043222s] ... ok
{2} tempest.api.compute.volumes.test_volume_snapshots.VolumesSnapshotsTestJSON.test_volume_snapshot_create_get_list_delete [5.774998s] ... ok
{2} tempest.api.volume.admin.test_encrypted_volumes_extend.EncryptedVolumesExtendAttachedTest.test_extend_attached_encrypted_volume_luksv1 ... SKIPPED: Attached encrypted volume extend is disabled.
{2} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsV319Test.test_reset_group_snapshot_status ... SKIPPED: Skipped until bug: https://launchpad.net/bugs/1770179 is resolved.
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_create_group_from_group_snapshot [10.961115s] ... ok
{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_boot_from_multiattach_volume [19.793819s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_reset_snapshot_status [0.271901s] ... ok
{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_list_get_volume_attachments_multiattach [2.502075s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 406, in test_list_get_volume_attachments_multiattach
    servers, volume, attachments = self._create_and_multiattach()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 389, in _create_and_multiattach
    'ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 1c3b861c-4816-43c4-8af2-4c8215e0cb53 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:46:52Z', 'message': 'Build of instance 1c3b861c-4816-43c4-8af2-4c8215e0cb53 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11978, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 1c3b861c-4816-43c4-8af2-4c8215e0cb53 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:46:50,819 17546 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.476s
2022-08-16 14:46:50,821 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:46:50 GMT', 'server': 'Apache', 'content-length': '3905', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3528f33c-471f-4f8a-84e4-495b5fa117fe', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "4aecd3664e1a42c6bbbbed0d5734691a", "name": "tempest-AttachVolumeMultiAttachTest-1295289049-project", "password_expires_at": null}, "audit_ids": ["ZT7z5OQ-QhyYA0N0JYmV-w"], "expires_at": "2022-08-17T11:46:50.000000Z", "issued_at": "2022-08-16T11:46:50.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "7ef197d5cdad4e57b6b33825ec8b347f", "name": "tempest-AttachVolumeMultiAttachTest-1295289049"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/7ef197d5cdad4e57b6b33825ec8b347f", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/7ef197d5cdad4e57b6b33825ec8b347f", "regi
    on": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/7ef197d5cdad4e57b6b33825ec8b347f", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/7ef197d5cdad4e57b6b33825ec8b347f", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:46:50,832 17546 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-16 14:46:50,977 17546 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.143s
2022-08-16 14:46:50,978 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-0", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:46:50 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-11ef344e-a52d-4295-8ec8-47a7e68f4cdc', 'x-compute-request-id': 'req-11ef344e-a52d-4295-8ec8-47a7e68f4cdc', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "1c3b861c-4816-43c4-8af2-4c8215e0cb53", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "Ex9hrW8nFD4Q"}}'
2022-08-16 14:46:51,430 17546 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.440s
2022-08-16 14:46:51,430 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:46:50 GMT', 'server': 'Apache', 'content-length': '3905', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8af003c9-adad-472a-a6b0-a453969248d1', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "4aecd3664e1a42c6bbbbed0d5734691a", "name": "tempest-AttachVolumeMultiAttachTest-1295289049-project", "password_expires_at": null}, "audit_ids": ["XYAiJurXS6eBYQkznp81rw"], "expires_at": "2022-08-17T11:46:51.000000Z", "issued_at": "2022-08-16T11:46:51.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "7ef197d5cdad4e57b6b33825ec8b347f", "name": "tempest-AttachVolumeMultiAttachTest-1295289049"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region":
     "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/7ef197d5cdad4e57b6b33825ec8b347f", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/7ef197d5cdad4e57b6b33825ec8b347f", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/7ef197d5cdad4e57b6b33825ec8b347f", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/7ef197d5cdad4e57b6b33825ec8b347f", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:46:51,439 17546 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-16 14:46:51,573 17546 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.132s
2022-08-16 14:46:51,573 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-1", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:46:51 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9f7738c1-fa33-43a3-933d-42ed5ab6473d', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStac
    k-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-21e2bb31-db54-4aef-acd7-e5dfd05dcd8e', 'x-compute-request-id': 'req-21e2bb31-db54-4aef-acd7-e5dfd05dcd8e', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "9f7738c1-fa33-43a3-933d-42ed5ab6473d", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/9f7738c1-fa33-43a3-933d-42ed5ab6473d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/9f7738c1-fa33-43a3-933d-42ed5ab6473d"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "5rg67X3QQDEw"}}'
2022-08-16 14:46:51,691 17546 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53 0.114s
2022-08-16 14:46:51,691 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:46:51 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1760', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b67d2d94-3c97-4f57-b147-910b6dc2660a', 'x-compute-request-id': 'req-b67d2d94-3c97-4f57-b147-910b6dc2660a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53'}
        Body: b'{"server": {"id": "1c3b861c-4816-43c4-8af2-4c8215e0cb53", "name": "multiattach-server-0", "status": "BUILD", "tenant_id": "7ef197d5cdad4e57b6b33825ec8b347f", "user_id": "4aecd3664e1a42c6bbbbed0d5734691a", "metadata": {}, "hostId": "d05576a084be83a801264edb8ee8a2094af350ceec4441789ef2f037", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-16T11:46:50Z", "updated": "2022-08-16T11:46:51Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": "rack05-server62", "OS-EXT-SRV-ATTR:instance_name": "instance-000000f4", "OS-EXT-SRV-ATTR:hypervisor_hostname": "rack05-server62", "OS-EXT-SRV-ATTR:reservation_id": "r-smpczdx0", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "UP", "locked": false, "description": null, "tags": []}}'
2022-08-16 14:46:52,810 17546 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53 0.104s
2022-08-16 14:46:52,810 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {
    'date': 'Tue, 16 Aug 2022 11:46:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '5040', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7e12fd58-7555-404c-8623-2e30eef53fe4', 'x-compute-request-id': 'req-7e12fd58-7555-404c-8623-2e30eef53fe4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53'}
        Body: b'{"server": {"id": "1c3b861c-4816-43c4-8af2-4c8215e0cb53", "name": "multiattach-server-0", "status": "ERROR", "tenant_id": "7ef197d5cdad4e57b6b33825ec8b347f", "user_id": "4aecd3664e1a42c6bbbbed0d5734691a", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-16T11:46:50Z", "updated": "2022-08-16T11:46:52Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:46:52Z", "message": "Build of instance 1c3b861c-4816-43c4-8af2-4c8215e0cb53 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11978, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.
    10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/no
2022-08-16 14:46:52,827 17546 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 1 second wait

{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_resize_server_with_multiattached_volume ... SKIPPED: Resize not available.
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_creating [3.580077s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_deleting [3.548725s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_error [3.517756s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_error_deleting [3.568157s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_update_snapshot_status [0.245718s] ... ok
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_delete_group_snapshots_following_updated_volumes [17.074542s] ... ok
{2} setUpClass (tempest.api.volume.admin.test_volume_manage.VolumeManageAdminTest) ... SKIPPED: Manage volume tests are disabled
{2} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_show_default_quota [0.215551s] ... ok
{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_snapshot_volume_backed_multiattach [21.748951s] ... ok
{2} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_update_default_quota [0.912755s] ... ok
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_group_snapshot_create_show_list_delete [7.679205s] ... ok
{1} tempest.api.volume.admin.test_group_types.GroupTypesTest.test_group_type_create_list_update_show [0.285957s] ... ok
{2} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_quota_volume_gigabytes [0.240320s] ... ok
{2} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_quota_volumes [0.217866s] ... ok
{2} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_volume_extend_gigabytes_quota_deviation [0.215413s] ... ok
{0} tempest.api.compute.volumes.test_volumes_get.VolumesGetTestJSON.test_volume_create_get_delete [1.705516s] ... ok
{2} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_host_name [0.034279s] ... ok
{2} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_service_and_host_name [0.030783s] ... ok
{2} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_service_binary_name [0.026167s] ... ok
{2} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_volume_host_name [1.645532s] ... ok
{2} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_list_services [0.031714s] ... ok
{1} tempest.api.volume.admin.test_groups.GroupsTest.test_group_create_show_list_delete [7.031091s] ... ok
{0} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list [0.071873s] ... ok
{0} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_param_limit [0.072508s] ... ok
{0} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_param_offset_and_limit [0.151690s] ... ok
{0} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_detail_param_limit [0.071311s] ... ok
{0} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_detail_param_offset_and_limit [0.142756s] ... ok
{0} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_details [0.066828s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_disable_log_reason_with_no_reason [0.023721s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_disable_service_with_invalid_binary [0.032042s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_enable_service_with_invalid_host [0.029068s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_freeze_host_with_invalid_host [0.033661s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_thaw_host_with_invalid_host [0.033746s] ... ok
{1} tempest.api.volume.admin.test_groups.GroupsTest.test_group_update [9.036857s] ... ok
{0} tempest.api.volume.admin.test_group_type_specs.GroupTypeSpecsTest.test_group_type_specs_create_show_update_list_delete [0.514466s] ... ok
{1} setUpClass (tempest.api.volume.admin.test_multi_backend.VolumeMultiBackendTest) ... SKIPPED: Cinder multi-backend feature disabled
{2} tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_gigabytes_snapshots [0.315269s] ... ok
{2} tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_snapshots [0.080889s] ... ok
{1} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_delete_message [1.734911s] ... ok
{1} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_list_show_messages [1.480517s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_spec_create_get_delete [0.188241s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_specs_list [0.097448s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_specs_update [0.263285s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsV314Test.test_create_group_from_group [8.212091s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_delete_quota [0.396593s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_list_default_quotas [0.047023s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_list_quotas [0.056784s] ... ok
{2} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_volume_type_encryption_nonexistent_type_id [0.200752s] ... ok
{2} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_empty_name [0.019006s] ... ok
{2} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_repeated_name [0.077015s] ... ok
{2} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_delete_nonexistent_type_id [0.025839s] ... ok
{2} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_get_nonexistent_type_id [0.023953s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage [3.920354s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsV320Test.test_reset_group_status [3.001633s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage_after_volume_transfer [3.469198s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_show_quota_usage [0.076878s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_update_all_quota_resources_for_tenant [0.317511s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_associate_disassociate_qos [0.432249s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_back_end_consumer [0.138796s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_both_consumer [0.131039s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_front_end_consumer [0.128698s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_get_qos [0.026363s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_list_qos [0.027991s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_set_unset_qos_key [0.179260s] ... ok
{0} setUpClass (tempest.api.volume.admin.test_snapshot_manage.SnapshotManageAdminTest) ... SKIPPED: Manage snapshot tests are disabled
{2} tempest.api.volume.admin.test_volumes_list.VolumesListAdminTestJSON.test_volume_list_param_tenant [1.697038s] ... ok
{1} tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithoutMigrationTest.test_available_volume_retype [2.982303s] ... ok
{0} tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_list_hosts [0.178035s] ... ok
{0} tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_show_host [0.192599s] ... ok
{2} tempest.api.volume.test_extensions.ExtensionsTestJSON.test_list_extensions [0.171532s] ... ok
{0} tempest.api.volume.admin.test_volume_pools.VolumePoolsAdminTestsJSON.test_get_pools_without_details [0.189397s] ... ok
{0} setUpClass (tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithMigrationTest) ... SKIPPED: Cinder multi-backend feature disabled
{2} tempest.api.volume.test_versions.VersionsTest.test_list_versions [0.014056s] ... ok
{2} tempest.api.volume.test_versions.VersionsTest.test_show_version [0.172891s] ... ok
{1} tempest.api.volume.admin.test_volume_type_access.VolumeTypesAccessTest.test_volume_type_access_list [0.402647s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_invalid_body [0.021730s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_none_body [0.021108s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_nonexistent_type_id [0.047341s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_delete_nonexistent_volume_type_id [0.026204s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_get_nonexistent_extra_spec_name [0.034051s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_get_nonexistent_volume_type_id [0.025570s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_list_nonexistent_volume_type_id [0.031036s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_multiple_extra_spec [0.019694s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_no_body [0.020822s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_none_extra_spec_id [0.044197s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_nonexistent_extra_spec_id [0.049771s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_nonexistent_type_id [0.047502s] ... ok
{2} tempest.api.volume.test_volume_metadata.VolumesMetadataTest.test_crud_volume_metadata [0.391908s] ... ok
{1} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_create_get_delete [0.223753s] ... ok
{2} tempest.api.volume.test_volume_metadata.VolumesMetadataTest.test_update_show_volume_metadata_item [0.254720s] ... ok
{1} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_encryption_create_get_update_delete [0.344179s] ... ok
{1} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_list [0.036108s] ... ok
{1} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_update [0.170376s] ... ok
{1} tempest.api.volume.test_availability_zone.AvailabilityZoneTestJSON.test_get_availability_zone_list [0.168321s] ... ok
{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_force_detach_volume [3.663474s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/admin/test_volumes_actions.py", line 83, in test_force_detach_volume
    server_id = self.create_server()['id']

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 0a4b92c3-f393-4551-8276-577f17d69ad0 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:48:26Z', 'message': 'Build of instance 0a4b92c3-f393-4551-8276-577f17d69ad0 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11978, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 0a4b92c3-f393-4551-8276-577f17d69ad0 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:48:25,203 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 201 POST http://controller:5000/v3/auth/tokens 0.467s
2022-08-16 14:48:25,203 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:24 GMT', 'server': 'Apache', 'content-length': '3887', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e4dd57a6-ec09-456a-ba8f-7327d985a34e', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "c1d66856dfa44a6db210ee9735d97233", "name": "tempest-VolumesActionsTest-1312454767-project", "password_expires_at": null}, "audit_ids": ["yJDuRPf9RyCpLtwYFhiw6g"], "expires_at": "2022-08-17T11:48:25.000000Z", "issued_at": "2022-08-16T11:48:25.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "372bcf0766224d30bbc1dd1bdfdde92b", "name": "tempest-VolumesActionsTest-1312454767"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/372bcf0766224d30bbc1dd1bdfdde92b", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/372bcf0766224d30bbc1dd1bdfdde92b", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174
    469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/372bcf0766224d30bbc1dd1bdfdde92b", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/372bcf0766224d30bbc1dd1bdfdde92b", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:48:25,213 17546 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_force_detach_volume) Found network None available for tenant
2022-08-16 14:48:25,619 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.405s
2022-08-16 14:48:25,619 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-1138313323", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:25 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a07b4913-3878-4189-8aec-55c30e833823', 'x-compute-request-id': 'req-a07b4913-3878-4189-8aec-55c30e833823', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "0a4b92c3-f393-4551-8276-577f17d69ad0", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/0a4b92c3-f393-4551-8276-577f17d69ad0"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "ALw3hWk9uFgj"}}'
2022-08-16 14:48:25,696 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0 0.073s
2022-08-16 14:48:25,696 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:25 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c9349af5-e238-4870-a8af-aaa8f1a7679a', 'x-compute-request-id': 'req-c9349af5-e238-4870-a8af-aaa8f1a7679a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0'}
        Body: b'{"server": {"id": "0a4b92c3-f393-4551-8276-577f17d69ad0", "name": "tempest-VolumesActionsTest-instance-1138313323", "status": "BUILD", "tenant_id": "372bcf0766224d30bbc1dd1bdfdde92b", "user_id": "c1d66856dfa44a6db210ee9735d97233", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:48:25Z", "updated": "2022-08-16T11:48:25Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0"}, {"rel": "bookmark", "href": "htt
    p://[LB_IP_ADDRESS]:8774/servers/0a4b92c3-f393-4551-8276-577f17d69ad0"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:48:26,800 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0 0.093s
2022-08-16 14:48:26,801 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:26 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1343', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-2ec322c1-fda6-420b-9384-24c2da1a2edd', 'x-compute-request-id': 'req-2ec322c1-fda6-420b-9384-24c2da1a2edd', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0'}
        Body: b'{"server": {"id": "0a4b92c3-f393-4551-8276-577f17d69ad0", "name": "tempest-VolumesActionsTest-instance-1138313323", "status": "BUILD", "tenant_id": "372bcf0766224d30bbc1dd1bdfdde92b", "user_id": "c1d66856dfa44a6db210ee9735d97233", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:48:25Z", "updated": "2022-08-16T11:48:26Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/0a4b92c3-f393-4551-8276-577f17d69ad0"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000f7", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:48:26,810 17546 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:48:27,917 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0 0.106s
2022-08-16 14:48:27,918 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:27 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4693', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-409549dc-fb77-48d7-abff-e3f2e70eab0b', 'x-compute-request-id': 'req-409549dc-fb77-48d7-abff-e3f2e70eab0b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0'}
        Body: b'{"server": {"id": "0a4b92c3-f393-4551-827
    6-577f17d69ad0", "name": "tempest-VolumesActionsTest-instance-1138313323", "status": "ERROR", "tenant_id": "372bcf0766224d30bbc1dd1bdfdde92b", "user_id": "c1d66856dfa44a6db210ee9735d97233", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:48:25Z", "updated": "2022-08-16T11:48:26Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/0a4b92c3-f393-4551-8276-577f17d69ad0"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:48:26Z", "message": "Build of instance 0a4b92c3-f393-4551-8276-577f17d69ad0 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11978, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pack
2022-08-16 14:48:27,928 17546 INFO     [te
    mpest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:48:28,356 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0 0.427s
2022-08-16 14:48:28,356 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:27 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-75f99497-6c8f-46dd-97cd-c647324c534e', 'x-compute-request-id': 'req-75f99497-6c8f-46dd-97cd-c647324c534e', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0'}
        Body: b''
2022-08-16 14:48:28,388 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0 0.031s
2022-08-16 14:48:28,389 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7eddbdb3-5c29-4d49-b135-887e19427921', 'x-compute-request-id': 'req-7eddbdb3-5c29-4d49-b135-887e19427921', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 0a4b92c3-f393-4551-8276-577f17d69ad0 could not be found."}}'

{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_attaching [3.830511s] ... ok
{1} tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON.test_crud_snapshot_metadata [0.322980s] ... ok
{1} tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON.test_update_show_snapshot_metadata_item [0.268122s] ... ok
{2} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_get_list_accept_volume_transfer [4.660594s] ... ok
{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_creating [2.577265s] ... ok
{2} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_list_delete_volume_transfer [2.750659s] ... ok
{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_error [2.594799s] ... ok
{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_maintenance [2.557330s] ... ok
{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_reset_status [1.794456s] ... ok
{1} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_delete_cascade [8.388471s] ... ok
{1} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_from_snapshot_cascade_delete [6.342353s] ... ok
{2} tempest.api.volume.test_volumes_clone.VolumesCloneTest.test_create_from_bootable_volume [14.815378s] ... ok
{0} tempest.api.volume.test_image_metadata.VolumesImageMetadata.test_update_show_delete_image_metadata [0.241716s] ... ok
{2} tempest.api.volume.test_volumes_clone.VolumesCloneTest.test_create_from_volume [5.971055s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_attach_detach_volume_to_instance [4.424010s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 45, in test_attach_detach_volume_to_instance
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 055ccc27-39ba-447e-92bc-6fb7858e5e3e failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:49:02Z', 'message': 'Build of instance 055ccc27-39ba-447e-92bc-6fb7858e5e3e aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11978, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 055ccc27-39ba-447e-92bc-6fb7858e5e3e aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:48:59,884 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://controller:5000/v3/auth/tokens 0.473s
2022-08-16 14:48:59,885 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:59 GMT', 'server': 'Apache', 'content-length': '3885', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-697d9d32-c6c4-4168-be04-871c059db650', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "b586766e37f543c1b3dec4be655ca28a", "name": "tempest-VolumesActionsTest-251144656-project", "password_expires_at": null}, "audit_ids": ["prMFQ9tTSqOziy8lmxuXBA"], "expires_at": "2022-08-17T11:48:59.000000Z", "issued_at": "2022-08-16T11:48:59.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "2de98183677e43dbb72fa9f6e74411f6", "name": "tempest-VolumesActionsTest-251144656"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/2de98183677e43dbb72fa9f6e74411f6", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/2de98183677e43dbb72fa9f6e74411f6", "region": "RegionOne"}], "id": "d30e368ce
    4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/2de98183677e43dbb72fa9f6e74411f6", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/2de98183677e43dbb72fa9f6e74411f6", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:48:59,885 17547 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 14:48:59,986 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.099s
2022-08-16 14:48:59,986 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesActionsTest-2027741803-desc", "domain_id": "default", "name": "tempest-VolumesActionsTest-2027741803"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:59 GMT', 'server': 'Apache', 'content-length': '372', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ae0b3f78-a22d-4c0b-81a7-74c89cccf9e2', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "6668de9b6fb54c598c278812a2654012", "name": "tempest-VolumesActionsTest-2027741803", "domain_id": "default", "description": "tempest-VolumesActionsTest-2027741803-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/6668de9b6fb54c598c278812a2654012"}}}\n'
2022-08-16 14:49:00,478 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.491s
2022-08-16 14:49:00,479 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesActionsTest-2027741803-project-admin", "password": "J4*Nm*%*eSv*d8n", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:59 GMT', 'server': 'Apache', 'content-length': '292', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-a3212653-e1d6-44a9-8146-918c228020bd', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "7e1342108f944fdc9a27fb3b59fb6482", "name": "tempest-VolumesActionsTest-2027741803-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/7e1342108f944fdc9a27fb3b59fb6482"}}}\n'
2022-08-16 14:49:00,513 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.033s
2022-08-16 14:49:00,513 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:00 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b8dab64f-a5dd-4f05-a344-7b1331d1d84e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v
    3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:00,571 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/6668de9b6fb54c598c278812a2654012/users/7e1342108f944fdc9a27fb3b59fb6482/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.056s
2022-08-16 14:49:00,571 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:00 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ece7f571-ec90-4d93-ac29-277f0f196870', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/6668de9b6fb54c598c278812a2654012/users/7e1342108f944fdc9a27fb3b59fb6482/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:49:00,659 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.087s
2022-08-16 14:49:00,659 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:00 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-81044abf-1b7f-4a4a-9ef5-f0f1a1031e12', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:00,695 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/7e1342108f944fdc9a27fb3b59fb6482/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.034s
2022-08-16 14:49:00,695 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:00 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3eb8319
    9-90b6-412e-a9e4-529824c9fc68', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/7e1342108f944fdc9a27fb3b59fb6482/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:49:00,768 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.072s
2022-08-16 14:49:00,768 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:00 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-69cdbc64-0315-4181-835f-8b30d297b27d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:00,805 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/6668de9b6fb54c598c278812a2654012/users/7e1342108f944fdc9a27fb3b59fb6482/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.035s
2022-08-16 14:49:00,805 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:00 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-be304af7-a2f0-4ed0-938b-24aed1558738', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/6668de9b6fb54c598c278812a2654012/users/7e1342108f944fdc9a27fb3b59fb6482/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:49:00,879 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.074s
2022-08-16 14:49:00,880 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:00 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-30837aaf-85d6-4d3b-b899-1620f11a8687', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e
    20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:00,914 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/6668de9b6fb54c598c278812a2654012/users/7e1342108f944fdc9a27fb3b59fb6482/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.033s
2022-08-16 14:49:00,914 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:00 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-47801d70-79d0-4f90-88e9-150516742d26', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/6668de9b6fb54c598c278812a2654012/users/7e1342108f944fdc9a27fb3b59fb6482/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:49:00,914 17547 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 7e1342108f944fdc9a27fb3b59fb6482 is created with scope project and roles: ['admin', 'admin']
2022-08-16 14:49:00,915 17547 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesActionsTest-2027741803-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '6668de9b6fb54c598c278812a2654012', 'project_name': 'tempest-VolumesActionsTest-2027741803', 'tenant_id': '6668de9b6fb54c598c278812a2654012', 'tenant_name': 'tempest-VolumesActionsTest-2027741803', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '7e1342108f944fdc9a27fb3b59fb6482', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 14:49:00,924 17547 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_attach_detach_volume_to_instance) Found network None available for tenant
2022-08-16 14:49:01,232 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.307s
2022-08-16 14:49:01,233 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-1821850707", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:00 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-410ee8f0-a60d-467b-adfa-699e37969f69', 'x-compute-request-id': 'req-410ee8f0-a60d-467b-adfa-699e37969f69', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "055ccc27-39ba-447e-92bc-6fb7858e5e3e", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "FAh8FC9T4v6s"}}'
2022-08-1
    6 14:49:01,310 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e 0.073s
2022-08-16 14:49:01,310 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:01 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1a0d859f-1faf-4f38-b7d1-693a6b733a3f', 'x-compute-request-id': 'req-1a0d859f-1faf-4f38-b7d1-693a6b733a3f', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e'}
        Body: b'{"server": {"id": "055ccc27-39ba-447e-92bc-6fb7858e5e3e", "name": "tempest-VolumesActionsTest-instance-1821850707", "status": "BUILD", "tenant_id": "2de98183677e43dbb72fa9f6e74411f6", "user_id": "b586766e37f543c1b3dec4be655ca28a", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:01Z", "updated": "2022-08-16T11:49:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:02,408 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e 0.086s
2022-08-16 14:49:02,408 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1343', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-2c73b996-27ec-49de-957f-2a8f13394e74', 'x-compute-request-id': 'req-2c73b996-27ec-49de-957f-2a8f13394e74', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e'}
        Body: b'{"server": {"id": "055ccc27-39ba-447e-92bc-6fb7858e5e3e", "name": "tempest-VolumesActionsTest-instance-1821850707", "status": "BUILD", "tenant_id": "2de98183677e43dbb72fa9f6e74411f6", "user_id": "b586766e37f543c1b3dec4be655ca28a", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:01Z", "updated": "2022-08-16T11:49:02Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://192.168
    .17.193:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000f8", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:02,418 17547 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:49:03,522 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e 0.102s
2022-08-16 14:49:03,522 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:03 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4693', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0ec16f42-a967-4246-a7c8-c32dc75399e1', 'x-compute-request-id': 'req-0ec16f42-a967-4246-a7c8-c32dc75399e1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e'}
        Body: b'{"server": {"id": "055ccc27-39ba-447e-92bc-6fb7858e5e3e", "name": "tempest-VolumesActionsTest-instance-1821850707", "status": "ERROR", "tenant_id": "2de98183677e43dbb72fa9f6e74411f6", "user_id": "b586766e37f543c1b3dec4be655ca28a", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:01Z", "updated": "2022-08-16T11:49:02Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:49:02Z", "message": "Build of instance 055ccc27-39ba-447e-92bc-6fb7858e5e3e aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11978, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/py
    thon3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pack
2022-08-16 14:49:03,532 17547 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:49:03,792 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e 0.258s
2022-08-16 14:49:03,792 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:03 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-361acca3-2d7c-4605-b78b-55c5d024141b', 'x-compute-request-id': 'req-361acca3-2d7c-4605-b78b-55c5d024141b', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e'}
        Body: b''
2022-08-16 14:49:03,825 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e 0.032s
2022-08-16 14:49:03,825 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:03 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3a9d7c68-7968-42f3-b8b5-a2080e547b54', 'x-compute-request-id': 'req-3a9d7c68-7968-42f3-b8b5-a2080e547b54', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 055ccc27-39ba-447e-92bc-6fb7858e5e3e could not be found."}}
    '

{0} tempest.api.volume.test_volume_absolute_limits.AbsoluteLimitsTests.test_get_volume_absolute_limits [0.060720s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_get_volume_attachment [3.451719s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 81, in test_get_volume_attachment
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 780bbc93-0f44-4da1-9143-711e600727d3 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:49:05Z', 'message': 'Build of instance 780bbc93-0f44-4da1-9143-711e600727d3 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11978, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 780bbc93-0f44-4da1-9143-711e600727d3 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:49:04,299 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 201 POST http://controller:5000/v3/auth/tokens 0.462s
2022-08-16 14:49:04,300 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:03 GMT', 'server': 'Apache', 'content-length': '3885', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-5a38e293-46f3-41a3-b075-6531c6671c3a', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "b586766e37f543c1b3dec4be655ca28a", "name": "tempest-VolumesActionsTest-251144656-project", "password_expires_at": null}, "audit_ids": ["EukqNbxgQWeyWmkx-xjUZw"], "expires_at": "2022-08-17T11:49:04.000000Z", "issued_at": "2022-08-16T11:49:04.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "2de98183677e43dbb72fa9f6e74411f6", "name": "tempest-VolumesActionsTest-251144656"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/2de98183677e43dbb72fa9f6e74411f6", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/2de98183677e43dbb72fa9f6e74411f6", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174
    469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/2de98183677e43dbb72fa9f6e74411f6", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/2de98183677e43dbb72fa9f6e74411f6", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:49:04,309 17547 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_get_volume_attachment) Found network None available for tenant
2022-08-16 14:49:04,543 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.233s
2022-08-16 14:49:04,543 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-2008829919", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:04 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f817773e-bddb-4c63-8a79-976fa64f9cf1', 'x-compute-request-id': 'req-f817773e-bddb-4c63-8a79-976fa64f9cf1', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "780bbc93-0f44-4da1-9143-711e600727d3", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/780bbc93-0f44-4da1-9143-711e600727d3"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "gd4nAvxZXPKk"}}'
2022-08-16 14:49:04,618 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3 0.071s
2022-08-16 14:49:04,618 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:04 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1080f58e-9b05-46e2-acb3-0d7f5fb97b26', 'x-compute-request-id': 'req-1080f58e-9b05-46e2-acb3-0d7f5fb97b26', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3'}
        Body: b'{"server": {"id": "780bbc93-0f44-4da1-9143-711e600727d3", "name": "tempest-VolumesActionsTest-instance-2008829919", "status": "BUILD", "tenant_id": "2de98183677e43dbb72fa9f6e74411f6", "user_id": "b586766e37f543c1b3dec4be655ca28a", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:04Z", "updated": "2022-08-16T11:49:04Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3"}, {"rel": "bookmark", "href"
    : "http://[LB_IP_ADDRESS]:8774/servers/780bbc93-0f44-4da1-9143-711e600727d3"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:05,717 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3 0.087s
2022-08-16 14:49:05,717 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:05 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1343', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a50d8b5f-090e-4cd3-9e68-b4aad42c49dc', 'x-compute-request-id': 'req-a50d8b5f-090e-4cd3-9e68-b4aad42c49dc', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3'}
        Body: b'{"server": {"id": "780bbc93-0f44-4da1-9143-711e600727d3", "name": "tempest-VolumesActionsTest-instance-2008829919", "status": "BUILD", "tenant_id": "2de98183677e43dbb72fa9f6e74411f6", "user_id": "b586766e37f543c1b3dec4be655ca28a", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:04Z", "updated": "2022-08-16T11:49:05Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/780bbc93-0f44-4da1-9143-711e600727d3"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000f9", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:05,727 17547 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:49:06,817 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3 0.088s
2022-08-16 14:49:06,817 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:06 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4693', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6631d64b-14fd-45cc-9f25-c2fe5d0ccbc8', 'x-compute-request-id': 'req-6631d64b-14fd-45cc-9f25-c2fe5d0ccbc8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3'}
        Body: b'{"server": {"id": "780bbc93-0f4
    4-4da1-9143-711e600727d3", "name": "tempest-VolumesActionsTest-instance-2008829919", "status": "ERROR", "tenant_id": "2de98183677e43dbb72fa9f6e74411f6", "user_id": "b586766e37f543c1b3dec4be655ca28a", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:04Z", "updated": "2022-08-16T11:49:05Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/780bbc93-0f44-4da1-9143-711e600727d3"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:49:05Z", "message": "Build of instance 780bbc93-0f44-4da1-9143-711e600727d3 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11978, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pack
2022-08-16 14:49:06,827 17547 IN
    FO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:49:07,242 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3 0.414s
2022-08-16 14:49:07,243 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:06 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f1c7347b-a939-44c1-a592-25601d210ef6', 'x-compute-request-id': 'req-f1c7347b-a939-44c1-a592-25601d210ef6', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3'}
        Body: b''
2022-08-16 14:49:07,280 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3 0.033s
2022-08-16 14:49:07,281 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:07 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d9a708f6-6335-48e7-83ef-4ea96a2d3237', 'x-compute-request-id': 'req-d9a708f6-6335-48e7-83ef-4ea96a2d3237', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 780bbc93-0f44-4da1-9143-711e600727d3 could not be found."}}'

{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_reserve_unreserve_volume [0.198020s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_bootable [0.176170s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_readonly_update [0.200518s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete [6.518907s] ... ok
{0} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_get_list_accept_volume_transfer [4.699684s] ... ok
{0} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_list_delete_volume_transfer [3.779524s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_as_clone [8.706017s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_upload [16.953815s] ... ok
{0} tempest.api.volume.test_volumes_clone_negative.VolumesCloneNegativeTest.test_create_from_volume_decreasing_size [1.576300s] ... ok
{1} tempest.api.volume.test_volumes_extend.VolumesExtendAttachedTest.test_extend_attached_volume [5.921437s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 187, in test_extend_attached_volume
    self._test_extend_attached_volume(volume)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 117, in _test_extend_attached_volume
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 364fe03d-a9e7-4069-ae2d-c1fe510b1d63 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:49:34Z', 'message': 'Build of instance 364fe03d-a9e7-4069-ae2d-c1fe510b1d63 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11978, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 364fe03d-a9e7-4069-ae2d-c1fe510b1d63 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:49:30,574 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes 0.424s
2022-08-16 14:49:30,575 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesExtendAttachedTest-Volume-1100590311"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:30 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '892', 'x-compute-request-id': 'req-aba01481-3c66-4340-bc90-8ee4774d4e37', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-aba01481-3c66-4340-bc90-8ee4774d4e37', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes'}
        Body: b'{"volume": {"id": "b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T11:49:30.512250", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-1100590311", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d"}], "user_id": "f7f7fe22670e4b9ebc255edf5fb29f73", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null}}'
2022-08-16 14:49:30,625 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d 0.041s
2022-08-16 14:49:30,626 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:30 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1071', 'x-compute-request-id': 'req-dd9495af-4164-447c-bf51-c55a6e278524', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-dd9495af-4164-447c-bf51-c55a6e278524', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d'}
        Body: b'{"volume": {"id": "b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T11:49:30.000000", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-1100590311", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d"}], "user_id": "f7f7fe22670e4b9ebc255edf5fb29f73", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-tenant-attr:tenant_id": "eb5cc08762ff4f488882e02dac0fe71f", "os-vol-host-attr:host": null, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:nam
    e_id": null}}'
2022-08-16 14:49:31,681 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d 0.045s
2022-08-16 14:49:31,681 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:31 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1129', 'x-compute-request-id': 'req-f66895fd-d342-4a95-8160-626cfbbc551a', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-f66895fd-d342-4a95-8160-626cfbbc551a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d'}
        Body: b'{"volume": {"id": "b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T11:49:30.000000", "updated_at": "2022-08-16T11:49:30.000000", "name": "tempest-VolumesExtendAttachedTest-Volume-1100590311", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d"}], "user_id": "f7f7fe22670e4b9ebc255edf5fb29f73", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-tenant-attr:tenant_id": "eb5cc08762ff4f488882e02dac0fe71f", "os-vol-host-attr:host": "rack08-server59@LIGHTOSyridex#yridex", "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null}}'
2022-08-16 14:49:32,742 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d 0.050s
2022-08-16 14:49:32,743 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:32 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1130', 'x-compute-request-id': 'req-3d2c4e2f-e94a-4704-8bf4-d9866fd23c04', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-3d2c4e2f-e94a-4704-8bf4-d9866fd23c04', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d'}
        Body: b'{"volume": {"id": "b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T11:49:30.000000", "updated_at": "2022-08-16T11:49:31.000000", "name": "tempest-VolumesExtendAttachedTest-Volume-1100590311", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d"}], "user_id": "f7f7fe22670e4b9ebc255edf5fb29f73", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "mu
    ltiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-tenant-attr:tenant_id": "eb5cc08762ff4f488882e02dac0fe71f", "os-vol-host-attr:host": "rack08-server59@LIGHTOSyridex#yridex", "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null}}'
2022-08-16 14:49:32,756 17547 INFO     [tempest.common.waiters] volume b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d reached available after waiting for 2.756227 seconds
2022-08-16 14:49:33,205 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 201 POST http://controller:5000/v3/auth/tokens 0.441s
2022-08-16 14:49:33,205 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:32 GMT', 'server': 'Apache', 'content-length': '3901', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-6ddce407-8868-4e9c-ae07-155e63e462ee', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "f7f7fe22670e4b9ebc255edf5fb29f73", "name": "tempest-VolumesExtendAttachedTest-1348654168-project", "password_expires_at": null}, "audit_ids": ["Ep5KsS78TfKj6ot1R2y_0A"], "expires_at": "2022-08-17T11:49:33.000000Z", "issued_at": "2022-08-16T11:49:33.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "eb5cc08762ff4f488882e02dac0fe71f", "name": "tempest-VolumesExtendAttachedTest-1348654168"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "
    id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/eb5cc08762ff4f488882e02dac0fe71f", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/eb5cc08762ff4f488882e02dac0fe71f", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:49:33,212 17547 INFO     [tempest.lib.common.fixed_network] (VolumesExtendAttachedTest:test_extend_attached_volume) Found network None available for tenant
2022-08-16 14:49:33,459 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.246s
2022-08-16 14:49:33,460 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesExtendAttachedTest-instance-810765783", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:33 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6a9bf497-9542-48f8-8617-163ff7c0a1fd', 'x-compute-request-id': 'req-6a9bf497-9542-48f8-8617-163ff7c0a1fd', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "364fe03d-a9e7-4069-ae2d-c1fe510b1d63", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "XxvG7SoMpZS8"}}'
2022-08-16 14:49:33,545 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63 0.081s
2022-08-16 14:49:33,545 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:33 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1328', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-400fbe34-0fb7-4063-8036-0b91aa74ed76', 'x-compute-request-id': 'req-400fbe34-0fb7-4063-8036-0b91aa74ed76', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63'}
        Body: b'{"server": {"id": "364fe03d-a9e7-4069-ae2d-c1fe510b1d63", "name": "tempest-VolumesExtendAttachedTest-instance-810765783", "status": "BUILD", "tenant_id": "eb5cc08762ff4f488882e02dac0fe71f", "user_id": "f7f7fe22670e4b9ebc255edf5fb29f73", "metadata": {}, "hostId": "",
     "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:33Z", "updated": "2022-08-16T11:49:33Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:34,646 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63 0.089s
2022-08-16 14:49:34,646 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:34 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1349', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-816ca049-23c2-4c72-adf1-f869b5cd8200', 'x-compute-request-id': 'req-816ca049-23c2-4c72-adf1-f869b5cd8200', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63'}
        Body: b'{"server": {"id": "364fe03d-a9e7-4069-ae2d-c1fe510b1d63", "name": "tempest-VolumesExtendAttachedTest-instance-810765783", "status": "BUILD", "tenant_id": "eb5cc08762ff4f488882e02dac0fe71f", "user_id": "f7f7fe22670e4b9ebc255edf5fb29f73", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:33Z", "updated": "2022-08-16T11:49:34Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000fa", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:34,656 17547 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:49:35,755 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63 0.098s
2022-08-16 14:49:35,756 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:35 GMT', 'se
    rver': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4699', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6fac87ae-8743-4389-97e9-74959c077c32', 'x-compute-request-id': 'req-6fac87ae-8743-4389-97e9-74959c077c32', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63'}
        Body: b'{"server": {"id": "364fe03d-a9e7-4069-ae2d-c1fe510b1d63", "name": "tempest-VolumesExtendAttachedTest-instance-810765783", "status": "ERROR", "tenant_id": "eb5cc08762ff4f488882e02dac0fe71f", "user_id": "f7f7fe22670e4b9ebc255edf5fb29f73", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:33Z", "updated": "2022-08-16T11:49:34Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:49:34Z", "message": "Build of instance 364fe03d-a9e7-4069-ae2d-c1fe510b1d63 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11978, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excut
    ils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/sit
2022-08-16 14:49:35,766 17547 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:49:36,038 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63 0.271s
2022-08-16 14:49:36,038 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:35 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6edfb6a2-2125-4f59-86c5-d359ac40e484', 'x-compute-request-id': 'req-6edfb6a2-2125-4f59-86c5-d359ac40e484', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63'}
        Body: b''
2022-08-16 14:49:36,069 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63 0.030s
2022-08-16 14:49:36,070 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:36 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b8810e15-fc66-4e82-acae-6447b3c227e9', 'x-compute-request-id': 'req-b8810e15-fc66-4e82-acae-6447b3c227e9', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 364fe03d-a9e7-4069-ae2d-c1fe510b1d63 could not be found."}}'

{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_from_image [15.897087s] ... ok
{0} tempest.api.volume.test_volumes_extend.VolumesExtendTest.test_volume_extend [14.601028s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list [0.052726s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_by_name [0.039736s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_by_name [0.054086s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_pagination [0.236618s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_with_multiple_params [0.110471s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_pagination [0.183302s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_param_display_name_and_status [0.044914s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_display_name_and_status [0.053744s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_marker [0.063506s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_metadata [0.069236s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_details [0.055887s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_param_metadata [0.044231s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_availability_zone [0.094669s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_bootable [0.090010s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_status [0.094227s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_availability_zone [0.062844s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_bootable [0.054743s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_status [0.063189s] ... ok
{0} tempest.api.volume.test_volumes_extend.VolumesExtendTest.test_volume_extend_when_volume_has_snapshot [4.839627s] ... ok
{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_delete_with_volume_in_use [4.588457s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 48, in test_snapshot_create_delete_with_volume_in_use
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 70e04c79-fe87-45cd-a6c5-54c1be4651c3 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:49:47Z', 'message': 'Build of instance 70e04c79-fe87-45cd-a6c5-54c1be4651c3 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11978, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 70e04c79-fe87-45cd-a6c5-54c1be4651c3 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:49:44,924 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://controller:5000/v3/auth/tokens 0.438s
2022-08-16 14:49:44,924 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:44 GMT', 'server': 'Apache', 'content-length': '3897', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-182c88eb-e7f0-4a8a-b833-edd6bd091187', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "2bdd1e3478284469bbecfdefd029ee87", "name": "tempest-VolumesSnapshotTestJSON-1738194354-project", "password_expires_at": null}, "audit_ids": ["2Amn0SheR3yOPwWhpadxlg"], "expires_at": "2022-08-17T11:49:44.000000Z", "issued_at": "2022-08-16T11:49:44.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "0d6aef83ffdd460fbd10e00fce526d7e", "name": "tempest-VolumesSnapshotTestJSON-1738194354"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0d6aef83ffdd460fbd10e00fce526d7e", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0d6aef83ffdd460fbd10e00fce526d7e", "region": "Regi
    onOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:49:44,925 17548 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 14:49:45,039 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.113s
2022-08-16 14:49:45,040 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesSnapshotTestJSON-530137439-desc", "domain_id": "default", "name": "tempest-VolumesSnapshotTestJSON-530137439"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:44 GMT', 'server': 'Apache', 'content-length': '380', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-d57b6194-352f-4a0b-b871-dc6248b9397b', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "3bcbf54b56d14932ae88c362f0207818", "name": "tempest-VolumesSnapshotTestJSON-530137439", "domain_id": "default", "description": "tempest-VolumesSnapshotTestJSON-530137439-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/3bcbf54b56d14932ae88c362f0207818"}}}\n'
2022-08-16 14:49:45,529 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.488s
2022-08-16 14:49:45,530 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesSnapshotTestJSON-530137439-project-admin", "password": "P1&ovpYenL6X_3W", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:45 GMT', 'server': 'Apache', 'content-length': '296', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-43f9c05f-9e8c-4880-a612-0a98263e9523', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "a68d51acb84f4597bac1496aa3432952", "name": "tempest-VolumesSnapshotTestJSON-530137439-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/a68d51acb84f4597bac1496aa3432952"}}}\n'
2022-08-16 14:49:45,557 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.027s
2022-08-16 14:49:45,558 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:45 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b2271cec-13d3-4f92-b5f4-5d6695d3738b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "descrip
    tion": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:45,613 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/3bcbf54b56d14932ae88c362f0207818/users/a68d51acb84f4597bac1496aa3432952/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.054s
2022-08-16 14:49:45,613 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:45 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-852ed21f-8335-4210-96c0-3ec3e4ff2a99', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/3bcbf54b56d14932ae88c362f0207818/users/a68d51acb84f4597bac1496aa3432952/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:49:45,712 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.098s
2022-08-16 14:49:45,713 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:45 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0133dbce-c4d6-4ab4-8b43-5b8e6b084086', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:45,754 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/a68d51acb84f4597bac1496aa3432952/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.041s
2022-08-16 14:49:45,755 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response -
     Headers: {'date': 'Tue, 16 Aug 2022 11:49:45 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0c590319-1820-4ccb-9461-15dec2e9ba6d', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/a68d51acb84f4597bac1496aa3432952/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:49:45,833 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.077s
2022-08-16 14:49:45,834 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:45 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-01891023-7051-4a31-82bd-6ddb00331d68', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:45,883 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/3bcbf54b56d14932ae88c362f0207818/users/a68d51acb84f4597bac1496aa3432952/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.049s
2022-08-16 14:49:45,884 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:45 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e5891e1a-98c5-41e2-8681-09f2349a9775', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/3bcbf54b56d14932ae88c362f0207818/users/a68d51acb84f4597bac1496aa3432952/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:49:45,967 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.083s
2022-08-16 14:49:45,968 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:45 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b5196e3a-400e-499e-baf0-9a20d6651631', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed
    4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:46,003 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/3bcbf54b56d14932ae88c362f0207818/users/a68d51acb84f4597bac1496aa3432952/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.034s
2022-08-16 14:49:46,003 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:45 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-cf9aab4c-a26a-4090-86ea-b129707366ea', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/3bcbf54b56d14932ae88c362f0207818/users/a68d51acb84f4597bac1496aa3432952/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:49:46,004 17548 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user a68d51acb84f4597bac1496aa3432952 is created with scope project and roles: ['admin', 'admin']
2022-08-16 14:49:46,004 17548 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesSnapshotTestJSON-530137439-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '3bcbf54b56d14932ae88c362f0207818', 'project_name': 'tempest-VolumesSnapshotTestJSON-530137439', 'tenant_id': '3bcbf54b56d14932ae88c362f0207818', 'tenant_name': 'tempest-VolumesSnapshotTestJSON-530137439', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'a68d51acb84f4597bac1496aa3432952', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 14:49:46,012 17548 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use) Found network None available for tenant
2022-08-16 14:49:46,266 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.252s
2022-08-16 14:49:46,267 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-124987703", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-22fd4202-7705-4593-b1fa-a6a839f364fc', 'x-compute-request-id': 'req-22fd4202-7705-4593-b1fa-a6a839f364fc', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "70e04c79-fe87-45cd-a6c5-54c1be4651c3", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-
    54c1be4651c3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "pvLXqL8io8A6"}}'
2022-08-16 14:49:46,340 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3 0.069s
2022-08-16 14:49:46,340 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7aedfb6b-014e-4a36-8b73-af5fcb5d6f24', 'x-compute-request-id': 'req-7aedfb6b-014e-4a36-8b73-af5fcb5d6f24', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3'}
        Body: b'{"server": {"id": "70e04c79-fe87-45cd-a6c5-54c1be4651c3", "name": "tempest-VolumesSnapshotTestJSON-instance-124987703", "status": "BUILD", "tenant_id": "0d6aef83ffdd460fbd10e00fce526d7e", "user_id": "2bdd1e3478284469bbecfdefd029ee87", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:46Z", "updated": "2022-08-16T11:49:46Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:47,440 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3 0.088s
2022-08-16 14:49:47,440 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:47 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1347', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-713d4725-194b-4d49-9fa0-b0c0e122b746', 'x-compute-request-id': 'req-713d4725-194b-4d49-9fa0-b0c0e122b746', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3'}
        Body: b'{"server": {"id": "70e04c79-fe87-45cd-a6c5-54c1be4651c3", "name": "tempest-VolumesSnapshotTestJSON-instance-124987703", "status": "BUILD", "tenant_id": "0d6aef83ffdd460fbd10e00fce526d7e", "user_id": "2bdd1e3478284469bbecfdefd029ee87", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flav
    or": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:46Z", "updated": "2022-08-16T11:49:47Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000fb", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:47,450 17548 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:49:48,553 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3 0.101s
2022-08-16 14:49:48,554 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:48 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4697', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-37e1582d-97b9-4d17-857c-734b2c628dda', 'x-compute-request-id': 'req-37e1582d-97b9-4d17-857c-734b2c628dda', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3'}
        Body: b'{"server": {"id": "70e04c79-fe87-45cd-a6c5-54c1be4651c3", "name": "tempest-VolumesSnapshotTestJSON-instance-124987703", "status": "ERROR", "tenant_id": "0d6aef83ffdd460fbd10e00fce526d7e", "user_id": "2bdd1e3478284469bbecfdefd029ee87", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:46Z", "updated": "2022-08-16T11:49:47Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:49:47Z", "message": "Build of instance 70e04c79-fe87-45cd-a6c5-54c1be4651c3 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11978, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60
    , in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-
2022-08-16 14:49:48,564 17548 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:49:49,027 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3 0.463s
2022-08-16 14:49:49,028 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:48 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-42544643-e78d-48ee-a15e-482d984e342b', 'x-compute-request-id': 'req-42544643-e78d-48ee-a15e-482d984e342b', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3'}
        Body: b''
2022-08-16 14:49:49,064 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3 0.036s
2022-08-16 14:49:49,065 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:49 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-72bea9d2-8be1-406e-8900-4877ac5f2350', 'x-compute-request-id': 'req-72bea9d2-8be1-406e-8900-4877ac5f2350', 'conne
    ction': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 70e04c79-fe87-45cd-a6c5-54c1be4651c3 could not be found."}}'

{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_get_list_update_delete [3.543719s] ... ok
{0} tempest.api.volume.test_volumes_get.VolumesSummaryTest.test_show_volume_summary [0.176283s] ... ok
{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_offline_delete_online [5.651459s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 83, in test_snapshot_create_offline_delete_online
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 29b23d15-02b0-4319-81e6-068f256ff073 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:49:56Z', 'message': 'Build of instance 29b23d15-02b0-4319-81e6-068f256ff073 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11978, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 29b23d15-02b0-4319-81e6-068f256ff073 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:49:52,743 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e/snapshots 0.127s
2022-08-16 14:49:52,743 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "bda717ca-7940-4b01-8f46-6c06df4a1690", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-386948001"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '309', 'x-compute-request-id': 'req-c3c9c402-7365-49ba-a2de-cbeaa85d2f4a', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-c3c9c402-7365-49ba-a2de-cbeaa85d2f4a', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e/snapshots'}
        Body: b'{"snapshot": {"id": "a4f6d433-53b6-43ac-91f6-69921aad2008", "created_at": "2022-08-16T11:49:52.693557", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-386948001", "description": null, "volume_id": "bda717ca-7940-4b01-8f46-6c06df4a1690", "status": "creating", "size": 1, "metadata": {}}}'
2022-08-16 14:49:52,773 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e/snapshots/a4f6d433-53b6-43ac-91f6-69921aad2008 0.026s
2022-08-16 14:49:52,774 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '441', 'x-compute-request-id': 'req-1d4d4691-1837-420c-bd2f-945496c3b650', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-1d4d4691-1837-420c-bd2f-945496c3b650', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e/snapshots/a4f6d433-53b6-43ac-91f6-69921aad2008'}
        Body: b'{"snapshot": {"id": "a4f6d433-53b6-43ac-91f6-69921aad2008", "created_at": "2022-08-16T11:49:52.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-386948001", "description": null, "volume_id": "bda717ca-7940-4b01-8f46-6c06df4a1690", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "0d6aef83ffdd460fbd10e00fce526d7e", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-16 14:49:53,809 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e/snapshots/a4f6d433-53b6-43ac-91f6-69921aad2008 0.030s
2022-08-16 14:49:53,809 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:53 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '441', 'x-compute-request-id': 'req-19c034d6-5e69-4bfd-9716-79e14666e97b', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-19c034d6-5e69-4bfd-9716-79e14666e97b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e/snapshots/a4f6d433-53b6-43ac-91f6-69921aad2008'}
        Body: b'{"snapshot": {"id": "a4f6d433-53b6-43ac-91f6-69921aad2008", "created_at": "2022-08-16T11:49:52.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJ
    SON-Snapshot-386948001", "description": null, "volume_id": "bda717ca-7940-4b01-8f46-6c06df4a1690", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "0d6aef83ffdd460fbd10e00fce526d7e", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-16 14:49:54,841 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e/snapshots/a4f6d433-53b6-43ac-91f6-69921aad2008 0.027s
2022-08-16 14:49:54,842 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '468', 'x-compute-request-id': 'req-938016b2-a163-4e22-bae6-dd9005813ad2', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-938016b2-a163-4e22-bae6-dd9005813ad2', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e/snapshots/a4f6d433-53b6-43ac-91f6-69921aad2008'}
        Body: b'{"snapshot": {"id": "a4f6d433-53b6-43ac-91f6-69921aad2008", "created_at": "2022-08-16T11:49:52.000000", "updated_at": "2022-08-16T11:49:53.000000", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-386948001", "description": null, "volume_id": "bda717ca-7940-4b01-8f46-6c06df4a1690", "status": "available", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "0d6aef83ffdd460fbd10e00fce526d7e", "os-extended-snapshot-attributes:progress": "100%"}}'
2022-08-16 14:49:54,846 17548 INFO     [tempest.common.waiters] snapshot a4f6d433-53b6-43ac-91f6-69921aad2008 reached available after waiting for 2.846203 seconds
2022-08-16 14:49:55,334 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 201 POST http://controller:5000/v3/auth/tokens 0.480s
2022-08-16 14:49:55,335 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:54 GMT', 'server': 'Apache', 'content-length': '3897', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-942e6b24-f830-4bb8-bb39-947ad4ff35f4', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "2bdd1e3478284469bbecfdefd029ee87", "name": "tempest-VolumesSnapshotTestJSON-1738194354-project", "password_expires_at": null}, "audit_ids": ["4F2r675VSTitIUcOci7YXA"], "expires_at": "2022-08-17T11:49:55.000000Z", "issued_at": "2022-08-16T11:49:55.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "0d6aef83ffdd460fbd10e00fce526d7e", "name": "tempest-VolumesSnapshotTestJSON-1738194354"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "int
    erface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0d6aef83ffdd460fbd10e00fce526d7e", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0d6aef83ffdd460fbd10e00fce526d7e", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:49:55,414 17548 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online) Found network None available for tenant
2022-08-16 14:49:55,659 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.243s
2022-08-16 14:49:55,659 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-668146872", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-fa11d942-e10a-4eaf-9842-bb3c492e80a0', 'x-compute-request-id': 'req-fa11d942-e10a-4eaf-9842-bb3c492e80a0', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "29b23d15-02b0-4319-81e6-068f256ff073", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073"
    }, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/29b23d15-02b0-4319-81e6-068f256ff073"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "Tcfyo43i7E8W"}}'
2022-08-16 14:49:55,735 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073 0.072s
2022-08-16 14:49:55,735 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-30d40549-ca3e-4b21-a423-06b661d1aba1', 'x-compute-request-id': 'req-30d40549-ca3e-4b21-a423-06b661d1aba1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073'}
        Body: b'{"server": {"id": "29b23d15-02b0-4319-81e6-068f256ff073", "name": "tempest-VolumesSnapshotTestJSON-instance-668146872", "status": "BUILD", "tenant_id": "0d6aef83ffdd460fbd10e00fce526d7e", "user_id": "2bdd1e3478284469bbecfdefd029ee87", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:55Z", "updated": "2022-08-16T11:49:55Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/29b23d15-02b0-4319-81e6-068f256ff073"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:56,843 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073 0.095s
2022-08-16 14:49:56,843 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:56 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1347', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5f367937-8cbb-4766-a4cc-586a9c14d90d', 'x-compute-request-id': 'req-5f367937-8cbb-4766-a4cc-586a9c14d90d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073'}
        Body: b'{"server": {"id": "29b23d15-02b0-4319-81e6-068f256ff073", "name": "tempest-VolumesSnapshotTestJSON-instance-668146872", "status": "BUILD", "tenant_id": "0d6aef83ffdd460fbd10e00fce526d7e", "user_id": "2bdd1e3478284469bbecfdefd029ee87", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "lin
    ks": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:55Z", "updated": "2022-08-16T11:49:56Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/29b23d15-02b0-4319-81e6-068f256ff073"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000fc", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:56,853 17548 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:49:57,953 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073 0.098s
2022-08-16 14:49:57,954 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:57 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4697', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-20a41518-cb20-4f77-bb79-002a051137f9', 'x-compute-request-id': 'req-20a41518-cb20-4f77-bb79-002a051137f9', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073'}
        Body: b'{"server": {"id": "29b23d15-02b0-4319-81e6-068f256ff073", "name": "tempest-VolumesSnapshotTestJSON-instance-668146872", "status": "ERROR", "tenant_id": "0d6aef83ffdd460fbd10e00fce526d7e", "user_id": "2bdd1e3478284469bbecfdefd029ee87", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:55Z", "updated": "2022-08-16T11:49:56Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/29b23d15-02b0-4319-81e6-068f256ff073"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:49:56Z", "message": "Build of instance 29b23d15-02b0-4319-81e6-068f256ff073 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11978, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_inf
    o\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-
2022-08-16 14:49:57,964 17548 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:49:58,226 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073 0.261s
2022-08-16 14:49:58,226 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:57 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-4e4d3245-e21b-4925-89db-1ea277b636fd', 'x-compute-request-id': 'req-4e4d3245-e21b-4925-89db-1ea277b636fd', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073'}
        Body: b''
2022-08-16 14:49:58,264 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073 0.037s
2022-08-16 14:49:58,265 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:58 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-81e2be7b-9349-4b26-969e-ab6660c59f53', 'x-compute-request-id': 'req-81e2be7b-9349-4b26-969e-ab6660c59f53', 'connection': 'close', 'content-type': 
    'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 29b23d15-02b0-4319-81e6-068f256ff073 could not be found."}}'

{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit [0.036623s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit_equals_infinite [0.062072s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit_equals_zero [0.027630s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_marker [0.074654s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_offset [0.029309s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_created_at_asc [0.031465s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_created_at_desc [0.034471s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_id_asc [0.035233s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_id_desc [0.030637s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_name_asc [0.030783s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_name_desc [0.036681s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshots_list_details_with_params [0.113028s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshots_list_with_params [0.090915s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_attach_volumes_with_nonexistent_volume_id [4.306766s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_negative.py", line 179, in test_attach_volumes_with_nonexistent_volume_id
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:50:01Z', 'message': 'Build of instance a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11978, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:49:59,201 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://controller:5000/v3/auth/tokens 0.423s
2022-08-16 14:49:59,201 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:58 GMT', 'server': 'Apache', 'content-length': '3887', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8147f28e-154c-4c83-9186-c5ed0ce5aa4f', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "93778a180bd6489c836a8b1d0c9dfda1", "name": "tempest-VolumesNegativeTest-414944582-project", "password_expires_at": null}, "audit_ids": ["aiFlF9itTIaXTjyehP58WQ"], "expires_at": "2022-08-17T11:49:59.000000Z", "issued_at": "2022-08-16T11:49:59.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "7153f124d1064f929df381d52221a3ae", "name": "tempest-VolumesNegativeTest-414944582"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/7153f124d1064f929df381d52221a3ae", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/7153f124d1064f929df381d52221a3ae", "region": "RegionOne"}], "id"
    : "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/7153f124d1064f929df381d52221a3ae", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/7153f124d1064f929df381d52221a3ae", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:49:59,202 17546 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 14:49:59,292 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.090s
2022-08-16 14:49:59,293 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesNegativeTest-24488582-desc", "domain_id": "default", "name": "tempest-VolumesNegativeTest-24488582"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:59 GMT', 'server': 'Apache', 'content-length': '370', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-9ddf6aa3-d322-499d-ba4a-8d23a9f07e6e', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "00dd1b9fa5d84f21b756281d8f217d57", "name": "tempest-VolumesNegativeTest-24488582", "domain_id": "default", "description": "tempest-VolumesNegativeTest-24488582-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/00dd1b9fa5d84f21b756281d8f217d57"}}}\n'
2022-08-16 14:49:59,767 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.473s
2022-08-16 14:49:59,767 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesNegativeTest-24488582-project-admin", "password": "P3&CAHVkMo6Dunh", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:59 GMT', 'server': 'Apache', 'content-length': '291', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-13329667-37f5-4599-a724-6b265a812dad', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "5049d0054ecd4e61b3bf11eb06c3068f", "name": "tempest-VolumesNegativeTest-24488582-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/5049d0054ecd4e61b3bf11eb06c3068f"}}}\n'
2022-08-16 14:49:59,808 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.040s
2022-08-16 14:49:59,809 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:59 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-9a96c3dd-8be0-45e1-a756-fb0ec7fe9db5', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"
    self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:59,865 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/00dd1b9fa5d84f21b756281d8f217d57/users/5049d0054ecd4e61b3bf11eb06c3068f/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.055s
2022-08-16 14:49:59,865 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:59 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-bac693b9-ef63-4ab5-b0f3-74a4d26ec2c7', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/00dd1b9fa5d84f21b756281d8f217d57/users/5049d0054ecd4e61b3bf11eb06c3068f/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:49:59,944 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.078s
2022-08-16 14:49:59,945 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:59 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-bf85a032-7454-4e46-93d4-acdf9a6651a8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:59,991 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/5049d0054ecd4e61b3bf11eb06c3068f/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.045s
2022-08-16 14:49:59,992 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:59 GMT', 'server': 'Apach
    e', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-aa41f2ae-62a9-4fe2-970f-748ed6b07d45', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/5049d0054ecd4e61b3bf11eb06c3068f/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:50:00,075 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.082s
2022-08-16 14:50:00,075 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:59 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8a679c5d-49a6-4873-b433-33ab04800885', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:50:00,112 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/00dd1b9fa5d84f21b756281d8f217d57/users/5049d0054ecd4e61b3bf11eb06c3068f/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.036s
2022-08-16 14:50:00,112 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:50:00 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3e5d2965-c9c6-4bed-90b3-fe9416c953a9', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/00dd1b9fa5d84f21b756281d8f217d57/users/5049d0054ecd4e61b3bf11eb06c3068f/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:50:00,193 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.079s
2022-08-16 14:50:00,193 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:50:00 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b24d6abd-a554-4bd5-bc72-28ace11a8113', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options":
     {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:50:00,228 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/00dd1b9fa5d84f21b756281d8f217d57/users/5049d0054ecd4e61b3bf11eb06c3068f/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.033s
2022-08-16 14:50:00,228 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:50:00 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ac1c5578-a36e-47e3-aabe-a5eafef5ce73', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/00dd1b9fa5d84f21b756281d8f217d57/users/5049d0054ecd4e61b3bf11eb06c3068f/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:50:00,228 17546 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 5049d0054ecd4e61b3bf11eb06c3068f is created with scope project and roles: ['admin', 'admin']
2022-08-16 14:50:00,229 17546 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesNegativeTest-24488582-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '00dd1b9fa5d84f21b756281d8f217d57', 'project_name': 'tempest-VolumesNegativeTest-24488582', 'tenant_id': '00dd1b9fa5d84f21b756281d8f217d57', 'tenant_name': 'tempest-VolumesNegativeTest-24488582', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '5049d0054ecd4e61b3bf11eb06c3068f', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 14:50:00,237 17546 INFO     [tempest.lib.common.fixed_network] (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id) Found network None available for tenant
2022-08-16 14:50:00,488 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.250s
2022-08-16 14:50:00,488 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesNegativeTest-instance-602643893", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:50:00 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-44fe988b-0ed1-4156-99f1-8ffc03915508', 'x-compute-request-id': 'req-44fe988b-0ed1-4156-99f1-8ffc03915508', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea
    9dfd7"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "RCyjeh2BuRLD"}}'
2022-08-16 14:50:00,564 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 0.072s
2022-08-16 14:50:00,564 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:50:00 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-bdd955d9-d54a-4838-8b0d-9f2f6505f7a7', 'x-compute-request-id': 'req-bdd955d9-d54a-4838-8b0d-9f2f6505f7a7', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7'}
        Body: b'{"server": {"id": "a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7", "name": "tempest-VolumesNegativeTest-instance-602643893", "status": "BUILD", "tenant_id": "7153f124d1064f929df381d52221a3ae", "user_id": "93778a180bd6489c836a8b1d0c9dfda1", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:50:00Z", "updated": "2022-08-16T11:50:00Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:50:01,664 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 0.088s
2022-08-16 14:50:01,664 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:50:01 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1343', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-e776669e-7dfe-4f19-879d-4bdefe2b0f31', 'x-compute-request-id': 'req-e776669e-7dfe-4f19-879d-4bdefe2b0f31', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7'}
        Body: b'{"server": {"id": "a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7", "name": "tempest-VolumesNegativeTest-instance-602643893", "status": "BUILD", "tenant_id": "7153f124d1064f929df381d52221a3ae", "user_id": "93778a180bd6489c836a8b1d0c9dfda1", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:50:
    00Z", "updated": "2022-08-16T11:50:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000fd", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:50:01,674 17546 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:50:02,774 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 0.098s
2022-08-16 14:50:02,775 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:50:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4693', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d9be7787-76ce-4239-b57a-fa3fd835202d', 'x-compute-request-id': 'req-d9be7787-76ce-4239-b57a-fa3fd835202d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7'}
        Body: b'{"server": {"id": "a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7", "name": "tempest-VolumesNegativeTest-instance-602643893", "status": "ERROR", "tenant_id": "7153f124d1064f929df381d52221a3ae", "user_id": "93778a180bd6489c836a8b1d0c9dfda1", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:50:00Z", "updated": "2022-08-16T11:50:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:50:01Z", "message": "Build of instance a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11978, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site
    -packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pack
2022-08-16 14:50:02,785 17546 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:50:03,043 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 0.258s
2022-08-16 14:50:03,044 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:50:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7d847376-dabb-495a-aa36-0346a3a8d37b', 'x-compute-request-id': 'req-7d847376-dabb-495a-aa36-0346a3a8d37b', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7'}
        Body: b''
2022-08-16 14:50:03,076 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 0.031s
2022-08-16 14:50:03,076 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:50:03 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6e96bfdc-8d58-47aa-bb7e-f931899294d1', 'x-compute-request-id': 'req-6e96bfdc-8d58-47aa-bb7e-f931899294d1', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/s
    ervers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 could not be found."}}'

{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_from_deactivated_image [0.525399s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_from_image_with_decreasing_size [0.410246s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.018931s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_snapshot_id [0.035839s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_source_volid [0.032155s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_volume_type [0.030260s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_negative [0.017500s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.017788s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.017522s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.026294s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.012965s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_detach_volumes_with_invalid_volume_id [0.032561s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_get_invalid_volume_id [0.028176s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.012532s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_detail_with_invalid_status [0.043956s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_detail_with_nonexistent_name [0.045673s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_with_invalid_status [0.041623s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_with_nonexistent_name [0.036450s] ... ok
{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot [6.215264s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_reserve_volume_with_negative_volume_status [0.137424s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_reserve_volume_with_nonexistent_volume_id [0.026948s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_unreserve_volume_with_nonexistent_volume_id [0.025609s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_empty_volume_id [0.014351s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_invalid_volume_id [0.029181s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_nonexistent_volume_id [0.030619s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.027843s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_None_size [0.018668s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_non_number_size [0.015996s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_nonexistent_volume_id [0.032074s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_size_smaller_than_original_size [0.016317s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_without_passing_volume_id [0.033297s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.027449s] ... ok
{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot_no_size [6.514415s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_with_nonexistent_volume_id [0.177591s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_without_passing_volume_id [0.037930s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshot_invalid_param_limit [0.018484s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_marker [0.032076s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_sort [0.019635s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_volume_from_snapshot_decreasing_size [3.730156s] ... ok

==============================
Failed 8 tests - output below:
==============================

tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_list_get_volume_attachments_multiattach[id-8d5853f7-56e7-4988-9b0c-48cea3c7049a]
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 406, in test_list_get_volume_attachments_multiattach
    servers, volume, attachments = self._create_and_multiattach()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 389, in _create_and_multiattach
    'ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 1c3b861c-4816-43c4-8af2-4c8215e0cb53 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:46:52Z', 'message': 'Build of instance 1c3b861c-4816-43c4-8af2-4c8215e0cb53 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11978, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 1c3b861c-4816-43c4-8af2-4c8215e0cb53 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:46:50,819 17546 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.476s
2022-08-16 14:46:50,821 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:46:50 GMT', 'server': 'Apache', 'content-length': '3905', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3528f33c-471f-4f8a-84e4-495b5fa117fe', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "4aecd3664e1a42c6bbbbed0d5734691a", "name": "tempest-AttachVolumeMultiAttachTest-1295289049-project", "password_expires_at": null}, "audit_ids": ["ZT7z5OQ-QhyYA0N0JYmV-w"], "expires_at": "2022-08-17T11:46:50.000000Z", "issued_at": "2022-08-16T11:46:50.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "7ef197d5cdad4e57b6b33825ec8b347f", "name": "tempest-AttachVolumeMultiAttachTest-1295289049"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/7ef197d5cdad4e57b6b33825ec8b347f", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/7ef197d5cdad4e57b6b33825ec8b347f", "regi
    on": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/7ef197d5cdad4e57b6b33825ec8b347f", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/7ef197d5cdad4e57b6b33825ec8b347f", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:46:50,832 17546 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-16 14:46:50,977 17546 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.143s
2022-08-16 14:46:50,978 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-0", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:46:50 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-11ef344e-a52d-4295-8ec8-47a7e68f4cdc', 'x-compute-request-id': 'req-11ef344e-a52d-4295-8ec8-47a7e68f4cdc', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "1c3b861c-4816-43c4-8af2-4c8215e0cb53", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "Ex9hrW8nFD4Q"}}'
2022-08-16 14:46:51,430 17546 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.440s
2022-08-16 14:46:51,430 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:46:50 GMT', 'server': 'Apache', 'content-length': '3905', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8af003c9-adad-472a-a6b0-a453969248d1', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "4aecd3664e1a42c6bbbbed0d5734691a", "name": "tempest-AttachVolumeMultiAttachTest-1295289049-project", "password_expires_at": null}, "audit_ids": ["XYAiJurXS6eBYQkznp81rw"], "expires_at": "2022-08-17T11:46:51.000000Z", "issued_at": "2022-08-16T11:46:51.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "7ef197d5cdad4e57b6b33825ec8b347f", "name": "tempest-AttachVolumeMultiAttachTest-1295289049"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region":
     "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/7ef197d5cdad4e57b6b33825ec8b347f", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/7ef197d5cdad4e57b6b33825ec8b347f", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/7ef197d5cdad4e57b6b33825ec8b347f", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/7ef197d5cdad4e57b6b33825ec8b347f", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:46:51,439 17546 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-16 14:46:51,573 17546 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.132s
2022-08-16 14:46:51,573 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-1", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:46:51 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9f7738c1-fa33-43a3-933d-42ed5ab6473d', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStac
    k-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-21e2bb31-db54-4aef-acd7-e5dfd05dcd8e', 'x-compute-request-id': 'req-21e2bb31-db54-4aef-acd7-e5dfd05dcd8e', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "9f7738c1-fa33-43a3-933d-42ed5ab6473d", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/9f7738c1-fa33-43a3-933d-42ed5ab6473d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/9f7738c1-fa33-43a3-933d-42ed5ab6473d"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "5rg67X3QQDEw"}}'
2022-08-16 14:46:51,691 17546 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53 0.114s
2022-08-16 14:46:51,691 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:46:51 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1760', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b67d2d94-3c97-4f57-b147-910b6dc2660a', 'x-compute-request-id': 'req-b67d2d94-3c97-4f57-b147-910b6dc2660a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53'}
        Body: b'{"server": {"id": "1c3b861c-4816-43c4-8af2-4c8215e0cb53", "name": "multiattach-server-0", "status": "BUILD", "tenant_id": "7ef197d5cdad4e57b6b33825ec8b347f", "user_id": "4aecd3664e1a42c6bbbbed0d5734691a", "metadata": {}, "hostId": "d05576a084be83a801264edb8ee8a2094af350ceec4441789ef2f037", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-16T11:46:50Z", "updated": "2022-08-16T11:46:51Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": "rack05-server62", "OS-EXT-SRV-ATTR:instance_name": "instance-000000f4", "OS-EXT-SRV-ATTR:hypervisor_hostname": "rack05-server62", "OS-EXT-SRV-ATTR:reservation_id": "r-smpczdx0", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "UP", "locked": false, "description": null, "tags": []}}'
2022-08-16 14:46:52,810 17546 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53 0.104s
2022-08-16 14:46:52,810 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {
    'date': 'Tue, 16 Aug 2022 11:46:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '5040', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7e12fd58-7555-404c-8623-2e30eef53fe4', 'x-compute-request-id': 'req-7e12fd58-7555-404c-8623-2e30eef53fe4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53'}
        Body: b'{"server": {"id": "1c3b861c-4816-43c4-8af2-4c8215e0cb53", "name": "multiattach-server-0", "status": "ERROR", "tenant_id": "7ef197d5cdad4e57b6b33825ec8b347f", "user_id": "4aecd3664e1a42c6bbbbed0d5734691a", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-16T11:46:50Z", "updated": "2022-08-16T11:46:52Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/1c3b861c-4816-43c4-8af2-4c8215e0cb53"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:46:52Z", "message": "Build of instance 1c3b861c-4816-43c4-8af2-4c8215e0cb53 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11978, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.
    10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/no
2022-08-16 14:46:52,827 17546 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 1 second wait


tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_force_detach_volume[compute,id-d38285d9-929d-478f-96a5-00e66a115b81]
------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/admin/test_volumes_actions.py", line 83, in test_force_detach_volume
    server_id = self.create_server()['id']

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 0a4b92c3-f393-4551-8276-577f17d69ad0 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:48:26Z', 'message': 'Build of instance 0a4b92c3-f393-4551-8276-577f17d69ad0 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11978, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 0a4b92c3-f393-4551-8276-577f17d69ad0 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:48:25,203 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 201 POST http://controller:5000/v3/auth/tokens 0.467s
2022-08-16 14:48:25,203 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:24 GMT', 'server': 'Apache', 'content-length': '3887', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e4dd57a6-ec09-456a-ba8f-7327d985a34e', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "c1d66856dfa44a6db210ee9735d97233", "name": "tempest-VolumesActionsTest-1312454767-project", "password_expires_at": null}, "audit_ids": ["yJDuRPf9RyCpLtwYFhiw6g"], "expires_at": "2022-08-17T11:48:25.000000Z", "issued_at": "2022-08-16T11:48:25.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "372bcf0766224d30bbc1dd1bdfdde92b", "name": "tempest-VolumesActionsTest-1312454767"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/372bcf0766224d30bbc1dd1bdfdde92b", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/372bcf0766224d30bbc1dd1bdfdde92b", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174
    469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/372bcf0766224d30bbc1dd1bdfdde92b", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/372bcf0766224d30bbc1dd1bdfdde92b", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:48:25,213 17546 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_force_detach_volume) Found network None available for tenant
2022-08-16 14:48:25,619 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.405s
2022-08-16 14:48:25,619 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-1138313323", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:25 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a07b4913-3878-4189-8aec-55c30e833823', 'x-compute-request-id': 'req-a07b4913-3878-4189-8aec-55c30e833823', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "0a4b92c3-f393-4551-8276-577f17d69ad0", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/0a4b92c3-f393-4551-8276-577f17d69ad0"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "ALw3hWk9uFgj"}}'
2022-08-16 14:48:25,696 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0 0.073s
2022-08-16 14:48:25,696 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:25 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c9349af5-e238-4870-a8af-aaa8f1a7679a', 'x-compute-request-id': 'req-c9349af5-e238-4870-a8af-aaa8f1a7679a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0'}
        Body: b'{"server": {"id": "0a4b92c3-f393-4551-8276-577f17d69ad0", "name": "tempest-VolumesActionsTest-instance-1138313323", "status": "BUILD", "tenant_id": "372bcf0766224d30bbc1dd1bdfdde92b", "user_id": "c1d66856dfa44a6db210ee9735d97233", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:48:25Z", "updated": "2022-08-16T11:48:25Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0"}, {"rel": "bookmark", "href": "htt
    p://[LB_IP_ADDRESS]:8774/servers/0a4b92c3-f393-4551-8276-577f17d69ad0"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:48:26,800 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0 0.093s
2022-08-16 14:48:26,801 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:26 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1343', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-2ec322c1-fda6-420b-9384-24c2da1a2edd', 'x-compute-request-id': 'req-2ec322c1-fda6-420b-9384-24c2da1a2edd', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0'}
        Body: b'{"server": {"id": "0a4b92c3-f393-4551-8276-577f17d69ad0", "name": "tempest-VolumesActionsTest-instance-1138313323", "status": "BUILD", "tenant_id": "372bcf0766224d30bbc1dd1bdfdde92b", "user_id": "c1d66856dfa44a6db210ee9735d97233", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:48:25Z", "updated": "2022-08-16T11:48:26Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/0a4b92c3-f393-4551-8276-577f17d69ad0"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000f7", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:48:26,810 17546 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:48:27,917 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0 0.106s
2022-08-16 14:48:27,918 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:27 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4693', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-409549dc-fb77-48d7-abff-e3f2e70eab0b', 'x-compute-request-id': 'req-409549dc-fb77-48d7-abff-e3f2e70eab0b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0'}
        Body: b'{"server": {"id": "0a4b92c3-f393-4551-827
    6-577f17d69ad0", "name": "tempest-VolumesActionsTest-instance-1138313323", "status": "ERROR", "tenant_id": "372bcf0766224d30bbc1dd1bdfdde92b", "user_id": "c1d66856dfa44a6db210ee9735d97233", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:48:25Z", "updated": "2022-08-16T11:48:26Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/0a4b92c3-f393-4551-8276-577f17d69ad0"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:48:26Z", "message": "Build of instance 0a4b92c3-f393-4551-8276-577f17d69ad0 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11978, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pack
2022-08-16 14:48:27,928 17546 INFO     [te
    mpest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:48:28,356 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0 0.427s
2022-08-16 14:48:28,356 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:27 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-75f99497-6c8f-46dd-97cd-c647324c534e', 'x-compute-request-id': 'req-75f99497-6c8f-46dd-97cd-c647324c534e', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0'}
        Body: b''
2022-08-16 14:48:28,388 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0 0.031s
2022-08-16 14:48:28,389 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7eddbdb3-5c29-4d49-b135-887e19427921', 'x-compute-request-id': 'req-7eddbdb3-5c29-4d49-b135-887e19427921', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0a4b92c3-f393-4551-8276-577f17d69ad0'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 0a4b92c3-f393-4551-8276-577f17d69ad0 could not be found."}}'


tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_attach_detach_volume_to_instance[compute,id-fff42874-7db5-4487-a8e1-ddda5fb5288d,smoke]
-------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 45, in test_attach_detach_volume_to_instance
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 055ccc27-39ba-447e-92bc-6fb7858e5e3e failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:49:02Z', 'message': 'Build of instance 055ccc27-39ba-447e-92bc-6fb7858e5e3e aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11978, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 055ccc27-39ba-447e-92bc-6fb7858e5e3e aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:48:59,884 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://controller:5000/v3/auth/tokens 0.473s
2022-08-16 14:48:59,885 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:59 GMT', 'server': 'Apache', 'content-length': '3885', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-697d9d32-c6c4-4168-be04-871c059db650', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "b586766e37f543c1b3dec4be655ca28a", "name": "tempest-VolumesActionsTest-251144656-project", "password_expires_at": null}, "audit_ids": ["prMFQ9tTSqOziy8lmxuXBA"], "expires_at": "2022-08-17T11:48:59.000000Z", "issued_at": "2022-08-16T11:48:59.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "2de98183677e43dbb72fa9f6e74411f6", "name": "tempest-VolumesActionsTest-251144656"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/2de98183677e43dbb72fa9f6e74411f6", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/2de98183677e43dbb72fa9f6e74411f6", "region": "RegionOne"}], "id": "d30e368ce
    4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/2de98183677e43dbb72fa9f6e74411f6", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/2de98183677e43dbb72fa9f6e74411f6", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:48:59,885 17547 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 14:48:59,986 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.099s
2022-08-16 14:48:59,986 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesActionsTest-2027741803-desc", "domain_id": "default", "name": "tempest-VolumesActionsTest-2027741803"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:59 GMT', 'server': 'Apache', 'content-length': '372', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ae0b3f78-a22d-4c0b-81a7-74c89cccf9e2', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "6668de9b6fb54c598c278812a2654012", "name": "tempest-VolumesActionsTest-2027741803", "domain_id": "default", "description": "tempest-VolumesActionsTest-2027741803-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/6668de9b6fb54c598c278812a2654012"}}}\n'
2022-08-16 14:49:00,478 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.491s
2022-08-16 14:49:00,479 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesActionsTest-2027741803-project-admin", "password": "J4*Nm*%*eSv*d8n", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:48:59 GMT', 'server': 'Apache', 'content-length': '292', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-a3212653-e1d6-44a9-8146-918c228020bd', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "7e1342108f944fdc9a27fb3b59fb6482", "name": "tempest-VolumesActionsTest-2027741803-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/7e1342108f944fdc9a27fb3b59fb6482"}}}\n'
2022-08-16 14:49:00,513 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.033s
2022-08-16 14:49:00,513 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:00 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b8dab64f-a5dd-4f05-a344-7b1331d1d84e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v
    3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:00,571 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/6668de9b6fb54c598c278812a2654012/users/7e1342108f944fdc9a27fb3b59fb6482/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.056s
2022-08-16 14:49:00,571 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:00 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ece7f571-ec90-4d93-ac29-277f0f196870', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/6668de9b6fb54c598c278812a2654012/users/7e1342108f944fdc9a27fb3b59fb6482/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:49:00,659 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.087s
2022-08-16 14:49:00,659 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:00 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-81044abf-1b7f-4a4a-9ef5-f0f1a1031e12', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:00,695 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/7e1342108f944fdc9a27fb3b59fb6482/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.034s
2022-08-16 14:49:00,695 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:00 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3eb8319
    9-90b6-412e-a9e4-529824c9fc68', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/7e1342108f944fdc9a27fb3b59fb6482/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:49:00,768 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.072s
2022-08-16 14:49:00,768 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:00 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-69cdbc64-0315-4181-835f-8b30d297b27d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:00,805 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/6668de9b6fb54c598c278812a2654012/users/7e1342108f944fdc9a27fb3b59fb6482/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.035s
2022-08-16 14:49:00,805 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:00 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-be304af7-a2f0-4ed0-938b-24aed1558738', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/6668de9b6fb54c598c278812a2654012/users/7e1342108f944fdc9a27fb3b59fb6482/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:49:00,879 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.074s
2022-08-16 14:49:00,880 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:00 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-30837aaf-85d6-4d3b-b899-1620f11a8687', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e
    20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:00,914 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/6668de9b6fb54c598c278812a2654012/users/7e1342108f944fdc9a27fb3b59fb6482/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.033s
2022-08-16 14:49:00,914 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:00 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-47801d70-79d0-4f90-88e9-150516742d26', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/6668de9b6fb54c598c278812a2654012/users/7e1342108f944fdc9a27fb3b59fb6482/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:49:00,914 17547 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 7e1342108f944fdc9a27fb3b59fb6482 is created with scope project and roles: ['admin', 'admin']
2022-08-16 14:49:00,915 17547 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesActionsTest-2027741803-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '6668de9b6fb54c598c278812a2654012', 'project_name': 'tempest-VolumesActionsTest-2027741803', 'tenant_id': '6668de9b6fb54c598c278812a2654012', 'tenant_name': 'tempest-VolumesActionsTest-2027741803', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '7e1342108f944fdc9a27fb3b59fb6482', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 14:49:00,924 17547 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_attach_detach_volume_to_instance) Found network None available for tenant
2022-08-16 14:49:01,232 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.307s
2022-08-16 14:49:01,233 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-1821850707", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:00 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-410ee8f0-a60d-467b-adfa-699e37969f69', 'x-compute-request-id': 'req-410ee8f0-a60d-467b-adfa-699e37969f69', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "055ccc27-39ba-447e-92bc-6fb7858e5e3e", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "FAh8FC9T4v6s"}}'
2022-08-1
    6 14:49:01,310 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e 0.073s
2022-08-16 14:49:01,310 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:01 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1a0d859f-1faf-4f38-b7d1-693a6b733a3f', 'x-compute-request-id': 'req-1a0d859f-1faf-4f38-b7d1-693a6b733a3f', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e'}
        Body: b'{"server": {"id": "055ccc27-39ba-447e-92bc-6fb7858e5e3e", "name": "tempest-VolumesActionsTest-instance-1821850707", "status": "BUILD", "tenant_id": "2de98183677e43dbb72fa9f6e74411f6", "user_id": "b586766e37f543c1b3dec4be655ca28a", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:01Z", "updated": "2022-08-16T11:49:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:02,408 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e 0.086s
2022-08-16 14:49:02,408 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1343', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-2c73b996-27ec-49de-957f-2a8f13394e74', 'x-compute-request-id': 'req-2c73b996-27ec-49de-957f-2a8f13394e74', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e'}
        Body: b'{"server": {"id": "055ccc27-39ba-447e-92bc-6fb7858e5e3e", "name": "tempest-VolumesActionsTest-instance-1821850707", "status": "BUILD", "tenant_id": "2de98183677e43dbb72fa9f6e74411f6", "user_id": "b586766e37f543c1b3dec4be655ca28a", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:01Z", "updated": "2022-08-16T11:49:02Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://192.168
    .17.193:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000f8", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:02,418 17547 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:49:03,522 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e 0.102s
2022-08-16 14:49:03,522 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:03 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4693', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0ec16f42-a967-4246-a7c8-c32dc75399e1', 'x-compute-request-id': 'req-0ec16f42-a967-4246-a7c8-c32dc75399e1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e'}
        Body: b'{"server": {"id": "055ccc27-39ba-447e-92bc-6fb7858e5e3e", "name": "tempest-VolumesActionsTest-instance-1821850707", "status": "ERROR", "tenant_id": "2de98183677e43dbb72fa9f6e74411f6", "user_id": "b586766e37f543c1b3dec4be655ca28a", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:01Z", "updated": "2022-08-16T11:49:02Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:49:02Z", "message": "Build of instance 055ccc27-39ba-447e-92bc-6fb7858e5e3e aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11978, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/py
    thon3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pack
2022-08-16 14:49:03,532 17547 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:49:03,792 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e 0.258s
2022-08-16 14:49:03,792 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:03 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-361acca3-2d7c-4605-b78b-55c5d024141b', 'x-compute-request-id': 'req-361acca3-2d7c-4605-b78b-55c5d024141b', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e'}
        Body: b''
2022-08-16 14:49:03,825 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e 0.032s
2022-08-16 14:49:03,825 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:03 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3a9d7c68-7968-42f3-b8b5-a2080e547b54', 'x-compute-request-id': 'req-3a9d7c68-7968-42f3-b8b5-a2080e547b54', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/055ccc27-39ba-447e-92bc-6fb7858e5e3e'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 055ccc27-39ba-447e-92bc-6fb7858e5e3e could not be found."}}
    '


tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_get_volume_attachment[compute,id-9516a2c8-9135-488c-8dd6-5677a7e5f371]
--------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 81, in test_get_volume_attachment
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 780bbc93-0f44-4da1-9143-711e600727d3 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:49:05Z', 'message': 'Build of instance 780bbc93-0f44-4da1-9143-711e600727d3 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11978, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 780bbc93-0f44-4da1-9143-711e600727d3 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:49:04,299 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 201 POST http://controller:5000/v3/auth/tokens 0.462s
2022-08-16 14:49:04,300 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:03 GMT', 'server': 'Apache', 'content-length': '3885', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-5a38e293-46f3-41a3-b075-6531c6671c3a', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "b586766e37f543c1b3dec4be655ca28a", "name": "tempest-VolumesActionsTest-251144656-project", "password_expires_at": null}, "audit_ids": ["EukqNbxgQWeyWmkx-xjUZw"], "expires_at": "2022-08-17T11:49:04.000000Z", "issued_at": "2022-08-16T11:49:04.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "2de98183677e43dbb72fa9f6e74411f6", "name": "tempest-VolumesActionsTest-251144656"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/2de98183677e43dbb72fa9f6e74411f6", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/2de98183677e43dbb72fa9f6e74411f6", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174
    469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/2de98183677e43dbb72fa9f6e74411f6", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/2de98183677e43dbb72fa9f6e74411f6", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:49:04,309 17547 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_get_volume_attachment) Found network None available for tenant
2022-08-16 14:49:04,543 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.233s
2022-08-16 14:49:04,543 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-2008829919", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:04 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f817773e-bddb-4c63-8a79-976fa64f9cf1', 'x-compute-request-id': 'req-f817773e-bddb-4c63-8a79-976fa64f9cf1', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "780bbc93-0f44-4da1-9143-711e600727d3", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/780bbc93-0f44-4da1-9143-711e600727d3"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "gd4nAvxZXPKk"}}'
2022-08-16 14:49:04,618 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3 0.071s
2022-08-16 14:49:04,618 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:04 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1080f58e-9b05-46e2-acb3-0d7f5fb97b26', 'x-compute-request-id': 'req-1080f58e-9b05-46e2-acb3-0d7f5fb97b26', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3'}
        Body: b'{"server": {"id": "780bbc93-0f44-4da1-9143-711e600727d3", "name": "tempest-VolumesActionsTest-instance-2008829919", "status": "BUILD", "tenant_id": "2de98183677e43dbb72fa9f6e74411f6", "user_id": "b586766e37f543c1b3dec4be655ca28a", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:04Z", "updated": "2022-08-16T11:49:04Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3"}, {"rel": "bookmark", "href"
    : "http://[LB_IP_ADDRESS]:8774/servers/780bbc93-0f44-4da1-9143-711e600727d3"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:05,717 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3 0.087s
2022-08-16 14:49:05,717 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:05 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1343', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a50d8b5f-090e-4cd3-9e68-b4aad42c49dc', 'x-compute-request-id': 'req-a50d8b5f-090e-4cd3-9e68-b4aad42c49dc', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3'}
        Body: b'{"server": {"id": "780bbc93-0f44-4da1-9143-711e600727d3", "name": "tempest-VolumesActionsTest-instance-2008829919", "status": "BUILD", "tenant_id": "2de98183677e43dbb72fa9f6e74411f6", "user_id": "b586766e37f543c1b3dec4be655ca28a", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:04Z", "updated": "2022-08-16T11:49:05Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/780bbc93-0f44-4da1-9143-711e600727d3"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000f9", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:05,727 17547 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:49:06,817 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3 0.088s
2022-08-16 14:49:06,817 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:06 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4693', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6631d64b-14fd-45cc-9f25-c2fe5d0ccbc8', 'x-compute-request-id': 'req-6631d64b-14fd-45cc-9f25-c2fe5d0ccbc8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3'}
        Body: b'{"server": {"id": "780bbc93-0f4
    4-4da1-9143-711e600727d3", "name": "tempest-VolumesActionsTest-instance-2008829919", "status": "ERROR", "tenant_id": "2de98183677e43dbb72fa9f6e74411f6", "user_id": "b586766e37f543c1b3dec4be655ca28a", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:04Z", "updated": "2022-08-16T11:49:05Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/780bbc93-0f44-4da1-9143-711e600727d3"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:49:05Z", "message": "Build of instance 780bbc93-0f44-4da1-9143-711e600727d3 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11978, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pack
2022-08-16 14:49:06,827 17547 IN
    FO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:49:07,242 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3 0.414s
2022-08-16 14:49:07,243 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:06 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f1c7347b-a939-44c1-a592-25601d210ef6', 'x-compute-request-id': 'req-f1c7347b-a939-44c1-a592-25601d210ef6', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3'}
        Body: b''
2022-08-16 14:49:07,280 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3 0.033s
2022-08-16 14:49:07,281 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:07 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d9a708f6-6335-48e7-83ef-4ea96a2d3237', 'x-compute-request-id': 'req-d9a708f6-6335-48e7-83ef-4ea96a2d3237', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/780bbc93-0f44-4da1-9143-711e600727d3'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 780bbc93-0f44-4da1-9143-711e600727d3 could not be found."}}'


tempest.api.volume.test_volumes_extend.VolumesExtendAttachedTest.test_extend_attached_volume[compute,id-301f5a30-1c6f-4ea0-be1a-91fd28d44354]
---------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 187, in test_extend_attached_volume
    self._test_extend_attached_volume(volume)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 117, in _test_extend_attached_volume
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 364fe03d-a9e7-4069-ae2d-c1fe510b1d63 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:49:34Z', 'message': 'Build of instance 364fe03d-a9e7-4069-ae2d-c1fe510b1d63 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11978, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 364fe03d-a9e7-4069-ae2d-c1fe510b1d63 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:49:30,574 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes 0.424s
2022-08-16 14:49:30,575 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesExtendAttachedTest-Volume-1100590311"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:30 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '892', 'x-compute-request-id': 'req-aba01481-3c66-4340-bc90-8ee4774d4e37', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-aba01481-3c66-4340-bc90-8ee4774d4e37', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes'}
        Body: b'{"volume": {"id": "b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T11:49:30.512250", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-1100590311", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d"}], "user_id": "f7f7fe22670e4b9ebc255edf5fb29f73", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null}}'
2022-08-16 14:49:30,625 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d 0.041s
2022-08-16 14:49:30,626 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:30 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1071', 'x-compute-request-id': 'req-dd9495af-4164-447c-bf51-c55a6e278524', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-dd9495af-4164-447c-bf51-c55a6e278524', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d'}
        Body: b'{"volume": {"id": "b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T11:49:30.000000", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-1100590311", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d"}], "user_id": "f7f7fe22670e4b9ebc255edf5fb29f73", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-tenant-attr:tenant_id": "eb5cc08762ff4f488882e02dac0fe71f", "os-vol-host-attr:host": null, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:nam
    e_id": null}}'
2022-08-16 14:49:31,681 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d 0.045s
2022-08-16 14:49:31,681 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:31 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1129', 'x-compute-request-id': 'req-f66895fd-d342-4a95-8160-626cfbbc551a', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-f66895fd-d342-4a95-8160-626cfbbc551a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d'}
        Body: b'{"volume": {"id": "b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T11:49:30.000000", "updated_at": "2022-08-16T11:49:30.000000", "name": "tempest-VolumesExtendAttachedTest-Volume-1100590311", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d"}], "user_id": "f7f7fe22670e4b9ebc255edf5fb29f73", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-tenant-attr:tenant_id": "eb5cc08762ff4f488882e02dac0fe71f", "os-vol-host-attr:host": "rack08-server59@LIGHTOSyridex#yridex", "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null}}'
2022-08-16 14:49:32,742 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d 0.050s
2022-08-16 14:49:32,743 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:32 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1130', 'x-compute-request-id': 'req-3d2c4e2f-e94a-4704-8bf4-d9866fd23c04', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-3d2c4e2f-e94a-4704-8bf4-d9866fd23c04', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d'}
        Body: b'{"volume": {"id": "b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T11:49:30.000000", "updated_at": "2022-08-16T11:49:31.000000", "name": "tempest-VolumesExtendAttachedTest-Volume-1100590311", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/eb5cc08762ff4f488882e02dac0fe71f/volumes/b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d"}], "user_id": "f7f7fe22670e4b9ebc255edf5fb29f73", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "mu
    ltiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-tenant-attr:tenant_id": "eb5cc08762ff4f488882e02dac0fe71f", "os-vol-host-attr:host": "rack08-server59@LIGHTOSyridex#yridex", "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null}}'
2022-08-16 14:49:32,756 17547 INFO     [tempest.common.waiters] volume b5f77eea-11f0-4a5d-8f66-7b5b1f05df3d reached available after waiting for 2.756227 seconds
2022-08-16 14:49:33,205 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 201 POST http://controller:5000/v3/auth/tokens 0.441s
2022-08-16 14:49:33,205 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:32 GMT', 'server': 'Apache', 'content-length': '3901', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-6ddce407-8868-4e9c-ae07-155e63e462ee', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "f7f7fe22670e4b9ebc255edf5fb29f73", "name": "tempest-VolumesExtendAttachedTest-1348654168-project", "password_expires_at": null}, "audit_ids": ["Ep5KsS78TfKj6ot1R2y_0A"], "expires_at": "2022-08-17T11:49:33.000000Z", "issued_at": "2022-08-16T11:49:33.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "eb5cc08762ff4f488882e02dac0fe71f", "name": "tempest-VolumesExtendAttachedTest-1348654168"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "
    id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/eb5cc08762ff4f488882e02dac0fe71f", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/eb5cc08762ff4f488882e02dac0fe71f", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/eb5cc08762ff4f488882e02dac0fe71f", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:49:33,212 17547 INFO     [tempest.lib.common.fixed_network] (VolumesExtendAttachedTest:test_extend_attached_volume) Found network None available for tenant
2022-08-16 14:49:33,459 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.246s
2022-08-16 14:49:33,460 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesExtendAttachedTest-instance-810765783", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:33 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6a9bf497-9542-48f8-8617-163ff7c0a1fd', 'x-compute-request-id': 'req-6a9bf497-9542-48f8-8617-163ff7c0a1fd', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "364fe03d-a9e7-4069-ae2d-c1fe510b1d63", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "XxvG7SoMpZS8"}}'
2022-08-16 14:49:33,545 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63 0.081s
2022-08-16 14:49:33,545 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:33 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1328', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-400fbe34-0fb7-4063-8036-0b91aa74ed76', 'x-compute-request-id': 'req-400fbe34-0fb7-4063-8036-0b91aa74ed76', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63'}
        Body: b'{"server": {"id": "364fe03d-a9e7-4069-ae2d-c1fe510b1d63", "name": "tempest-VolumesExtendAttachedTest-instance-810765783", "status": "BUILD", "tenant_id": "eb5cc08762ff4f488882e02dac0fe71f", "user_id": "f7f7fe22670e4b9ebc255edf5fb29f73", "metadata": {}, "hostId": "",
     "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:33Z", "updated": "2022-08-16T11:49:33Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:34,646 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63 0.089s
2022-08-16 14:49:34,646 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:34 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1349', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-816ca049-23c2-4c72-adf1-f869b5cd8200', 'x-compute-request-id': 'req-816ca049-23c2-4c72-adf1-f869b5cd8200', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63'}
        Body: b'{"server": {"id": "364fe03d-a9e7-4069-ae2d-c1fe510b1d63", "name": "tempest-VolumesExtendAttachedTest-instance-810765783", "status": "BUILD", "tenant_id": "eb5cc08762ff4f488882e02dac0fe71f", "user_id": "f7f7fe22670e4b9ebc255edf5fb29f73", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:33Z", "updated": "2022-08-16T11:49:34Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000fa", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:34,656 17547 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:49:35,755 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63 0.098s
2022-08-16 14:49:35,756 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:35 GMT', 'se
    rver': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4699', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6fac87ae-8743-4389-97e9-74959c077c32', 'x-compute-request-id': 'req-6fac87ae-8743-4389-97e9-74959c077c32', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63'}
        Body: b'{"server": {"id": "364fe03d-a9e7-4069-ae2d-c1fe510b1d63", "name": "tempest-VolumesExtendAttachedTest-instance-810765783", "status": "ERROR", "tenant_id": "eb5cc08762ff4f488882e02dac0fe71f", "user_id": "f7f7fe22670e4b9ebc255edf5fb29f73", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:33Z", "updated": "2022-08-16T11:49:34Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:49:34Z", "message": "Build of instance 364fe03d-a9e7-4069-ae2d-c1fe510b1d63 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11978, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excut
    ils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/sit
2022-08-16 14:49:35,766 17547 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:49:36,038 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63 0.271s
2022-08-16 14:49:36,038 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:35 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6edfb6a2-2125-4f59-86c5-d359ac40e484', 'x-compute-request-id': 'req-6edfb6a2-2125-4f59-86c5-d359ac40e484', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63'}
        Body: b''
2022-08-16 14:49:36,069 17547 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63 0.030s
2022-08-16 14:49:36,070 17547 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:36 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b8810e15-fc66-4e82-acae-6447b3c227e9', 'x-compute-request-id': 'req-b8810e15-fc66-4e82-acae-6447b3c227e9', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/364fe03d-a9e7-4069-ae2d-c1fe510b1d63'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 364fe03d-a9e7-4069-ae2d-c1fe510b1d63 could not be found."}}'


tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_delete_with_volume_in_use[compute,id-8567b54c-4455-446d-a1cf-651ddeaa3ff2]
-----------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 48, in test_snapshot_create_delete_with_volume_in_use
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 70e04c79-fe87-45cd-a6c5-54c1be4651c3 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:49:47Z', 'message': 'Build of instance 70e04c79-fe87-45cd-a6c5-54c1be4651c3 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11978, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 70e04c79-fe87-45cd-a6c5-54c1be4651c3 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:49:44,924 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://controller:5000/v3/auth/tokens 0.438s
2022-08-16 14:49:44,924 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:44 GMT', 'server': 'Apache', 'content-length': '3897', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-182c88eb-e7f0-4a8a-b833-edd6bd091187', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "2bdd1e3478284469bbecfdefd029ee87", "name": "tempest-VolumesSnapshotTestJSON-1738194354-project", "password_expires_at": null}, "audit_ids": ["2Amn0SheR3yOPwWhpadxlg"], "expires_at": "2022-08-17T11:49:44.000000Z", "issued_at": "2022-08-16T11:49:44.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "0d6aef83ffdd460fbd10e00fce526d7e", "name": "tempest-VolumesSnapshotTestJSON-1738194354"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0d6aef83ffdd460fbd10e00fce526d7e", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0d6aef83ffdd460fbd10e00fce526d7e", "region": "Regi
    onOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:49:44,925 17548 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 14:49:45,039 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.113s
2022-08-16 14:49:45,040 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesSnapshotTestJSON-530137439-desc", "domain_id": "default", "name": "tempest-VolumesSnapshotTestJSON-530137439"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:44 GMT', 'server': 'Apache', 'content-length': '380', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-d57b6194-352f-4a0b-b871-dc6248b9397b', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "3bcbf54b56d14932ae88c362f0207818", "name": "tempest-VolumesSnapshotTestJSON-530137439", "domain_id": "default", "description": "tempest-VolumesSnapshotTestJSON-530137439-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/3bcbf54b56d14932ae88c362f0207818"}}}\n'
2022-08-16 14:49:45,529 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.488s
2022-08-16 14:49:45,530 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesSnapshotTestJSON-530137439-project-admin", "password": "P1&ovpYenL6X_3W", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:45 GMT', 'server': 'Apache', 'content-length': '296', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-43f9c05f-9e8c-4880-a612-0a98263e9523', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "a68d51acb84f4597bac1496aa3432952", "name": "tempest-VolumesSnapshotTestJSON-530137439-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/a68d51acb84f4597bac1496aa3432952"}}}\n'
2022-08-16 14:49:45,557 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.027s
2022-08-16 14:49:45,558 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:45 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b2271cec-13d3-4f92-b5f4-5d6695d3738b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "descrip
    tion": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:45,613 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/3bcbf54b56d14932ae88c362f0207818/users/a68d51acb84f4597bac1496aa3432952/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.054s
2022-08-16 14:49:45,613 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:45 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-852ed21f-8335-4210-96c0-3ec3e4ff2a99', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/3bcbf54b56d14932ae88c362f0207818/users/a68d51acb84f4597bac1496aa3432952/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:49:45,712 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.098s
2022-08-16 14:49:45,713 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:45 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0133dbce-c4d6-4ab4-8b43-5b8e6b084086', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:45,754 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/a68d51acb84f4597bac1496aa3432952/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.041s
2022-08-16 14:49:45,755 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response -
     Headers: {'date': 'Tue, 16 Aug 2022 11:49:45 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0c590319-1820-4ccb-9461-15dec2e9ba6d', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/a68d51acb84f4597bac1496aa3432952/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:49:45,833 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.077s
2022-08-16 14:49:45,834 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:45 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-01891023-7051-4a31-82bd-6ddb00331d68', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:45,883 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/3bcbf54b56d14932ae88c362f0207818/users/a68d51acb84f4597bac1496aa3432952/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.049s
2022-08-16 14:49:45,884 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:45 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e5891e1a-98c5-41e2-8681-09f2349a9775', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/3bcbf54b56d14932ae88c362f0207818/users/a68d51acb84f4597bac1496aa3432952/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:49:45,967 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.083s
2022-08-16 14:49:45,968 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:45 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b5196e3a-400e-499e-baf0-9a20d6651631', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed
    4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:46,003 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/3bcbf54b56d14932ae88c362f0207818/users/a68d51acb84f4597bac1496aa3432952/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.034s
2022-08-16 14:49:46,003 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:45 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-cf9aab4c-a26a-4090-86ea-b129707366ea', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/3bcbf54b56d14932ae88c362f0207818/users/a68d51acb84f4597bac1496aa3432952/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:49:46,004 17548 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user a68d51acb84f4597bac1496aa3432952 is created with scope project and roles: ['admin', 'admin']
2022-08-16 14:49:46,004 17548 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesSnapshotTestJSON-530137439-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '3bcbf54b56d14932ae88c362f0207818', 'project_name': 'tempest-VolumesSnapshotTestJSON-530137439', 'tenant_id': '3bcbf54b56d14932ae88c362f0207818', 'tenant_name': 'tempest-VolumesSnapshotTestJSON-530137439', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'a68d51acb84f4597bac1496aa3432952', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 14:49:46,012 17548 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use) Found network None available for tenant
2022-08-16 14:49:46,266 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.252s
2022-08-16 14:49:46,267 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-124987703", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-22fd4202-7705-4593-b1fa-a6a839f364fc', 'x-compute-request-id': 'req-22fd4202-7705-4593-b1fa-a6a839f364fc', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "70e04c79-fe87-45cd-a6c5-54c1be4651c3", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-
    54c1be4651c3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "pvLXqL8io8A6"}}'
2022-08-16 14:49:46,340 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3 0.069s
2022-08-16 14:49:46,340 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7aedfb6b-014e-4a36-8b73-af5fcb5d6f24', 'x-compute-request-id': 'req-7aedfb6b-014e-4a36-8b73-af5fcb5d6f24', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3'}
        Body: b'{"server": {"id": "70e04c79-fe87-45cd-a6c5-54c1be4651c3", "name": "tempest-VolumesSnapshotTestJSON-instance-124987703", "status": "BUILD", "tenant_id": "0d6aef83ffdd460fbd10e00fce526d7e", "user_id": "2bdd1e3478284469bbecfdefd029ee87", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:46Z", "updated": "2022-08-16T11:49:46Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:47,440 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3 0.088s
2022-08-16 14:49:47,440 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:47 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1347', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-713d4725-194b-4d49-9fa0-b0c0e122b746', 'x-compute-request-id': 'req-713d4725-194b-4d49-9fa0-b0c0e122b746', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3'}
        Body: b'{"server": {"id": "70e04c79-fe87-45cd-a6c5-54c1be4651c3", "name": "tempest-VolumesSnapshotTestJSON-instance-124987703", "status": "BUILD", "tenant_id": "0d6aef83ffdd460fbd10e00fce526d7e", "user_id": "2bdd1e3478284469bbecfdefd029ee87", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flav
    or": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:46Z", "updated": "2022-08-16T11:49:47Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000fb", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:47,450 17548 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:49:48,553 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3 0.101s
2022-08-16 14:49:48,554 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:48 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4697', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-37e1582d-97b9-4d17-857c-734b2c628dda', 'x-compute-request-id': 'req-37e1582d-97b9-4d17-857c-734b2c628dda', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3'}
        Body: b'{"server": {"id": "70e04c79-fe87-45cd-a6c5-54c1be4651c3", "name": "tempest-VolumesSnapshotTestJSON-instance-124987703", "status": "ERROR", "tenant_id": "0d6aef83ffdd460fbd10e00fce526d7e", "user_id": "2bdd1e3478284469bbecfdefd029ee87", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:46Z", "updated": "2022-08-16T11:49:47Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:49:47Z", "message": "Build of instance 70e04c79-fe87-45cd-a6c5-54c1be4651c3 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11978, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60
    , in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-
2022-08-16 14:49:48,564 17548 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:49:49,027 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3 0.463s
2022-08-16 14:49:49,028 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:48 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-42544643-e78d-48ee-a15e-482d984e342b', 'x-compute-request-id': 'req-42544643-e78d-48ee-a15e-482d984e342b', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3'}
        Body: b''
2022-08-16 14:49:49,064 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3 0.036s
2022-08-16 14:49:49,065 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:49 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-72bea9d2-8be1-406e-8900-4877ac5f2350', 'x-compute-request-id': 'req-72bea9d2-8be1-406e-8900-4877ac5f2350', 'conne
    ction': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/70e04c79-fe87-45cd-a6c5-54c1be4651c3'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 70e04c79-fe87-45cd-a6c5-54c1be4651c3 could not be found."}}'


tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_offline_delete_online[compute,id-5210a1de-85a0-11e6-bb21-641c676a5d61]
-------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 83, in test_snapshot_create_offline_delete_online
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 29b23d15-02b0-4319-81e6-068f256ff073 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:49:56Z', 'message': 'Build of instance 29b23d15-02b0-4319-81e6-068f256ff073 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11978, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 29b23d15-02b0-4319-81e6-068f256ff073 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:49:52,743 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e/snapshots 0.127s
2022-08-16 14:49:52,743 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "bda717ca-7940-4b01-8f46-6c06df4a1690", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-386948001"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '309', 'x-compute-request-id': 'req-c3c9c402-7365-49ba-a2de-cbeaa85d2f4a', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-c3c9c402-7365-49ba-a2de-cbeaa85d2f4a', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e/snapshots'}
        Body: b'{"snapshot": {"id": "a4f6d433-53b6-43ac-91f6-69921aad2008", "created_at": "2022-08-16T11:49:52.693557", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-386948001", "description": null, "volume_id": "bda717ca-7940-4b01-8f46-6c06df4a1690", "status": "creating", "size": 1, "metadata": {}}}'
2022-08-16 14:49:52,773 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e/snapshots/a4f6d433-53b6-43ac-91f6-69921aad2008 0.026s
2022-08-16 14:49:52,774 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '441', 'x-compute-request-id': 'req-1d4d4691-1837-420c-bd2f-945496c3b650', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-1d4d4691-1837-420c-bd2f-945496c3b650', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e/snapshots/a4f6d433-53b6-43ac-91f6-69921aad2008'}
        Body: b'{"snapshot": {"id": "a4f6d433-53b6-43ac-91f6-69921aad2008", "created_at": "2022-08-16T11:49:52.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-386948001", "description": null, "volume_id": "bda717ca-7940-4b01-8f46-6c06df4a1690", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "0d6aef83ffdd460fbd10e00fce526d7e", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-16 14:49:53,809 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e/snapshots/a4f6d433-53b6-43ac-91f6-69921aad2008 0.030s
2022-08-16 14:49:53,809 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:53 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '441', 'x-compute-request-id': 'req-19c034d6-5e69-4bfd-9716-79e14666e97b', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-19c034d6-5e69-4bfd-9716-79e14666e97b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e/snapshots/a4f6d433-53b6-43ac-91f6-69921aad2008'}
        Body: b'{"snapshot": {"id": "a4f6d433-53b6-43ac-91f6-69921aad2008", "created_at": "2022-08-16T11:49:52.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJ
    SON-Snapshot-386948001", "description": null, "volume_id": "bda717ca-7940-4b01-8f46-6c06df4a1690", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "0d6aef83ffdd460fbd10e00fce526d7e", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-16 14:49:54,841 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e/snapshots/a4f6d433-53b6-43ac-91f6-69921aad2008 0.027s
2022-08-16 14:49:54,842 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '468', 'x-compute-request-id': 'req-938016b2-a163-4e22-bae6-dd9005813ad2', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-938016b2-a163-4e22-bae6-dd9005813ad2', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e/snapshots/a4f6d433-53b6-43ac-91f6-69921aad2008'}
        Body: b'{"snapshot": {"id": "a4f6d433-53b6-43ac-91f6-69921aad2008", "created_at": "2022-08-16T11:49:52.000000", "updated_at": "2022-08-16T11:49:53.000000", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-386948001", "description": null, "volume_id": "bda717ca-7940-4b01-8f46-6c06df4a1690", "status": "available", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "0d6aef83ffdd460fbd10e00fce526d7e", "os-extended-snapshot-attributes:progress": "100%"}}'
2022-08-16 14:49:54,846 17548 INFO     [tempest.common.waiters] snapshot a4f6d433-53b6-43ac-91f6-69921aad2008 reached available after waiting for 2.846203 seconds
2022-08-16 14:49:55,334 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 201 POST http://controller:5000/v3/auth/tokens 0.480s
2022-08-16 14:49:55,335 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:54 GMT', 'server': 'Apache', 'content-length': '3897', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-942e6b24-f830-4bb8-bb39-947ad4ff35f4', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "2bdd1e3478284469bbecfdefd029ee87", "name": "tempest-VolumesSnapshotTestJSON-1738194354-project", "password_expires_at": null}, "audit_ids": ["4F2r675VSTitIUcOci7YXA"], "expires_at": "2022-08-17T11:49:55.000000Z", "issued_at": "2022-08-16T11:49:55.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "0d6aef83ffdd460fbd10e00fce526d7e", "name": "tempest-VolumesSnapshotTestJSON-1738194354"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "int
    erface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0d6aef83ffdd460fbd10e00fce526d7e", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0d6aef83ffdd460fbd10e00fce526d7e", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/0d6aef83ffdd460fbd10e00fce526d7e", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:49:55,414 17548 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online) Found network None available for tenant
2022-08-16 14:49:55,659 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.243s
2022-08-16 14:49:55,659 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-668146872", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-fa11d942-e10a-4eaf-9842-bb3c492e80a0', 'x-compute-request-id': 'req-fa11d942-e10a-4eaf-9842-bb3c492e80a0', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "29b23d15-02b0-4319-81e6-068f256ff073", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073"
    }, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/29b23d15-02b0-4319-81e6-068f256ff073"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "Tcfyo43i7E8W"}}'
2022-08-16 14:49:55,735 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073 0.072s
2022-08-16 14:49:55,735 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-30d40549-ca3e-4b21-a423-06b661d1aba1', 'x-compute-request-id': 'req-30d40549-ca3e-4b21-a423-06b661d1aba1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073'}
        Body: b'{"server": {"id": "29b23d15-02b0-4319-81e6-068f256ff073", "name": "tempest-VolumesSnapshotTestJSON-instance-668146872", "status": "BUILD", "tenant_id": "0d6aef83ffdd460fbd10e00fce526d7e", "user_id": "2bdd1e3478284469bbecfdefd029ee87", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:55Z", "updated": "2022-08-16T11:49:55Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/29b23d15-02b0-4319-81e6-068f256ff073"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:56,843 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073 0.095s
2022-08-16 14:49:56,843 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:56 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1347', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5f367937-8cbb-4766-a4cc-586a9c14d90d', 'x-compute-request-id': 'req-5f367937-8cbb-4766-a4cc-586a9c14d90d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073'}
        Body: b'{"server": {"id": "29b23d15-02b0-4319-81e6-068f256ff073", "name": "tempest-VolumesSnapshotTestJSON-instance-668146872", "status": "BUILD", "tenant_id": "0d6aef83ffdd460fbd10e00fce526d7e", "user_id": "2bdd1e3478284469bbecfdefd029ee87", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "lin
    ks": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:55Z", "updated": "2022-08-16T11:49:56Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/29b23d15-02b0-4319-81e6-068f256ff073"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000fc", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:49:56,853 17548 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:49:57,953 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073 0.098s
2022-08-16 14:49:57,954 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:57 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4697', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-20a41518-cb20-4f77-bb79-002a051137f9', 'x-compute-request-id': 'req-20a41518-cb20-4f77-bb79-002a051137f9', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073'}
        Body: b'{"server": {"id": "29b23d15-02b0-4319-81e6-068f256ff073", "name": "tempest-VolumesSnapshotTestJSON-instance-668146872", "status": "ERROR", "tenant_id": "0d6aef83ffdd460fbd10e00fce526d7e", "user_id": "2bdd1e3478284469bbecfdefd029ee87", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:49:55Z", "updated": "2022-08-16T11:49:56Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/29b23d15-02b0-4319-81e6-068f256ff073"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:49:56Z", "message": "Build of instance 29b23d15-02b0-4319-81e6-068f256ff073 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11978, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_inf
    o\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-
2022-08-16 14:49:57,964 17548 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:49:58,226 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073 0.261s
2022-08-16 14:49:58,226 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:57 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-4e4d3245-e21b-4925-89db-1ea277b636fd', 'x-compute-request-id': 'req-4e4d3245-e21b-4925-89db-1ea277b636fd', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073'}
        Body: b''
2022-08-16 14:49:58,264 17548 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073 0.037s
2022-08-16 14:49:58,265 17548 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:58 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-81e2be7b-9349-4b26-969e-ab6660c59f53', 'x-compute-request-id': 'req-81e2be7b-9349-4b26-969e-ab6660c59f53', 'connection': 'close', 'content-type': 
    'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/29b23d15-02b0-4319-81e6-068f256ff073'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 29b23d15-02b0-4319-81e6-068f256ff073 could not be found."}}'


tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_attach_volumes_with_nonexistent_volume_id[compute,id-f5e56b0a-5d02-43c1-a2a7-c9b792c2e3f6,negative]
---------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_negative.py", line 179, in test_attach_volumes_with_nonexistent_volume_id
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:50:01Z', 'message': 'Build of instance a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11978, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:49:59,201 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://controller:5000/v3/auth/tokens 0.423s
2022-08-16 14:49:59,201 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:58 GMT', 'server': 'Apache', 'content-length': '3887', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8147f28e-154c-4c83-9186-c5ed0ce5aa4f', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "93778a180bd6489c836a8b1d0c9dfda1", "name": "tempest-VolumesNegativeTest-414944582-project", "password_expires_at": null}, "audit_ids": ["aiFlF9itTIaXTjyehP58WQ"], "expires_at": "2022-08-17T11:49:59.000000Z", "issued_at": "2022-08-16T11:49:59.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "7153f124d1064f929df381d52221a3ae", "name": "tempest-VolumesNegativeTest-414944582"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/7153f124d1064f929df381d52221a3ae", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/7153f124d1064f929df381d52221a3ae", "region": "RegionOne"}], "id"
    : "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/7153f124d1064f929df381d52221a3ae", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/7153f124d1064f929df381d52221a3ae", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:49:59,202 17546 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 14:49:59,292 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.090s
2022-08-16 14:49:59,293 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesNegativeTest-24488582-desc", "domain_id": "default", "name": "tempest-VolumesNegativeTest-24488582"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:59 GMT', 'server': 'Apache', 'content-length': '370', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-9ddf6aa3-d322-499d-ba4a-8d23a9f07e6e', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "00dd1b9fa5d84f21b756281d8f217d57", "name": "tempest-VolumesNegativeTest-24488582", "domain_id": "default", "description": "tempest-VolumesNegativeTest-24488582-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/00dd1b9fa5d84f21b756281d8f217d57"}}}\n'
2022-08-16 14:49:59,767 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.473s
2022-08-16 14:49:59,767 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesNegativeTest-24488582-project-admin", "password": "P3&CAHVkMo6Dunh", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:59 GMT', 'server': 'Apache', 'content-length': '291', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-13329667-37f5-4599-a724-6b265a812dad', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "5049d0054ecd4e61b3bf11eb06c3068f", "name": "tempest-VolumesNegativeTest-24488582-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/5049d0054ecd4e61b3bf11eb06c3068f"}}}\n'
2022-08-16 14:49:59,808 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.040s
2022-08-16 14:49:59,809 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:59 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-9a96c3dd-8be0-45e1-a756-fb0ec7fe9db5', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"
    self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:59,865 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/00dd1b9fa5d84f21b756281d8f217d57/users/5049d0054ecd4e61b3bf11eb06c3068f/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.055s
2022-08-16 14:49:59,865 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:59 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-bac693b9-ef63-4ab5-b0f3-74a4d26ec2c7', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/00dd1b9fa5d84f21b756281d8f217d57/users/5049d0054ecd4e61b3bf11eb06c3068f/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:49:59,944 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.078s
2022-08-16 14:49:59,945 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:59 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-bf85a032-7454-4e46-93d4-acdf9a6651a8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:49:59,991 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/5049d0054ecd4e61b3bf11eb06c3068f/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.045s
2022-08-16 14:49:59,992 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:59 GMT', 'server': 'Apach
    e', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-aa41f2ae-62a9-4fe2-970f-748ed6b07d45', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/5049d0054ecd4e61b3bf11eb06c3068f/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:50:00,075 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.082s
2022-08-16 14:50:00,075 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:49:59 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8a679c5d-49a6-4873-b433-33ab04800885', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:50:00,112 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/00dd1b9fa5d84f21b756281d8f217d57/users/5049d0054ecd4e61b3bf11eb06c3068f/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.036s
2022-08-16 14:50:00,112 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:50:00 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3e5d2965-c9c6-4bed-90b3-fe9416c953a9', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/00dd1b9fa5d84f21b756281d8f217d57/users/5049d0054ecd4e61b3bf11eb06c3068f/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:50:00,193 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.079s
2022-08-16 14:50:00,193 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:50:00 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b24d6abd-a554-4bd5-bc72-28ace11a8113', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options":
     {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:50:00,228 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/00dd1b9fa5d84f21b756281d8f217d57/users/5049d0054ecd4e61b3bf11eb06c3068f/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.033s
2022-08-16 14:50:00,228 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:50:00 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ac1c5578-a36e-47e3-aabe-a5eafef5ce73', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/00dd1b9fa5d84f21b756281d8f217d57/users/5049d0054ecd4e61b3bf11eb06c3068f/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:50:00,228 17546 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 5049d0054ecd4e61b3bf11eb06c3068f is created with scope project and roles: ['admin', 'admin']
2022-08-16 14:50:00,229 17546 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesNegativeTest-24488582-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '00dd1b9fa5d84f21b756281d8f217d57', 'project_name': 'tempest-VolumesNegativeTest-24488582', 'tenant_id': '00dd1b9fa5d84f21b756281d8f217d57', 'tenant_name': 'tempest-VolumesNegativeTest-24488582', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '5049d0054ecd4e61b3bf11eb06c3068f', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 14:50:00,237 17546 INFO     [tempest.lib.common.fixed_network] (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id) Found network None available for tenant
2022-08-16 14:50:00,488 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.250s
2022-08-16 14:50:00,488 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesNegativeTest-instance-602643893", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:50:00 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-44fe988b-0ed1-4156-99f1-8ffc03915508', 'x-compute-request-id': 'req-44fe988b-0ed1-4156-99f1-8ffc03915508', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea
    9dfd7"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "RCyjeh2BuRLD"}}'
2022-08-16 14:50:00,564 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 0.072s
2022-08-16 14:50:00,564 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:50:00 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-bdd955d9-d54a-4838-8b0d-9f2f6505f7a7', 'x-compute-request-id': 'req-bdd955d9-d54a-4838-8b0d-9f2f6505f7a7', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7'}
        Body: b'{"server": {"id": "a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7", "name": "tempest-VolumesNegativeTest-instance-602643893", "status": "BUILD", "tenant_id": "7153f124d1064f929df381d52221a3ae", "user_id": "93778a180bd6489c836a8b1d0c9dfda1", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:50:00Z", "updated": "2022-08-16T11:50:00Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:50:01,664 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 0.088s
2022-08-16 14:50:01,664 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:50:01 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1343', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-e776669e-7dfe-4f19-879d-4bdefe2b0f31', 'x-compute-request-id': 'req-e776669e-7dfe-4f19-879d-4bdefe2b0f31', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7'}
        Body: b'{"server": {"id": "a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7", "name": "tempest-VolumesNegativeTest-instance-602643893", "status": "BUILD", "tenant_id": "7153f124d1064f929df381d52221a3ae", "user_id": "93778a180bd6489c836a8b1d0c9dfda1", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:50:
    00Z", "updated": "2022-08-16T11:50:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000fd", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:50:01,674 17546 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:50:02,774 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 0.098s
2022-08-16 14:50:02,775 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:50:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4693', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d9be7787-76ce-4239-b57a-fa3fd835202d', 'x-compute-request-id': 'req-d9be7787-76ce-4239-b57a-fa3fd835202d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7'}
        Body: b'{"server": {"id": "a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7", "name": "tempest-VolumesNegativeTest-instance-602643893", "status": "ERROR", "tenant_id": "7153f124d1064f929df381d52221a3ae", "user_id": "93778a180bd6489c836a8b1d0c9dfda1", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:50:00Z", "updated": "2022-08-16T11:50:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:50:01Z", "message": "Build of instance a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11978, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site
    -packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pack
2022-08-16 14:50:02,785 17546 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:50:03,043 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 0.258s
2022-08-16 14:50:03,044 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:50:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7d847376-dabb-495a-aa36-0346a3a8d37b', 'x-compute-request-id': 'req-7d847376-dabb-495a-aa36-0346a3a8d37b', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7'}
        Body: b''
2022-08-16 14:50:03,076 17546 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 0.031s
2022-08-16 14:50:03,076 17546 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:50:03 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6e96bfdc-8d58-47aa-bb7e-f931899294d1', 'x-compute-request-id': 'req-6e96bfdc-8d58-47aa-bb7e-f931899294d1', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/s
    ervers/a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance a41e5e62-e0c2-4ce6-bf25-6e22fea9dfd7 could not be found."}}'



======
Totals
======
Ran: 218 tests in 234.2928 sec.
 - Passed: 203
 - Skipped: 7
 - Expected Fail: 0
 - Unexpected Success: 0
 - Failed: 8
Sum of execute time for each test: 348.6109 sec.

==============
Worker Balance
==============
 - Worker 0 (84 tests) => 0:03:34.384114
 - Worker 1 (75 tests) => 0:03:31.424493
 - Worker 2 (59 tests) => 0:03:54.249431

Build Started 13_01_2025_14_59_59
2025-01-13 15:00:10.789 7 INFO oslo_service.service [None req-97cd4bad-b309-420f-94ae-9314a45b0fd2 - - - - - -] Caught SIGTERM, stopping children
2025-01-13 15:00:10.792 7 INFO oslo_service.service [None req-97cd4bad-b309-420f-94ae-9314a45b0fd2 - - - - - -] Waiting on 1 children to exit
2025-01-13 15:00:17.527 25 WARNING amqp [None req-97cd4bad-b309-420f-94ae-9314a45b0fd2 - - - - - -] Received method (60, 30) during closing channel 1. This method will be ignored
2025-01-13 15:00:17.536 25 WARNING amqp [None req-97cd4bad-b309-420f-94ae-9314a45b0fd2 - - - - - -] Received method (60, 30) during closing channel 1. This method will be ignored
2025-01-13 15:00:17.542 25 WARNING amqp [None req-97cd4bad-b309-420f-94ae-9314a45b0fd2 - - - - - -] Received method (60, 30) during closing channel 1. This method will be ignored
2025-01-13 15:00:17.558 7 INFO oslo_service.service [None req-97cd4bad-b309-420f-94ae-9314a45b0fd2 - - - - - -] Child 25 exited with status 0
2025-01-13 15:00:31.387 7 INFO cinder.rpc [None req-56a1e22d-124d-4348-8596-3bd44210b10f - - - - - -] Automatically selected cinder-scheduler objects version 1.39 as minimum service version.
2025-01-13 15:00:31.390 7 INFO cinder.rpc [None req-56a1e22d-124d-4348-8596-3bd44210b10f - - - - - -] Automatically selected cinder-scheduler RPC version 3.12 as minimum service version.
2025-01-13 15:00:31.429 7 INFO cinder.volume.manager [None req-56a1e22d-124d-4348-8596-3bd44210b10f - - - - - -] Determined volume DB was empty at startup.
2025-01-13 15:00:31.446 7 INFO cinder.volume.manager [None req-56a1e22d-124d-4348-8596-3bd44210b10f - - - - - -] Image-volume cache disabled for host rack13-server67@LIGHTOSyilgqu.
2025-01-13 15:00:31.459 7 INFO oslo_service.service [None req-56a1e22d-124d-4348-8596-3bd44210b10f - - - - - -] Starting 1 workers
2025-01-13 15:00:31.470 25 INFO cinder.service [-] Starting cinder-volume node (version 25.1.0)
2025-01-13 15:00:31.474 7 WARNING oslo_config.cfg [None req-56a1e22d-124d-4348-8596-3bd44210b10f - - - - - -] Deprecated: Option "heartbeat_in_pthread" from group "oslo_messaging_rabbit" is deprecated for removal (The option is related to Eventlet which will be removed. In addition this has never worked as expected with services using eventlet for core service framework.).  Its value may be silently ignored in the future.
2025-01-13 15:00:31.489 25 INFO cinder.volume.manager [None req-048f3456-8673-4979-8573-e24747f2d79d - - - - - -] Starting volume driver LightOSVolumeDriver (2.3.12)
2025-01-13 15:00:31.490 25 INFO cinder.volume.drivers.lightos [None req-048f3456-8673-4979-8573-e24747f2d79d - - - - - -] Invoking get_cluster_info using GET url: /api/v2/clusterinfo             request.body: {} ssl_verify: False
2025-01-13 15:00:31.546 25 INFO cinder.volume.drivers.lightos [None req-048f3456-8673-4979-8573-e24747f2d79d - - - - - -] Connected to LightOS cluster fd2aa544-9eb4-597a-ae95-880b19a0bbea subsysnqn nqn.2016-01.com.lightbitslabs:uuid:ed93b30a-10c9-4020-b8d0-0edc696e5120:suffix
2025-01-13 15:00:31.547 25 INFO cinder.volume.drivers.lightos [None req-048f3456-8673-4979-8573-e24747f2d79d - - - - - -] Invoking get_nodes using GET url: /api/v2/nodes             request.body: {} ssl_verify: False
2025-01-13 15:00:31.591 25 INFO os_brick.initiator.connectors.lightos [None req-048f3456-8673-4979-8573-e24747f2d79d - - - - - -] Current host hostNQN nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc and IP(s) are ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', 'fe80::4099:911b:7117:6464'] 
2025-01-13 15:00:31.643 25 WARNING oslo_config.cfg [None req-048f3456-8673-4979-8573-e24747f2d79d - - - - - -] Deprecated: Option "heartbeat_in_pthread" from group "oslo_messaging_rabbit" is deprecated for removal (The option is related to Eventlet which will be removed. In addition this has never worked as expected with services using eventlet for core service framework.).  Its value may be silently ignored in the future.
2025-01-13 15:00:31.649 25 INFO cinder.keymgr.migration [None req-1b46cb69-4e6f-444f-8e61-4895c12e4379 - - - - - -] Not migrating encryption keys because the ConfKeyManager's fixed_key is not in use.
2025-01-13 15:00:31.669 25 INFO cinder.volume.manager [None req-048f3456-8673-4979-8573-e24747f2d79d - - - - - -] Driver initialization completed successfully.
2025-01-13 15:00:31.670 25 INFO cinder.manager [None req-048f3456-8673-4979-8573-e24747f2d79d - - - - - -] Initiating service 4 cleanup
2025-01-13 15:00:31.681 25 INFO cinder.manager [None req-048f3456-8673-4979-8573-e24747f2d79d - - - - - -] Service 4 cleanup completed.
2025-01-13 15:00:31.724 25 INFO cinder.service [None req-048f3456-8673-4979-8573-e24747f2d79d - - - - - -] Starting cinder-volume cluster lightos_cinder_cluster@LIGHTOSyilgqu (version 25.1.0)
2025-01-13 15:00:31.746 25 INFO cinder.volume.manager [None req-048f3456-8673-4979-8573-e24747f2d79d - - - - - -] Initializing RPC dependent components of volume driver LightOSVolumeDriver (2.3.12)
2025-01-13 15:00:31.759 25 INFO cinder.volume.manager [None req-048f3456-8673-4979-8573-e24747f2d79d - - - - - -] Driver post RPC initialization completed successfully.
2025-01-13 15:01:10.564 25 INFO cinder.volume.flows.manager.create_volume [req-8371d42e-5ff6-4c6f-b463-6f63250c911e req-20604fec-9bf2-43d1-b50f-55d13173565e e55ca6aa507d496e88f32bb9f94e0431 d2f554c9405442209e5acfff24bb101e - - - -] Volume 27541239-22d4-42b8-b3a0-e769bc8ccd12: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_27541239-22d4-42b8-b3a0-e769bc8ccd12', 'volume_size': 1}
2025-01-13 15:01:10.564 25 INFO cinder.volume.drivers.lightos [req-8371d42e-5ff6-4c6f-b463-6f63250c911e req-20604fec-9bf2-43d1-b50f-55d13173565e e55ca6aa507d496e88f32bb9f94e0431 d2f554c9405442209e5acfff24bb101e - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_27541239-22d4-42b8-b3a0-e769bc8ccd12             request.body: {} ssl_verify: False
2025-01-13 15:01:10.592 25 INFO cinder.volume.drivers.lightos [req-8371d42e-5ff6-4c6f-b463-6f63250c911e req-20604fec-9bf2-43d1-b50f-55d13173565e e55ca6aa507d496e88f32bb9f94e0431 d2f554c9405442209e5acfff24bb101e - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_27541239-22d4-42b8-b3a0-e769bc8ccd12', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:01:10.616 25 INFO cinder.volume.flows.manager.create_volume [req-4e97dd6b-dd8c-4a0c-99fe-4449bcd37716 req-fbd12a8f-da23-404b-bcb3-8ac45885a60b a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Volume 083a1527-6a56-4e3e-a6c8-4b4cdc167294: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_083a1527-6a56-4e3e-a6c8-4b4cdc167294', 'volume_size': 1}
2025-01-13 15:01:10.617 25 INFO cinder.volume.drivers.lightos [req-4e97dd6b-dd8c-4a0c-99fe-4449bcd37716 req-fbd12a8f-da23-404b-bcb3-8ac45885a60b a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_083a1527-6a56-4e3e-a6c8-4b4cdc167294             request.body: {} ssl_verify: False
2025-01-13 15:01:10.633 25 INFO cinder.volume.drivers.lightos [req-8371d42e-5ff6-4c6f-b463-6f63250c911e req-20604fec-9bf2-43d1-b50f-55d13173565e e55ca6aa507d496e88f32bb9f94e0431 d2f554c9405442209e5acfff24bb101e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/794e9ad8-8c05-4123-a93f-c4fb4636aa2a             request.body: {} ssl_verify: False
2025-01-13 15:01:10.664 25 INFO cinder.volume.drivers.lightos [req-4e97dd6b-dd8c-4a0c-99fe-4449bcd37716 req-fbd12a8f-da23-404b-bcb3-8ac45885a60b a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_083a1527-6a56-4e3e-a6c8-4b4cdc167294', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:01:10.712 25 INFO cinder.volume.drivers.lightos [req-4e97dd6b-dd8c-4a0c-99fe-4449bcd37716 req-fbd12a8f-da23-404b-bcb3-8ac45885a60b a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/79f0f7b4-f5b6-4717-9a2a-804f4648dece             request.body: {} ssl_verify: False
2025-01-13 15:01:11.688 25 INFO cinder.volume.drivers.lightos [req-8371d42e-5ff6-4c6f-b463-6f63250c911e req-20604fec-9bf2-43d1-b50f-55d13173565e e55ca6aa507d496e88f32bb9f94e0431 d2f554c9405442209e5acfff24bb101e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/794e9ad8-8c05-4123-a93f-c4fb4636aa2a             request.body: {} ssl_verify: False
2025-01-13 15:01:11.732 25 INFO cinder.volume.flows.manager.create_volume [req-8371d42e-5ff6-4c6f-b463-6f63250c911e req-20604fec-9bf2-43d1-b50f-55d13173565e e55ca6aa507d496e88f32bb9f94e0431 d2f554c9405442209e5acfff24bb101e - - - -] Volume vol_27541239-22d4-42b8-b3a0-e769bc8ccd12 (27541239-22d4-42b8-b3a0-e769bc8ccd12): created successfully
2025-01-13 15:01:11.741 25 INFO cinder.volume.manager [req-8371d42e-5ff6-4c6f-b463-6f63250c911e req-20604fec-9bf2-43d1-b50f-55d13173565e e55ca6aa507d496e88f32bb9f94e0431 d2f554c9405442209e5acfff24bb101e - - - -] Created volume successfully.
2025-01-13 15:01:11.782 25 INFO cinder.volume.drivers.lightos [req-4e97dd6b-dd8c-4a0c-99fe-4449bcd37716 req-fbd12a8f-da23-404b-bcb3-8ac45885a60b a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/79f0f7b4-f5b6-4717-9a2a-804f4648dece             request.body: {} ssl_verify: False
2025-01-13 15:01:11.808 25 INFO cinder.volume.flows.manager.create_volume [req-4e97dd6b-dd8c-4a0c-99fe-4449bcd37716 req-fbd12a8f-da23-404b-bcb3-8ac45885a60b a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Volume vol_083a1527-6a56-4e3e-a6c8-4b4cdc167294 (083a1527-6a56-4e3e-a6c8-4b4cdc167294): created successfully
2025-01-13 15:01:11.817 25 INFO cinder.volume.manager [req-4e97dd6b-dd8c-4a0c-99fe-4449bcd37716 req-fbd12a8f-da23-404b-bcb3-8ac45885a60b a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Created volume successfully.
2025-01-13 15:01:12.879 25 INFO cinder.volume.drivers.lightos [req-50570584-8d20-4a65-83cd-948b82723418 req-f3622b23-d50e-46d1-bbe7-055362b7be72 e55ca6aa507d496e88f32bb9f94e0431 d2f554c9405442209e5acfff24bb101e - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_27541239-22d4-42b8-b3a0-e769bc8ccd12             request.body: {} ssl_verify: False
2025-01-13 15:01:12.895 25 INFO cinder.volume.drivers.lightos [req-50570584-8d20-4a65-83cd-948b82723418 req-f3622b23-d50e-46d1-bbe7-055362b7be72 e55ca6aa507d496e88f32bb9f94e0431 d2f554c9405442209e5acfff24bb101e - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/794e9ad8-8c05-4123-a93f-c4fb4636aa2a?             request.body:  ssl_verify: False
2025-01-13 15:01:12.927 25 INFO cinder.volume.drivers.lightos [req-50570584-8d20-4a65-83cd-948b82723418 req-f3622b23-d50e-46d1-bbe7-055362b7be72 e55ca6aa507d496e88f32bb9f94e0431 d2f554c9405442209e5acfff24bb101e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/794e9ad8-8c05-4123-a93f-c4fb4636aa2a             request.body: {} ssl_verify: False
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager [req-50570584-8d20-4a65-83cd-948b82723418 req-f3622b23-d50e-46d1-bbe7-055362b7be72 e55ca6aa507d496e88f32bb9f94e0431 d2f554c9405442209e5acfff24bb101e - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager 
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager 
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:12.974 25 ERROR cinder.volume.manager 
2025-01-13 15:01:13.013 25 INFO cinder.volume.drivers.lightos [req-e56b703b-a7a0-4d37-8ada-35fec98efc96 req-a2460867-a42f-44dd-ad4a-85ee11973c9d a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-01f62276-71f4-4d35-9f78-5c8d04be4f48             request.body: {} ssl_verify: False
2025-01-13 15:01:13.015 25 INFO cinder.volume.manager [req-50570584-8d20-4a65-83cd-948b82723418 req-f3622b23-d50e-46d1-bbe7-055362b7be72 e55ca6aa507d496e88f32bb9f94e0431 d2f554c9405442209e5acfff24bb101e - - - -] Deleted volume successfully.
2025-01-13 15:01:13.025 25 INFO cinder.volume.drivers.lightos [req-e56b703b-a7a0-4d37-8ada-35fec98efc96 req-a2460867-a42f-44dd-ad4a-85ee11973c9d a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-01f62276-71f4-4d35-9f78-5c8d04be4f48', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_083a1527-6a56-4e3e-a6c8-4b4cdc167294'} ssl_verify: False
2025-01-13 15:01:13.061 25 INFO cinder.volume.drivers.lightos [req-e56b703b-a7a0-4d37-8ada-35fec98efc96 req-a2460867-a42f-44dd-ad4a-85ee11973c9d a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-01f62276-71f4-4d35-9f78-5c8d04be4f48             request.body: {} ssl_verify: False
2025-01-13 15:01:14.094 25 INFO cinder.volume.drivers.lightos [req-e56b703b-a7a0-4d37-8ada-35fec98efc96 req-a2460867-a42f-44dd-ad4a-85ee11973c9d a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-01f62276-71f4-4d35-9f78-5c8d04be4f48             request.body: {} ssl_verify: False
2025-01-13 15:01:14.142 25 INFO cinder.volume.manager [req-e56b703b-a7a0-4d37-8ada-35fec98efc96 req-a2460867-a42f-44dd-ad4a-85ee11973c9d a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Create snapshot completed successfully
2025-01-13 15:01:15.276 25 INFO cinder.volume.drivers.lightos [req-39c7e38e-71a6-400d-afc6-e25b0e92730f req-9f86baa3-300c-4bba-b51c-180785b63c3b a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-01f62276-71f4-4d35-9f78-5c8d04be4f48             request.body: {} ssl_verify: False
2025-01-13 15:01:15.310 25 INFO cinder.volume.drivers.lightos [req-39c7e38e-71a6-400d-afc6-e25b0e92730f req-9f86baa3-300c-4bba-b51c-180785b63c3b a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/93a6a74f-4587-48d7-bf6c-54e481c0bbaa?             request.body:  ssl_verify: False
2025-01-13 15:01:15.335 25 INFO cinder.volume.drivers.lightos [req-39c7e38e-71a6-400d-afc6-e25b0e92730f req-9f86baa3-300c-4bba-b51c-180785b63c3b a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/93a6a74f-4587-48d7-bf6c-54e481c0bbaa             request.body: {} ssl_verify: False
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager [req-39c7e38e-71a6-400d-afc6-e25b0e92730f req-9f86baa3-300c-4bba-b51c-180785b63c3b a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager 
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager 
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:15.393 25 ERROR cinder.volume.manager 
2025-01-13 15:01:15.406 25 INFO cinder.volume.manager [req-39c7e38e-71a6-400d-afc6-e25b0e92730f req-9f86baa3-300c-4bba-b51c-180785b63c3b a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Delete snapshot completed successfully.
2025-01-13 15:01:16.011 25 INFO cinder.volume.manager [None req-bed3e42a-9dcc-4d59-8019-fdcadff92a32 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Group tempest-GroupSnapshotsTest-Group-935114039: creating
2025-01-13 15:01:16.029 25 INFO cinder.volume.manager [None req-bed3e42a-9dcc-4d59-8019-fdcadff92a32 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Group tempest-GroupSnapshotsTest-Group-935114039: created successfully
2025-01-13 15:01:16.036 25 INFO cinder.volume.manager [None req-bed3e42a-9dcc-4d59-8019-fdcadff92a32 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Create group completed successfully.
2025-01-13 15:01:16.476 25 INFO cinder.volume.drivers.lightos [req-7da3dc74-df8d-4c1a-be2a-c0c2f6d3b656 req-2340c68b-ff7f-4c46-bed9-713996157cc1 a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_083a1527-6a56-4e3e-a6c8-4b4cdc167294             request.body: {} ssl_verify: False
2025-01-13 15:01:16.499 25 INFO cinder.volume.drivers.lightos [req-7da3dc74-df8d-4c1a-be2a-c0c2f6d3b656 req-2340c68b-ff7f-4c46-bed9-713996157cc1 a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/79f0f7b4-f5b6-4717-9a2a-804f4648dece?             request.body:  ssl_verify: False
2025-01-13 15:01:16.546 25 INFO cinder.volume.drivers.lightos [req-7da3dc74-df8d-4c1a-be2a-c0c2f6d3b656 req-2340c68b-ff7f-4c46-bed9-713996157cc1 a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/79f0f7b4-f5b6-4717-9a2a-804f4648dece             request.body: {} ssl_verify: False
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager [req-7da3dc74-df8d-4c1a-be2a-c0c2f6d3b656 req-2340c68b-ff7f-4c46-bed9-713996157cc1 a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager 
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager 
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:16.631 25 ERROR cinder.volume.manager 
2025-01-13 15:01:16.662 25 INFO cinder.volume.manager [req-7da3dc74-df8d-4c1a-be2a-c0c2f6d3b656 req-2340c68b-ff7f-4c46-bed9-713996157cc1 a1c134c24f0f47a4b907b5a2bca11882 3b16002dfbd843cbbf930e2815829110 - - - -] Deleted volume successfully.
2025-01-13 15:01:17.400 25 INFO cinder.volume.flows.manager.create_volume [None req-df388a69-0bb6-46fc-8399-43a8f6bdb48c e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Volume 9eea153e-73a3-4fb3-807e-f5ac4a1e4022: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_9eea153e-73a3-4fb3-807e-f5ac4a1e4022', 'volume_size': 1}
2025-01-13 15:01:17.400 25 INFO cinder.volume.drivers.lightos [None req-df388a69-0bb6-46fc-8399-43a8f6bdb48c e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_9eea153e-73a3-4fb3-807e-f5ac4a1e4022             request.body: {} ssl_verify: False
2025-01-13 15:01:17.419 25 INFO cinder.volume.drivers.lightos [None req-df388a69-0bb6-46fc-8399-43a8f6bdb48c e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_9eea153e-73a3-4fb3-807e-f5ac4a1e4022', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:01:17.462 25 INFO cinder.volume.drivers.lightos [None req-df388a69-0bb6-46fc-8399-43a8f6bdb48c e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/5bfb7551-8a2c-4649-b0e0-40537c93b0e7             request.body: {} ssl_verify: False
2025-01-13 15:01:18.511 25 INFO cinder.volume.drivers.lightos [None req-df388a69-0bb6-46fc-8399-43a8f6bdb48c e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/5bfb7551-8a2c-4649-b0e0-40537c93b0e7             request.body: {} ssl_verify: False
2025-01-13 15:01:18.552 25 INFO cinder.volume.flows.manager.create_volume [None req-df388a69-0bb6-46fc-8399-43a8f6bdb48c e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Volume vol_9eea153e-73a3-4fb3-807e-f5ac4a1e4022 (9eea153e-73a3-4fb3-807e-f5ac4a1e4022): created successfully
2025-01-13 15:01:18.563 25 INFO cinder.volume.manager [None req-df388a69-0bb6-46fc-8399-43a8f6bdb48c e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Created volume successfully.
2025-01-13 15:01:19.758 25 INFO cinder.volume.manager [None req-223515eb-2382-4aba-b6bc-30309ba208ae e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] GroupSnapshot 6b208c0f-fede-4215-bc4c-f28f44a4d7fe: creating.
2025-01-13 15:01:19.761 25 INFO cinder.volume.manager [None req-71dcc99e-c34e-4fc3-b98a-97b873631586 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Group tempest-GroupSnapshotsV319Test-Group-199778536: creating
2025-01-13 15:01:19.788 25 INFO cinder.volume.manager [None req-71dcc99e-c34e-4fc3-b98a-97b873631586 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Group tempest-GroupSnapshotsV319Test-Group-199778536: created successfully
2025-01-13 15:01:19.796 25 INFO cinder.volume.drivers.lightos [None req-223515eb-2382-4aba-b6bc-30309ba208ae e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-7fb2566e-eb88-4747-879d-3bce46d51143             request.body: {} ssl_verify: False
2025-01-13 15:01:19.798 25 INFO cinder.volume.manager [None req-71dcc99e-c34e-4fc3-b98a-97b873631586 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Create group completed successfully.
2025-01-13 15:01:19.812 25 INFO cinder.volume.drivers.lightos [None req-223515eb-2382-4aba-b6bc-30309ba208ae e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-7fb2566e-eb88-4747-879d-3bce46d51143', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_9eea153e-73a3-4fb3-807e-f5ac4a1e4022'} ssl_verify: False
2025-01-13 15:01:19.897 25 INFO cinder.volume.drivers.lightos [None req-223515eb-2382-4aba-b6bc-30309ba208ae e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-7fb2566e-eb88-4747-879d-3bce46d51143             request.body: {} ssl_verify: False
2025-01-13 15:01:21.021 25 INFO cinder.volume.drivers.lightos [None req-223515eb-2382-4aba-b6bc-30309ba208ae e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-7fb2566e-eb88-4747-879d-3bce46d51143             request.body: {} ssl_verify: False
2025-01-13 15:01:21.107 25 INFO cinder.volume.manager [None req-223515eb-2382-4aba-b6bc-30309ba208ae e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] group_snapshot 6b208c0f-fede-4215-bc4c-f28f44a4d7fe: created successfully
2025-01-13 15:01:21.153 25 INFO cinder.volume.flows.manager.create_volume [None req-d438c40d-e594-4c49-b517-062f0dcd789c 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Volume fdbcf0ca-3f22-4c3e-88a4-ef616adb30a1: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_fdbcf0ca-3f22-4c3e-88a4-ef616adb30a1', 'volume_size': 1}
2025-01-13 15:01:21.153 25 INFO cinder.volume.drivers.lightos [None req-d438c40d-e594-4c49-b517-062f0dcd789c 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_fdbcf0ca-3f22-4c3e-88a4-ef616adb30a1             request.body: {} ssl_verify: False
2025-01-13 15:01:21.167 25 INFO cinder.volume.drivers.lightos [None req-d438c40d-e594-4c49-b517-062f0dcd789c 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_fdbcf0ca-3f22-4c3e-88a4-ef616adb30a1', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:01:21.203 25 INFO cinder.volume.drivers.lightos [None req-d438c40d-e594-4c49-b517-062f0dcd789c 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/5f23dc47-449e-4b42-90ef-4964695857d5             request.body: {} ssl_verify: False
2025-01-13 15:01:21.386 25 INFO cinder.volume.flows.manager.create_volume [None req-3d564097-4d97-454c-8cf0-1cd7940c5380 a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Volume c7e2747c-343a-4b42-8ee3-287afe896ba3: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_c7e2747c-343a-4b42-8ee3-287afe896ba3', 'volume_size': 1}
2025-01-13 15:01:21.386 25 INFO cinder.volume.drivers.lightos [None req-3d564097-4d97-454c-8cf0-1cd7940c5380 a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_c7e2747c-343a-4b42-8ee3-287afe896ba3             request.body: {} ssl_verify: False
2025-01-13 15:01:21.400 25 INFO cinder.volume.drivers.lightos [None req-3d564097-4d97-454c-8cf0-1cd7940c5380 a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_c7e2747c-343a-4b42-8ee3-287afe896ba3', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:01:21.444 25 INFO cinder.volume.drivers.lightos [None req-3d564097-4d97-454c-8cf0-1cd7940c5380 a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/04e17113-83b2-4a63-b387-d87a6a140f7a             request.body: {} ssl_verify: False
2025-01-13 15:01:22.249 25 INFO cinder.volume.drivers.lightos [None req-d438c40d-e594-4c49-b517-062f0dcd789c 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/5f23dc47-449e-4b42-90ef-4964695857d5             request.body: {} ssl_verify: False
2025-01-13 15:01:22.289 25 INFO cinder.volume.flows.manager.create_volume [None req-d438c40d-e594-4c49-b517-062f0dcd789c 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Volume vol_fdbcf0ca-3f22-4c3e-88a4-ef616adb30a1 (fdbcf0ca-3f22-4c3e-88a4-ef616adb30a1): created successfully
2025-01-13 15:01:22.298 25 INFO cinder.volume.manager [None req-d438c40d-e594-4c49-b517-062f0dcd789c 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Created volume successfully.
2025-01-13 15:01:22.504 25 INFO cinder.volume.drivers.lightos [None req-3d564097-4d97-454c-8cf0-1cd7940c5380 a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/04e17113-83b2-4a63-b387-d87a6a140f7a             request.body: {} ssl_verify: False
2025-01-13 15:01:22.545 25 INFO cinder.volume.flows.manager.create_volume [None req-3d564097-4d97-454c-8cf0-1cd7940c5380 a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Volume vol_c7e2747c-343a-4b42-8ee3-287afe896ba3 (c7e2747c-343a-4b42-8ee3-287afe896ba3): created successfully
2025-01-13 15:01:22.556 25 INFO cinder.volume.manager [None req-3d564097-4d97-454c-8cf0-1cd7940c5380 a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Created volume successfully.
2025-01-13 15:01:22.832 25 INFO cinder.volume.drivers.lightos [None req-04f092e9-56f2-4f29-a05c-3b8f307e0f6a e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f4a146cb-9ac5-40b6-adf8-dba74c5c0f3c             request.body: {} ssl_verify: False
2025-01-13 15:01:22.846 25 INFO cinder.volume.drivers.lightos [None req-04f092e9-56f2-4f29-a05c-3b8f307e0f6a e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_f4a146cb-9ac5-40b6-adf8-dba74c5c0f3c', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': 'snapshot-7fb2566e-eb88-4747-879d-3bce46d51143'} ssl_verify: False
2025-01-13 15:01:22.994 25 INFO cinder.volume.drivers.lightos [None req-04f092e9-56f2-4f29-a05c-3b8f307e0f6a e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/70f7f5d5-933f-4644-844b-d1082b1f0fb9             request.body: {} ssl_verify: False
2025-01-13 15:01:23.594 25 INFO cinder.volume.manager [None req-aabe62a5-9e2f-42ed-a2ae-6b373a707867 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] GroupSnapshot 29cd7d3d-07f3-46aa-b776-fa9db92af365: creating.
2025-01-13 15:01:23.624 25 INFO cinder.volume.drivers.lightos [None req-aabe62a5-9e2f-42ed-a2ae-6b373a707867 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-060f6035-28a2-46f1-891f-cf37a9dd9fe7             request.body: {} ssl_verify: False
2025-01-13 15:01:23.639 25 INFO cinder.volume.drivers.lightos [None req-aabe62a5-9e2f-42ed-a2ae-6b373a707867 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-060f6035-28a2-46f1-891f-cf37a9dd9fe7', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_fdbcf0ca-3f22-4c3e-88a4-ef616adb30a1'} ssl_verify: False
2025-01-13 15:01:23.762 25 INFO cinder.volume.drivers.lightos [None req-aabe62a5-9e2f-42ed-a2ae-6b373a707867 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-060f6035-28a2-46f1-891f-cf37a9dd9fe7             request.body: {} ssl_verify: False
2025-01-13 15:01:23.930 25 INFO cinder.volume.flows.manager.create_volume [None req-fbca5592-852f-44a1-8a6f-a52ff66d991e a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Volume 710d8bf4-51af-4cf3-86e5-b0c489d4cd8e: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_710d8bf4-51af-4cf3-86e5-b0c489d4cd8e', 'volume_size': 1}
2025-01-13 15:01:23.930 25 INFO cinder.volume.drivers.lightos [None req-fbca5592-852f-44a1-8a6f-a52ff66d991e a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_710d8bf4-51af-4cf3-86e5-b0c489d4cd8e             request.body: {} ssl_verify: False
2025-01-13 15:01:23.946 25 INFO cinder.volume.drivers.lightos [None req-fbca5592-852f-44a1-8a6f-a52ff66d991e a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_710d8bf4-51af-4cf3-86e5-b0c489d4cd8e', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:01:23.990 25 INFO cinder.volume.drivers.lightos [None req-fbca5592-852f-44a1-8a6f-a52ff66d991e a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c5a97a7b-2e9e-4c88-85e4-7e38a86d59d3             request.body: {} ssl_verify: False
2025-01-13 15:01:24.015 25 INFO cinder.volume.drivers.lightos [None req-04f092e9-56f2-4f29-a05c-3b8f307e0f6a e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/70f7f5d5-933f-4644-844b-d1082b1f0fb9             request.body: {} ssl_verify: False
2025-01-13 15:01:24.104 25 INFO cinder.volume.manager [None req-04f092e9-56f2-4f29-a05c-3b8f307e0f6a e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Create group from source-snapshot-6b208c0f-fede-4215-bc4c-f28f44a4d7fe completed successfully.
2025-01-13 15:01:24.784 25 INFO cinder.volume.drivers.lightos [None req-aabe62a5-9e2f-42ed-a2ae-6b373a707867 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-060f6035-28a2-46f1-891f-cf37a9dd9fe7             request.body: {} ssl_verify: False
2025-01-13 15:01:24.850 25 INFO cinder.volume.manager [None req-aabe62a5-9e2f-42ed-a2ae-6b373a707867 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] group_snapshot 29cd7d3d-07f3-46aa-b776-fa9db92af365: created successfully
2025-01-13 15:01:25.040 25 INFO cinder.volume.drivers.lightos [None req-fbca5592-852f-44a1-8a6f-a52ff66d991e a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c5a97a7b-2e9e-4c88-85e4-7e38a86d59d3             request.body: {} ssl_verify: False
2025-01-13 15:01:25.087 25 INFO cinder.volume.flows.manager.create_volume [None req-fbca5592-852f-44a1-8a6f-a52ff66d991e a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Volume vol_710d8bf4-51af-4cf3-86e5-b0c489d4cd8e (710d8bf4-51af-4cf3-86e5-b0c489d4cd8e): created successfully
2025-01-13 15:01:25.096 25 INFO cinder.volume.manager [None req-fbca5592-852f-44a1-8a6f-a52ff66d991e a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Created volume successfully.
2025-01-13 15:01:25.403 25 INFO cinder.volume.drivers.lightos [None req-dc1f025b-e080-4e51-9bb8-33fc64f3daef e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f4a146cb-9ac5-40b6-adf8-dba74c5c0f3c             request.body: {} ssl_verify: False
2025-01-13 15:01:25.419 25 INFO cinder.volume.drivers.lightos [None req-dc1f025b-e080-4e51-9bb8-33fc64f3daef e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/70f7f5d5-933f-4644-844b-d1082b1f0fb9?             request.body:  ssl_verify: False
2025-01-13 15:01:25.449 25 INFO cinder.volume.drivers.lightos [None req-dc1f025b-e080-4e51-9bb8-33fc64f3daef e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/70f7f5d5-933f-4644-844b-d1082b1f0fb9             request.body: {} ssl_verify: False
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager [None req-dc1f025b-e080-4e51-9bb8-33fc64f3daef e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '3c2594a5-764e-4d4b-8e7e-e9b184433e6f', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager 
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager 
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager [parameters: {'id_1': '3c2594a5-764e-4d4b-8e7e-e9b184433e6f', 'param_1': 1}]
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:25.539 25 ERROR cinder.volume.manager 
2025-01-13 15:01:25.603 25 INFO cinder.volume.manager [None req-dc1f025b-e080-4e51-9bb8-33fc64f3daef e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Delete group completed successfully.
2025-01-13 15:01:26.085 25 INFO cinder.volume.manager [None req-71e25cf1-99ec-4666-a9e7-1058faf7ea4c 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] group_snapshot 29cd7d3d-07f3-46aa-b776-fa9db92af365: deleting
2025-01-13 15:01:26.119 25 INFO cinder.volume.drivers.lightos [None req-71e25cf1-99ec-4666-a9e7-1058faf7ea4c 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-060f6035-28a2-46f1-891f-cf37a9dd9fe7             request.body: {} ssl_verify: False
2025-01-13 15:01:26.137 25 INFO cinder.volume.drivers.lightos [None req-71e25cf1-99ec-4666-a9e7-1058faf7ea4c 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/9665ad52-e3ce-48d7-8905-f5429fb62175?             request.body:  ssl_verify: False
2025-01-13 15:01:26.184 25 INFO cinder.volume.drivers.lightos [None req-71e25cf1-99ec-4666-a9e7-1058faf7ea4c 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/9665ad52-e3ce-48d7-8905-f5429fb62175             request.body: {} ssl_verify: False
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager [None req-71e25cf1-99ec-4666-a9e7-1058faf7ea4c 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Failed to update usages deleting snapshot: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '460afece-a62f-4d51-a015-79f5649d9e32', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager 
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager 
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 4360, in delete_group_snapshot
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager [parameters: {'id_1': '460afece-a62f-4d51-a015-79f5649d9e32', 'param_1': 1}]
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:26.251 25 ERROR cinder.volume.manager 
2025-01-13 15:01:26.268 25 INFO cinder.volume.manager [None req-71e25cf1-99ec-4666-a9e7-1058faf7ea4c 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] group_snapshot 29cd7d3d-07f3-46aa-b776-fa9db92af365: deleted successfully
2025-01-13 15:01:26.422 25 INFO cinder.volume.flows.manager.create_volume [None req-9cfa0117-6620-4a14-9194-39d3bafea83e a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Volume e33f8ebe-bad9-4dff-9f56-a8d2e65bf78a: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_e33f8ebe-bad9-4dff-9f56-a8d2e65bf78a', 'volume_size': 1}
2025-01-13 15:01:26.422 25 INFO cinder.volume.drivers.lightos [None req-9cfa0117-6620-4a14-9194-39d3bafea83e a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_e33f8ebe-bad9-4dff-9f56-a8d2e65bf78a             request.body: {} ssl_verify: False
2025-01-13 15:01:26.437 25 INFO cinder.volume.drivers.lightos [None req-9cfa0117-6620-4a14-9194-39d3bafea83e a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_e33f8ebe-bad9-4dff-9f56-a8d2e65bf78a', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:01:26.473 25 INFO cinder.volume.drivers.lightos [None req-9cfa0117-6620-4a14-9194-39d3bafea83e a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/e6430676-1569-4758-a1b4-bc326fda7a25             request.body: {} ssl_verify: False
2025-01-13 15:01:26.569 25 INFO cinder.volume.manager [None req-65390e16-79fc-4d77-b433-2915060a0edc e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] group_snapshot 6b208c0f-fede-4215-bc4c-f28f44a4d7fe: deleting
2025-01-13 15:01:26.598 25 INFO cinder.volume.drivers.lightos [None req-65390e16-79fc-4d77-b433-2915060a0edc e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-7fb2566e-eb88-4747-879d-3bce46d51143             request.body: {} ssl_verify: False
2025-01-13 15:01:26.622 25 INFO cinder.volume.drivers.lightos [None req-65390e16-79fc-4d77-b433-2915060a0edc e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/0d6f35e4-8aee-4210-b3ba-8cc8a22c8f26?             request.body:  ssl_verify: False
2025-01-13 15:01:26.656 25 INFO cinder.volume.drivers.lightos [None req-65390e16-79fc-4d77-b433-2915060a0edc e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/0d6f35e4-8aee-4210-b3ba-8cc8a22c8f26             request.body: {} ssl_verify: False
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager [None req-65390e16-79fc-4d77-b433-2915060a0edc e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Failed to update usages deleting snapshot: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '3c2594a5-764e-4d4b-8e7e-e9b184433e6f', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager 
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager 
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 4360, in delete_group_snapshot
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager [parameters: {'id_1': '3c2594a5-764e-4d4b-8e7e-e9b184433e6f', 'param_1': 1}]
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:26.737 25 ERROR cinder.volume.manager 
2025-01-13 15:01:26.751 25 INFO cinder.volume.manager [None req-65390e16-79fc-4d77-b433-2915060a0edc e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] group_snapshot 6b208c0f-fede-4215-bc4c-f28f44a4d7fe: deleted successfully
2025-01-13 15:01:27.465 25 INFO cinder.volume.drivers.lightos [None req-6862d99d-f840-4aed-b71b-1ac0c5f5aaf6 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_fdbcf0ca-3f22-4c3e-88a4-ef616adb30a1             request.body: {} ssl_verify: False
2025-01-13 15:01:27.482 25 INFO cinder.volume.drivers.lightos [None req-6862d99d-f840-4aed-b71b-1ac0c5f5aaf6 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/5f23dc47-449e-4b42-90ef-4964695857d5?             request.body:  ssl_verify: False
2025-01-13 15:01:27.508 25 INFO cinder.volume.drivers.lightos [None req-9cfa0117-6620-4a14-9194-39d3bafea83e a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/e6430676-1569-4758-a1b4-bc326fda7a25             request.body: {} ssl_verify: False
2025-01-13 15:01:27.530 25 INFO cinder.volume.drivers.lightos [None req-6862d99d-f840-4aed-b71b-1ac0c5f5aaf6 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/5f23dc47-449e-4b42-90ef-4964695857d5             request.body: {} ssl_verify: False
2025-01-13 15:01:27.577 25 INFO cinder.volume.flows.manager.create_volume [None req-9cfa0117-6620-4a14-9194-39d3bafea83e a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Volume vol_e33f8ebe-bad9-4dff-9f56-a8d2e65bf78a (e33f8ebe-bad9-4dff-9f56-a8d2e65bf78a): created successfully
2025-01-13 15:01:27.594 25 INFO cinder.volume.manager [None req-9cfa0117-6620-4a14-9194-39d3bafea83e a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Created volume successfully.
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager [None req-6862d99d-f840-4aed-b71b-1ac0c5f5aaf6 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '460afece-a62f-4d51-a015-79f5649d9e32', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager 
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager 
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager [parameters: {'id_1': '460afece-a62f-4d51-a015-79f5649d9e32', 'param_1': 1}]
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:27.629 25 ERROR cinder.volume.manager 
2025-01-13 15:01:27.683 25 INFO cinder.volume.manager [None req-6862d99d-f840-4aed-b71b-1ac0c5f5aaf6 647fbd47922e46a4bb706ec2af059b4c 3c377e7619f147f9b183fd6a4b04b96b - - - -] Delete group completed successfully.
2025-01-13 15:01:27.943 25 INFO cinder.volume.drivers.lightos [None req-4892b5ad-2129-4a61-9bde-a64f449efcbe e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_9eea153e-73a3-4fb3-807e-f5ac4a1e4022             request.body: {} ssl_verify: False
2025-01-13 15:01:27.970 25 INFO cinder.volume.drivers.lightos [None req-4892b5ad-2129-4a61-9bde-a64f449efcbe e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/5bfb7551-8a2c-4649-b0e0-40537c93b0e7?             request.body:  ssl_verify: False
2025-01-13 15:01:28.006 25 INFO cinder.volume.drivers.lightos [None req-4892b5ad-2129-4a61-9bde-a64f449efcbe e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/5bfb7551-8a2c-4649-b0e0-40537c93b0e7             request.body: {} ssl_verify: False
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager [None req-4892b5ad-2129-4a61-9bde-a64f449efcbe e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '3c2594a5-764e-4d4b-8e7e-e9b184433e6f', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager 
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager 
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager [parameters: {'id_1': '3c2594a5-764e-4d4b-8e7e-e9b184433e6f', 'param_1': 1}]
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:28.101 25 ERROR cinder.volume.manager 
2025-01-13 15:01:28.153 25 INFO cinder.volume.manager [None req-4892b5ad-2129-4a61-9bde-a64f449efcbe e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Delete group completed successfully.
2025-01-13 15:01:29.245 25 INFO cinder.volume.drivers.lightos [None req-e1fdf50f-683f-4964-999e-bd4d54a28b7c a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_e33f8ebe-bad9-4dff-9f56-a8d2e65bf78a             request.body: {} ssl_verify: False
2025-01-13 15:01:29.261 25 INFO cinder.volume.drivers.lightos [None req-e1fdf50f-683f-4964-999e-bd4d54a28b7c a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/e6430676-1569-4758-a1b4-bc326fda7a25?             request.body:  ssl_verify: False
2025-01-13 15:01:29.300 25 INFO cinder.volume.drivers.lightos [None req-e1fdf50f-683f-4964-999e-bd4d54a28b7c a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/e6430676-1569-4758-a1b4-bc326fda7a25             request.body: {} ssl_verify: False
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager [None req-e1fdf50f-683f-4964-999e-bd4d54a28b7c a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager 
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager 
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:29.346 25 ERROR cinder.volume.manager 
2025-01-13 15:01:29.371 25 INFO cinder.volume.manager [None req-011add94-8ddb-496f-aa89-a5890f538f52 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Group tempest-GroupSnapshotsTest-Group-1790179960: creating
2025-01-13 15:01:29.375 25 INFO cinder.volume.manager [None req-e1fdf50f-683f-4964-999e-bd4d54a28b7c a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Deleted volume successfully.
2025-01-13 15:01:29.385 25 INFO cinder.volume.manager [None req-011add94-8ddb-496f-aa89-a5890f538f52 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Group tempest-GroupSnapshotsTest-Group-1790179960: created successfully
2025-01-13 15:01:29.399 25 INFO cinder.volume.manager [None req-011add94-8ddb-496f-aa89-a5890f538f52 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Create group completed successfully.
2025-01-13 15:01:30.413 25 INFO cinder.volume.drivers.lightos [None req-b2511626-10fc-4539-9ede-99066fa6aa47 a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_710d8bf4-51af-4cf3-86e5-b0c489d4cd8e             request.body: {} ssl_verify: False
2025-01-13 15:01:30.432 25 INFO cinder.volume.drivers.lightos [None req-b2511626-10fc-4539-9ede-99066fa6aa47 a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/c5a97a7b-2e9e-4c88-85e4-7e38a86d59d3?             request.body:  ssl_verify: False
2025-01-13 15:01:30.472 25 INFO cinder.volume.drivers.lightos [None req-b2511626-10fc-4539-9ede-99066fa6aa47 a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c5a97a7b-2e9e-4c88-85e4-7e38a86d59d3             request.body: {} ssl_verify: False
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager [None req-b2511626-10fc-4539-9ede-99066fa6aa47 a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager 
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager 
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:30.540 25 ERROR cinder.volume.manager 
2025-01-13 15:01:30.569 25 INFO cinder.volume.manager [None req-b2511626-10fc-4539-9ede-99066fa6aa47 a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Deleted volume successfully.
2025-01-13 15:01:30.756 25 INFO cinder.volume.flows.manager.create_volume [None req-0788fe98-c08e-4dee-a2be-023e22533b42 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Volume 6f41a00f-d2f1-4465-acf1-c0cc17bc5658: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_6f41a00f-d2f1-4465-acf1-c0cc17bc5658', 'volume_size': 1}
2025-01-13 15:01:30.756 25 INFO cinder.volume.drivers.lightos [None req-0788fe98-c08e-4dee-a2be-023e22533b42 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_6f41a00f-d2f1-4465-acf1-c0cc17bc5658             request.body: {} ssl_verify: False
2025-01-13 15:01:30.772 25 INFO cinder.volume.drivers.lightos [None req-0788fe98-c08e-4dee-a2be-023e22533b42 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_6f41a00f-d2f1-4465-acf1-c0cc17bc5658', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:01:30.808 25 INFO cinder.volume.drivers.lightos [None req-0788fe98-c08e-4dee-a2be-023e22533b42 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/8f391ab1-a756-450c-85be-3717f1567b00             request.body: {} ssl_verify: False
2025-01-13 15:01:31.539 25 INFO cinder.volume.drivers.lightos [None req-b280300c-f212-4ea0-bda8-57c6fa6ecbfa a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_c7e2747c-343a-4b42-8ee3-287afe896ba3             request.body: {} ssl_verify: False
2025-01-13 15:01:31.556 25 INFO cinder.volume.drivers.lightos [None req-b280300c-f212-4ea0-bda8-57c6fa6ecbfa a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/04e17113-83b2-4a63-b387-d87a6a140f7a?             request.body:  ssl_verify: False
2025-01-13 15:01:31.602 25 INFO cinder.volume.drivers.lightos [None req-b280300c-f212-4ea0-bda8-57c6fa6ecbfa a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/04e17113-83b2-4a63-b387-d87a6a140f7a             request.body: {} ssl_verify: False
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager [None req-b280300c-f212-4ea0-bda8-57c6fa6ecbfa a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager 
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager 
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:31.627 25 ERROR cinder.volume.manager 
2025-01-13 15:01:31.654 25 INFO cinder.volume.manager [None req-b280300c-f212-4ea0-bda8-57c6fa6ecbfa a6664488fd654d968dd0fc1e3f1e775c 3a434e1830244c2592ef78453c8ff128 - - - -] Deleted volume successfully.
2025-01-13 15:01:31.865 25 INFO cinder.volume.drivers.lightos [None req-0788fe98-c08e-4dee-a2be-023e22533b42 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/8f391ab1-a756-450c-85be-3717f1567b00             request.body: {} ssl_verify: False
2025-01-13 15:01:31.913 25 INFO cinder.volume.flows.manager.create_volume [None req-0788fe98-c08e-4dee-a2be-023e22533b42 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Volume vol_6f41a00f-d2f1-4465-acf1-c0cc17bc5658 (6f41a00f-d2f1-4465-acf1-c0cc17bc5658): created successfully
2025-01-13 15:01:31.922 25 INFO cinder.volume.manager [None req-0788fe98-c08e-4dee-a2be-023e22533b42 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Created volume successfully.
2025-01-13 15:01:33.241 25 INFO cinder.volume.flows.manager.create_volume [None req-ada3b755-3893-4fdd-b896-0b6e7926da9c e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Volume 5f0f9504-e97a-4f2f-8ffb-1d0eff5b3a94: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_5f0f9504-e97a-4f2f-8ffb-1d0eff5b3a94', 'volume_size': 1}
2025-01-13 15:01:33.242 25 INFO cinder.volume.drivers.lightos [None req-ada3b755-3893-4fdd-b896-0b6e7926da9c e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_5f0f9504-e97a-4f2f-8ffb-1d0eff5b3a94             request.body: {} ssl_verify: False
2025-01-13 15:01:33.257 25 INFO cinder.volume.drivers.lightos [None req-ada3b755-3893-4fdd-b896-0b6e7926da9c e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_5f0f9504-e97a-4f2f-8ffb-1d0eff5b3a94', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:01:33.300 25 INFO cinder.volume.drivers.lightos [None req-ada3b755-3893-4fdd-b896-0b6e7926da9c e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/3e48be28-f5c7-451e-a701-5348b0f17195             request.body: {} ssl_verify: False
2025-01-13 15:01:34.359 25 INFO cinder.volume.drivers.lightos [None req-ada3b755-3893-4fdd-b896-0b6e7926da9c e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/3e48be28-f5c7-451e-a701-5348b0f17195             request.body: {} ssl_verify: False
2025-01-13 15:01:34.397 25 INFO cinder.volume.flows.manager.create_volume [None req-ada3b755-3893-4fdd-b896-0b6e7926da9c e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Volume vol_5f0f9504-e97a-4f2f-8ffb-1d0eff5b3a94 (5f0f9504-e97a-4f2f-8ffb-1d0eff5b3a94): created successfully
2025-01-13 15:01:34.406 25 INFO cinder.volume.manager [None req-ada3b755-3893-4fdd-b896-0b6e7926da9c e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Created volume successfully.
2025-01-13 15:01:35.539 25 INFO cinder.volume.manager [None req-fdc93c8f-eeb7-4faf-96f9-1d08ce6a7a53 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Update group completed successfully.
2025-01-13 15:01:36.702 25 INFO cinder.volume.manager [None req-989c1335-8f73-45cc-9706-be1725f0041c e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Update group completed successfully.
2025-01-13 15:01:37.826 25 INFO cinder.volume.manager [None req-2055e06e-9126-4e3a-b24c-f1da7d6dc5d2 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Update group completed successfully.
2025-01-13 15:01:38.976 25 INFO cinder.volume.manager [None req-0a8f7aaa-f056-4085-b5bc-7dc1df259032 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Update group completed successfully.
2025-01-13 15:01:40.259 25 INFO cinder.volume.manager [None req-c943bf06-173b-4603-8241-ae402750134f e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] GroupSnapshot 64d5f915-9b85-4cbc-8c45-cf54b897e68a: creating.
2025-01-13 15:01:40.296 25 INFO cinder.volume.drivers.lightos [None req-c943bf06-173b-4603-8241-ae402750134f e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-75551ee2-132a-40ed-b3d5-1b46216cf3a8             request.body: {} ssl_verify: False
2025-01-13 15:01:40.312 25 INFO cinder.volume.drivers.lightos [None req-c943bf06-173b-4603-8241-ae402750134f e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-75551ee2-132a-40ed-b3d5-1b46216cf3a8', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_6f41a00f-d2f1-4465-acf1-c0cc17bc5658'} ssl_verify: False
2025-01-13 15:01:40.352 25 INFO cinder.volume.drivers.lightos [None req-c943bf06-173b-4603-8241-ae402750134f e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-75551ee2-132a-40ed-b3d5-1b46216cf3a8             request.body: {} ssl_verify: False
2025-01-13 15:01:41.415 25 INFO cinder.volume.drivers.lightos [None req-c943bf06-173b-4603-8241-ae402750134f e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-75551ee2-132a-40ed-b3d5-1b46216cf3a8             request.body: {} ssl_verify: False
2025-01-13 15:01:41.449 25 INFO cinder.volume.drivers.lightos [None req-c943bf06-173b-4603-8241-ae402750134f e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-9965b36e-05cb-47b4-82f0-e9a59912038d             request.body: {} ssl_verify: False
2025-01-13 15:01:41.464 25 INFO cinder.volume.drivers.lightos [None req-c943bf06-173b-4603-8241-ae402750134f e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-9965b36e-05cb-47b4-82f0-e9a59912038d', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_5f0f9504-e97a-4f2f-8ffb-1d0eff5b3a94'} ssl_verify: False
2025-01-13 15:01:41.515 25 INFO cinder.volume.drivers.lightos [None req-c943bf06-173b-4603-8241-ae402750134f e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-9965b36e-05cb-47b4-82f0-e9a59912038d             request.body: {} ssl_verify: False
2025-01-13 15:01:42.549 25 INFO cinder.volume.drivers.lightos [None req-c943bf06-173b-4603-8241-ae402750134f e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-9965b36e-05cb-47b4-82f0-e9a59912038d             request.body: {} ssl_verify: False
2025-01-13 15:01:42.644 25 INFO cinder.volume.manager [None req-c943bf06-173b-4603-8241-ae402750134f e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] group_snapshot 64d5f915-9b85-4cbc-8c45-cf54b897e68a: created successfully
2025-01-13 15:01:43.544 25 INFO cinder.volume.manager [None req-f6f66ff6-4656-4e8b-a5db-fcea482c062d e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] group_snapshot 64d5f915-9b85-4cbc-8c45-cf54b897e68a: deleting
2025-01-13 15:01:43.578 25 INFO cinder.volume.drivers.lightos [None req-f6f66ff6-4656-4e8b-a5db-fcea482c062d e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-75551ee2-132a-40ed-b3d5-1b46216cf3a8             request.body: {} ssl_verify: False
2025-01-13 15:01:43.596 25 INFO cinder.volume.drivers.lightos [None req-f6f66ff6-4656-4e8b-a5db-fcea482c062d e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/d57b8e08-4751-4348-9d66-bdf56518aada?             request.body:  ssl_verify: False
2025-01-13 15:01:43.637 25 INFO cinder.volume.drivers.lightos [None req-f6f66ff6-4656-4e8b-a5db-fcea482c062d e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/d57b8e08-4751-4348-9d66-bdf56518aada             request.body: {} ssl_verify: False
2025-01-13 15:01:43.693 25 INFO cinder.volume.drivers.lightos [None req-f6f66ff6-4656-4e8b-a5db-fcea482c062d e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-9965b36e-05cb-47b4-82f0-e9a59912038d             request.body: {} ssl_verify: False
2025-01-13 15:01:43.707 25 INFO cinder.volume.drivers.lightos [None req-f6f66ff6-4656-4e8b-a5db-fcea482c062d e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/48259b6b-2c6c-4ed0-9e48-c58d1191501e?             request.body:  ssl_verify: False
2025-01-13 15:01:43.733 25 INFO cinder.volume.drivers.lightos [None req-f6f66ff6-4656-4e8b-a5db-fcea482c062d e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/48259b6b-2c6c-4ed0-9e48-c58d1191501e             request.body: {} ssl_verify: False
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager [None req-f6f66ff6-4656-4e8b-a5db-fcea482c062d e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Failed to update usages deleting snapshot: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '1f0d1414-644b-4cf1-8740-81b5fb4b838e', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager 
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager 
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 4360, in delete_group_snapshot
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager [parameters: {'id_1': '1f0d1414-644b-4cf1-8740-81b5fb4b838e', 'param_1': 1}]
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:43.823 25 ERROR cinder.volume.manager 
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager [None req-f6f66ff6-4656-4e8b-a5db-fcea482c062d e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Failed to update usages deleting snapshot: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '1f0d1414-644b-4cf1-8740-81b5fb4b838e', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager 
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager 
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 4360, in delete_group_snapshot
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager [parameters: {'id_1': '1f0d1414-644b-4cf1-8740-81b5fb4b838e', 'param_1': 1}]
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:43.846 25 ERROR cinder.volume.manager 
2025-01-13 15:01:43.864 25 INFO cinder.volume.manager [None req-f6f66ff6-4656-4e8b-a5db-fcea482c062d e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] group_snapshot 64d5f915-9b85-4cbc-8c45-cf54b897e68a: deleted successfully
2025-01-13 15:01:45.041 25 INFO cinder.volume.drivers.lightos [None req-26388dde-2f7c-4a0a-b74c-8a950d93ab26 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_5f0f9504-e97a-4f2f-8ffb-1d0eff5b3a94             request.body: {} ssl_verify: False
2025-01-13 15:01:45.064 25 INFO cinder.volume.drivers.lightos [None req-26388dde-2f7c-4a0a-b74c-8a950d93ab26 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/3e48be28-f5c7-451e-a701-5348b0f17195?             request.body:  ssl_verify: False
2025-01-13 15:01:45.133 25 INFO cinder.volume.drivers.lightos [None req-26388dde-2f7c-4a0a-b74c-8a950d93ab26 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/3e48be28-f5c7-451e-a701-5348b0f17195             request.body: {} ssl_verify: False
2025-01-13 15:01:45.186 25 INFO cinder.volume.drivers.lightos [None req-26388dde-2f7c-4a0a-b74c-8a950d93ab26 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_6f41a00f-d2f1-4465-acf1-c0cc17bc5658             request.body: {} ssl_verify: False
2025-01-13 15:01:45.209 25 INFO cinder.volume.drivers.lightos [None req-26388dde-2f7c-4a0a-b74c-8a950d93ab26 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/8f391ab1-a756-450c-85be-3717f1567b00?             request.body:  ssl_verify: False
2025-01-13 15:01:45.249 25 INFO cinder.volume.drivers.lightos [None req-26388dde-2f7c-4a0a-b74c-8a950d93ab26 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/8f391ab1-a756-450c-85be-3717f1567b00             request.body: {} ssl_verify: False
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager [None req-26388dde-2f7c-4a0a-b74c-8a950d93ab26 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '1f0d1414-644b-4cf1-8740-81b5fb4b838e', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager 
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager 
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager [parameters: {'id_1': '1f0d1414-644b-4cf1-8740-81b5fb4b838e', 'param_1': 1}]
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:45.381 25 ERROR cinder.volume.manager 
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager [None req-26388dde-2f7c-4a0a-b74c-8a950d93ab26 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '1f0d1414-644b-4cf1-8740-81b5fb4b838e', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager 
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager 
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager [parameters: {'id_1': '1f0d1414-644b-4cf1-8740-81b5fb4b838e', 'param_1': 1}]
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:45.402 25 ERROR cinder.volume.manager 
2025-01-13 15:01:45.456 25 INFO cinder.volume.manager [None req-26388dde-2f7c-4a0a-b74c-8a950d93ab26 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Delete group completed successfully.
2025-01-13 15:01:45.502 25 INFO cinder.volume.manager [None req-b1a63465-09c9-4b8d-9fc8-fd49633a867c 4e8c5cf43abd41a1a7751c50f657a415 4415c718498f4e98a7c82dd1a0671800 - - - -] Group tempest-GroupsV320Test-Group-1777801961: creating
2025-01-13 15:01:45.516 25 INFO cinder.volume.manager [None req-b1a63465-09c9-4b8d-9fc8-fd49633a867c 4e8c5cf43abd41a1a7751c50f657a415 4415c718498f4e98a7c82dd1a0671800 - - - -] Group tempest-GroupsV320Test-Group-1777801961: created successfully
2025-01-13 15:01:45.522 25 INFO cinder.volume.manager [None req-b1a63465-09c9-4b8d-9fc8-fd49633a867c 4e8c5cf43abd41a1a7751c50f657a415 4415c718498f4e98a7c82dd1a0671800 - - - -] Create group completed successfully.
2025-01-13 15:01:46.495 25 INFO cinder.volume.manager [None req-82770c2e-4c07-4ef1-9cbd-81b1334481e3 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Group tempest-GroupSnapshotsTest-Group-675596513: creating
2025-01-13 15:01:46.510 25 INFO cinder.volume.manager [None req-82770c2e-4c07-4ef1-9cbd-81b1334481e3 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Group tempest-GroupSnapshotsTest-Group-675596513: created successfully
2025-01-13 15:01:46.519 25 INFO cinder.volume.manager [None req-82770c2e-4c07-4ef1-9cbd-81b1334481e3 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Create group completed successfully.
2025-01-13 15:01:47.025 25 INFO cinder.volume.manager [None req-ec238da1-1024-41dc-b900-61eb5d2c871d 4e8c5cf43abd41a1a7751c50f657a415 4415c718498f4e98a7c82dd1a0671800 - - - -] Delete group completed successfully.
2025-01-13 15:01:47.887 25 INFO cinder.volume.flows.manager.create_volume [None req-44cffe17-8a2f-4a47-b34c-268a148294c6 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Volume 5a096c26-6e17-4ea1-b3ac-f9e4982bc374: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_5a096c26-6e17-4ea1-b3ac-f9e4982bc374', 'volume_size': 1}
2025-01-13 15:01:47.888 25 INFO cinder.volume.drivers.lightos [None req-44cffe17-8a2f-4a47-b34c-268a148294c6 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_5a096c26-6e17-4ea1-b3ac-f9e4982bc374             request.body: {} ssl_verify: False
2025-01-13 15:01:47.900 25 INFO cinder.volume.drivers.lightos [None req-44cffe17-8a2f-4a47-b34c-268a148294c6 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_5a096c26-6e17-4ea1-b3ac-f9e4982bc374', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:01:47.931 25 INFO cinder.volume.drivers.lightos [None req-44cffe17-8a2f-4a47-b34c-268a148294c6 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/efa6400c-8a2b-43e6-a373-d3a332d33790             request.body: {} ssl_verify: False
2025-01-13 15:01:48.986 25 INFO cinder.volume.drivers.lightos [None req-44cffe17-8a2f-4a47-b34c-268a148294c6 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/efa6400c-8a2b-43e6-a373-d3a332d33790             request.body: {} ssl_verify: False
2025-01-13 15:01:49.028 25 INFO cinder.volume.flows.manager.create_volume [None req-44cffe17-8a2f-4a47-b34c-268a148294c6 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Volume vol_5a096c26-6e17-4ea1-b3ac-f9e4982bc374 (5a096c26-6e17-4ea1-b3ac-f9e4982bc374): created successfully
2025-01-13 15:01:49.038 25 INFO cinder.volume.manager [None req-44cffe17-8a2f-4a47-b34c-268a148294c6 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Created volume successfully.
2025-01-13 15:01:50.209 25 INFO cinder.volume.manager [None req-e02db55d-0d7a-460f-b63d-522130ba8a09 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] GroupSnapshot 493b0d55-d717-4b61-8041-f79580a33921: creating.
2025-01-13 15:01:50.239 25 INFO cinder.volume.drivers.lightos [None req-e02db55d-0d7a-460f-b63d-522130ba8a09 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-45f151c3-dd61-4756-b48f-c086b1a26955             request.body: {} ssl_verify: False
2025-01-13 15:01:50.251 25 INFO cinder.volume.drivers.lightos [None req-e02db55d-0d7a-460f-b63d-522130ba8a09 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-45f151c3-dd61-4756-b48f-c086b1a26955', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_5a096c26-6e17-4ea1-b3ac-f9e4982bc374'} ssl_verify: False
2025-01-13 15:01:50.279 25 INFO cinder.volume.drivers.lightos [None req-e02db55d-0d7a-460f-b63d-522130ba8a09 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-45f151c3-dd61-4756-b48f-c086b1a26955             request.body: {} ssl_verify: False
2025-01-13 15:01:51.319 25 INFO cinder.volume.drivers.lightos [None req-e02db55d-0d7a-460f-b63d-522130ba8a09 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-45f151c3-dd61-4756-b48f-c086b1a26955             request.body: {} ssl_verify: False
2025-01-13 15:01:51.400 25 INFO cinder.volume.manager [None req-e02db55d-0d7a-460f-b63d-522130ba8a09 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] group_snapshot 493b0d55-d717-4b61-8041-f79580a33921: created successfully
2025-01-13 15:01:52.523 25 INFO cinder.volume.manager [None req-e83f119f-a8dc-4597-977d-f64a50d87511 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] group_snapshot 493b0d55-d717-4b61-8041-f79580a33921: deleting
2025-01-13 15:01:52.556 25 INFO cinder.volume.drivers.lightos [None req-e83f119f-a8dc-4597-977d-f64a50d87511 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-45f151c3-dd61-4756-b48f-c086b1a26955             request.body: {} ssl_verify: False
2025-01-13 15:01:52.575 25 INFO cinder.volume.drivers.lightos [None req-e83f119f-a8dc-4597-977d-f64a50d87511 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/c5d6ff06-3fff-4b19-aa2f-095cb8bbcc8c?             request.body:  ssl_verify: False
2025-01-13 15:01:52.605 25 INFO cinder.volume.drivers.lightos [None req-e83f119f-a8dc-4597-977d-f64a50d87511 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/c5d6ff06-3fff-4b19-aa2f-095cb8bbcc8c             request.body: {} ssl_verify: False
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager [None req-e83f119f-a8dc-4597-977d-f64a50d87511 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Failed to update usages deleting snapshot: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '5d719051-7f9f-41be-9d96-685786ce86d0', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager 
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager 
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 4360, in delete_group_snapshot
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager [parameters: {'id_1': '5d719051-7f9f-41be-9d96-685786ce86d0', 'param_1': 1}]
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:52.691 25 ERROR cinder.volume.manager 
2025-01-13 15:01:52.707 25 INFO cinder.volume.manager [None req-e83f119f-a8dc-4597-977d-f64a50d87511 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] group_snapshot 493b0d55-d717-4b61-8041-f79580a33921: deleted successfully
2025-01-13 15:01:54.032 25 INFO cinder.volume.flows.manager.create_volume [None req-f84efc6b-c9a8-46e3-a0cd-4130e9fdce63 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Volume 1ae0a0cc-f6ed-4676-9e96-1adb87209c7b: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_1ae0a0cc-f6ed-4676-9e96-1adb87209c7b', 'volume_size': 1}
2025-01-13 15:01:54.032 25 INFO cinder.volume.drivers.lightos [None req-f84efc6b-c9a8-46e3-a0cd-4130e9fdce63 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_1ae0a0cc-f6ed-4676-9e96-1adb87209c7b             request.body: {} ssl_verify: False
2025-01-13 15:01:54.044 25 INFO cinder.volume.drivers.lightos [None req-e84f4bd4-9e39-4374-a5c4-20cf73336174 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_5a096c26-6e17-4ea1-b3ac-f9e4982bc374             request.body: {} ssl_verify: False
2025-01-13 15:01:54.058 25 INFO cinder.volume.drivers.lightos [None req-f84efc6b-c9a8-46e3-a0cd-4130e9fdce63 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_1ae0a0cc-f6ed-4676-9e96-1adb87209c7b', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:01:54.069 25 INFO cinder.volume.drivers.lightos [None req-e84f4bd4-9e39-4374-a5c4-20cf73336174 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/efa6400c-8a2b-43e6-a373-d3a332d33790?             request.body:  ssl_verify: False
2025-01-13 15:01:54.123 25 INFO cinder.volume.drivers.lightos [None req-f84efc6b-c9a8-46e3-a0cd-4130e9fdce63 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/44f91d9a-f2e4-4859-9e51-251b9ac0c9c5             request.body: {} ssl_verify: False
2025-01-13 15:01:54.161 25 INFO cinder.volume.drivers.lightos [None req-e84f4bd4-9e39-4374-a5c4-20cf73336174 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/efa6400c-8a2b-43e6-a373-d3a332d33790             request.body: {} ssl_verify: False
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager [None req-e84f4bd4-9e39-4374-a5c4-20cf73336174 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '5d719051-7f9f-41be-9d96-685786ce86d0', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager 
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager 
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager [parameters: {'id_1': '5d719051-7f9f-41be-9d96-685786ce86d0', 'param_1': 1}]
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:01:54.229 25 ERROR cinder.volume.manager 
2025-01-13 15:01:54.281 25 INFO cinder.volume.manager [None req-e84f4bd4-9e39-4374-a5c4-20cf73336174 e345f01cf645411587c80c7565e1b3b9 70d3a229fe294b24abe5b8162becd9ba - - - -] Delete group completed successfully.
2025-01-13 15:01:55.141 25 INFO cinder.volume.drivers.lightos [None req-f84efc6b-c9a8-46e3-a0cd-4130e9fdce63 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/44f91d9a-f2e4-4859-9e51-251b9ac0c9c5             request.body: {} ssl_verify: False
2025-01-13 15:01:55.182 25 INFO cinder.volume.flows.manager.create_volume [None req-f84efc6b-c9a8-46e3-a0cd-4130e9fdce63 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Volume vol_1ae0a0cc-f6ed-4676-9e96-1adb87209c7b (1ae0a0cc-f6ed-4676-9e96-1adb87209c7b): created successfully
2025-01-13 15:01:55.192 25 INFO cinder.volume.manager [None req-f84efc6b-c9a8-46e3-a0cd-4130e9fdce63 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Created volume successfully.
2025-01-13 15:01:56.322 25 INFO cinder.volume.drivers.lightos [None req-c68eb6b4-b862-4f0c-8d0e-b2ef3b9896d0 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-ca160e9f-2d29-4210-8481-592f5a4410bc             request.body: {} ssl_verify: False
2025-01-13 15:01:56.339 25 INFO cinder.volume.drivers.lightos [None req-c68eb6b4-b862-4f0c-8d0e-b2ef3b9896d0 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-ca160e9f-2d29-4210-8481-592f5a4410bc', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_1ae0a0cc-f6ed-4676-9e96-1adb87209c7b'} ssl_verify: False
2025-01-13 15:01:56.382 25 INFO cinder.volume.drivers.lightos [None req-c68eb6b4-b862-4f0c-8d0e-b2ef3b9896d0 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-ca160e9f-2d29-4210-8481-592f5a4410bc             request.body: {} ssl_verify: False
2025-01-13 15:01:57.493 25 INFO cinder.volume.drivers.lightos [None req-c68eb6b4-b862-4f0c-8d0e-b2ef3b9896d0 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-ca160e9f-2d29-4210-8481-592f5a4410bc             request.body: {} ssl_verify: False
2025-01-13 15:01:57.542 25 INFO cinder.volume.manager [None req-c68eb6b4-b862-4f0c-8d0e-b2ef3b9896d0 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Create snapshot completed successfully
2025-01-13 15:01:58.947 25 INFO cinder.volume.drivers.lightos [None req-00597b03-c390-4078-bcbc-1eba8b3dbf65 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-c6b45e50-5e27-46b9-a723-8fb805d2664a             request.body: {} ssl_verify: False
2025-01-13 15:01:58.962 25 INFO cinder.volume.drivers.lightos [None req-00597b03-c390-4078-bcbc-1eba8b3dbf65 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-c6b45e50-5e27-46b9-a723-8fb805d2664a', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_1ae0a0cc-f6ed-4676-9e96-1adb87209c7b'} ssl_verify: False
2025-01-13 15:01:59.002 25 INFO cinder.volume.drivers.lightos [None req-00597b03-c390-4078-bcbc-1eba8b3dbf65 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-c6b45e50-5e27-46b9-a723-8fb805d2664a             request.body: {} ssl_verify: False
2025-01-13 15:02:00.097 25 INFO cinder.volume.drivers.lightos [None req-00597b03-c390-4078-bcbc-1eba8b3dbf65 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-c6b45e50-5e27-46b9-a723-8fb805d2664a             request.body: {} ssl_verify: False
2025-01-13 15:02:00.137 25 INFO cinder.volume.manager [None req-00597b03-c390-4078-bcbc-1eba8b3dbf65 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Create snapshot completed successfully
2025-01-13 15:02:01.155 25 INFO cinder.volume.drivers.lightos [None req-1ca45c3c-29be-4455-ad94-7ad7f328a1a8 cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-c6b45e50-5e27-46b9-a723-8fb805d2664a             request.body: {} ssl_verify: False
2025-01-13 15:02:01.177 25 INFO cinder.volume.drivers.lightos [None req-1ca45c3c-29be-4455-ad94-7ad7f328a1a8 cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/8393332f-6c8a-4635-9f39-82eab90e4873?             request.body:  ssl_verify: False
2025-01-13 15:02:01.255 25 INFO cinder.volume.drivers.lightos [None req-1ca45c3c-29be-4455-ad94-7ad7f328a1a8 cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/8393332f-6c8a-4635-9f39-82eab90e4873             request.body: {} ssl_verify: False
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager [None req-1ca45c3c-29be-4455-ad94-7ad7f328a1a8 cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager 
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager 
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:01.310 25 ERROR cinder.volume.manager 
2025-01-13 15:02:01.321 25 INFO cinder.volume.manager [None req-1ca45c3c-29be-4455-ad94-7ad7f328a1a8 cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Delete snapshot completed successfully.
2025-01-13 15:02:02.519 25 INFO cinder.volume.drivers.lightos [None req-617f5670-7f8c-45e3-8b5c-ea80243b1f1d af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-3e982555-a4e2-4fbb-9c78-4b36ffe883de             request.body: {} ssl_verify: False
2025-01-13 15:02:02.536 25 INFO cinder.volume.drivers.lightos [None req-617f5670-7f8c-45e3-8b5c-ea80243b1f1d af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-3e982555-a4e2-4fbb-9c78-4b36ffe883de', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_1ae0a0cc-f6ed-4676-9e96-1adb87209c7b'} ssl_verify: False
2025-01-13 15:02:02.577 25 INFO cinder.volume.drivers.lightos [None req-617f5670-7f8c-45e3-8b5c-ea80243b1f1d af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-3e982555-a4e2-4fbb-9c78-4b36ffe883de             request.body: {} ssl_verify: False
2025-01-13 15:02:03.136 25 INFO cinder.volume.flows.manager.create_volume [None req-fda0b8c6-73f2-4b8f-b082-db7b6b507d26 b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Volume 51ae3551-1772-495e-a99a-c030c28b00da: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_51ae3551-1772-495e-a99a-c030c28b00da', 'volume_size': 1}
2025-01-13 15:02:03.136 25 INFO cinder.volume.drivers.lightos [None req-fda0b8c6-73f2-4b8f-b082-db7b6b507d26 b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_51ae3551-1772-495e-a99a-c030c28b00da             request.body: {} ssl_verify: False
2025-01-13 15:02:03.153 25 INFO cinder.volume.drivers.lightos [None req-fda0b8c6-73f2-4b8f-b082-db7b6b507d26 b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_51ae3551-1772-495e-a99a-c030c28b00da', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:02:03.205 25 INFO cinder.volume.drivers.lightos [None req-fda0b8c6-73f2-4b8f-b082-db7b6b507d26 b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b3519dd9-7d2b-4caf-ab17-db92686c1ae9             request.body: {} ssl_verify: False
2025-01-13 15:02:03.693 25 INFO cinder.volume.drivers.lightos [None req-617f5670-7f8c-45e3-8b5c-ea80243b1f1d af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-3e982555-a4e2-4fbb-9c78-4b36ffe883de             request.body: {} ssl_verify: False
2025-01-13 15:02:03.741 25 INFO cinder.volume.manager [None req-617f5670-7f8c-45e3-8b5c-ea80243b1f1d af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Create snapshot completed successfully
2025-01-13 15:02:04.238 25 INFO cinder.volume.drivers.lightos [None req-fda0b8c6-73f2-4b8f-b082-db7b6b507d26 b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b3519dd9-7d2b-4caf-ab17-db92686c1ae9             request.body: {} ssl_verify: False
2025-01-13 15:02:04.274 25 INFO cinder.volume.flows.manager.create_volume [None req-fda0b8c6-73f2-4b8f-b082-db7b6b507d26 b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Volume vol_51ae3551-1772-495e-a99a-c030c28b00da (51ae3551-1772-495e-a99a-c030c28b00da): created successfully
2025-01-13 15:02:04.285 25 INFO cinder.volume.manager [None req-fda0b8c6-73f2-4b8f-b082-db7b6b507d26 b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Created volume successfully.
2025-01-13 15:02:04.718 25 INFO cinder.volume.drivers.lightos [None req-19a90dff-3806-4ee8-b0b3-c253ef54a091 cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-3e982555-a4e2-4fbb-9c78-4b36ffe883de             request.body: {} ssl_verify: False
2025-01-13 15:02:04.741 25 INFO cinder.volume.drivers.lightos [None req-19a90dff-3806-4ee8-b0b3-c253ef54a091 cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/5d688d4a-f53b-48f3-a749-af380ffa612f?             request.body:  ssl_verify: False
2025-01-13 15:02:04.793 25 INFO cinder.volume.drivers.lightos [None req-19a90dff-3806-4ee8-b0b3-c253ef54a091 cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/5d688d4a-f53b-48f3-a749-af380ffa612f             request.body: {} ssl_verify: False
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager [None req-19a90dff-3806-4ee8-b0b3-c253ef54a091 cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager 
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager 
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:04.843 25 ERROR cinder.volume.manager 
2025-01-13 15:02:04.857 25 INFO cinder.volume.manager [None req-19a90dff-3806-4ee8-b0b3-c253ef54a091 cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Delete snapshot completed successfully.
2025-01-13 15:02:05.380 25 INFO cinder.volume.drivers.lightos [None req-0c4af6d5-ff83-4f7d-ae9b-2cc0d2a1441d b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_51ae3551-1772-495e-a99a-c030c28b00da             request.body: {} ssl_verify: False
2025-01-13 15:02:05.391 25 INFO cinder.volume.drivers.lightos [None req-0c4af6d5-ff83-4f7d-ae9b-2cc0d2a1441d b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/b3519dd9-7d2b-4caf-ab17-db92686c1ae9?             request.body:  ssl_verify: False
2025-01-13 15:02:05.419 25 INFO cinder.volume.drivers.lightos [None req-0c4af6d5-ff83-4f7d-ae9b-2cc0d2a1441d b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b3519dd9-7d2b-4caf-ab17-db92686c1ae9             request.body: {} ssl_verify: False
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager [None req-0c4af6d5-ff83-4f7d-ae9b-2cc0d2a1441d b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager 
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager 
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:05.477 25 ERROR cinder.volume.manager 
2025-01-13 15:02:05.503 25 INFO cinder.volume.manager [None req-0c4af6d5-ff83-4f7d-ae9b-2cc0d2a1441d b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Deleted volume successfully.
2025-01-13 15:02:06.094 25 INFO cinder.volume.drivers.lightos [None req-92514322-d0a8-41dd-adf9-6252be060752 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-5cf742b5-745f-40d9-b958-e4ea6201c63b             request.body: {} ssl_verify: False
2025-01-13 15:02:06.112 25 INFO cinder.volume.drivers.lightos [None req-92514322-d0a8-41dd-adf9-6252be060752 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-5cf742b5-745f-40d9-b958-e4ea6201c63b', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_1ae0a0cc-f6ed-4676-9e96-1adb87209c7b'} ssl_verify: False
2025-01-13 15:02:06.232 25 INFO cinder.volume.drivers.lightos [None req-92514322-d0a8-41dd-adf9-6252be060752 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-5cf742b5-745f-40d9-b958-e4ea6201c63b             request.body: {} ssl_verify: False
2025-01-13 15:02:06.663 25 INFO cinder.volume.manager [None req-ba217186-4ac7-46ed-84d0-6ad0d0bcb855 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Group tempest-Group1-1361014403: creating
2025-01-13 15:02:06.679 25 INFO cinder.volume.manager [None req-ba217186-4ac7-46ed-84d0-6ad0d0bcb855 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Group tempest-Group1-1361014403: created successfully
2025-01-13 15:02:06.685 25 INFO cinder.volume.manager [None req-ba217186-4ac7-46ed-84d0-6ad0d0bcb855 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Create group completed successfully.
2025-01-13 15:02:06.853 25 INFO cinder.volume.flows.manager.create_volume [None req-cdb01942-b2e1-4c5e-909c-cd955c869a0b b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Volume 9b57c0a1-9cc4-4a00-9675-21d7b5229cc6: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_9b57c0a1-9cc4-4a00-9675-21d7b5229cc6', 'volume_size': 1}
2025-01-13 15:02:06.853 25 INFO cinder.volume.drivers.lightos [None req-cdb01942-b2e1-4c5e-909c-cd955c869a0b b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_9b57c0a1-9cc4-4a00-9675-21d7b5229cc6             request.body: {} ssl_verify: False
2025-01-13 15:02:06.867 25 INFO cinder.volume.drivers.lightos [None req-cdb01942-b2e1-4c5e-909c-cd955c869a0b b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_9b57c0a1-9cc4-4a00-9675-21d7b5229cc6', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:02:06.902 25 INFO cinder.volume.drivers.lightos [None req-cdb01942-b2e1-4c5e-909c-cd955c869a0b b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/2a87c9a3-abad-48a3-9c94-057f744b10dd             request.body: {} ssl_verify: False
2025-01-13 15:02:07.281 25 INFO cinder.volume.drivers.lightos [None req-92514322-d0a8-41dd-adf9-6252be060752 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-5cf742b5-745f-40d9-b958-e4ea6201c63b             request.body: {} ssl_verify: False
2025-01-13 15:02:07.324 25 INFO cinder.volume.manager [None req-92514322-d0a8-41dd-adf9-6252be060752 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Create snapshot completed successfully
2025-01-13 15:02:07.847 25 INFO cinder.volume.manager [None req-d7f57654-5503-4536-bec3-712293390be0 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Group tempest-Group2-124541540: creating
2025-01-13 15:02:07.861 25 INFO cinder.volume.manager [None req-d7f57654-5503-4536-bec3-712293390be0 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Group tempest-Group2-124541540: created successfully
2025-01-13 15:02:07.868 25 INFO cinder.volume.manager [None req-d7f57654-5503-4536-bec3-712293390be0 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Create group completed successfully.
2025-01-13 15:02:07.924 25 INFO cinder.volume.drivers.lightos [None req-cdb01942-b2e1-4c5e-909c-cd955c869a0b b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/2a87c9a3-abad-48a3-9c94-057f744b10dd             request.body: {} ssl_verify: False
2025-01-13 15:02:07.959 25 INFO cinder.volume.flows.manager.create_volume [None req-cdb01942-b2e1-4c5e-909c-cd955c869a0b b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Volume vol_9b57c0a1-9cc4-4a00-9675-21d7b5229cc6 (9b57c0a1-9cc4-4a00-9675-21d7b5229cc6): created successfully
2025-01-13 15:02:07.971 25 INFO cinder.volume.manager [None req-cdb01942-b2e1-4c5e-909c-cd955c869a0b b84b898b5eef4a1b9723629a4de4ed91 a06da1a013a94e36bce9948f53fe6af3 - - - -] Created volume successfully.
2025-01-13 15:02:08.299 25 INFO cinder.volume.drivers.lightos [None req-db860c81-5fcb-427b-a28c-cf775d6e9240 cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-5cf742b5-745f-40d9-b958-e4ea6201c63b             request.body: {} ssl_verify: False
2025-01-13 15:02:08.324 25 INFO cinder.volume.drivers.lightos [None req-db860c81-5fcb-427b-a28c-cf775d6e9240 cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/be434958-8747-4c38-a5ec-07d80f402b3b?             request.body:  ssl_verify: False
2025-01-13 15:02:08.392 25 INFO cinder.volume.drivers.lightos [None req-db860c81-5fcb-427b-a28c-cf775d6e9240 cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/be434958-8747-4c38-a5ec-07d80f402b3b             request.body: {} ssl_verify: False
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager [None req-db860c81-5fcb-427b-a28c-cf775d6e9240 cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager 
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager 
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:08.434 25 ERROR cinder.volume.manager 
2025-01-13 15:02:08.446 25 INFO cinder.volume.manager [None req-db860c81-5fcb-427b-a28c-cf775d6e9240 cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Delete snapshot completed successfully.
2025-01-13 15:02:09.267 25 INFO cinder.volume.flows.manager.create_volume [None req-0c9b808d-44bc-4b62-b7c1-333215b04be1 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Volume f60877a4-854e-4f68-b72b-d49081c99fee: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_f60877a4-854e-4f68-b72b-d49081c99fee', 'volume_size': 1}
2025-01-13 15:02:09.267 25 INFO cinder.volume.drivers.lightos [None req-0c9b808d-44bc-4b62-b7c1-333215b04be1 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f60877a4-854e-4f68-b72b-d49081c99fee             request.body: {} ssl_verify: False
2025-01-13 15:02:09.284 25 INFO cinder.volume.drivers.lightos [None req-0c9b808d-44bc-4b62-b7c1-333215b04be1 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_f60877a4-854e-4f68-b72b-d49081c99fee', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:02:09.343 25 INFO cinder.volume.drivers.lightos [None req-0c9b808d-44bc-4b62-b7c1-333215b04be1 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/dc5c38e2-761d-42e6-a258-db5db92818b0             request.body: {} ssl_verify: False
2025-01-13 15:02:09.576 25 INFO cinder.volume.manager [None req-96040226-28d7-4d03-9ffe-4082e3ec86a5 bad6c452441d414a9aa7a14528ab74d1 c5f1c8ee4b2341498ac2711202e08e8d - - - -] Transfer volume completed successfully.
2025-01-13 15:02:09.670 25 INFO cinder.volume.drivers.lightos [None req-bd3fd2c4-602e-47b0-a21b-05c3ca76f062 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-9a566bdc-fbc1-4140-b17c-2aaa3fde1060             request.body: {} ssl_verify: False
2025-01-13 15:02:09.680 25 INFO cinder.volume.drivers.lightos [None req-bd3fd2c4-602e-47b0-a21b-05c3ca76f062 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-9a566bdc-fbc1-4140-b17c-2aaa3fde1060', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_1ae0a0cc-f6ed-4676-9e96-1adb87209c7b'} ssl_verify: False
2025-01-13 15:02:09.716 25 INFO cinder.volume.drivers.lightos [None req-bd3fd2c4-602e-47b0-a21b-05c3ca76f062 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-9a566bdc-fbc1-4140-b17c-2aaa3fde1060             request.body: {} ssl_verify: False
2025-01-13 15:02:10.432 25 INFO cinder.volume.drivers.lightos [None req-0c9b808d-44bc-4b62-b7c1-333215b04be1 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/dc5c38e2-761d-42e6-a258-db5db92818b0             request.body: {} ssl_verify: False
2025-01-13 15:02:10.469 25 INFO cinder.volume.flows.manager.create_volume [None req-0c9b808d-44bc-4b62-b7c1-333215b04be1 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Volume vol_f60877a4-854e-4f68-b72b-d49081c99fee (f60877a4-854e-4f68-b72b-d49081c99fee): created successfully
2025-01-13 15:02:10.481 25 INFO cinder.volume.manager [None req-0c9b808d-44bc-4b62-b7c1-333215b04be1 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Created volume successfully.
2025-01-13 15:02:10.496 25 INFO cinder.volume.drivers.lightos [None req-26808649-5195-4dfd-94a0-ff6f88ae22f8 56b3f08d355540e69a1717d49544475a e976bcc847ca4c589f0d7fd72c61fa6c - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_9b57c0a1-9cc4-4a00-9675-21d7b5229cc6             request.body: {} ssl_verify: False
2025-01-13 15:02:10.514 25 INFO cinder.volume.drivers.lightos [None req-26808649-5195-4dfd-94a0-ff6f88ae22f8 56b3f08d355540e69a1717d49544475a e976bcc847ca4c589f0d7fd72c61fa6c - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/2a87c9a3-abad-48a3-9c94-057f744b10dd?             request.body:  ssl_verify: False
2025-01-13 15:02:10.579 25 INFO cinder.volume.drivers.lightos [None req-26808649-5195-4dfd-94a0-ff6f88ae22f8 56b3f08d355540e69a1717d49544475a e976bcc847ca4c589f0d7fd72c61fa6c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/2a87c9a3-abad-48a3-9c94-057f744b10dd             request.body: {} ssl_verify: False
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager [None req-26808649-5195-4dfd-94a0-ff6f88ae22f8 56b3f08d355540e69a1717d49544475a e976bcc847ca4c589f0d7fd72c61fa6c - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager 
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager 
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:10.624 25 ERROR cinder.volume.manager 
2025-01-13 15:02:10.651 25 INFO cinder.volume.manager [None req-26808649-5195-4dfd-94a0-ff6f88ae22f8 56b3f08d355540e69a1717d49544475a e976bcc847ca4c589f0d7fd72c61fa6c - - - -] Deleted volume successfully.
2025-01-13 15:02:10.763 25 INFO cinder.volume.drivers.lightos [None req-bd3fd2c4-602e-47b0-a21b-05c3ca76f062 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-9a566bdc-fbc1-4140-b17c-2aaa3fde1060             request.body: {} ssl_verify: False
2025-01-13 15:02:10.824 25 INFO cinder.volume.manager [None req-bd3fd2c4-602e-47b0-a21b-05c3ca76f062 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Create snapshot completed successfully
2025-01-13 15:02:11.867 25 INFO cinder.volume.drivers.lightos [None req-6a76635b-f80e-444d-b090-f52bb545dfbf cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-9a566bdc-fbc1-4140-b17c-2aaa3fde1060             request.body: {} ssl_verify: False
2025-01-13 15:02:11.877 25 INFO cinder.volume.drivers.lightos [None req-09179ad9-91a3-46a7-b2ef-7aa383742805 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f60877a4-854e-4f68-b72b-d49081c99fee             request.body: {} ssl_verify: False
2025-01-13 15:02:11.890 25 INFO cinder.volume.drivers.lightos [None req-6a76635b-f80e-444d-b090-f52bb545dfbf cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/bd844009-c72b-4fdf-be98-c0bd8c8386cd?             request.body:  ssl_verify: False
2025-01-13 15:02:11.902 25 INFO cinder.volume.drivers.lightos [None req-09179ad9-91a3-46a7-b2ef-7aa383742805 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/dc5c38e2-761d-42e6-a258-db5db92818b0?             request.body:  ssl_verify: False
2025-01-13 15:02:11.934 25 INFO cinder.volume.drivers.lightos [None req-6a76635b-f80e-444d-b090-f52bb545dfbf cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/bd844009-c72b-4fdf-be98-c0bd8c8386cd             request.body: {} ssl_verify: False
2025-01-13 15:02:12.006 25 INFO cinder.volume.drivers.lightos [None req-09179ad9-91a3-46a7-b2ef-7aa383742805 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/dc5c38e2-761d-42e6-a258-db5db92818b0             request.body: {} ssl_verify: False
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager [None req-6a76635b-f80e-444d-b090-f52bb545dfbf cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager 
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager 
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:12.008 25 ERROR cinder.volume.manager 
2025-01-13 15:02:12.019 25 INFO cinder.volume.manager [None req-6a76635b-f80e-444d-b090-f52bb545dfbf cc781a3a5ab64eb498ad0ccd7b3f3b2f ffd3849f209d49e0ad3c5b57158ebe89 - - - -] Delete snapshot completed successfully.
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager [None req-09179ad9-91a3-46a7-b2ef-7aa383742805 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '7d0cd320-9c66-45e4-aae3-099d625b9671', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager 
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager 
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager [parameters: {'id_1': '7d0cd320-9c66-45e4-aae3-099d625b9671', 'param_1': 1}]
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:12.064 25 ERROR cinder.volume.manager 
2025-01-13 15:02:12.111 25 INFO cinder.volume.manager [None req-09179ad9-91a3-46a7-b2ef-7aa383742805 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Delete group completed successfully.
2025-01-13 15:02:13.084 25 INFO cinder.volume.manager [None req-108bd32d-e5e5-4fe3-a763-1afd0105162f 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Delete group completed successfully.
2025-01-13 15:02:13.295 25 INFO cinder.volume.drivers.lightos [None req-718c01e6-9308-4ebe-ba78-66f7a435ff0f af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-ca160e9f-2d29-4210-8481-592f5a4410bc             request.body: {} ssl_verify: False
2025-01-13 15:02:13.317 25 INFO cinder.volume.drivers.lightos [None req-718c01e6-9308-4ebe-ba78-66f7a435ff0f af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/8ab9bc58-6d99-43de-b5d7-44ff4ba62428?             request.body:  ssl_verify: False
2025-01-13 15:02:13.363 25 INFO cinder.volume.drivers.lightos [None req-718c01e6-9308-4ebe-ba78-66f7a435ff0f af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/8ab9bc58-6d99-43de-b5d7-44ff4ba62428             request.body: {} ssl_verify: False
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager [None req-718c01e6-9308-4ebe-ba78-66f7a435ff0f af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager 
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager 
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:13.414 25 ERROR cinder.volume.manager 
2025-01-13 15:02:13.426 25 INFO cinder.volume.manager [None req-718c01e6-9308-4ebe-ba78-66f7a435ff0f af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Delete snapshot completed successfully.
2025-01-13 15:02:14.468 25 INFO cinder.volume.drivers.lightos [None req-c832f137-fbdb-425b-b576-8955ce3525a7 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_1ae0a0cc-f6ed-4676-9e96-1adb87209c7b             request.body: {} ssl_verify: False
2025-01-13 15:02:14.488 25 INFO cinder.volume.drivers.lightos [None req-c832f137-fbdb-425b-b576-8955ce3525a7 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/44f91d9a-f2e4-4859-9e51-251b9ac0c9c5?             request.body:  ssl_verify: False
2025-01-13 15:02:14.519 25 INFO cinder.volume.manager [None req-d173e186-65b5-4b7e-8dc7-a21bd8e0fd53 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Group tempest-GroupsTest-Group-463127083: creating
2025-01-13 15:02:14.525 25 INFO cinder.volume.drivers.lightos [None req-c832f137-fbdb-425b-b576-8955ce3525a7 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/44f91d9a-f2e4-4859-9e51-251b9ac0c9c5             request.body: {} ssl_verify: False
2025-01-13 15:02:14.536 25 INFO cinder.volume.manager [None req-d173e186-65b5-4b7e-8dc7-a21bd8e0fd53 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Group tempest-GroupsTest-Group-463127083: created successfully
2025-01-13 15:02:14.542 25 INFO cinder.volume.manager [None req-d173e186-65b5-4b7e-8dc7-a21bd8e0fd53 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Create group completed successfully.
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager [None req-c832f137-fbdb-425b-b576-8955ce3525a7 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager 
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager 
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:14.577 25 ERROR cinder.volume.manager 
2025-01-13 15:02:14.602 25 INFO cinder.volume.manager [None req-c832f137-fbdb-425b-b576-8955ce3525a7 af50b9c8db4945b7accbc9e89d9ad729 102bbcdda9944c24963046f1b950edff - - - -] Deleted volume successfully.
2025-01-13 15:02:15.867 25 INFO cinder.volume.flows.manager.create_volume [None req-9d34e44e-8f13-4b63-bf01-17a9cbc1e39c 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Volume 605d689d-7f35-4a19-b28c-a18cbc43ba10: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_605d689d-7f35-4a19-b28c-a18cbc43ba10', 'volume_size': 1}
2025-01-13 15:02:15.867 25 INFO cinder.volume.drivers.lightos [None req-9d34e44e-8f13-4b63-bf01-17a9cbc1e39c 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_605d689d-7f35-4a19-b28c-a18cbc43ba10             request.body: {} ssl_verify: False
2025-01-13 15:02:15.883 25 INFO cinder.volume.drivers.lightos [None req-9d34e44e-8f13-4b63-bf01-17a9cbc1e39c 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_605d689d-7f35-4a19-b28c-a18cbc43ba10', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:02:15.952 25 INFO cinder.volume.drivers.lightos [None req-9d34e44e-8f13-4b63-bf01-17a9cbc1e39c 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/80076fa3-399c-4858-bc3b-bbb47bfb207c             request.body: {} ssl_verify: False
2025-01-13 15:02:16.985 25 INFO cinder.volume.drivers.lightos [None req-9d34e44e-8f13-4b63-bf01-17a9cbc1e39c 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/80076fa3-399c-4858-bc3b-bbb47bfb207c             request.body: {} ssl_verify: False
2025-01-13 15:02:17.024 25 INFO cinder.volume.flows.manager.create_volume [None req-9d34e44e-8f13-4b63-bf01-17a9cbc1e39c 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Volume vol_605d689d-7f35-4a19-b28c-a18cbc43ba10 (605d689d-7f35-4a19-b28c-a18cbc43ba10): created successfully
2025-01-13 15:02:17.033 25 INFO cinder.volume.manager [None req-9d34e44e-8f13-4b63-bf01-17a9cbc1e39c 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Created volume successfully.
2025-01-13 15:02:18.153 25 INFO cinder.volume.flows.manager.create_volume [None req-63dd716e-c9ac-4923-98a3-cc59cf44e0d9 6fe8ac2aa55f4ef09896e1d2e04f68f2 9f62c5af859a4f3db688ee62babcccc8 - - - -] Volume 88a80196-1a12-492a-afa9-bdd9a4657c83: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_88a80196-1a12-492a-afa9-bdd9a4657c83', 'volume_size': 1}
2025-01-13 15:02:18.153 25 INFO cinder.volume.drivers.lightos [None req-63dd716e-c9ac-4923-98a3-cc59cf44e0d9 6fe8ac2aa55f4ef09896e1d2e04f68f2 9f62c5af859a4f3db688ee62babcccc8 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_88a80196-1a12-492a-afa9-bdd9a4657c83             request.body: {} ssl_verify: False
2025-01-13 15:02:18.170 25 INFO cinder.volume.drivers.lightos [None req-63dd716e-c9ac-4923-98a3-cc59cf44e0d9 6fe8ac2aa55f4ef09896e1d2e04f68f2 9f62c5af859a4f3db688ee62babcccc8 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_88a80196-1a12-492a-afa9-bdd9a4657c83', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:02:18.208 25 INFO cinder.volume.drivers.lightos [None req-63dd716e-c9ac-4923-98a3-cc59cf44e0d9 6fe8ac2aa55f4ef09896e1d2e04f68f2 9f62c5af859a4f3db688ee62babcccc8 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/4f561e6c-5a0e-473c-93ec-9a4b2104e766             request.body: {} ssl_verify: False
2025-01-13 15:02:18.303 25 INFO cinder.volume.flows.manager.create_volume [None req-a597250e-7534-4be1-a28b-1ad2a8b32066 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Volume 8ddd2b76-9d58-4110-8998-d5ab0b0b9a6d: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_8ddd2b76-9d58-4110-8998-d5ab0b0b9a6d', 'volume_size': 1}
2025-01-13 15:02:18.303 25 INFO cinder.volume.drivers.lightos [None req-a597250e-7534-4be1-a28b-1ad2a8b32066 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_8ddd2b76-9d58-4110-8998-d5ab0b0b9a6d             request.body: {} ssl_verify: False
2025-01-13 15:02:18.320 25 INFO cinder.volume.drivers.lightos [None req-a597250e-7534-4be1-a28b-1ad2a8b32066 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_8ddd2b76-9d58-4110-8998-d5ab0b0b9a6d', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:02:18.365 25 INFO cinder.volume.drivers.lightos [None req-a597250e-7534-4be1-a28b-1ad2a8b32066 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/753a34b1-8919-454d-aab7-4a3654d5f6b3             request.body: {} ssl_verify: False
2025-01-13 15:02:19.251 25 INFO cinder.volume.drivers.lightos [None req-63dd716e-c9ac-4923-98a3-cc59cf44e0d9 6fe8ac2aa55f4ef09896e1d2e04f68f2 9f62c5af859a4f3db688ee62babcccc8 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/4f561e6c-5a0e-473c-93ec-9a4b2104e766             request.body: {} ssl_verify: False
2025-01-13 15:02:19.285 25 INFO cinder.volume.flows.manager.create_volume [None req-63dd716e-c9ac-4923-98a3-cc59cf44e0d9 6fe8ac2aa55f4ef09896e1d2e04f68f2 9f62c5af859a4f3db688ee62babcccc8 - - - -] Volume vol_88a80196-1a12-492a-afa9-bdd9a4657c83 (88a80196-1a12-492a-afa9-bdd9a4657c83): created successfully
2025-01-13 15:02:19.294 25 INFO cinder.volume.manager [None req-63dd716e-c9ac-4923-98a3-cc59cf44e0d9 6fe8ac2aa55f4ef09896e1d2e04f68f2 9f62c5af859a4f3db688ee62babcccc8 - - - -] Created volume successfully.
2025-01-13 15:02:19.435 25 INFO cinder.volume.drivers.lightos [None req-a597250e-7534-4be1-a28b-1ad2a8b32066 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/753a34b1-8919-454d-aab7-4a3654d5f6b3             request.body: {} ssl_verify: False
2025-01-13 15:02:19.473 25 INFO cinder.volume.flows.manager.create_volume [None req-a597250e-7534-4be1-a28b-1ad2a8b32066 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Volume vol_8ddd2b76-9d58-4110-8998-d5ab0b0b9a6d (8ddd2b76-9d58-4110-8998-d5ab0b0b9a6d): created successfully
2025-01-13 15:02:19.486 25 INFO cinder.volume.manager [None req-a597250e-7534-4be1-a28b-1ad2a8b32066 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Created volume successfully.
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server [None req-6ea242de-c00d-49f2-8b78-b6704ae237e6 6fe8ac2aa55f4ef09896e1d2e04f68f2 9f62c5af859a4f3db688ee62babcccc8 - - - -] Exception during message handling: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.deleted = false AND volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '87e4202a-6744-48a3-85c1-18076068dfb2', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server Traceback (most recent call last):
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     self.dialect.do_execute(
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     cursor.execute(statement, parameters)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     result = self._query(query)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     conn.query(q)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     result.read()
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     first_packet = self.connection._read_packet()
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     packet.raise_for_error()
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     err.raise_mysql_exception(self._data)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     raise errorclass(errno, errval)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server 
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server The above exception was the direct cause of the following exception:
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server 
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server Traceback (most recent call last):
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_messaging/rpc/server.py", line 172, in _process_incoming
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_messaging/rpc/dispatcher.py", line 309, in dispatch
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     return self._do_dispatch(endpoint, method, ctxt, args)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_messaging/rpc/dispatcher.py", line 229, in _do_dispatch
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     result = func(ctxt, **new_args)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3049, in retype
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     diff, all_equal = volume_types.volume_types_diff(
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/volume_types.py", line 419, in volume_types_diff
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     vol_type = get_volume_type(context, vol_type_id)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/volume_types.py", line 184, in get_volume_type
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     return db.volume_type_get(ctxt, id, expected_fields=expected_fields)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     return fn(*args, **kwargs)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     return _volume_type_get(
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     result = _volume_type_get_db_object(
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     .first()
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     return self._execute_internal(
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     result = conn.execute(
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     return meth(
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     return connection._execute_clauseelement(
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     ret = self._execute_context(
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     return self._exec_single_context(
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     self._handle_dbapi_exception(
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     self.dialect.do_execute(
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     cursor.execute(statement, parameters)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     result = self._query(query)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     conn.query(q)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     result.read()
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     first_packet = self.connection._read_packet()
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     packet.raise_for_error()
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     err.raise_mysql_exception(self._data)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server     raise errorclass(errno, errval)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server FROM volume_types 
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server WHERE volume_types.deleted = false AND volume_types.id = %(id_1)s 
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server [parameters: {'id_1': '87e4202a-6744-48a3-85c1-18076068dfb2', 'param_1': 1}]
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:20.531 25 ERROR oslo_messaging.rpc.server 
2025-01-13 15:02:20.552 25 INFO cinder.volume.manager [None req-e04db1f0-3a2e-41d5-83d2-9b179453258c 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Update group completed successfully.
2025-01-13 15:02:21.446 25 INFO cinder.volume.flows.manager.create_volume [None req-ff53eeca-85ec-4a4d-8eb5-d23a0a380210 361283a3345444eead63fbbb915c664c 32904db96d704b07ae4c1142a42d5a9c - - - -] Volume 31942dee-76f8-4f30-a29f-3b71bb432a36: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_31942dee-76f8-4f30-a29f-3b71bb432a36', 'volume_size': 1}
2025-01-13 15:02:21.446 25 INFO cinder.volume.drivers.lightos [None req-ff53eeca-85ec-4a4d-8eb5-d23a0a380210 361283a3345444eead63fbbb915c664c 32904db96d704b07ae4c1142a42d5a9c - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_31942dee-76f8-4f30-a29f-3b71bb432a36             request.body: {} ssl_verify: False
2025-01-13 15:02:21.461 25 INFO cinder.volume.drivers.lightos [None req-ff53eeca-85ec-4a4d-8eb5-d23a0a380210 361283a3345444eead63fbbb915c664c 32904db96d704b07ae4c1142a42d5a9c - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_31942dee-76f8-4f30-a29f-3b71bb432a36', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:02:21.500 25 INFO cinder.volume.drivers.lightos [None req-ff53eeca-85ec-4a4d-8eb5-d23a0a380210 361283a3345444eead63fbbb915c664c 32904db96d704b07ae4c1142a42d5a9c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/61a7bb71-e99b-4dd0-8668-8f0f7f72e7f8             request.body: {} ssl_verify: False
2025-01-13 15:02:21.891 25 INFO cinder.volume.manager [None req-49f25c79-e2ae-4db6-aba1-0ffb992f05ed 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Update group completed successfully.
2025-01-13 15:02:22.567 25 INFO cinder.volume.drivers.lightos [None req-ff53eeca-85ec-4a4d-8eb5-d23a0a380210 361283a3345444eead63fbbb915c664c 32904db96d704b07ae4c1142a42d5a9c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/61a7bb71-e99b-4dd0-8668-8f0f7f72e7f8             request.body: {} ssl_verify: False
2025-01-13 15:02:22.603 25 INFO cinder.volume.flows.manager.create_volume [None req-ff53eeca-85ec-4a4d-8eb5-d23a0a380210 361283a3345444eead63fbbb915c664c 32904db96d704b07ae4c1142a42d5a9c - - - -] Volume vol_31942dee-76f8-4f30-a29f-3b71bb432a36 (31942dee-76f8-4f30-a29f-3b71bb432a36): created successfully
2025-01-13 15:02:22.615 25 INFO cinder.volume.manager [None req-ff53eeca-85ec-4a4d-8eb5-d23a0a380210 361283a3345444eead63fbbb915c664c 32904db96d704b07ae4c1142a42d5a9c - - - -] Created volume successfully.
2025-01-13 15:02:23.263 25 INFO cinder.volume.drivers.lightos [None req-03312299-f4ac-4168-9bc1-acd976928f06 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_605d689d-7f35-4a19-b28c-a18cbc43ba10             request.body: {} ssl_verify: False
2025-01-13 15:02:23.301 25 INFO cinder.volume.drivers.lightos [None req-03312299-f4ac-4168-9bc1-acd976928f06 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/80076fa3-399c-4858-bc3b-bbb47bfb207c?             request.body:  ssl_verify: False
2025-01-13 15:02:23.360 25 INFO cinder.volume.drivers.lightos [None req-03312299-f4ac-4168-9bc1-acd976928f06 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/80076fa3-399c-4858-bc3b-bbb47bfb207c             request.body: {} ssl_verify: False
2025-01-13 15:02:23.420 25 INFO cinder.volume.drivers.lightos [None req-03312299-f4ac-4168-9bc1-acd976928f06 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_8ddd2b76-9d58-4110-8998-d5ab0b0b9a6d             request.body: {} ssl_verify: False
2025-01-13 15:02:23.442 25 INFO cinder.volume.drivers.lightos [None req-03312299-f4ac-4168-9bc1-acd976928f06 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/753a34b1-8919-454d-aab7-4a3654d5f6b3?             request.body:  ssl_verify: False
2025-01-13 15:02:23.515 25 INFO cinder.volume.drivers.lightos [None req-03312299-f4ac-4168-9bc1-acd976928f06 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/753a34b1-8919-454d-aab7-4a3654d5f6b3             request.body: {} ssl_verify: False
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager [None req-03312299-f4ac-4168-9bc1-acd976928f06 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '670e5ba3-ec21-4c6d-9ce9-d707948df237', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager 
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager 
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager [parameters: {'id_1': '670e5ba3-ec21-4c6d-9ce9-d707948df237', 'param_1': 1}]
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:23.658 25 ERROR cinder.volume.manager 
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager [None req-03312299-f4ac-4168-9bc1-acd976928f06 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '670e5ba3-ec21-4c6d-9ce9-d707948df237', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager 
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager 
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager [parameters: {'id_1': '670e5ba3-ec21-4c6d-9ce9-d707948df237', 'param_1': 1}]
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:23.676 25 ERROR cinder.volume.manager 
2025-01-13 15:02:23.728 25 INFO cinder.volume.manager [None req-03312299-f4ac-4168-9bc1-acd976928f06 01f89a1e25294b9d9ba2eb917bb57313 b3e0e67ad96844eeaeace59b2201b672 - - - -] Delete group completed successfully.
2025-01-13 15:02:24.482 25 INFO cinder.volume.drivers.lightos [None req-83dd944d-0ce5-4cf6-a3bf-5907b815989a 361283a3345444eead63fbbb915c664c 32904db96d704b07ae4c1142a42d5a9c - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_31942dee-76f8-4f30-a29f-3b71bb432a36             request.body: {} ssl_verify: False
2025-01-13 15:02:24.504 25 INFO cinder.volume.drivers.lightos [None req-83dd944d-0ce5-4cf6-a3bf-5907b815989a 361283a3345444eead63fbbb915c664c 32904db96d704b07ae4c1142a42d5a9c - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/61a7bb71-e99b-4dd0-8668-8f0f7f72e7f8?             request.body:  ssl_verify: False
2025-01-13 15:02:24.546 25 INFO cinder.volume.drivers.lightos [None req-83dd944d-0ce5-4cf6-a3bf-5907b815989a 361283a3345444eead63fbbb915c664c 32904db96d704b07ae4c1142a42d5a9c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/61a7bb71-e99b-4dd0-8668-8f0f7f72e7f8             request.body: {} ssl_verify: False
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager [None req-83dd944d-0ce5-4cf6-a3bf-5907b815989a 361283a3345444eead63fbbb915c664c 32904db96d704b07ae4c1142a42d5a9c - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager 
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager 
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:24.591 25 ERROR cinder.volume.manager 
2025-01-13 15:02:24.622 25 INFO cinder.volume.manager [None req-83dd944d-0ce5-4cf6-a3bf-5907b815989a 361283a3345444eead63fbbb915c664c 32904db96d704b07ae4c1142a42d5a9c - - - -] Deleted volume successfully.
2025-01-13 15:02:30.644 25 INFO cinder.volume.manager [None req-d2891af5-d87c-491c-87ca-9432ad573a12 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Group tempest-GroupsV314Test-Group-1505597887: creating
2025-01-13 15:02:30.658 25 INFO cinder.volume.manager [None req-d2891af5-d87c-491c-87ca-9432ad573a12 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Group tempest-GroupsV314Test-Group-1505597887: created successfully
2025-01-13 15:02:30.669 25 INFO cinder.volume.manager [None req-d2891af5-d87c-491c-87ca-9432ad573a12 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Create group completed successfully.
2025-01-13 15:02:31.727 25 INFO cinder.volume.flows.manager.create_volume [None req-bed5fef0-6a91-4aef-921e-084184964b3f 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Volume 0ed4ae33-b003-4b1c-9a2e-c027ef3ee47e: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_0ed4ae33-b003-4b1c-9a2e-c027ef3ee47e', 'volume_size': 1}
2025-01-13 15:02:31.728 25 INFO cinder.volume.drivers.lightos [None req-bed5fef0-6a91-4aef-921e-084184964b3f 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_0ed4ae33-b003-4b1c-9a2e-c027ef3ee47e             request.body: {} ssl_verify: False
2025-01-13 15:02:31.743 25 INFO cinder.volume.drivers.lightos [None req-bed5fef0-6a91-4aef-921e-084184964b3f 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_0ed4ae33-b003-4b1c-9a2e-c027ef3ee47e', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:02:31.776 25 INFO cinder.volume.drivers.lightos [None req-bed5fef0-6a91-4aef-921e-084184964b3f 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/7858049e-57ee-40c9-8d85-31abf350d2e6             request.body: {} ssl_verify: False
2025-01-13 15:02:32.061 25 INFO cinder.volume.flows.manager.create_volume [None req-511e6047-080e-474c-bc06-787a2a58981a be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Volume 71ba7482-4408-4060-a3ec-e70724317258: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_71ba7482-4408-4060-a3ec-e70724317258', 'volume_size': 1}
2025-01-13 15:02:32.061 25 INFO cinder.volume.drivers.lightos [None req-511e6047-080e-474c-bc06-787a2a58981a be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_71ba7482-4408-4060-a3ec-e70724317258             request.body: {} ssl_verify: False
2025-01-13 15:02:32.076 25 INFO cinder.volume.drivers.lightos [None req-511e6047-080e-474c-bc06-787a2a58981a be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_71ba7482-4408-4060-a3ec-e70724317258', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:02:32.113 25 INFO cinder.volume.drivers.lightos [None req-511e6047-080e-474c-bc06-787a2a58981a be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/eb3a011b-1e09-4d1b-a684-e8bdddb60d03             request.body: {} ssl_verify: False
2025-01-13 15:02:32.807 25 INFO cinder.volume.drivers.lightos [None req-bed5fef0-6a91-4aef-921e-084184964b3f 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/7858049e-57ee-40c9-8d85-31abf350d2e6             request.body: {} ssl_verify: False
2025-01-13 15:02:32.844 25 INFO cinder.volume.flows.manager.create_volume [None req-bed5fef0-6a91-4aef-921e-084184964b3f 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Volume vol_0ed4ae33-b003-4b1c-9a2e-c027ef3ee47e (0ed4ae33-b003-4b1c-9a2e-c027ef3ee47e): created successfully
2025-01-13 15:02:32.853 25 INFO cinder.volume.manager [None req-bed5fef0-6a91-4aef-921e-084184964b3f 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Created volume successfully.
2025-01-13 15:02:33.151 25 INFO cinder.volume.drivers.lightos [None req-511e6047-080e-474c-bc06-787a2a58981a be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/eb3a011b-1e09-4d1b-a684-e8bdddb60d03             request.body: {} ssl_verify: False
2025-01-13 15:02:33.187 25 INFO cinder.volume.flows.manager.create_volume [None req-511e6047-080e-474c-bc06-787a2a58981a be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Volume vol_71ba7482-4408-4060-a3ec-e70724317258 (71ba7482-4408-4060-a3ec-e70724317258): created successfully
2025-01-13 15:02:33.198 25 INFO cinder.volume.manager [None req-511e6047-080e-474c-bc06-787a2a58981a be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Created volume successfully.
2025-01-13 15:02:34.024 25 INFO cinder.volume.drivers.lightos [None req-e7e1d41d-5968-4f90-9afb-e76d3408ac74 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-7995a323-21b5-4c1d-8d13-5a654dfed0b2             request.body: {} ssl_verify: False
2025-01-13 15:02:34.039 25 INFO cinder.volume.drivers.lightos [None req-e7e1d41d-5968-4f90-9afb-e76d3408ac74 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-7995a323-21b5-4c1d-8d13-5a654dfed0b2', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_0ed4ae33-b003-4b1c-9a2e-c027ef3ee47e'} ssl_verify: False
2025-01-13 15:02:34.097 25 INFO cinder.volume.drivers.lightos [None req-e7e1d41d-5968-4f90-9afb-e76d3408ac74 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-7995a323-21b5-4c1d-8d13-5a654dfed0b2             request.body: {} ssl_verify: False
2025-01-13 15:02:35.145 25 INFO cinder.volume.drivers.lightos [None req-b23de5bc-e482-4782-a06a-80d24f1255d5 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_fb3c8ff5-b9ae-4aea-8d7d-f6c40ea51a25             request.body: {} ssl_verify: False
2025-01-13 15:02:35.162 25 INFO cinder.volume.drivers.lightos [None req-b23de5bc-e482-4782-a06a-80d24f1255d5 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'for_clone_fb3c8ff5-b9ae-4aea-8d7d-f6c40ea51a25', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_71ba7482-4408-4060-a3ec-e70724317258'} ssl_verify: False
2025-01-13 15:02:35.196 25 INFO cinder.volume.drivers.lightos [None req-e7e1d41d-5968-4f90-9afb-e76d3408ac74 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-7995a323-21b5-4c1d-8d13-5a654dfed0b2             request.body: {} ssl_verify: False
2025-01-13 15:02:35.246 25 INFO cinder.volume.drivers.lightos [None req-b23de5bc-e482-4782-a06a-80d24f1255d5 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_fb3c8ff5-b9ae-4aea-8d7d-f6c40ea51a25             request.body: {} ssl_verify: False
2025-01-13 15:02:35.293 25 INFO cinder.volume.manager [None req-e7e1d41d-5968-4f90-9afb-e76d3408ac74 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Create snapshot completed successfully
2025-01-13 15:02:36.334 25 INFO cinder.volume.drivers.lightos [None req-b23de5bc-e482-4782-a06a-80d24f1255d5 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_fb3c8ff5-b9ae-4aea-8d7d-f6c40ea51a25             request.body: {} ssl_verify: False
2025-01-13 15:02:36.356 25 INFO cinder.volume.drivers.lightos [None req-b23de5bc-e482-4782-a06a-80d24f1255d5 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_fb3c8ff5-b9ae-4aea-8d7d-f6c40ea51a25             request.body: {} ssl_verify: False
2025-01-13 15:02:36.374 25 INFO cinder.volume.drivers.lightos [None req-b23de5bc-e482-4782-a06a-80d24f1255d5 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_fb3c8ff5-b9ae-4aea-8d7d-f6c40ea51a25', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': 'for_clone_fb3c8ff5-b9ae-4aea-8d7d-f6c40ea51a25'} ssl_verify: False
2025-01-13 15:02:36.407 25 INFO cinder.volume.drivers.lightos [None req-b23de5bc-e482-4782-a06a-80d24f1255d5 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/17990f62-c941-43de-8d75-3cef0432aeb2             request.body: {} ssl_verify: False
2025-01-13 15:02:36.576 25 INFO cinder.volume.drivers.lightos [None req-78c305f0-52d7-4446-8eb4-5e81f33cfe00 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-7995a323-21b5-4c1d-8d13-5a654dfed0b2             request.body: {} ssl_verify: False
2025-01-13 15:02:36.594 25 INFO cinder.volume.drivers.lightos [None req-78c305f0-52d7-4446-8eb4-5e81f33cfe00 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/79761525-e351-40f4-812a-54fa4c0e7c0d?             request.body:  ssl_verify: False
2025-01-13 15:02:36.651 25 INFO cinder.volume.drivers.lightos [None req-78c305f0-52d7-4446-8eb4-5e81f33cfe00 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/79761525-e351-40f4-812a-54fa4c0e7c0d             request.body: {} ssl_verify: False
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager [None req-78c305f0-52d7-4446-8eb4-5e81f33cfe00 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager 
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager 
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:36.687 25 ERROR cinder.volume.manager 
2025-01-13 15:02:36.700 25 INFO cinder.volume.manager [None req-78c305f0-52d7-4446-8eb4-5e81f33cfe00 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Delete snapshot completed successfully.
2025-01-13 15:02:37.476 25 INFO cinder.volume.drivers.lightos [None req-b23de5bc-e482-4782-a06a-80d24f1255d5 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/17990f62-c941-43de-8d75-3cef0432aeb2             request.body: {} ssl_verify: False
2025-01-13 15:02:37.499 25 INFO cinder.volume.drivers.lightos [None req-b23de5bc-e482-4782-a06a-80d24f1255d5 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_fb3c8ff5-b9ae-4aea-8d7d-f6c40ea51a25             request.body: {} ssl_verify: False
2025-01-13 15:02:37.519 25 INFO cinder.volume.drivers.lightos [None req-b23de5bc-e482-4782-a06a-80d24f1255d5 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/45e29783-3a84-49ac-933c-296ef754960a?             request.body:  ssl_verify: False
2025-01-13 15:02:37.566 25 INFO cinder.volume.drivers.lightos [None req-b23de5bc-e482-4782-a06a-80d24f1255d5 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/45e29783-3a84-49ac-933c-296ef754960a             request.body: {} ssl_verify: False
2025-01-13 15:02:37.655 25 INFO cinder.volume.manager [None req-b23de5bc-e482-4782-a06a-80d24f1255d5 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Create group from source-group-40d5f316-d8cd-4834-b12a-f2220e368d5f completed successfully.
2025-01-13 15:02:37.786 25 INFO cinder.volume.drivers.lightos [None req-9b087b9e-a931-4f21-b21a-232ef93c3d1f 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_0ed4ae33-b003-4b1c-9a2e-c027ef3ee47e             request.body: {} ssl_verify: False
2025-01-13 15:02:37.811 25 INFO cinder.volume.drivers.lightos [None req-9b087b9e-a931-4f21-b21a-232ef93c3d1f 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/7858049e-57ee-40c9-8d85-31abf350d2e6?             request.body:  ssl_verify: False
2025-01-13 15:02:37.869 25 INFO cinder.volume.drivers.lightos [None req-9b087b9e-a931-4f21-b21a-232ef93c3d1f 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/7858049e-57ee-40c9-8d85-31abf350d2e6             request.body: {} ssl_verify: False
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager [None req-9b087b9e-a931-4f21-b21a-232ef93c3d1f 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager 
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager 
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:37.944 25 ERROR cinder.volume.manager 
2025-01-13 15:02:37.975 25 INFO cinder.volume.manager [None req-9b087b9e-a931-4f21-b21a-232ef93c3d1f 931b08e7d2564ba0aadff8ff04617c0c 76953bc52e04436d8e4e774ce863e10c - - - -] Deleted volume successfully.
2025-01-13 15:02:38.805 25 INFO cinder.volume.drivers.lightos [None req-d0a4f25b-b4da-458e-b4db-031218027cf6 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_fb3c8ff5-b9ae-4aea-8d7d-f6c40ea51a25             request.body: {} ssl_verify: False
2025-01-13 15:02:38.821 25 INFO cinder.volume.drivers.lightos [None req-d0a4f25b-b4da-458e-b4db-031218027cf6 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/17990f62-c941-43de-8d75-3cef0432aeb2?             request.body:  ssl_verify: False
2025-01-13 15:02:38.859 25 INFO cinder.volume.drivers.lightos [None req-d0a4f25b-b4da-458e-b4db-031218027cf6 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/17990f62-c941-43de-8d75-3cef0432aeb2             request.body: {} ssl_verify: False
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager [None req-d0a4f25b-b4da-458e-b4db-031218027cf6 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': 'cc1081fb-85b0-4ebf-a701-e133321935df', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager 
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager 
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager [parameters: {'id_1': 'cc1081fb-85b0-4ebf-a701-e133321935df', 'param_1': 1}]
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:38.971 25 ERROR cinder.volume.manager 
2025-01-13 15:02:39.022 25 INFO cinder.volume.manager [None req-d0a4f25b-b4da-458e-b4db-031218027cf6 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Delete group completed successfully.
2025-01-13 15:02:40.109 25 INFO cinder.volume.drivers.lightos [None req-2f3939be-ee25-4ffb-be32-6c91604dc553 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_71ba7482-4408-4060-a3ec-e70724317258             request.body: {} ssl_verify: False
2025-01-13 15:02:40.127 25 INFO cinder.volume.drivers.lightos [None req-2f3939be-ee25-4ffb-be32-6c91604dc553 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/eb3a011b-1e09-4d1b-a684-e8bdddb60d03?             request.body:  ssl_verify: False
2025-01-13 15:02:40.157 25 INFO cinder.volume.drivers.lightos [None req-2f3939be-ee25-4ffb-be32-6c91604dc553 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/eb3a011b-1e09-4d1b-a684-e8bdddb60d03             request.body: {} ssl_verify: False
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager [None req-2f3939be-ee25-4ffb-be32-6c91604dc553 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': 'cc1081fb-85b0-4ebf-a701-e133321935df', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager 
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager 
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager [parameters: {'id_1': 'cc1081fb-85b0-4ebf-a701-e133321935df', 'param_1': 1}]
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:02:40.272 25 ERROR cinder.volume.manager 
2025-01-13 15:02:40.321 25 INFO cinder.volume.manager [None req-2f3939be-ee25-4ffb-be32-6c91604dc553 be1d5e3efaca45deac0948d879983ac1 99721e25f87e455e907b5f7b8911ee2c - - - -] Delete group completed successfully.
2025-01-13 15:02:52.293 25 INFO cinder.volume.flows.manager.create_volume [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Volume 2b90e8bc-eaab-4737-be97-f6cd22c50944: being created as image with specification: {'status': 'creating', 'volume_name': 'vol_2b90e8bc-eaab-4737-be97-f6cd22c50944', 'volume_size': 1, 'image_id': '4750b270-4234-4361-8332-29002e5eea4e', 'image_location': (None, None), 'image_meta': {'name': 'cirros', 'disk_format': 'qcow2', 'container_format': 'bare', 'visibility': 'public', 'size': 12716032, 'virtual_size': 46137344, 'status': 'active', 'checksum': '443b7623e27ecf03dc9e01ee93f67afe', 'protected': False, 'min_ram': 0, 'min_disk': 0, 'owner': '0eac1ff84c4b4af5a7e389a9fdfa4f07', 'os_hidden': False, 'os_hash_algo': 'sha512', 'os_hash_value': '6513f21e44aa3da349f248188a44bc304a3653a04122d8fb4535423c8e1d14cd6a153f735bb0982e2161b5b5186106570c17a9e58b64dd39390617cd5a350f78', 'id': '4750b270-4234-4361-8332-29002e5eea4e', 'created_at': datetime.datetime(2025, 1, 13, 12, 10, 20, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 1, 13, 12, 10, 20, tzinfo=datetime.timezone.utc), 'tags': [], 'file': '/v2/images/4750b270-4234-4361-8332-29002e5eea4e/file', 'stores': 'file', 'properties': {'owner_specified.openstack.md5': '', 'owner_specified.openstack.sha256': '', 'owner_specified.openstack.object': 'images/cirros'}}, 'image_service': <cinder.image.glance.GlanceImageService object at 0x7f0bc1be58d0>}
2025-01-13 15:02:53.440 25 INFO cinder.image.image_utils [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Image download 12.13 MB at 10.58 MB/s
2025-01-13 15:02:53.474 25 INFO oslo.privsep.daemon [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Running privsep helper: ['sudo', 'cinder-rootwrap', '/etc/cinder/rootwrap.conf', 'privsep-helper', '--config-file', '/etc/cinder/cinder.conf', '--privsep_context', 'cinder.privsep.sys_admin_pctxt', '--privsep_sock_path', '/tmp/tmpgu1f78a2/privsep.sock']
2025-01-13 15:02:54.125 25 INFO oslo.privsep.daemon [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Spawned new privsep daemon via rootwrap
2025-01-13 15:02:54.018 100 INFO oslo.privsep.daemon [-] privsep daemon starting
2025-01-13 15:02:54.026 100 INFO oslo.privsep.daemon [-] privsep process running with uid/gid: 0/0
2025-01-13 15:02:54.029 100 INFO oslo.privsep.daemon [-] privsep process running with capabilities (eff/prm/inh): CAP_CHOWN|CAP_DAC_OVERRIDE|CAP_DAC_READ_SEARCH|CAP_FOWNER|CAP_NET_ADMIN|CAP_SYS_ADMIN/CAP_CHOWN|CAP_DAC_OVERRIDE|CAP_DAC_READ_SEARCH|CAP_FOWNER|CAP_NET_ADMIN|CAP_SYS_ADMIN/none
2025-01-13 15:02:54.029 100 INFO oslo.privsep.daemon [-] privsep daemon running as pid 100
2025-01-13 15:02:54.781 25 INFO cinder.volume.drivers.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_2b90e8bc-eaab-4737-be97-f6cd22c50944             request.body: {} ssl_verify: False
2025-01-13 15:02:54.806 25 INFO cinder.volume.drivers.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_2b90e8bc-eaab-4737-be97-f6cd22c50944', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:02:54.839 25 INFO cinder.volume.drivers.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/72e1570a-8951-4a58-aef1-a8d527a78d1a             request.body: {} ssl_verify: False
2025-01-13 15:02:55.880 25 INFO cinder.volume.drivers.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/72e1570a-8951-4a58-aef1-a8d527a78d1a             request.body: {} ssl_verify: False
2025-01-13 15:02:55.922 25 INFO oslo.privsep.daemon [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Running privsep helper: ['sudo', '-E', 'cinder-rootwrap', '/etc/cinder/rootwrap.conf', 'privsep-helper', '--config-file', '/etc/cinder/cinder.conf', '--privsep_context', 'os_brick.privileged.default', '--privsep_sock_path', '/tmp/tmp911w1tv_/privsep.sock']
2025-01-13 15:02:56.365 25 INFO oslo.privsep.daemon [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Spawned new privsep daemon via rootwrap
2025-01-13 15:02:56.286 115 INFO oslo.privsep.daemon [-] privsep daemon starting
2025-01-13 15:02:56.293 115 INFO oslo.privsep.daemon [-] privsep process running with uid/gid: 0/0
2025-01-13 15:02:56.296 115 INFO oslo.privsep.daemon [-] privsep process running with capabilities (eff/prm/inh): CAP_DAC_READ_SEARCH|CAP_SYS_ADMIN/CAP_DAC_READ_SEARCH|CAP_SYS_ADMIN/none
2025-01-13 15:02:56.297 115 INFO oslo.privsep.daemon [-] privsep daemon running as pid 115
2025-01-13 15:02:56.515 25 INFO os_brick.initiator.connectors.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Current host hostNQN nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc and IP(s) are ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', 'fe80::4099:911b:7117:6464'] 
2025-01-13 15:02:56.516 25 INFO cinder.volume.drivers.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Current host hostNQN is nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc and IP(s) are ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', 'fe80::4099:911b:7117:6464']
2025-01-13 15:02:56.517 25 INFO cinder.volume.drivers.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_2b90e8bc-eaab-4737-be97-f6cd22c50944             request.body: {} ssl_verify: False
2025-01-13 15:02:56.538 25 INFO cinder.volume.drivers.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Invoking update_volume using PUT url: /api/v2/projects/default/volumes/72e1570a-8951-4a58-aef1-a8d527a78d1a             request.body: {'acl': {'values': ['nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc']}, 'IPAcl': {'values': ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fe80::4099:911b:7117:6464', 'fd00::a:13:2c:7']}} ssl_verify: False
2025-01-13 15:02:56.575 25 INFO cinder.volume.drivers.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_2b90e8bc-eaab-4737-be97-f6cd22c50944             request.body: {} ssl_verify: False
2025-01-13 15:02:57.613 25 INFO cinder.volume.drivers.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_2b90e8bc-eaab-4737-be97-f6cd22c50944             request.body: {} ssl_verify: False
2025-01-13 15:02:57.635 25 INFO cinder.volume.drivers.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_2b90e8bc-eaab-4737-be97-f6cd22c50944             request.body: {} ssl_verify: False
2025-01-13 15:02:57.654 25 INFO cinder.volume.drivers.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_2b90e8bc-eaab-4737-be97-f6cd22c50944             request.body: {} ssl_verify: False
2025-01-13 15:02:57.677 25 INFO os_brick.initiator.connectors.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] LIGHTOS: connect_volume called for volume 72e1570a-8951-4a58-aef1-a8d527a78d1a, connection properties: {'lightos_nodes': {'[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}, '[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}, '[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}}, 'uuid': '72e1570a-8951-4a58-aef1-a8d527a78d1a', 'subsysnqn': 'nqn.2016-01.com.lightbitslabs:uuid:ed93b30a-10c9-4020-b8d0-0edc696e5120:suffix', 'encrypted': False}
2025-01-13 15:02:57.707 25 INFO os_brick.initiator.connectors.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] LIGHTOS: devpath /dev/nvme0n1 detected for uuid 72e1570a-8951-4a58-aef1-a8d527a78d1a
2025-01-13 15:02:59.767 25 INFO cinder.image.image_utils [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Converted 44.00 MB image at 44.00 MB/s
2025-01-13 15:02:59.771 25 INFO os_brick.initiator.connectors.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] LIGHTOS: devpath /dev/nvme0n1 detected for uuid 72e1570a-8951-4a58-aef1-a8d527a78d1a
2025-01-13 15:02:59.781 25 INFO cinder.volume.drivers.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_2b90e8bc-eaab-4737-be97-f6cd22c50944             request.body: {} ssl_verify: False
2025-01-13 15:02:59.805 25 INFO cinder.volume.drivers.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Invoking update_volume using PUT url: /api/v2/projects/default/volumes/72e1570a-8951-4a58-aef1-a8d527a78d1a             request.body: {'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}} ssl_verify: False
2025-01-13 15:02:59.869 25 INFO cinder.volume.drivers.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_2b90e8bc-eaab-4737-be97-f6cd22c50944             request.body: {} ssl_verify: False
2025-01-13 15:03:00.153 25 INFO cinder.volume.flows.manager.create_volume [None req-cf33095b-5ada-4532-b43e-959730af7cdf ef89f36ea8694f4287a7055511aa34ae fd4e50fd0b32455dac79ee0245780e9f - - - -] Volume 15ea5b1d-6db0-4173-ba8c-c986af03e03a: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_15ea5b1d-6db0-4173-ba8c-c986af03e03a', 'volume_size': 1}
2025-01-13 15:03:00.153 25 INFO cinder.volume.drivers.lightos [None req-cf33095b-5ada-4532-b43e-959730af7cdf ef89f36ea8694f4287a7055511aa34ae fd4e50fd0b32455dac79ee0245780e9f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_15ea5b1d-6db0-4173-ba8c-c986af03e03a             request.body: {} ssl_verify: False
2025-01-13 15:03:00.170 25 INFO cinder.volume.drivers.lightos [None req-cf33095b-5ada-4532-b43e-959730af7cdf ef89f36ea8694f4287a7055511aa34ae fd4e50fd0b32455dac79ee0245780e9f - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_15ea5b1d-6db0-4173-ba8c-c986af03e03a', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:03:00.205 25 INFO cinder.volume.drivers.lightos [None req-cf33095b-5ada-4532-b43e-959730af7cdf ef89f36ea8694f4287a7055511aa34ae fd4e50fd0b32455dac79ee0245780e9f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/db1b1c14-142c-4095-a291-e113b331009b             request.body: {} ssl_verify: False
2025-01-13 15:03:00.896 25 INFO cinder.volume.drivers.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_2b90e8bc-eaab-4737-be97-f6cd22c50944             request.body: {} ssl_verify: False
2025-01-13 15:03:00.917 25 INFO cinder.volume.drivers.lightos [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_2b90e8bc-eaab-4737-be97-f6cd22c50944             request.body: {} ssl_verify: False
2025-01-13 15:03:01.005 25 INFO cinder.volume.flows.manager.create_volume [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Volume vol_2b90e8bc-eaab-4737-be97-f6cd22c50944 (2b90e8bc-eaab-4737-be97-f6cd22c50944): created successfully
2025-01-13 15:03:01.014 25 INFO cinder.volume.manager [None req-e9a11a06-6f04-4179-890b-bbc83848590d f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Created volume successfully.
2025-01-13 15:03:01.246 25 INFO cinder.volume.drivers.lightos [None req-cf33095b-5ada-4532-b43e-959730af7cdf ef89f36ea8694f4287a7055511aa34ae fd4e50fd0b32455dac79ee0245780e9f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/db1b1c14-142c-4095-a291-e113b331009b             request.body: {} ssl_verify: False
2025-01-13 15:03:01.288 25 INFO cinder.volume.flows.manager.create_volume [None req-cf33095b-5ada-4532-b43e-959730af7cdf ef89f36ea8694f4287a7055511aa34ae fd4e50fd0b32455dac79ee0245780e9f - - - -] Volume vol_15ea5b1d-6db0-4173-ba8c-c986af03e03a (15ea5b1d-6db0-4173-ba8c-c986af03e03a): created successfully
2025-01-13 15:03:01.298 25 INFO cinder.volume.manager [None req-cf33095b-5ada-4532-b43e-959730af7cdf ef89f36ea8694f4287a7055511aa34ae fd4e50fd0b32455dac79ee0245780e9f - - - -] Created volume successfully.
2025-01-13 15:03:02.170 25 INFO cinder.volume.drivers.lightos [None req-77b53c70-7453-493e-89bd-cc75af9e1fc3 f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_2b90e8bc-eaab-4737-be97-f6cd22c50944             request.body: {} ssl_verify: False
2025-01-13 15:03:02.191 25 INFO cinder.volume.drivers.lightos [None req-77b53c70-7453-493e-89bd-cc75af9e1fc3 f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/72e1570a-8951-4a58-aef1-a8d527a78d1a?             request.body:  ssl_verify: False
2025-01-13 15:03:02.246 25 INFO cinder.volume.drivers.lightos [None req-77b53c70-7453-493e-89bd-cc75af9e1fc3 f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/72e1570a-8951-4a58-aef1-a8d527a78d1a             request.body: {} ssl_verify: False
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager [None req-77b53c70-7453-493e-89bd-cc75af9e1fc3 f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager 
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager 
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:02.311 25 ERROR cinder.volume.manager 
2025-01-13 15:03:02.342 25 INFO cinder.volume.manager [None req-77b53c70-7453-493e-89bd-cc75af9e1fc3 f41b06c2a5fc4c26b6aa83f1b916f30a 2670dc3e6b484e038ddf62acffd41b3d - - - -] Deleted volume successfully.
2025-01-13 15:03:02.477 25 INFO cinder.volume.drivers.lightos [None req-228136a1-fe5b-4c27-8112-10f96dd4f0c0 ef89f36ea8694f4287a7055511aa34ae fd4e50fd0b32455dac79ee0245780e9f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_15ea5b1d-6db0-4173-ba8c-c986af03e03a             request.body: {} ssl_verify: False
2025-01-13 15:03:02.497 25 INFO cinder.volume.drivers.lightos [None req-228136a1-fe5b-4c27-8112-10f96dd4f0c0 ef89f36ea8694f4287a7055511aa34ae fd4e50fd0b32455dac79ee0245780e9f - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/db1b1c14-142c-4095-a291-e113b331009b?             request.body:  ssl_verify: False
2025-01-13 15:03:02.538 25 INFO cinder.volume.drivers.lightos [None req-228136a1-fe5b-4c27-8112-10f96dd4f0c0 ef89f36ea8694f4287a7055511aa34ae fd4e50fd0b32455dac79ee0245780e9f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/db1b1c14-142c-4095-a291-e113b331009b             request.body: {} ssl_verify: False
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager [None req-228136a1-fe5b-4c27-8112-10f96dd4f0c0 ef89f36ea8694f4287a7055511aa34ae fd4e50fd0b32455dac79ee0245780e9f - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager 
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager 
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:02.628 25 ERROR cinder.volume.manager 
2025-01-13 15:03:02.656 25 INFO cinder.volume.manager [None req-228136a1-fe5b-4c27-8112-10f96dd4f0c0 ef89f36ea8694f4287a7055511aa34ae fd4e50fd0b32455dac79ee0245780e9f - - - -] Deleted volume successfully.
2025-01-13 15:03:06.920 25 INFO cinder.volume.flows.manager.create_volume [None req-5822c1d1-3395-491c-8ff3-814d4399e4ed 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Volume 81d4b8cc-b995-4469-8707-1958848341e6: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_81d4b8cc-b995-4469-8707-1958848341e6', 'volume_size': 1}
2025-01-13 15:03:06.920 25 INFO cinder.volume.drivers.lightos [None req-5822c1d1-3395-491c-8ff3-814d4399e4ed 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_81d4b8cc-b995-4469-8707-1958848341e6             request.body: {} ssl_verify: False
2025-01-13 15:03:06.938 25 INFO cinder.volume.drivers.lightos [None req-5822c1d1-3395-491c-8ff3-814d4399e4ed 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_81d4b8cc-b995-4469-8707-1958848341e6', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:03:06.993 25 INFO cinder.volume.drivers.lightos [None req-5822c1d1-3395-491c-8ff3-814d4399e4ed 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/72b9373f-c01d-4996-a560-c26e062be248             request.body: {} ssl_verify: False
2025-01-13 15:03:08.051 25 INFO cinder.volume.drivers.lightos [None req-5822c1d1-3395-491c-8ff3-814d4399e4ed 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/72b9373f-c01d-4996-a560-c26e062be248             request.body: {} ssl_verify: False
2025-01-13 15:03:08.090 25 INFO cinder.volume.flows.manager.create_volume [None req-5822c1d1-3395-491c-8ff3-814d4399e4ed 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Volume vol_81d4b8cc-b995-4469-8707-1958848341e6 (81d4b8cc-b995-4469-8707-1958848341e6): created successfully
2025-01-13 15:03:08.099 25 INFO cinder.volume.manager [None req-5822c1d1-3395-491c-8ff3-814d4399e4ed 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Created volume successfully.
2025-01-13 15:03:09.234 25 INFO cinder.volume.drivers.lightos [None req-994bb481-a5ea-461c-a4e6-ad783544d40b 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-900071e2-6dab-4ad9-a16d-b712a643d870             request.body: {} ssl_verify: False
2025-01-13 15:03:09.251 25 INFO cinder.volume.drivers.lightos [None req-994bb481-a5ea-461c-a4e6-ad783544d40b 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-900071e2-6dab-4ad9-a16d-b712a643d870', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_81d4b8cc-b995-4469-8707-1958848341e6'} ssl_verify: False
2025-01-13 15:03:09.291 25 INFO cinder.volume.drivers.lightos [None req-994bb481-a5ea-461c-a4e6-ad783544d40b 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-900071e2-6dab-4ad9-a16d-b712a643d870             request.body: {} ssl_verify: False
2025-01-13 15:03:10.412 25 INFO cinder.volume.drivers.lightos [None req-994bb481-a5ea-461c-a4e6-ad783544d40b 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-900071e2-6dab-4ad9-a16d-b712a643d870             request.body: {} ssl_verify: False
2025-01-13 15:03:10.460 25 INFO cinder.volume.manager [None req-994bb481-a5ea-461c-a4e6-ad783544d40b 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Create snapshot completed successfully
2025-01-13 15:03:11.904 25 INFO cinder.volume.drivers.lightos [None req-c423645f-a02e-459f-9823-42ffe533b0c1 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-900071e2-6dab-4ad9-a16d-b712a643d870             request.body: {} ssl_verify: False
2025-01-13 15:03:11.926 25 INFO cinder.volume.drivers.lightos [None req-c423645f-a02e-459f-9823-42ffe533b0c1 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/cae92477-1b29-4c6b-b75e-51f7e9c19009?             request.body:  ssl_verify: False
2025-01-13 15:03:11.970 25 INFO cinder.volume.drivers.lightos [None req-c423645f-a02e-459f-9823-42ffe533b0c1 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/cae92477-1b29-4c6b-b75e-51f7e9c19009             request.body: {} ssl_verify: False
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager [None req-c423645f-a02e-459f-9823-42ffe533b0c1 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager 
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager 
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:12.021 25 ERROR cinder.volume.manager 
2025-01-13 15:03:12.033 25 INFO cinder.volume.manager [None req-c423645f-a02e-459f-9823-42ffe533b0c1 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Delete snapshot completed successfully.
2025-01-13 15:03:13.103 25 INFO cinder.volume.drivers.lightos [None req-8fb50d93-15ad-429c-9678-012fcdc02f31 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_81d4b8cc-b995-4469-8707-1958848341e6             request.body: {} ssl_verify: False
2025-01-13 15:03:13.124 25 INFO cinder.volume.drivers.lightos [None req-8fb50d93-15ad-429c-9678-012fcdc02f31 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/72b9373f-c01d-4996-a560-c26e062be248?             request.body:  ssl_verify: False
2025-01-13 15:03:13.163 25 INFO cinder.volume.drivers.lightos [None req-8fb50d93-15ad-429c-9678-012fcdc02f31 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/72b9373f-c01d-4996-a560-c26e062be248             request.body: {} ssl_verify: False
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager [None req-8fb50d93-15ad-429c-9678-012fcdc02f31 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager 
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager 
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:13.196 25 ERROR cinder.volume.manager 
2025-01-13 15:03:13.224 25 INFO cinder.volume.manager [None req-8fb50d93-15ad-429c-9678-012fcdc02f31 8186938b2fb648e2a18fc8d421ae2d79 b6ff4fba94c640f4a46f3cd7e6809f7a - - - -] Deleted volume successfully.
2025-01-13 15:03:19.744 25 INFO cinder.volume.flows.manager.create_volume [None req-5cce8a5d-b370-4199-99f2-d55b12d92c2c faf9182e040742e1a11af29650da4c68 3c99cd605a4a4328b89d8c2bb5ee723f - - - -] Volume 3bd6ce6b-fc6a-4c0f-8f05-b641ae217839: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_3bd6ce6b-fc6a-4c0f-8f05-b641ae217839', 'volume_size': 1}
2025-01-13 15:03:19.744 25 INFO cinder.volume.drivers.lightos [None req-5cce8a5d-b370-4199-99f2-d55b12d92c2c faf9182e040742e1a11af29650da4c68 3c99cd605a4a4328b89d8c2bb5ee723f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_3bd6ce6b-fc6a-4c0f-8f05-b641ae217839             request.body: {} ssl_verify: False
2025-01-13 15:03:19.760 25 INFO cinder.volume.drivers.lightos [None req-5cce8a5d-b370-4199-99f2-d55b12d92c2c faf9182e040742e1a11af29650da4c68 3c99cd605a4a4328b89d8c2bb5ee723f - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_3bd6ce6b-fc6a-4c0f-8f05-b641ae217839', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:03:19.794 25 INFO cinder.volume.drivers.lightos [None req-5cce8a5d-b370-4199-99f2-d55b12d92c2c faf9182e040742e1a11af29650da4c68 3c99cd605a4a4328b89d8c2bb5ee723f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/8464a380-719c-426e-af22-884693c4d89e             request.body: {} ssl_verify: False
2025-01-13 15:03:20.822 25 INFO cinder.volume.drivers.lightos [None req-5cce8a5d-b370-4199-99f2-d55b12d92c2c faf9182e040742e1a11af29650da4c68 3c99cd605a4a4328b89d8c2bb5ee723f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/8464a380-719c-426e-af22-884693c4d89e             request.body: {} ssl_verify: False
2025-01-13 15:03:20.861 25 INFO cinder.volume.flows.manager.create_volume [None req-5cce8a5d-b370-4199-99f2-d55b12d92c2c faf9182e040742e1a11af29650da4c68 3c99cd605a4a4328b89d8c2bb5ee723f - - - -] Volume vol_3bd6ce6b-fc6a-4c0f-8f05-b641ae217839 (3bd6ce6b-fc6a-4c0f-8f05-b641ae217839): created successfully
2025-01-13 15:03:20.873 25 INFO cinder.volume.manager [None req-5cce8a5d-b370-4199-99f2-d55b12d92c2c faf9182e040742e1a11af29650da4c68 3c99cd605a4a4328b89d8c2bb5ee723f - - - -] Created volume successfully.
2025-01-13 15:03:22.064 25 INFO cinder.volume.drivers.lightos [None req-432bb3c7-233c-45bd-85ad-75641acc3768 faf9182e040742e1a11af29650da4c68 3c99cd605a4a4328b89d8c2bb5ee723f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_3bd6ce6b-fc6a-4c0f-8f05-b641ae217839             request.body: {} ssl_verify: False
2025-01-13 15:03:22.082 25 INFO cinder.volume.drivers.lightos [None req-432bb3c7-233c-45bd-85ad-75641acc3768 faf9182e040742e1a11af29650da4c68 3c99cd605a4a4328b89d8c2bb5ee723f - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/8464a380-719c-426e-af22-884693c4d89e?             request.body:  ssl_verify: False
2025-01-13 15:03:22.118 25 INFO cinder.volume.drivers.lightos [None req-432bb3c7-233c-45bd-85ad-75641acc3768 faf9182e040742e1a11af29650da4c68 3c99cd605a4a4328b89d8c2bb5ee723f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/8464a380-719c-426e-af22-884693c4d89e             request.body: {} ssl_verify: False
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager [None req-432bb3c7-233c-45bd-85ad-75641acc3768 faf9182e040742e1a11af29650da4c68 3c99cd605a4a4328b89d8c2bb5ee723f - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager 
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager 
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:22.210 25 ERROR cinder.volume.manager 
2025-01-13 15:03:22.241 25 INFO cinder.volume.manager [None req-432bb3c7-233c-45bd-85ad-75641acc3768 faf9182e040742e1a11af29650da4c68 3c99cd605a4a4328b89d8c2bb5ee723f - - - -] Deleted volume successfully.
2025-01-13 15:03:28.070 25 INFO cinder.volume.flows.manager.create_volume [None req-eed6928c-fd6f-401a-a4ea-175a1fd56e45 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Volume 35e47dfb-259c-445d-92c2-b0561b1ddc65: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_35e47dfb-259c-445d-92c2-b0561b1ddc65', 'volume_size': 1}
2025-01-13 15:03:28.071 25 INFO cinder.volume.drivers.lightos [None req-eed6928c-fd6f-401a-a4ea-175a1fd56e45 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_35e47dfb-259c-445d-92c2-b0561b1ddc65             request.body: {} ssl_verify: False
2025-01-13 15:03:28.086 25 INFO cinder.volume.drivers.lightos [None req-eed6928c-fd6f-401a-a4ea-175a1fd56e45 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_35e47dfb-259c-445d-92c2-b0561b1ddc65', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:03:28.120 25 INFO cinder.volume.drivers.lightos [None req-eed6928c-fd6f-401a-a4ea-175a1fd56e45 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/89357e8c-cc29-4a1b-87d0-fb2595ddca68             request.body: {} ssl_verify: False
2025-01-13 15:03:29.153 25 INFO cinder.volume.drivers.lightos [None req-eed6928c-fd6f-401a-a4ea-175a1fd56e45 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/89357e8c-cc29-4a1b-87d0-fb2595ddca68             request.body: {} ssl_verify: False
2025-01-13 15:03:29.189 25 INFO cinder.volume.flows.manager.create_volume [None req-eed6928c-fd6f-401a-a4ea-175a1fd56e45 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Volume vol_35e47dfb-259c-445d-92c2-b0561b1ddc65 (35e47dfb-259c-445d-92c2-b0561b1ddc65): created successfully
2025-01-13 15:03:29.197 25 INFO cinder.volume.manager [None req-eed6928c-fd6f-401a-a4ea-175a1fd56e45 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Created volume successfully.
2025-01-13 15:03:30.342 25 INFO cinder.volume.flows.manager.create_volume [None req-6445bb64-ba7b-45d6-8f65-6221e1bda39c 5329575095fc40db96ef52c43d17bb31 f92f8637d83c47f29a0197ca33782cbf - - - -] Volume f4d8d1b1-7d44-4e22-917b-5dc618af7df1: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_f4d8d1b1-7d44-4e22-917b-5dc618af7df1', 'volume_size': 1}
2025-01-13 15:03:30.342 25 INFO cinder.volume.drivers.lightos [None req-6445bb64-ba7b-45d6-8f65-6221e1bda39c 5329575095fc40db96ef52c43d17bb31 f92f8637d83c47f29a0197ca33782cbf - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f4d8d1b1-7d44-4e22-917b-5dc618af7df1             request.body: {} ssl_verify: False
2025-01-13 15:03:30.357 25 INFO cinder.volume.drivers.lightos [None req-6445bb64-ba7b-45d6-8f65-6221e1bda39c 5329575095fc40db96ef52c43d17bb31 f92f8637d83c47f29a0197ca33782cbf - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_f4d8d1b1-7d44-4e22-917b-5dc618af7df1', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:03:30.392 25 INFO cinder.volume.drivers.lightos [None req-6445bb64-ba7b-45d6-8f65-6221e1bda39c 5329575095fc40db96ef52c43d17bb31 f92f8637d83c47f29a0197ca33782cbf - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/1eb76801-40a4-4318-b804-252568fe2702             request.body: {} ssl_verify: False
2025-01-13 15:03:30.602 25 INFO cinder.volume.flows.manager.create_volume [None req-cbb98ed4-5200-46a9-843a-afcbce0f029c a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Volume 505bdd93-49a5-4781-ab63-a78ebab67442: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_505bdd93-49a5-4781-ab63-a78ebab67442', 'volume_size': 1}
2025-01-13 15:03:30.602 25 INFO cinder.volume.drivers.lightos [None req-cbb98ed4-5200-46a9-843a-afcbce0f029c a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_505bdd93-49a5-4781-ab63-a78ebab67442             request.body: {} ssl_verify: False
2025-01-13 15:03:30.621 25 INFO cinder.volume.drivers.lightos [None req-cbb98ed4-5200-46a9-843a-afcbce0f029c a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_505bdd93-49a5-4781-ab63-a78ebab67442', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:03:30.668 25 INFO cinder.volume.drivers.lightos [None req-cbb98ed4-5200-46a9-843a-afcbce0f029c a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ddef8147-698b-43ab-95f9-782b2bfbe675             request.body: {} ssl_verify: False
2025-01-13 15:03:31.465 25 INFO cinder.volume.drivers.lightos [None req-6445bb64-ba7b-45d6-8f65-6221e1bda39c 5329575095fc40db96ef52c43d17bb31 f92f8637d83c47f29a0197ca33782cbf - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/1eb76801-40a4-4318-b804-252568fe2702             request.body: {} ssl_verify: False
2025-01-13 15:03:31.506 25 INFO cinder.volume.flows.manager.create_volume [None req-6445bb64-ba7b-45d6-8f65-6221e1bda39c 5329575095fc40db96ef52c43d17bb31 f92f8637d83c47f29a0197ca33782cbf - - - -] Volume vol_f4d8d1b1-7d44-4e22-917b-5dc618af7df1 (f4d8d1b1-7d44-4e22-917b-5dc618af7df1): created successfully
2025-01-13 15:03:31.515 25 INFO cinder.volume.manager [None req-6445bb64-ba7b-45d6-8f65-6221e1bda39c 5329575095fc40db96ef52c43d17bb31 f92f8637d83c47f29a0197ca33782cbf - - - -] Created volume successfully.
2025-01-13 15:03:31.719 25 INFO cinder.volume.drivers.lightos [None req-cbb98ed4-5200-46a9-843a-afcbce0f029c a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ddef8147-698b-43ab-95f9-782b2bfbe675             request.body: {} ssl_verify: False
2025-01-13 15:03:31.759 25 INFO cinder.volume.flows.manager.create_volume [None req-cbb98ed4-5200-46a9-843a-afcbce0f029c a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Volume vol_505bdd93-49a5-4781-ab63-a78ebab67442 (505bdd93-49a5-4781-ab63-a78ebab67442): created successfully
2025-01-13 15:03:31.769 25 INFO cinder.volume.manager [None req-cbb98ed4-5200-46a9-843a-afcbce0f029c a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Created volume successfully.
2025-01-13 15:03:33.093 25 INFO cinder.volume.flows.manager.create_volume [None req-2d80ab27-3950-4da7-ae53-1b4e5fd75ca2 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Volume 1c2e1871-09fa-4ae4-9c1f-840a3aa51dc3: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_1c2e1871-09fa-4ae4-9c1f-840a3aa51dc3', 'volume_size': 1}
2025-01-13 15:03:33.093 25 INFO cinder.volume.drivers.lightos [None req-2d80ab27-3950-4da7-ae53-1b4e5fd75ca2 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_1c2e1871-09fa-4ae4-9c1f-840a3aa51dc3             request.body: {} ssl_verify: False
2025-01-13 15:03:33.110 25 INFO cinder.volume.manager [None req-ae1028f2-135c-421e-be90-dfe5a560e655 2f8ceee8b4404c8eaaa5e0f98eced21c 25e120a61c624084a657c9f48e024609 - - - -] Transfer volume completed successfully.
2025-01-13 15:03:33.116 25 INFO cinder.volume.drivers.lightos [None req-2d80ab27-3950-4da7-ae53-1b4e5fd75ca2 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_1c2e1871-09fa-4ae4-9c1f-840a3aa51dc3', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:03:33.153 25 INFO cinder.volume.drivers.lightos [None req-2d80ab27-3950-4da7-ae53-1b4e5fd75ca2 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/cde3fb72-78d7-4b64-9737-300dee99e335             request.body: {} ssl_verify: False
2025-01-13 15:03:34.046 25 INFO cinder.volume.drivers.lightos [None req-dab39bf0-e9dc-4e47-b976-a5b2220f7573 5ab32307e52c4bc8846360713b509aed ba7e68182d304193b746beca275e6c38 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f4d8d1b1-7d44-4e22-917b-5dc618af7df1             request.body: {} ssl_verify: False
2025-01-13 15:03:34.063 25 INFO cinder.volume.drivers.lightos [None req-dab39bf0-e9dc-4e47-b976-a5b2220f7573 5ab32307e52c4bc8846360713b509aed ba7e68182d304193b746beca275e6c38 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/1eb76801-40a4-4318-b804-252568fe2702?             request.body:  ssl_verify: False
2025-01-13 15:03:34.105 25 INFO cinder.volume.drivers.lightos [None req-dab39bf0-e9dc-4e47-b976-a5b2220f7573 5ab32307e52c4bc8846360713b509aed ba7e68182d304193b746beca275e6c38 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/1eb76801-40a4-4318-b804-252568fe2702             request.body: {} ssl_verify: False
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager [None req-dab39bf0-e9dc-4e47-b976-a5b2220f7573 5ab32307e52c4bc8846360713b509aed ba7e68182d304193b746beca275e6c38 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager 
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager 
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:34.179 25 ERROR cinder.volume.manager 
2025-01-13 15:03:34.202 25 INFO cinder.volume.drivers.lightos [None req-2d80ab27-3950-4da7-ae53-1b4e5fd75ca2 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/cde3fb72-78d7-4b64-9737-300dee99e335             request.body: {} ssl_verify: False
2025-01-13 15:03:34.208 25 INFO cinder.volume.manager [None req-dab39bf0-e9dc-4e47-b976-a5b2220f7573 5ab32307e52c4bc8846360713b509aed ba7e68182d304193b746beca275e6c38 - - - -] Deleted volume successfully.
2025-01-13 15:03:34.228 25 INFO cinder.volume.flows.manager.create_volume [None req-2d80ab27-3950-4da7-ae53-1b4e5fd75ca2 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Volume vol_1c2e1871-09fa-4ae4-9c1f-840a3aa51dc3 (1c2e1871-09fa-4ae4-9c1f-840a3aa51dc3): created successfully
2025-01-13 15:03:34.242 25 INFO cinder.volume.manager [None req-2d80ab27-3950-4da7-ae53-1b4e5fd75ca2 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Created volume successfully.
2025-01-13 15:03:35.507 25 INFO cinder.volume.flows.manager.create_volume [None req-462203a4-dae6-4646-b2d8-41dd2be50251 5329575095fc40db96ef52c43d17bb31 f92f8637d83c47f29a0197ca33782cbf - - - -] Volume f9445799-80f4-4e7d-aa95-c69f79797f72: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_f9445799-80f4-4e7d-aa95-c69f79797f72', 'volume_size': 1}
2025-01-13 15:03:35.507 25 INFO cinder.volume.drivers.lightos [None req-462203a4-dae6-4646-b2d8-41dd2be50251 5329575095fc40db96ef52c43d17bb31 f92f8637d83c47f29a0197ca33782cbf - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f9445799-80f4-4e7d-aa95-c69f79797f72             request.body: {} ssl_verify: False
2025-01-13 15:03:35.524 25 INFO cinder.volume.drivers.lightos [None req-462203a4-dae6-4646-b2d8-41dd2be50251 5329575095fc40db96ef52c43d17bb31 f92f8637d83c47f29a0197ca33782cbf - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_f9445799-80f4-4e7d-aa95-c69f79797f72', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:03:35.565 25 INFO cinder.volume.drivers.lightos [None req-462203a4-dae6-4646-b2d8-41dd2be50251 5329575095fc40db96ef52c43d17bb31 f92f8637d83c47f29a0197ca33782cbf - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/3e8f9e38-0fcd-43a2-930d-679f37421d74             request.body: {} ssl_verify: False
2025-01-13 15:03:35.697 25 INFO cinder.volume.flows.manager.create_volume [None req-6dc74325-9a19-4a76-b87a-a0b2cb9ae337 30cafc9a8c3b4f599ba96366512a01c7 83a3de1cb2be4c039f96fb11dc9efb5d - - - -] Volume 6637f794-e1bb-46b9-98db-c56d1f74b870: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_6637f794-e1bb-46b9-98db-c56d1f74b870', 'volume_size': 1}
2025-01-13 15:03:35.697 25 INFO cinder.volume.drivers.lightos [None req-6dc74325-9a19-4a76-b87a-a0b2cb9ae337 30cafc9a8c3b4f599ba96366512a01c7 83a3de1cb2be4c039f96fb11dc9efb5d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_6637f794-e1bb-46b9-98db-c56d1f74b870             request.body: {} ssl_verify: False
2025-01-13 15:03:35.714 25 INFO cinder.volume.drivers.lightos [None req-6dc74325-9a19-4a76-b87a-a0b2cb9ae337 30cafc9a8c3b4f599ba96366512a01c7 83a3de1cb2be4c039f96fb11dc9efb5d - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_6637f794-e1bb-46b9-98db-c56d1f74b870', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:03:35.773 25 INFO cinder.volume.drivers.lightos [None req-6dc74325-9a19-4a76-b87a-a0b2cb9ae337 30cafc9a8c3b4f599ba96366512a01c7 83a3de1cb2be4c039f96fb11dc9efb5d - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/62967d8b-07be-4381-abe8-cf2812241b0e             request.body: {} ssl_verify: False
2025-01-13 15:03:36.660 25 INFO cinder.volume.drivers.lightos [None req-462203a4-dae6-4646-b2d8-41dd2be50251 5329575095fc40db96ef52c43d17bb31 f92f8637d83c47f29a0197ca33782cbf - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/3e8f9e38-0fcd-43a2-930d-679f37421d74             request.body: {} ssl_verify: False
2025-01-13 15:03:36.702 25 INFO cinder.volume.flows.manager.create_volume [None req-462203a4-dae6-4646-b2d8-41dd2be50251 5329575095fc40db96ef52c43d17bb31 f92f8637d83c47f29a0197ca33782cbf - - - -] Volume vol_f9445799-80f4-4e7d-aa95-c69f79797f72 (f9445799-80f4-4e7d-aa95-c69f79797f72): created successfully
2025-01-13 15:03:36.711 25 INFO cinder.volume.manager [None req-462203a4-dae6-4646-b2d8-41dd2be50251 5329575095fc40db96ef52c43d17bb31 f92f8637d83c47f29a0197ca33782cbf - - - -] Created volume successfully.
2025-01-13 15:03:36.839 25 INFO cinder.volume.drivers.lightos [None req-6dc74325-9a19-4a76-b87a-a0b2cb9ae337 30cafc9a8c3b4f599ba96366512a01c7 83a3de1cb2be4c039f96fb11dc9efb5d - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/62967d8b-07be-4381-abe8-cf2812241b0e             request.body: {} ssl_verify: False
2025-01-13 15:03:36.884 25 INFO cinder.volume.flows.manager.create_volume [None req-6dc74325-9a19-4a76-b87a-a0b2cb9ae337 30cafc9a8c3b4f599ba96366512a01c7 83a3de1cb2be4c039f96fb11dc9efb5d - - - -] Volume vol_6637f794-e1bb-46b9-98db-c56d1f74b870 (6637f794-e1bb-46b9-98db-c56d1f74b870): created successfully
2025-01-13 15:03:36.893 25 INFO cinder.volume.manager [None req-6dc74325-9a19-4a76-b87a-a0b2cb9ae337 30cafc9a8c3b4f599ba96366512a01c7 83a3de1cb2be4c039f96fb11dc9efb5d - - - -] Created volume successfully.
2025-01-13 15:03:37.935 25 INFO cinder.volume.drivers.lightos [None req-b0fda3ae-d936-4a6b-a8ce-28d84dec079a 30cafc9a8c3b4f599ba96366512a01c7 83a3de1cb2be4c039f96fb11dc9efb5d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_6637f794-e1bb-46b9-98db-c56d1f74b870             request.body: {} ssl_verify: False
2025-01-13 15:03:37.940 25 INFO cinder.volume.drivers.lightos [None req-85a8faae-bb70-4ab5-8052-ccce51afdeee 5ab32307e52c4bc8846360713b509aed ba7e68182d304193b746beca275e6c38 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f9445799-80f4-4e7d-aa95-c69f79797f72             request.body: {} ssl_verify: False
2025-01-13 15:03:37.959 25 INFO cinder.volume.drivers.lightos [None req-b0fda3ae-d936-4a6b-a8ce-28d84dec079a 30cafc9a8c3b4f599ba96366512a01c7 83a3de1cb2be4c039f96fb11dc9efb5d - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/62967d8b-07be-4381-abe8-cf2812241b0e?             request.body:  ssl_verify: False
2025-01-13 15:03:37.975 25 INFO cinder.volume.drivers.lightos [None req-85a8faae-bb70-4ab5-8052-ccce51afdeee 5ab32307e52c4bc8846360713b509aed ba7e68182d304193b746beca275e6c38 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/3e8f9e38-0fcd-43a2-930d-679f37421d74?             request.body:  ssl_verify: False
2025-01-13 15:03:38.007 25 INFO cinder.volume.drivers.lightos [None req-b0fda3ae-d936-4a6b-a8ce-28d84dec079a 30cafc9a8c3b4f599ba96366512a01c7 83a3de1cb2be4c039f96fb11dc9efb5d - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/62967d8b-07be-4381-abe8-cf2812241b0e             request.body: {} ssl_verify: False
2025-01-13 15:03:38.043 25 INFO cinder.volume.drivers.lightos [None req-85a8faae-bb70-4ab5-8052-ccce51afdeee 5ab32307e52c4bc8846360713b509aed ba7e68182d304193b746beca275e6c38 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/3e8f9e38-0fcd-43a2-930d-679f37421d74             request.body: {} ssl_verify: False
2025-01-13 15:03:38.061 25 INFO cinder.volume.drivers.lightos [None req-1cb74916-78b6-4df8-bc95-cfb65d0b1891 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_1c2e1871-09fa-4ae4-9c1f-840a3aa51dc3             request.body: {} ssl_verify: False
2025-01-13 15:03:38.160 25 INFO cinder.volume.drivers.lightos [None req-1cb74916-78b6-4df8-bc95-cfb65d0b1891 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/cde3fb72-78d7-4b64-9737-300dee99e335?             request.body:  ssl_verify: False
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager [None req-b0fda3ae-d936-4a6b-a8ce-28d84dec079a 30cafc9a8c3b4f599ba96366512a01c7 83a3de1cb2be4c039f96fb11dc9efb5d - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager 
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager 
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:38.163 25 ERROR cinder.volume.manager 
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager [None req-85a8faae-bb70-4ab5-8052-ccce51afdeee 5ab32307e52c4bc8846360713b509aed ba7e68182d304193b746beca275e6c38 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager 
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager 
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:38.168 25 ERROR cinder.volume.manager 
2025-01-13 15:03:38.193 25 INFO cinder.volume.manager [None req-b0fda3ae-d936-4a6b-a8ce-28d84dec079a 30cafc9a8c3b4f599ba96366512a01c7 83a3de1cb2be4c039f96fb11dc9efb5d - - - -] Deleted volume successfully.
2025-01-13 15:03:38.196 25 INFO cinder.volume.drivers.lightos [None req-1cb74916-78b6-4df8-bc95-cfb65d0b1891 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/cde3fb72-78d7-4b64-9737-300dee99e335             request.body: {} ssl_verify: False
2025-01-13 15:03:38.209 25 INFO cinder.volume.manager [None req-85a8faae-bb70-4ab5-8052-ccce51afdeee 5ab32307e52c4bc8846360713b509aed ba7e68182d304193b746beca275e6c38 - - - -] Deleted volume successfully.
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager [None req-1cb74916-78b6-4df8-bc95-cfb65d0b1891 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager 
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager 
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:38.272 25 ERROR cinder.volume.manager 
2025-01-13 15:03:38.299 25 INFO cinder.volume.manager [None req-1cb74916-78b6-4df8-bc95-cfb65d0b1891 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Deleted volume successfully.
2025-01-13 15:03:39.269 25 INFO cinder.volume.drivers.lightos [None req-f74de6a0-3765-4ad2-b9e4-921a1a188fea a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_505bdd93-49a5-4781-ab63-a78ebab67442             request.body: {} ssl_verify: False
2025-01-13 15:03:39.289 25 INFO cinder.volume.drivers.lightos [None req-f74de6a0-3765-4ad2-b9e4-921a1a188fea a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/ddef8147-698b-43ab-95f9-782b2bfbe675?             request.body:  ssl_verify: False
2025-01-13 15:03:39.366 25 INFO cinder.volume.drivers.lightos [None req-f74de6a0-3765-4ad2-b9e4-921a1a188fea a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ddef8147-698b-43ab-95f9-782b2bfbe675             request.body: {} ssl_verify: False
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager [None req-f74de6a0-3765-4ad2-b9e4-921a1a188fea a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager 
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager 
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:39.413 25 ERROR cinder.volume.manager 
2025-01-13 15:03:39.443 25 INFO cinder.volume.manager [None req-f74de6a0-3765-4ad2-b9e4-921a1a188fea a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Deleted volume successfully.
2025-01-13 15:03:40.483 25 INFO cinder.volume.drivers.lightos [None req-e8a7e468-8d1a-4ab5-ac60-61865766b1b7 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_35e47dfb-259c-445d-92c2-b0561b1ddc65             request.body: {} ssl_verify: False
2025-01-13 15:03:40.518 25 INFO cinder.volume.drivers.lightos [None req-e8a7e468-8d1a-4ab5-ac60-61865766b1b7 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/89357e8c-cc29-4a1b-87d0-fb2595ddca68?             request.body:  ssl_verify: False
2025-01-13 15:03:40.645 25 INFO cinder.volume.drivers.lightos [None req-e8a7e468-8d1a-4ab5-ac60-61865766b1b7 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/89357e8c-cc29-4a1b-87d0-fb2595ddca68             request.body: {} ssl_verify: False
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager [None req-e8a7e468-8d1a-4ab5-ac60-61865766b1b7 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager 
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager 
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:40.692 25 ERROR cinder.volume.manager 
2025-01-13 15:03:40.722 25 INFO cinder.volume.manager [None req-e8a7e468-8d1a-4ab5-ac60-61865766b1b7 a8836ad6d69d4d02ab2090fec1d38705 a3a171614cd140aea07cec90b0d14f84 - - - -] Deleted volume successfully.
2025-01-13 15:03:43.770 25 INFO cinder.volume.flows.manager.create_volume [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Volume 63e6cfa3-3d40-429b-9ecf-a5b38cc49753: being created as image with specification: {'status': 'creating', 'volume_name': 'vol_63e6cfa3-3d40-429b-9ecf-a5b38cc49753', 'volume_size': 1, 'image_id': '4750b270-4234-4361-8332-29002e5eea4e', 'image_location': (None, None), 'image_meta': {'name': 'cirros', 'disk_format': 'qcow2', 'container_format': 'bare', 'visibility': 'public', 'size': 12716032, 'virtual_size': 46137344, 'status': 'active', 'checksum': '443b7623e27ecf03dc9e01ee93f67afe', 'protected': False, 'min_ram': 0, 'min_disk': 0, 'owner': '0eac1ff84c4b4af5a7e389a9fdfa4f07', 'os_hidden': False, 'os_hash_algo': 'sha512', 'os_hash_value': '6513f21e44aa3da349f248188a44bc304a3653a04122d8fb4535423c8e1d14cd6a153f735bb0982e2161b5b5186106570c17a9e58b64dd39390617cd5a350f78', 'id': '4750b270-4234-4361-8332-29002e5eea4e', 'created_at': datetime.datetime(2025, 1, 13, 12, 10, 20, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 1, 13, 12, 10, 20, tzinfo=datetime.timezone.utc), 'tags': [], 'file': '/v2/images/4750b270-4234-4361-8332-29002e5eea4e/file', 'stores': 'file', 'properties': {'owner_specified.openstack.md5': '', 'owner_specified.openstack.sha256': '', 'owner_specified.openstack.object': 'images/cirros'}}, 'image_service': <cinder.image.glance.GlanceImageService object at 0x7f0bc1b0e890>}
2025-01-13 15:03:44.910 25 INFO cinder.image.image_utils [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Image download 12.13 MB at 10.65 MB/s
2025-01-13 15:03:45.592 25 INFO cinder.volume.drivers.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_63e6cfa3-3d40-429b-9ecf-a5b38cc49753             request.body: {} ssl_verify: False
2025-01-13 15:03:45.617 25 INFO cinder.volume.drivers.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_63e6cfa3-3d40-429b-9ecf-a5b38cc49753', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:03:45.649 25 INFO cinder.volume.drivers.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/81c758e9-1044-4898-a356-b847b903da35             request.body: {} ssl_verify: False
2025-01-13 15:03:46.683 25 INFO cinder.volume.drivers.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/81c758e9-1044-4898-a356-b847b903da35             request.body: {} ssl_verify: False
2025-01-13 15:03:46.773 25 INFO os_brick.initiator.connectors.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Current host hostNQN nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc and IP(s) are ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', 'fe80::4099:911b:7117:6464'] 
2025-01-13 15:03:46.774 25 INFO cinder.volume.drivers.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Current host hostNQN is nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc and IP(s) are ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', 'fe80::4099:911b:7117:6464']
2025-01-13 15:03:46.775 25 INFO cinder.volume.drivers.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_63e6cfa3-3d40-429b-9ecf-a5b38cc49753             request.body: {} ssl_verify: False
2025-01-13 15:03:46.795 25 INFO cinder.volume.drivers.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking update_volume using PUT url: /api/v2/projects/default/volumes/81c758e9-1044-4898-a356-b847b903da35             request.body: {'acl': {'values': ['nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc']}, 'IPAcl': {'values': ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fe80::4099:911b:7117:6464', 'fd00::a:13:2c:7']}} ssl_verify: False
2025-01-13 15:03:46.829 25 INFO cinder.volume.drivers.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_63e6cfa3-3d40-429b-9ecf-a5b38cc49753             request.body: {} ssl_verify: False
2025-01-13 15:03:47.859 25 INFO cinder.volume.drivers.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_63e6cfa3-3d40-429b-9ecf-a5b38cc49753             request.body: {} ssl_verify: False
2025-01-13 15:03:47.882 25 INFO cinder.volume.drivers.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_63e6cfa3-3d40-429b-9ecf-a5b38cc49753             request.body: {} ssl_verify: False
2025-01-13 15:03:47.903 25 INFO cinder.volume.drivers.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_63e6cfa3-3d40-429b-9ecf-a5b38cc49753             request.body: {} ssl_verify: False
2025-01-13 15:03:47.922 25 INFO os_brick.initiator.connectors.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] LIGHTOS: connect_volume called for volume 81c758e9-1044-4898-a356-b847b903da35, connection properties: {'lightos_nodes': {'[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}, '[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}, '[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}}, 'uuid': '81c758e9-1044-4898-a356-b847b903da35', 'subsysnqn': 'nqn.2016-01.com.lightbitslabs:uuid:ed93b30a-10c9-4020-b8d0-0edc696e5120:suffix', 'encrypted': False}
2025-01-13 15:03:47.926 25 INFO os_brick.initiator.connectors.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] LIGHTOS: devpath /dev/nvme0n1 detected for uuid 81c758e9-1044-4898-a356-b847b903da35
2025-01-13 15:03:48.816 25 INFO cinder.volume.flows.manager.create_volume [None req-29581967-45ed-4416-9ed1-d57778c86d4d 4e5aa16316c3434689351dada422f813 f5c456ee4b0a42aa9085d56480f42161 - - - -] Volume 1330eac4-91e2-4506-8d3c-cb0cf1a39caf: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_1330eac4-91e2-4506-8d3c-cb0cf1a39caf', 'volume_size': 1}
2025-01-13 15:03:48.816 25 INFO cinder.volume.drivers.lightos [None req-29581967-45ed-4416-9ed1-d57778c86d4d 4e5aa16316c3434689351dada422f813 f5c456ee4b0a42aa9085d56480f42161 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_1330eac4-91e2-4506-8d3c-cb0cf1a39caf             request.body: {} ssl_verify: False
2025-01-13 15:03:48.836 25 INFO cinder.volume.drivers.lightos [None req-29581967-45ed-4416-9ed1-d57778c86d4d 4e5aa16316c3434689351dada422f813 f5c456ee4b0a42aa9085d56480f42161 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_1330eac4-91e2-4506-8d3c-cb0cf1a39caf', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:03:48.868 25 INFO cinder.volume.drivers.lightos [None req-29581967-45ed-4416-9ed1-d57778c86d4d 4e5aa16316c3434689351dada422f813 f5c456ee4b0a42aa9085d56480f42161 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/a63f7dc0-5b47-43df-b67a-4cb652e7664d             request.body: {} ssl_verify: False
2025-01-13 15:03:49.902 25 INFO cinder.volume.drivers.lightos [None req-29581967-45ed-4416-9ed1-d57778c86d4d 4e5aa16316c3434689351dada422f813 f5c456ee4b0a42aa9085d56480f42161 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/a63f7dc0-5b47-43df-b67a-4cb652e7664d             request.body: {} ssl_verify: False
2025-01-13 15:03:49.940 25 INFO cinder.volume.flows.manager.create_volume [None req-29581967-45ed-4416-9ed1-d57778c86d4d 4e5aa16316c3434689351dada422f813 f5c456ee4b0a42aa9085d56480f42161 - - - -] Volume vol_1330eac4-91e2-4506-8d3c-cb0cf1a39caf (1330eac4-91e2-4506-8d3c-cb0cf1a39caf): created successfully
2025-01-13 15:03:49.948 25 INFO cinder.volume.manager [None req-29581967-45ed-4416-9ed1-d57778c86d4d 4e5aa16316c3434689351dada422f813 f5c456ee4b0a42aa9085d56480f42161 - - - -] Created volume successfully.
2025-01-13 15:03:49.988 25 INFO cinder.image.image_utils [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Converted 44.00 MB image at 44.00 MB/s
2025-01-13 15:03:49.990 25 INFO os_brick.initiator.connectors.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] LIGHTOS: devpath /dev/nvme0n1 detected for uuid 81c758e9-1044-4898-a356-b847b903da35
2025-01-13 15:03:50.001 25 INFO cinder.volume.drivers.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_63e6cfa3-3d40-429b-9ecf-a5b38cc49753             request.body: {} ssl_verify: False
2025-01-13 15:03:50.023 25 INFO cinder.volume.drivers.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking update_volume using PUT url: /api/v2/projects/default/volumes/81c758e9-1044-4898-a356-b847b903da35             request.body: {'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}} ssl_verify: False
2025-01-13 15:03:50.077 25 INFO cinder.volume.drivers.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_63e6cfa3-3d40-429b-9ecf-a5b38cc49753             request.body: {} ssl_verify: False
2025-01-13 15:03:51.125 25 INFO cinder.volume.drivers.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_63e6cfa3-3d40-429b-9ecf-a5b38cc49753             request.body: {} ssl_verify: False
2025-01-13 15:03:51.147 25 INFO cinder.volume.drivers.lightos [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_63e6cfa3-3d40-429b-9ecf-a5b38cc49753             request.body: {} ssl_verify: False
2025-01-13 15:03:51.241 25 INFO cinder.volume.flows.manager.create_volume [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Volume vol_63e6cfa3-3d40-429b-9ecf-a5b38cc49753 (63e6cfa3-3d40-429b-9ecf-a5b38cc49753): created successfully
2025-01-13 15:03:51.249 25 INFO cinder.volume.manager [None req-bdac9479-f59d-43c6-871f-4abc700cbe55 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Created volume successfully.
2025-01-13 15:03:52.029 25 INFO cinder.volume.drivers.lightos [None req-63d25186-06b6-427f-91fd-4e5b4b76da3c 4e5aa16316c3434689351dada422f813 f5c456ee4b0a42aa9085d56480f42161 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_1330eac4-91e2-4506-8d3c-cb0cf1a39caf             request.body: {} ssl_verify: False
2025-01-13 15:03:52.045 25 INFO cinder.volume.drivers.lightos [None req-63d25186-06b6-427f-91fd-4e5b4b76da3c 4e5aa16316c3434689351dada422f813 f5c456ee4b0a42aa9085d56480f42161 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/a63f7dc0-5b47-43df-b67a-4cb652e7664d?             request.body:  ssl_verify: False
2025-01-13 15:03:52.091 25 INFO cinder.volume.drivers.lightos [None req-63d25186-06b6-427f-91fd-4e5b4b76da3c 4e5aa16316c3434689351dada422f813 f5c456ee4b0a42aa9085d56480f42161 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/a63f7dc0-5b47-43df-b67a-4cb652e7664d             request.body: {} ssl_verify: False
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager [None req-63d25186-06b6-427f-91fd-4e5b4b76da3c 4e5aa16316c3434689351dada422f813 f5c456ee4b0a42aa9085d56480f42161 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager 
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager 
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:52.134 25 ERROR cinder.volume.manager 
2025-01-13 15:03:52.164 25 INFO cinder.volume.manager [None req-63d25186-06b6-427f-91fd-4e5b4b76da3c 4e5aa16316c3434689351dada422f813 f5c456ee4b0a42aa9085d56480f42161 - - - -] Deleted volume successfully.
2025-01-13 15:03:52.361 25 INFO cinder.volume.drivers.lightos [None req-6cabe3b9-a618-4445-866d-1b2ee4dc1056 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_63e6cfa3-3d40-429b-9ecf-a5b38cc49753             request.body: {} ssl_verify: False
2025-01-13 15:03:52.381 25 INFO cinder.volume.drivers.lightos [None req-6cabe3b9-a618-4445-866d-1b2ee4dc1056 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking extend_volume using PUT url: /api/v2/projects/default/volumes/81c758e9-1044-4898-a356-b847b903da35             request.body: {'UUID': '81c758e9-1044-4898-a356-b847b903da35', 'size': '2 gib'} ssl_verify: False
2025-01-13 15:03:52.413 25 INFO cinder.volume.drivers.lightos [None req-6cabe3b9-a618-4445-866d-1b2ee4dc1056 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Successfully extended volume Volume(_name_id=None,admin_metadata={},attach_status='detached',availability_zone='nova',bootable=True,cluster=<?>,cluster_name='lightos_cinder_cluster@LIGHTOSyilgqu#yilgqu',consistencygroup=<?>,consistencygroup_id=None,created_at=2025-01-13T15:03:43Z,deleted=False,deleted_at=None,display_description=None,display_name='tempest-VolumesExtendTest-Volume-864626809',ec2_id=None,encryption_key_id=None,glance_metadata={checksum='443b7623e27ecf03dc9e01ee93f67afe',container_format='bare',disk_format='qcow2',image_id='4750b270-4234-4361-8332-29002e5eea4e',image_name='cirros',min_disk='0',min_ram='0',owner_specified.openstack.md5='',owner_specified.openstack.object='images/cirros',owner_specified.openstack.sha256='',signature_verified='False',size='12716032'},group=<?>,group_id=None,host='rack13-server67@LIGHTOSyilgqu#yilgqu',id=63e6cfa3-3d40-429b-9ecf-a5b38cc49753,launched_at=2025-01-13T15:03:51Z,metadata={},migration_status=None,multiattach=False,previous_status='available',project_id='9bf56548d4514b5db5fcbae133b6c13a',provider_auth=None,provider_geometry=None,provider_id=None,provider_location=None,replication_driver_data=None,replication_extended_status=None,replication_status=None,scheduled_at=2025-01-13T15:03:43Z,service_uuid='d010301b-5eca-4df5-9fb8-f79e3dac31b0',shared_targets=False,size=1,snapshot_id=None,snapshots=<?>,source_volid=None,status='extending',terminated_at=None,updated_at=2025-01-13T15:03:51Z,use_quota=True,user_id='0c31fc6210c648af8f45f579133e9a96',volume_attachment=VolumeAttachmentList,volume_type=VolumeType(0268b28d-787a-4ba1-bedc-3987f184bb0c),volume_type_id=0268b28d-787a-4ba1-bedc-3987f184bb0c) project default size:2
2025-01-13 15:03:52.444 25 INFO cinder.volume.manager [None req-6cabe3b9-a618-4445-866d-1b2ee4dc1056 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Extend volume completed successfully.
2025-01-13 15:03:54.072 25 INFO cinder.volume.drivers.lightos [None req-3742ffc0-770d-4cb4-a0e1-22d4cdac14e4 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_63e6cfa3-3d40-429b-9ecf-a5b38cc49753             request.body: {} ssl_verify: False
2025-01-13 15:03:54.090 25 INFO cinder.volume.drivers.lightos [None req-3742ffc0-770d-4cb4-a0e1-22d4cdac14e4 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/81c758e9-1044-4898-a356-b847b903da35?             request.body:  ssl_verify: False
2025-01-13 15:03:54.125 25 INFO cinder.volume.drivers.lightos [None req-3742ffc0-770d-4cb4-a0e1-22d4cdac14e4 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/81c758e9-1044-4898-a356-b847b903da35             request.body: {} ssl_verify: False
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager [None req-3742ffc0-770d-4cb4-a0e1-22d4cdac14e4 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager 
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager 
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:03:54.174 25 ERROR cinder.volume.manager 
2025-01-13 15:03:54.204 25 INFO cinder.volume.manager [None req-3742ffc0-770d-4cb4-a0e1-22d4cdac14e4 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Deleted volume successfully.
2025-01-13 15:03:55.463 25 INFO cinder.volume.flows.manager.create_volume [None req-0dbc1a2b-c5a2-4b64-b8b8-f5ccd39c205a 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Volume f1fef6db-e054-47a8-8676-6f275140f0d7: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_f1fef6db-e054-47a8-8676-6f275140f0d7', 'volume_size': 1}
2025-01-13 15:03:55.464 25 INFO cinder.volume.drivers.lightos [None req-0dbc1a2b-c5a2-4b64-b8b8-f5ccd39c205a 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f1fef6db-e054-47a8-8676-6f275140f0d7             request.body: {} ssl_verify: False
2025-01-13 15:03:55.479 25 INFO cinder.volume.drivers.lightos [None req-0dbc1a2b-c5a2-4b64-b8b8-f5ccd39c205a 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_f1fef6db-e054-47a8-8676-6f275140f0d7', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:03:55.525 25 INFO cinder.volume.drivers.lightos [None req-0dbc1a2b-c5a2-4b64-b8b8-f5ccd39c205a 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/83c72352-a8e4-4242-8d5a-6ee061731167             request.body: {} ssl_verify: False
2025-01-13 15:03:56.570 25 INFO cinder.volume.drivers.lightos [None req-0dbc1a2b-c5a2-4b64-b8b8-f5ccd39c205a 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/83c72352-a8e4-4242-8d5a-6ee061731167             request.body: {} ssl_verify: False
2025-01-13 15:03:56.605 25 INFO cinder.volume.flows.manager.create_volume [None req-0dbc1a2b-c5a2-4b64-b8b8-f5ccd39c205a 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Volume vol_f1fef6db-e054-47a8-8676-6f275140f0d7 (f1fef6db-e054-47a8-8676-6f275140f0d7): created successfully
2025-01-13 15:03:56.613 25 INFO cinder.volume.manager [None req-0dbc1a2b-c5a2-4b64-b8b8-f5ccd39c205a 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Created volume successfully.
2025-01-13 15:03:57.741 25 INFO cinder.volume.drivers.lightos [None req-8defab1d-9d4b-40e2-a227-d84d4b486fac 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-48d8d40a-937a-4bba-ae03-8ec77ff03968             request.body: {} ssl_verify: False
2025-01-13 15:03:57.755 25 INFO cinder.volume.drivers.lightos [None req-8defab1d-9d4b-40e2-a227-d84d4b486fac 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-48d8d40a-937a-4bba-ae03-8ec77ff03968', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_f1fef6db-e054-47a8-8676-6f275140f0d7'} ssl_verify: False
2025-01-13 15:03:57.790 25 INFO cinder.volume.drivers.lightos [None req-8defab1d-9d4b-40e2-a227-d84d4b486fac 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-48d8d40a-937a-4bba-ae03-8ec77ff03968             request.body: {} ssl_verify: False
2025-01-13 15:03:58.812 25 INFO cinder.volume.drivers.lightos [None req-8defab1d-9d4b-40e2-a227-d84d4b486fac 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-48d8d40a-937a-4bba-ae03-8ec77ff03968             request.body: {} ssl_verify: False
2025-01-13 15:03:58.853 25 INFO cinder.volume.manager [None req-8defab1d-9d4b-40e2-a227-d84d4b486fac 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Create snapshot completed successfully
2025-01-13 15:03:59.908 25 INFO cinder.volume.drivers.lightos [None req-23cd584b-d464-444c-8fa8-97edd615ec73 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f1fef6db-e054-47a8-8676-6f275140f0d7             request.body: {} ssl_verify: False
2025-01-13 15:03:59.930 25 INFO cinder.volume.drivers.lightos [None req-23cd584b-d464-444c-8fa8-97edd615ec73 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking extend_volume using PUT url: /api/v2/projects/default/volumes/83c72352-a8e4-4242-8d5a-6ee061731167             request.body: {'UUID': '83c72352-a8e4-4242-8d5a-6ee061731167', 'size': '2 gib'} ssl_verify: False
2025-01-13 15:03:59.986 25 INFO cinder.volume.drivers.lightos [None req-23cd584b-d464-444c-8fa8-97edd615ec73 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Successfully extended volume Volume(_name_id=None,admin_metadata={},attach_status='detached',availability_zone='nova',bootable=False,cluster=<?>,cluster_name='lightos_cinder_cluster@LIGHTOSyilgqu#yilgqu',consistencygroup=<?>,consistencygroup_id=None,created_at=2025-01-13T15:03:55Z,deleted=False,deleted_at=None,display_description=None,display_name='tempest-VolumesExtendTest-Volume-2003905270',ec2_id=None,encryption_key_id=None,glance_metadata={},group=<?>,group_id=None,host='rack13-server67@LIGHTOSyilgqu#yilgqu',id=f1fef6db-e054-47a8-8676-6f275140f0d7,launched_at=2025-01-13T15:03:56Z,metadata={},migration_status=None,multiattach=False,previous_status='available',project_id='9bf56548d4514b5db5fcbae133b6c13a',provider_auth=None,provider_geometry=None,provider_id=None,provider_location=None,replication_driver_data=None,replication_extended_status=None,replication_status=None,scheduled_at=2025-01-13T15:03:55Z,service_uuid='d010301b-5eca-4df5-9fb8-f79e3dac31b0',shared_targets=False,size=1,snapshot_id=None,snapshots=<?>,source_volid=None,status='extending',terminated_at=None,updated_at=2025-01-13T15:03:56Z,use_quota=True,user_id='0c31fc6210c648af8f45f579133e9a96',volume_attachment=VolumeAttachmentList,volume_type=VolumeType(0268b28d-787a-4ba1-bedc-3987f184bb0c),volume_type_id=0268b28d-787a-4ba1-bedc-3987f184bb0c) project default size:2
2025-01-13 15:04:00.011 25 INFO cinder.volume.manager [None req-23cd584b-d464-444c-8fa8-97edd615ec73 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Extend volume completed successfully.
2025-01-13 15:04:00.106 25 INFO cinder.volume.flows.manager.create_volume [None req-1225144c-6330-4ed6-9c1d-4316916e395e e9baef78cf2b45ef8ca7cc7c53c3df8a fd19462eb935449a82a0045afa40bf68 - - - -] Volume bf16ef37-f2f2-41a8-8f40-30b363c55437: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_bf16ef37-f2f2-41a8-8f40-30b363c55437', 'volume_size': 1}
2025-01-13 15:04:00.107 25 INFO cinder.volume.drivers.lightos [None req-1225144c-6330-4ed6-9c1d-4316916e395e e9baef78cf2b45ef8ca7cc7c53c3df8a fd19462eb935449a82a0045afa40bf68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_bf16ef37-f2f2-41a8-8f40-30b363c55437             request.body: {} ssl_verify: False
2025-01-13 15:04:00.122 25 INFO cinder.volume.drivers.lightos [None req-1225144c-6330-4ed6-9c1d-4316916e395e e9baef78cf2b45ef8ca7cc7c53c3df8a fd19462eb935449a82a0045afa40bf68 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_bf16ef37-f2f2-41a8-8f40-30b363c55437', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:04:00.159 25 INFO cinder.volume.drivers.lightos [None req-1225144c-6330-4ed6-9c1d-4316916e395e e9baef78cf2b45ef8ca7cc7c53c3df8a fd19462eb935449a82a0045afa40bf68 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/1967cc54-1c14-484c-8660-cd32de52fd77             request.body: {} ssl_verify: False
2025-01-13 15:04:00.261 25 INFO cinder.volume.flows.manager.create_volume [None req-1225144c-6330-4ed6-9c1d-4316916e395e e9baef78cf2b45ef8ca7cc7c53c3df8a fd19462eb935449a82a0045afa40bf68 - - - -] Volume vol_bf16ef37-f2f2-41a8-8f40-30b363c55437 (bf16ef37-f2f2-41a8-8f40-30b363c55437): created successfully
2025-01-13 15:04:00.270 25 INFO cinder.volume.manager [None req-1225144c-6330-4ed6-9c1d-4316916e395e e9baef78cf2b45ef8ca7cc7c53c3df8a fd19462eb935449a82a0045afa40bf68 - - - -] Created volume successfully.
2025-01-13 15:04:01.123 25 INFO cinder.volume.drivers.lightos [None req-e2eb76d3-3498-4cd5-87a1-dc88ffe408e9 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-48d8d40a-937a-4bba-ae03-8ec77ff03968             request.body: {} ssl_verify: False
2025-01-13 15:04:01.143 25 INFO cinder.volume.drivers.lightos [None req-e2eb76d3-3498-4cd5-87a1-dc88ffe408e9 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/7a6721f5-3427-42f7-ba76-ef61bfd64e5a?             request.body:  ssl_verify: False
2025-01-13 15:04:01.179 25 INFO cinder.volume.drivers.lightos [None req-e2eb76d3-3498-4cd5-87a1-dc88ffe408e9 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/7a6721f5-3427-42f7-ba76-ef61bfd64e5a             request.body: {} ssl_verify: False
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager [None req-e2eb76d3-3498-4cd5-87a1-dc88ffe408e9 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager 
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager 
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:01.239 25 ERROR cinder.volume.manager 
2025-01-13 15:04:01.250 25 INFO cinder.volume.manager [None req-e2eb76d3-3498-4cd5-87a1-dc88ffe408e9 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Delete snapshot completed successfully.
2025-01-13 15:04:01.739 25 INFO cinder.volume.manager [None req-7c7811d3-8eb5-49ed-95cc-1d4b9f3ca24a f0d6ef3c1453417d85709c7698d0f2a4 4120eb6bb3d04dc48c92c832352624b7 - - - -] Transfer volume completed successfully.
2025-01-13 15:04:02.327 25 INFO cinder.volume.drivers.lightos [None req-012f0d80-d03f-4c16-8f4f-b315bae0e5f3 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f1fef6db-e054-47a8-8676-6f275140f0d7             request.body: {} ssl_verify: False
2025-01-13 15:04:02.345 25 INFO cinder.volume.drivers.lightos [None req-012f0d80-d03f-4c16-8f4f-b315bae0e5f3 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/83c72352-a8e4-4242-8d5a-6ee061731167?             request.body:  ssl_verify: False
2025-01-13 15:04:02.388 25 INFO cinder.volume.drivers.lightos [None req-012f0d80-d03f-4c16-8f4f-b315bae0e5f3 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/83c72352-a8e4-4242-8d5a-6ee061731167             request.body: {} ssl_verify: False
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager [None req-012f0d80-d03f-4c16-8f4f-b315bae0e5f3 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager 
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager 
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:02.431 25 ERROR cinder.volume.manager 
2025-01-13 15:04:02.460 25 INFO cinder.volume.manager [None req-012f0d80-d03f-4c16-8f4f-b315bae0e5f3 0c31fc6210c648af8f45f579133e9a96 9bf56548d4514b5db5fcbae133b6c13a - - - -] Deleted volume successfully.
2025-01-13 15:04:02.577 25 INFO cinder.volume.drivers.lightos [None req-320bccfd-65d5-462c-8928-309565c3cb20 8d7ac5bcc3ea47b18ab07743a77369bd db93c5fb949d46e48613b60852e83cd5 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_bf16ef37-f2f2-41a8-8f40-30b363c55437             request.body: {} ssl_verify: False
2025-01-13 15:04:02.602 25 INFO cinder.volume.drivers.lightos [None req-320bccfd-65d5-462c-8928-309565c3cb20 8d7ac5bcc3ea47b18ab07743a77369bd db93c5fb949d46e48613b60852e83cd5 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/1967cc54-1c14-484c-8660-cd32de52fd77?             request.body:  ssl_verify: False
2025-01-13 15:04:02.638 25 INFO cinder.volume.drivers.lightos [None req-320bccfd-65d5-462c-8928-309565c3cb20 8d7ac5bcc3ea47b18ab07743a77369bd db93c5fb949d46e48613b60852e83cd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/1967cc54-1c14-484c-8660-cd32de52fd77             request.body: {} ssl_verify: False
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager [None req-320bccfd-65d5-462c-8928-309565c3cb20 8d7ac5bcc3ea47b18ab07743a77369bd db93c5fb949d46e48613b60852e83cd5 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager 
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager 
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:02.673 25 ERROR cinder.volume.manager 
2025-01-13 15:04:02.704 25 INFO cinder.volume.manager [None req-320bccfd-65d5-462c-8928-309565c3cb20 8d7ac5bcc3ea47b18ab07743a77369bd db93c5fb949d46e48613b60852e83cd5 - - - -] Deleted volume successfully.
2025-01-13 15:04:04.025 25 INFO cinder.volume.flows.manager.create_volume [None req-009d08d1-6b43-4b9c-8625-febef8c5b9b7 e9baef78cf2b45ef8ca7cc7c53c3df8a fd19462eb935449a82a0045afa40bf68 - - - -] Volume dedd099f-d9dc-4a38-a3d2-db0e2c91e00c: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_dedd099f-d9dc-4a38-a3d2-db0e2c91e00c', 'volume_size': 1}
2025-01-13 15:04:04.026 25 INFO cinder.volume.drivers.lightos [None req-009d08d1-6b43-4b9c-8625-febef8c5b9b7 e9baef78cf2b45ef8ca7cc7c53c3df8a fd19462eb935449a82a0045afa40bf68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_dedd099f-d9dc-4a38-a3d2-db0e2c91e00c             request.body: {} ssl_verify: False
2025-01-13 15:04:04.040 25 INFO cinder.volume.drivers.lightos [None req-009d08d1-6b43-4b9c-8625-febef8c5b9b7 e9baef78cf2b45ef8ca7cc7c53c3df8a fd19462eb935449a82a0045afa40bf68 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_dedd099f-d9dc-4a38-a3d2-db0e2c91e00c', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:04:04.076 25 INFO cinder.volume.drivers.lightos [None req-009d08d1-6b43-4b9c-8625-febef8c5b9b7 e9baef78cf2b45ef8ca7cc7c53c3df8a fd19462eb935449a82a0045afa40bf68 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/9b56c3f9-5599-4776-9b4b-ab87dc170244             request.body: {} ssl_verify: False
2025-01-13 15:04:05.124 25 INFO cinder.volume.drivers.lightos [None req-009d08d1-6b43-4b9c-8625-febef8c5b9b7 e9baef78cf2b45ef8ca7cc7c53c3df8a fd19462eb935449a82a0045afa40bf68 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/9b56c3f9-5599-4776-9b4b-ab87dc170244             request.body: {} ssl_verify: False
2025-01-13 15:04:05.166 25 INFO cinder.volume.flows.manager.create_volume [None req-009d08d1-6b43-4b9c-8625-febef8c5b9b7 e9baef78cf2b45ef8ca7cc7c53c3df8a fd19462eb935449a82a0045afa40bf68 - - - -] Volume vol_dedd099f-d9dc-4a38-a3d2-db0e2c91e00c (dedd099f-d9dc-4a38-a3d2-db0e2c91e00c): created successfully
2025-01-13 15:04:05.174 25 INFO cinder.volume.manager [None req-009d08d1-6b43-4b9c-8625-febef8c5b9b7 e9baef78cf2b45ef8ca7cc7c53c3df8a fd19462eb935449a82a0045afa40bf68 - - - -] Created volume successfully.
2025-01-13 15:04:06.447 25 INFO cinder.volume.drivers.lightos [None req-955655bd-82b9-4b06-871a-a17789f215d8 8d7ac5bcc3ea47b18ab07743a77369bd db93c5fb949d46e48613b60852e83cd5 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_dedd099f-d9dc-4a38-a3d2-db0e2c91e00c             request.body: {} ssl_verify: False
2025-01-13 15:04:06.465 25 INFO cinder.volume.drivers.lightos [None req-955655bd-82b9-4b06-871a-a17789f215d8 8d7ac5bcc3ea47b18ab07743a77369bd db93c5fb949d46e48613b60852e83cd5 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/9b56c3f9-5599-4776-9b4b-ab87dc170244?             request.body:  ssl_verify: False
2025-01-13 15:04:06.529 25 INFO cinder.volume.drivers.lightos [None req-955655bd-82b9-4b06-871a-a17789f215d8 8d7ac5bcc3ea47b18ab07743a77369bd db93c5fb949d46e48613b60852e83cd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/9b56c3f9-5599-4776-9b4b-ab87dc170244             request.body: {} ssl_verify: False
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager [None req-955655bd-82b9-4b06-871a-a17789f215d8 8d7ac5bcc3ea47b18ab07743a77369bd db93c5fb949d46e48613b60852e83cd5 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager 
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager 
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:06.577 25 ERROR cinder.volume.manager 
2025-01-13 15:04:06.606 25 INFO cinder.volume.manager [None req-955655bd-82b9-4b06-871a-a17789f215d8 8d7ac5bcc3ea47b18ab07743a77369bd db93c5fb949d46e48613b60852e83cd5 - - - -] Deleted volume successfully.
2025-01-13 15:04:07.092 25 INFO cinder.volume.flows.manager.create_volume [None req-1b5a7cbb-ece8-4c6d-a20d-e9e66a83b8f2 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Volume 54264c31-9e49-45f8-aaed-36a132de8802: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_54264c31-9e49-45f8-aaed-36a132de8802', 'volume_size': 1}
2025-01-13 15:04:07.092 25 INFO cinder.volume.drivers.lightos [None req-1b5a7cbb-ece8-4c6d-a20d-e9e66a83b8f2 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_54264c31-9e49-45f8-aaed-36a132de8802             request.body: {} ssl_verify: False
2025-01-13 15:04:07.107 25 INFO cinder.volume.drivers.lightos [None req-1b5a7cbb-ece8-4c6d-a20d-e9e66a83b8f2 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_54264c31-9e49-45f8-aaed-36a132de8802', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:04:07.137 25 INFO cinder.volume.drivers.lightos [None req-1b5a7cbb-ece8-4c6d-a20d-e9e66a83b8f2 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/7ff80eed-b439-4ea2-a354-85a9f1266fcd             request.body: {} ssl_verify: False
2025-01-13 15:04:08.158 25 INFO cinder.volume.drivers.lightos [None req-1b5a7cbb-ece8-4c6d-a20d-e9e66a83b8f2 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/7ff80eed-b439-4ea2-a354-85a9f1266fcd             request.body: {} ssl_verify: False
2025-01-13 15:04:08.210 25 INFO cinder.volume.flows.manager.create_volume [None req-1b5a7cbb-ece8-4c6d-a20d-e9e66a83b8f2 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Volume vol_54264c31-9e49-45f8-aaed-36a132de8802 (54264c31-9e49-45f8-aaed-36a132de8802): created successfully
2025-01-13 15:04:08.221 25 INFO cinder.volume.manager [None req-1b5a7cbb-ece8-4c6d-a20d-e9e66a83b8f2 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Created volume successfully.
2025-01-13 15:04:09.758 25 INFO cinder.volume.flows.manager.create_volume [None req-3e96f8e2-7631-4dc7-bd63-ea8bdeddddba 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Volume d15a9ad6-e031-4aff-9a0d-a91f1a2a20e4: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_d15a9ad6-e031-4aff-9a0d-a91f1a2a20e4', 'volume_size': 1}
2025-01-13 15:04:09.758 25 INFO cinder.volume.drivers.lightos [None req-3e96f8e2-7631-4dc7-bd63-ea8bdeddddba 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_d15a9ad6-e031-4aff-9a0d-a91f1a2a20e4             request.body: {} ssl_verify: False
2025-01-13 15:04:09.773 25 INFO cinder.volume.drivers.lightos [None req-3e96f8e2-7631-4dc7-bd63-ea8bdeddddba 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_d15a9ad6-e031-4aff-9a0d-a91f1a2a20e4', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:04:09.813 25 INFO cinder.volume.drivers.lightos [None req-3e96f8e2-7631-4dc7-bd63-ea8bdeddddba 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/061f80b3-5ae1-478e-b542-2f44270079e2             request.body: {} ssl_verify: False
2025-01-13 15:04:10.835 25 INFO cinder.volume.drivers.lightos [None req-3e96f8e2-7631-4dc7-bd63-ea8bdeddddba 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/061f80b3-5ae1-478e-b542-2f44270079e2             request.body: {} ssl_verify: False
2025-01-13 15:04:10.875 25 INFO cinder.volume.flows.manager.create_volume [None req-3e96f8e2-7631-4dc7-bd63-ea8bdeddddba 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Volume vol_d15a9ad6-e031-4aff-9a0d-a91f1a2a20e4 (d15a9ad6-e031-4aff-9a0d-a91f1a2a20e4): created successfully
2025-01-13 15:04:10.884 25 INFO cinder.volume.manager [None req-3e96f8e2-7631-4dc7-bd63-ea8bdeddddba 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Created volume successfully.
2025-01-13 15:04:11.985 25 INFO cinder.volume.drivers.lightos [None req-cb8c92c6-5cb4-48be-84d6-c62b548a4b0e 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_d15a9ad6-e031-4aff-9a0d-a91f1a2a20e4             request.body: {} ssl_verify: False
2025-01-13 15:04:12.005 25 INFO cinder.volume.drivers.lightos [None req-cb8c92c6-5cb4-48be-84d6-c62b548a4b0e 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/061f80b3-5ae1-478e-b542-2f44270079e2?             request.body:  ssl_verify: False
2025-01-13 15:04:12.038 25 INFO cinder.volume.drivers.lightos [None req-cb8c92c6-5cb4-48be-84d6-c62b548a4b0e 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/061f80b3-5ae1-478e-b542-2f44270079e2             request.body: {} ssl_verify: False
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager [None req-cb8c92c6-5cb4-48be-84d6-c62b548a4b0e 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager 
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager 
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:12.094 25 ERROR cinder.volume.manager 
2025-01-13 15:04:12.124 25 INFO cinder.volume.manager [None req-cb8c92c6-5cb4-48be-84d6-c62b548a4b0e 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Deleted volume successfully.
2025-01-13 15:04:13.144 25 INFO cinder.volume.drivers.lightos [None req-f4820a62-a4d2-4229-97fa-d590f7571432 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_54264c31-9e49-45f8-aaed-36a132de8802             request.body: {} ssl_verify: False
2025-01-13 15:04:13.165 25 INFO cinder.volume.drivers.lightos [None req-f4820a62-a4d2-4229-97fa-d590f7571432 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/7ff80eed-b439-4ea2-a354-85a9f1266fcd?             request.body:  ssl_verify: False
2025-01-13 15:04:13.206 25 INFO cinder.volume.drivers.lightos [None req-f4820a62-a4d2-4229-97fa-d590f7571432 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/7ff80eed-b439-4ea2-a354-85a9f1266fcd             request.body: {} ssl_verify: False
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager [None req-f4820a62-a4d2-4229-97fa-d590f7571432 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager 
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager 
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:13.259 25 ERROR cinder.volume.manager 
2025-01-13 15:04:13.286 25 INFO cinder.volume.manager [None req-f4820a62-a4d2-4229-97fa-d590f7571432 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Deleted volume successfully.
2025-01-13 15:04:14.562 25 INFO cinder.volume.flows.manager.create_volume [None req-edaf2671-36ba-4c16-98e3-a99095d86798 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Volume a5245d9d-4319-401d-8f70-08260dc4e0d9: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_a5245d9d-4319-401d-8f70-08260dc4e0d9', 'volume_size': 1}
2025-01-13 15:04:14.562 25 INFO cinder.volume.drivers.lightos [None req-edaf2671-36ba-4c16-98e3-a99095d86798 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_a5245d9d-4319-401d-8f70-08260dc4e0d9             request.body: {} ssl_verify: False
2025-01-13 15:04:14.576 25 INFO cinder.volume.drivers.lightos [None req-edaf2671-36ba-4c16-98e3-a99095d86798 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_a5245d9d-4319-401d-8f70-08260dc4e0d9', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:04:14.605 25 INFO cinder.volume.drivers.lightos [None req-edaf2671-36ba-4c16-98e3-a99095d86798 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/a28d569d-0a3e-4e61-aa2b-5b66fa75850a             request.body: {} ssl_verify: False
2025-01-13 15:04:15.467 25 INFO cinder.volume.flows.manager.create_volume [None req-8e94bbf9-bb9f-454f-b1a8-0b662d3d64d9 e112dfd5cde1477e967ea207ee7ea29f de75a47d5df94f148eb747e8367616a8 - - - -] Volume 92ad5e4e-2e7c-4462-be89-27ebf1816ec4: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_92ad5e4e-2e7c-4462-be89-27ebf1816ec4', 'volume_size': 1}
2025-01-13 15:04:15.468 25 INFO cinder.volume.drivers.lightos [None req-8e94bbf9-bb9f-454f-b1a8-0b662d3d64d9 e112dfd5cde1477e967ea207ee7ea29f de75a47d5df94f148eb747e8367616a8 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_92ad5e4e-2e7c-4462-be89-27ebf1816ec4             request.body: {} ssl_verify: False
2025-01-13 15:04:15.484 25 INFO cinder.volume.drivers.lightos [None req-8e94bbf9-bb9f-454f-b1a8-0b662d3d64d9 e112dfd5cde1477e967ea207ee7ea29f de75a47d5df94f148eb747e8367616a8 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_92ad5e4e-2e7c-4462-be89-27ebf1816ec4', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:04:15.531 25 INFO cinder.volume.drivers.lightos [None req-8e94bbf9-bb9f-454f-b1a8-0b662d3d64d9 e112dfd5cde1477e967ea207ee7ea29f de75a47d5df94f148eb747e8367616a8 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/3d6224ba-d48e-4541-abea-ec83a16ac8f1             request.body: {} ssl_verify: False
2025-01-13 15:04:15.630 25 INFO cinder.volume.flows.manager.create_volume [None req-8e94bbf9-bb9f-454f-b1a8-0b662d3d64d9 e112dfd5cde1477e967ea207ee7ea29f de75a47d5df94f148eb747e8367616a8 - - - -] Volume vol_92ad5e4e-2e7c-4462-be89-27ebf1816ec4 (92ad5e4e-2e7c-4462-be89-27ebf1816ec4): created successfully
2025-01-13 15:04:15.639 25 INFO cinder.volume.manager [None req-8e94bbf9-bb9f-454f-b1a8-0b662d3d64d9 e112dfd5cde1477e967ea207ee7ea29f de75a47d5df94f148eb747e8367616a8 - - - -] Created volume successfully.
2025-01-13 15:04:15.655 25 INFO cinder.volume.drivers.lightos [None req-edaf2671-36ba-4c16-98e3-a99095d86798 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/a28d569d-0a3e-4e61-aa2b-5b66fa75850a             request.body: {} ssl_verify: False
2025-01-13 15:04:15.695 25 INFO cinder.volume.flows.manager.create_volume [None req-edaf2671-36ba-4c16-98e3-a99095d86798 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Volume vol_a5245d9d-4319-401d-8f70-08260dc4e0d9 (a5245d9d-4319-401d-8f70-08260dc4e0d9): created successfully
2025-01-13 15:04:15.705 25 INFO cinder.volume.manager [None req-edaf2671-36ba-4c16-98e3-a99095d86798 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Created volume successfully.
2025-01-13 15:04:17.001 25 INFO cinder.volume.flows.manager.create_volume [None req-f48bef0d-b0a6-4644-b2ab-43601b1970db 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Volume 4f609ee6-f2c4-4122-a3c6-4063c17a3972: being created as source_vol with specification: {'status': 'creating', 'volume_name': 'vol_4f609ee6-f2c4-4122-a3c6-4063c17a3972', 'volume_size': 1, 'source_volid': 'a5245d9d-4319-401d-8f70-08260dc4e0d9', 'source_volstatus': 'available'}
2025-01-13 15:04:17.010 25 INFO cinder.volume.drivers.lightos [None req-f48bef0d-b0a6-4644-b2ab-43601b1970db 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_4f609ee6-f2c4-4122-a3c6-4063c17a3972             request.body: {} ssl_verify: False
2025-01-13 15:04:17.036 25 INFO cinder.volume.drivers.lightos [None req-f48bef0d-b0a6-4644-b2ab-43601b1970db 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'for_clone_4f609ee6-f2c4-4122-a3c6-4063c17a3972', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_a5245d9d-4319-401d-8f70-08260dc4e0d9'} ssl_verify: False
2025-01-13 15:04:17.083 25 INFO cinder.volume.drivers.lightos [None req-f48bef0d-b0a6-4644-b2ab-43601b1970db 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_4f609ee6-f2c4-4122-a3c6-4063c17a3972             request.body: {} ssl_verify: False
2025-01-13 15:04:17.103 25 INFO cinder.volume.manager [None req-8b335a97-fdf7-44a7-90b8-b37c2295f3ad ea10df4edf1b4a63a26988e0104f0135 095b2a94f685475cb9edc7f325888dc7 - - - -] Transfer volume completed successfully.
2025-01-13 15:04:18.000 25 INFO cinder.volume.drivers.lightos [None req-7617bf55-04b6-4159-a1e9-9e39e1449f56 fa2ef4f164dc40fbb31e1c3f6119c444 af20c13f958141d2a681b9cf80c469db - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_92ad5e4e-2e7c-4462-be89-27ebf1816ec4             request.body: {} ssl_verify: False
2025-01-13 15:04:18.021 25 INFO cinder.volume.drivers.lightos [None req-7617bf55-04b6-4159-a1e9-9e39e1449f56 fa2ef4f164dc40fbb31e1c3f6119c444 af20c13f958141d2a681b9cf80c469db - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/3d6224ba-d48e-4541-abea-ec83a16ac8f1?             request.body:  ssl_verify: False
2025-01-13 15:04:18.068 25 INFO cinder.volume.drivers.lightos [None req-7617bf55-04b6-4159-a1e9-9e39e1449f56 fa2ef4f164dc40fbb31e1c3f6119c444 af20c13f958141d2a681b9cf80c469db - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/3d6224ba-d48e-4541-abea-ec83a16ac8f1             request.body: {} ssl_verify: False
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager [None req-7617bf55-04b6-4159-a1e9-9e39e1449f56 fa2ef4f164dc40fbb31e1c3f6119c444 af20c13f958141d2a681b9cf80c469db - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager 
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager 
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:18.109 25 ERROR cinder.volume.manager 
2025-01-13 15:04:18.139 25 INFO cinder.volume.manager [None req-7617bf55-04b6-4159-a1e9-9e39e1449f56 fa2ef4f164dc40fbb31e1c3f6119c444 af20c13f958141d2a681b9cf80c469db - - - -] Deleted volume successfully.
2025-01-13 15:04:18.247 25 INFO cinder.volume.drivers.lightos [None req-f48bef0d-b0a6-4644-b2ab-43601b1970db 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_4f609ee6-f2c4-4122-a3c6-4063c17a3972             request.body: {} ssl_verify: False
2025-01-13 15:04:18.270 25 INFO cinder.volume.drivers.lightos [None req-f48bef0d-b0a6-4644-b2ab-43601b1970db 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_4f609ee6-f2c4-4122-a3c6-4063c17a3972             request.body: {} ssl_verify: False
2025-01-13 15:04:18.290 25 INFO cinder.volume.drivers.lightos [None req-f48bef0d-b0a6-4644-b2ab-43601b1970db 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_4f609ee6-f2c4-4122-a3c6-4063c17a3972', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': 'for_clone_4f609ee6-f2c4-4122-a3c6-4063c17a3972'} ssl_verify: False
2025-01-13 15:04:18.338 25 INFO cinder.volume.drivers.lightos [None req-f48bef0d-b0a6-4644-b2ab-43601b1970db 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c5556916-734e-406b-8506-8f07a241b795             request.body: {} ssl_verify: False
2025-01-13 15:04:18.433 25 INFO cinder.volume.drivers.lightos [None req-f48bef0d-b0a6-4644-b2ab-43601b1970db 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_4f609ee6-f2c4-4122-a3c6-4063c17a3972             request.body: {} ssl_verify: False
2025-01-13 15:04:18.457 25 INFO cinder.volume.drivers.lightos [None req-f48bef0d-b0a6-4644-b2ab-43601b1970db 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/af1ca6dd-858b-4377-9be3-05d49d535ac7?             request.body:  ssl_verify: False
2025-01-13 15:04:18.493 25 INFO cinder.volume.drivers.lightos [None req-f48bef0d-b0a6-4644-b2ab-43601b1970db 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/af1ca6dd-858b-4377-9be3-05d49d535ac7             request.body: {} ssl_verify: False
2025-01-13 15:04:18.557 25 INFO cinder.volume.flows.manager.create_volume [None req-f48bef0d-b0a6-4644-b2ab-43601b1970db 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Volume vol_4f609ee6-f2c4-4122-a3c6-4063c17a3972 (4f609ee6-f2c4-4122-a3c6-4063c17a3972): created successfully
2025-01-13 15:04:18.565 25 INFO cinder.volume.manager [None req-f48bef0d-b0a6-4644-b2ab-43601b1970db 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Created volume successfully.
2025-01-13 15:04:19.477 25 INFO cinder.volume.flows.manager.create_volume [None req-be6bfddc-d4f1-433e-921b-36129de4e37a e112dfd5cde1477e967ea207ee7ea29f de75a47d5df94f148eb747e8367616a8 - - - -] Volume a2eaf731-6f1f-49f1-83f5-3cd96561d8f3: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_a2eaf731-6f1f-49f1-83f5-3cd96561d8f3', 'volume_size': 1}
2025-01-13 15:04:19.477 25 INFO cinder.volume.drivers.lightos [None req-be6bfddc-d4f1-433e-921b-36129de4e37a e112dfd5cde1477e967ea207ee7ea29f de75a47d5df94f148eb747e8367616a8 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_a2eaf731-6f1f-49f1-83f5-3cd96561d8f3             request.body: {} ssl_verify: False
2025-01-13 15:04:19.497 25 INFO cinder.volume.drivers.lightos [None req-be6bfddc-d4f1-433e-921b-36129de4e37a e112dfd5cde1477e967ea207ee7ea29f de75a47d5df94f148eb747e8367616a8 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_a2eaf731-6f1f-49f1-83f5-3cd96561d8f3', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:04:19.536 25 INFO cinder.volume.drivers.lightos [None req-be6bfddc-d4f1-433e-921b-36129de4e37a e112dfd5cde1477e967ea207ee7ea29f de75a47d5df94f148eb747e8367616a8 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/18ab2490-e729-4614-8f50-6132b8a7caed             request.body: {} ssl_verify: False
2025-01-13 15:04:19.660 25 INFO cinder.volume.flows.manager.create_volume [None req-438d02b4-fc9b-4a98-af97-ff29eea66e2c 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Volume 20d65ba6-b1c0-4b1a-8440-df277a6d5d12: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_20d65ba6-b1c0-4b1a-8440-df277a6d5d12', 'volume_size': 1}
2025-01-13 15:04:19.660 25 INFO cinder.volume.drivers.lightos [None req-438d02b4-fc9b-4a98-af97-ff29eea66e2c 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_20d65ba6-b1c0-4b1a-8440-df277a6d5d12             request.body: {} ssl_verify: False
2025-01-13 15:04:19.677 25 INFO cinder.volume.drivers.lightos [None req-438d02b4-fc9b-4a98-af97-ff29eea66e2c 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_20d65ba6-b1c0-4b1a-8440-df277a6d5d12', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:04:19.719 25 INFO cinder.volume.drivers.lightos [None req-438d02b4-fc9b-4a98-af97-ff29eea66e2c 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/215633fb-113b-4fee-b610-23640c855d24             request.body: {} ssl_verify: False
2025-01-13 15:04:20.619 25 INFO cinder.volume.drivers.lightos [None req-be6bfddc-d4f1-433e-921b-36129de4e37a e112dfd5cde1477e967ea207ee7ea29f de75a47d5df94f148eb747e8367616a8 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/18ab2490-e729-4614-8f50-6132b8a7caed             request.body: {} ssl_verify: False
2025-01-13 15:04:20.669 25 INFO cinder.volume.flows.manager.create_volume [None req-be6bfddc-d4f1-433e-921b-36129de4e37a e112dfd5cde1477e967ea207ee7ea29f de75a47d5df94f148eb747e8367616a8 - - - -] Volume vol_a2eaf731-6f1f-49f1-83f5-3cd96561d8f3 (a2eaf731-6f1f-49f1-83f5-3cd96561d8f3): created successfully
2025-01-13 15:04:20.679 25 INFO cinder.volume.manager [None req-be6bfddc-d4f1-433e-921b-36129de4e37a e112dfd5cde1477e967ea207ee7ea29f de75a47d5df94f148eb747e8367616a8 - - - -] Created volume successfully.
2025-01-13 15:04:20.839 25 INFO cinder.volume.drivers.lightos [None req-438d02b4-fc9b-4a98-af97-ff29eea66e2c 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/215633fb-113b-4fee-b610-23640c855d24             request.body: {} ssl_verify: False
2025-01-13 15:04:20.879 25 INFO cinder.volume.flows.manager.create_volume [None req-438d02b4-fc9b-4a98-af97-ff29eea66e2c 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Volume vol_20d65ba6-b1c0-4b1a-8440-df277a6d5d12 (20d65ba6-b1c0-4b1a-8440-df277a6d5d12): created successfully
2025-01-13 15:04:20.890 25 INFO cinder.volume.manager [None req-438d02b4-fc9b-4a98-af97-ff29eea66e2c 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Created volume successfully.
2025-01-13 15:04:21.890 25 INFO cinder.volume.drivers.lightos [None req-e64c3a76-bbd0-4cb7-8896-4c9d4fd7d8bc 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_20d65ba6-b1c0-4b1a-8440-df277a6d5d12             request.body: {} ssl_verify: False
2025-01-13 15:04:21.899 25 INFO cinder.volume.drivers.lightos [None req-a7f94125-094c-4420-9835-e077a8f14f4a fa2ef4f164dc40fbb31e1c3f6119c444 af20c13f958141d2a681b9cf80c469db - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_a2eaf731-6f1f-49f1-83f5-3cd96561d8f3             request.body: {} ssl_verify: False
2025-01-13 15:04:21.920 25 INFO cinder.volume.drivers.lightos [None req-e64c3a76-bbd0-4cb7-8896-4c9d4fd7d8bc 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/215633fb-113b-4fee-b610-23640c855d24?             request.body:  ssl_verify: False
2025-01-13 15:04:21.939 25 INFO cinder.volume.drivers.lightos [None req-a7f94125-094c-4420-9835-e077a8f14f4a fa2ef4f164dc40fbb31e1c3f6119c444 af20c13f958141d2a681b9cf80c469db - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/18ab2490-e729-4614-8f50-6132b8a7caed?             request.body:  ssl_verify: False
2025-01-13 15:04:21.989 25 INFO cinder.volume.drivers.lightos [None req-e64c3a76-bbd0-4cb7-8896-4c9d4fd7d8bc 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/215633fb-113b-4fee-b610-23640c855d24             request.body: {} ssl_verify: False
2025-01-13 15:04:22.024 25 INFO cinder.volume.drivers.lightos [None req-a7f94125-094c-4420-9835-e077a8f14f4a fa2ef4f164dc40fbb31e1c3f6119c444 af20c13f958141d2a681b9cf80c469db - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/18ab2490-e729-4614-8f50-6132b8a7caed             request.body: {} ssl_verify: False
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager [None req-e64c3a76-bbd0-4cb7-8896-4c9d4fd7d8bc 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager 
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager 
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:22.072 25 ERROR cinder.volume.manager 
2025-01-13 15:04:22.099 25 INFO cinder.volume.manager [None req-e64c3a76-bbd0-4cb7-8896-4c9d4fd7d8bc 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Deleted volume successfully.
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager [None req-a7f94125-094c-4420-9835-e077a8f14f4a fa2ef4f164dc40fbb31e1c3f6119c444 af20c13f958141d2a681b9cf80c469db - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager 
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager 
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:22.137 25 ERROR cinder.volume.manager 
2025-01-13 15:04:22.165 25 INFO cinder.volume.manager [None req-a7f94125-094c-4420-9835-e077a8f14f4a fa2ef4f164dc40fbb31e1c3f6119c444 af20c13f958141d2a681b9cf80c469db - - - -] Deleted volume successfully.
2025-01-13 15:04:23.087 25 INFO cinder.volume.drivers.lightos [None req-2c7f9a41-aa0d-4a52-b426-11d966e67376 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_4f609ee6-f2c4-4122-a3c6-4063c17a3972             request.body: {} ssl_verify: False
2025-01-13 15:04:23.105 25 INFO cinder.volume.drivers.lightos [None req-2c7f9a41-aa0d-4a52-b426-11d966e67376 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/c5556916-734e-406b-8506-8f07a241b795?             request.body:  ssl_verify: False
2025-01-13 15:04:23.140 25 INFO cinder.volume.drivers.lightos [None req-2c7f9a41-aa0d-4a52-b426-11d966e67376 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c5556916-734e-406b-8506-8f07a241b795             request.body: {} ssl_verify: False
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager [None req-2c7f9a41-aa0d-4a52-b426-11d966e67376 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager 
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager 
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:23.169 25 ERROR cinder.volume.manager 
2025-01-13 15:04:23.200 25 INFO cinder.volume.manager [None req-2c7f9a41-aa0d-4a52-b426-11d966e67376 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Deleted volume successfully.
2025-01-13 15:04:24.302 25 INFO cinder.volume.drivers.lightos [None req-cbb5cfbe-9926-4bb1-9f15-a0dfbf8f719c 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_a5245d9d-4319-401d-8f70-08260dc4e0d9             request.body: {} ssl_verify: False
2025-01-13 15:04:24.333 25 INFO cinder.volume.drivers.lightos [None req-cbb5cfbe-9926-4bb1-9f15-a0dfbf8f719c 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/a28d569d-0a3e-4e61-aa2b-5b66fa75850a?             request.body:  ssl_verify: False
2025-01-13 15:04:24.492 25 INFO cinder.volume.drivers.lightos [None req-cbb5cfbe-9926-4bb1-9f15-a0dfbf8f719c 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/a28d569d-0a3e-4e61-aa2b-5b66fa75850a             request.body: {} ssl_verify: False
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager [None req-cbb5cfbe-9926-4bb1-9f15-a0dfbf8f719c 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager 
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager 
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:24.550 25 ERROR cinder.volume.manager 
2025-01-13 15:04:24.579 25 INFO cinder.volume.manager [None req-cbb5cfbe-9926-4bb1-9f15-a0dfbf8f719c 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Deleted volume successfully.
2025-01-13 15:04:25.956 25 INFO cinder.volume.flows.manager.create_volume [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Volume b5622734-e105-4556-a00f-72ae8b3a9292: being created as image with specification: {'status': 'creating', 'volume_name': 'vol_b5622734-e105-4556-a00f-72ae8b3a9292', 'volume_size': 1, 'image_id': '4750b270-4234-4361-8332-29002e5eea4e', 'image_location': (None, None), 'image_meta': {'name': 'cirros', 'disk_format': 'qcow2', 'container_format': 'bare', 'visibility': 'public', 'size': 12716032, 'virtual_size': 46137344, 'status': 'active', 'checksum': '443b7623e27ecf03dc9e01ee93f67afe', 'protected': False, 'min_ram': 0, 'min_disk': 0, 'owner': '0eac1ff84c4b4af5a7e389a9fdfa4f07', 'os_hidden': False, 'os_hash_algo': 'sha512', 'os_hash_value': '6513f21e44aa3da349f248188a44bc304a3653a04122d8fb4535423c8e1d14cd6a153f735bb0982e2161b5b5186106570c17a9e58b64dd39390617cd5a350f78', 'id': '4750b270-4234-4361-8332-29002e5eea4e', 'created_at': datetime.datetime(2025, 1, 13, 12, 10, 20, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 1, 13, 12, 10, 20, tzinfo=datetime.timezone.utc), 'tags': [], 'file': '/v2/images/4750b270-4234-4361-8332-29002e5eea4e/file', 'stores': 'file', 'properties': {'owner_specified.openstack.md5': '', 'owner_specified.openstack.sha256': '', 'owner_specified.openstack.object': 'images/cirros'}}, 'image_service': <cinder.image.glance.GlanceImageService object at 0x7f0bb0792a10>}
2025-01-13 15:04:27.105 25 INFO cinder.image.image_utils [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Image download 12.13 MB at 10.61 MB/s
2025-01-13 15:04:27.233 25 INFO cinder.volume.flows.manager.create_volume [None req-1862e897-81df-4b59-a86e-a8c7584a60cf 01d9f356ef734e0bb4c1c142da38e467 8b1ddb8714b5404eb756d51ca5d756f4 - - - -] Volume 1df7c46d-adc6-4e80-aef4-0eb303a7997e: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_1df7c46d-adc6-4e80-aef4-0eb303a7997e', 'volume_size': 2}
2025-01-13 15:04:27.234 25 INFO cinder.volume.drivers.lightos [None req-1862e897-81df-4b59-a86e-a8c7584a60cf 01d9f356ef734e0bb4c1c142da38e467 8b1ddb8714b5404eb756d51ca5d756f4 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_1df7c46d-adc6-4e80-aef4-0eb303a7997e             request.body: {} ssl_verify: False
2025-01-13 15:04:27.250 25 INFO cinder.volume.drivers.lightos [None req-1862e897-81df-4b59-a86e-a8c7584a60cf 01d9f356ef734e0bb4c1c142da38e467 8b1ddb8714b5404eb756d51ca5d756f4 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_1df7c46d-adc6-4e80-aef4-0eb303a7997e', 'size': '2 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:04:27.288 25 INFO cinder.volume.drivers.lightos [None req-1862e897-81df-4b59-a86e-a8c7584a60cf 01d9f356ef734e0bb4c1c142da38e467 8b1ddb8714b5404eb756d51ca5d756f4 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/e446f1b6-0219-4783-be67-64b4d39f557d             request.body: {} ssl_verify: False
2025-01-13 15:04:27.788 25 INFO cinder.volume.drivers.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_b5622734-e105-4556-a00f-72ae8b3a9292             request.body: {} ssl_verify: False
2025-01-13 15:04:27.812 25 INFO cinder.volume.drivers.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_b5622734-e105-4556-a00f-72ae8b3a9292', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:04:27.851 25 INFO cinder.volume.drivers.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ea5bce2c-f50e-42e7-b1a1-8fc05a8ec04c             request.body: {} ssl_verify: False
2025-01-13 15:04:28.340 25 INFO cinder.volume.drivers.lightos [None req-1862e897-81df-4b59-a86e-a8c7584a60cf 01d9f356ef734e0bb4c1c142da38e467 8b1ddb8714b5404eb756d51ca5d756f4 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/e446f1b6-0219-4783-be67-64b4d39f557d             request.body: {} ssl_verify: False
2025-01-13 15:04:28.384 25 INFO cinder.volume.flows.manager.create_volume [None req-1862e897-81df-4b59-a86e-a8c7584a60cf 01d9f356ef734e0bb4c1c142da38e467 8b1ddb8714b5404eb756d51ca5d756f4 - - - -] Volume vol_1df7c46d-adc6-4e80-aef4-0eb303a7997e (1df7c46d-adc6-4e80-aef4-0eb303a7997e): created successfully
2025-01-13 15:04:28.393 25 INFO cinder.volume.manager [None req-1862e897-81df-4b59-a86e-a8c7584a60cf 01d9f356ef734e0bb4c1c142da38e467 8b1ddb8714b5404eb756d51ca5d756f4 - - - -] Created volume successfully.
2025-01-13 15:04:28.919 25 INFO cinder.volume.drivers.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ea5bce2c-f50e-42e7-b1a1-8fc05a8ec04c             request.body: {} ssl_verify: False
2025-01-13 15:04:29.007 25 INFO os_brick.initiator.connectors.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Current host hostNQN nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc and IP(s) are ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', 'fe80::4099:911b:7117:6464'] 
2025-01-13 15:04:29.008 25 INFO cinder.volume.drivers.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Current host hostNQN is nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc and IP(s) are ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', 'fe80::4099:911b:7117:6464']
2025-01-13 15:04:29.009 25 INFO cinder.volume.drivers.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_b5622734-e105-4556-a00f-72ae8b3a9292             request.body: {} ssl_verify: False
2025-01-13 15:04:29.031 25 INFO cinder.volume.drivers.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking update_volume using PUT url: /api/v2/projects/default/volumes/ea5bce2c-f50e-42e7-b1a1-8fc05a8ec04c             request.body: {'acl': {'values': ['nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc']}, 'IPAcl': {'values': ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fe80::4099:911b:7117:6464', 'fd00::a:13:2c:7']}} ssl_verify: False
2025-01-13 15:04:29.071 25 INFO cinder.volume.drivers.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_b5622734-e105-4556-a00f-72ae8b3a9292             request.body: {} ssl_verify: False
2025-01-13 15:04:29.547 25 INFO cinder.volume.drivers.lightos [None req-41f230f7-7094-4c61-bd34-7c1c97c8a856 01d9f356ef734e0bb4c1c142da38e467 8b1ddb8714b5404eb756d51ca5d756f4 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_1df7c46d-adc6-4e80-aef4-0eb303a7997e             request.body: {} ssl_verify: False
2025-01-13 15:04:29.570 25 INFO cinder.volume.drivers.lightos [None req-41f230f7-7094-4c61-bd34-7c1c97c8a856 01d9f356ef734e0bb4c1c142da38e467 8b1ddb8714b5404eb756d51ca5d756f4 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/e446f1b6-0219-4783-be67-64b4d39f557d?             request.body:  ssl_verify: False
2025-01-13 15:04:29.609 25 INFO cinder.volume.drivers.lightos [None req-41f230f7-7094-4c61-bd34-7c1c97c8a856 01d9f356ef734e0bb4c1c142da38e467 8b1ddb8714b5404eb756d51ca5d756f4 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/e446f1b6-0219-4783-be67-64b4d39f557d             request.body: {} ssl_verify: False
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager [None req-41f230f7-7094-4c61-bd34-7c1c97c8a856 01d9f356ef734e0bb4c1c142da38e467 8b1ddb8714b5404eb756d51ca5d756f4 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager 
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager 
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:29.716 25 ERROR cinder.volume.manager 
2025-01-13 15:04:29.745 25 INFO cinder.volume.manager [None req-41f230f7-7094-4c61-bd34-7c1c97c8a856 01d9f356ef734e0bb4c1c142da38e467 8b1ddb8714b5404eb756d51ca5d756f4 - - - -] Deleted volume successfully.
2025-01-13 15:04:30.104 25 INFO cinder.volume.drivers.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_b5622734-e105-4556-a00f-72ae8b3a9292             request.body: {} ssl_verify: False
2025-01-13 15:04:30.126 25 INFO cinder.volume.drivers.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_b5622734-e105-4556-a00f-72ae8b3a9292             request.body: {} ssl_verify: False
2025-01-13 15:04:30.151 25 INFO cinder.volume.drivers.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_b5622734-e105-4556-a00f-72ae8b3a9292             request.body: {} ssl_verify: False
2025-01-13 15:04:30.175 25 INFO os_brick.initiator.connectors.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] LIGHTOS: connect_volume called for volume ea5bce2c-f50e-42e7-b1a1-8fc05a8ec04c, connection properties: {'lightos_nodes': {'[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}, '[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}, '[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}}, 'uuid': 'ea5bce2c-f50e-42e7-b1a1-8fc05a8ec04c', 'subsysnqn': 'nqn.2016-01.com.lightbitslabs:uuid:ed93b30a-10c9-4020-b8d0-0edc696e5120:suffix', 'encrypted': False}
2025-01-13 15:04:30.179 25 INFO os_brick.initiator.connectors.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] LIGHTOS: devpath /dev/nvme0n1 detected for uuid ea5bce2c-f50e-42e7-b1a1-8fc05a8ec04c
2025-01-13 15:04:32.242 25 INFO cinder.image.image_utils [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Converted 44.00 MB image at 44.00 MB/s
2025-01-13 15:04:32.246 25 INFO os_brick.initiator.connectors.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] LIGHTOS: devpath /dev/nvme0n1 detected for uuid ea5bce2c-f50e-42e7-b1a1-8fc05a8ec04c
2025-01-13 15:04:32.260 25 INFO cinder.volume.drivers.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_b5622734-e105-4556-a00f-72ae8b3a9292             request.body: {} ssl_verify: False
2025-01-13 15:04:32.282 25 INFO cinder.volume.drivers.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking update_volume using PUT url: /api/v2/projects/default/volumes/ea5bce2c-f50e-42e7-b1a1-8fc05a8ec04c             request.body: {'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}} ssl_verify: False
2025-01-13 15:04:32.306 25 INFO cinder.volume.drivers.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_b5622734-e105-4556-a00f-72ae8b3a9292             request.body: {} ssl_verify: False
2025-01-13 15:04:33.347 25 INFO cinder.volume.drivers.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_b5622734-e105-4556-a00f-72ae8b3a9292             request.body: {} ssl_verify: False
2025-01-13 15:04:33.369 25 INFO cinder.volume.drivers.lightos [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_b5622734-e105-4556-a00f-72ae8b3a9292             request.body: {} ssl_verify: False
2025-01-13 15:04:33.464 25 INFO cinder.volume.flows.manager.create_volume [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Volume vol_b5622734-e105-4556-a00f-72ae8b3a9292 (b5622734-e105-4556-a00f-72ae8b3a9292): created successfully
2025-01-13 15:04:33.473 25 INFO cinder.volume.manager [None req-747f576f-d5d4-4c75-86f4-00a012bcdada 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Created volume successfully.
2025-01-13 15:04:34.931 25 INFO cinder.volume.flows.manager.create_volume [None req-b7c53080-f228-402e-b254-85c2fef7ef4e 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Volume 29495276-616e-4380-8140-8f75182db13e: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_29495276-616e-4380-8140-8f75182db13e', 'volume_size': 1}
2025-01-13 15:04:34.932 25 INFO cinder.volume.drivers.lightos [None req-b7c53080-f228-402e-b254-85c2fef7ef4e 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_29495276-616e-4380-8140-8f75182db13e             request.body: {} ssl_verify: False
2025-01-13 15:04:34.946 25 INFO cinder.volume.drivers.lightos [None req-b7c53080-f228-402e-b254-85c2fef7ef4e 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_29495276-616e-4380-8140-8f75182db13e', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:04:34.983 25 INFO cinder.volume.drivers.lightos [None req-b7c53080-f228-402e-b254-85c2fef7ef4e 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/4f09f21a-34ea-4f21-910b-3f349bfc4c0e             request.body: {} ssl_verify: False
2025-01-13 15:04:36.029 25 INFO cinder.volume.drivers.lightos [None req-b7c53080-f228-402e-b254-85c2fef7ef4e 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/4f09f21a-34ea-4f21-910b-3f349bfc4c0e             request.body: {} ssl_verify: False
2025-01-13 15:04:36.067 25 INFO cinder.volume.flows.manager.create_volume [None req-b7c53080-f228-402e-b254-85c2fef7ef4e 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Volume vol_29495276-616e-4380-8140-8f75182db13e (29495276-616e-4380-8140-8f75182db13e): created successfully
2025-01-13 15:04:36.076 25 INFO cinder.volume.manager [None req-b7c53080-f228-402e-b254-85c2fef7ef4e 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Created volume successfully.
2025-01-13 15:04:37.146 25 INFO cinder.volume.drivers.lightos [None req-4a87b7d4-24ee-4143-8ca8-7a69d0a2a4c8 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_29495276-616e-4380-8140-8f75182db13e             request.body: {} ssl_verify: False
2025-01-13 15:04:37.162 25 INFO cinder.volume.drivers.lightos [None req-4a87b7d4-24ee-4143-8ca8-7a69d0a2a4c8 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/4f09f21a-34ea-4f21-910b-3f349bfc4c0e?             request.body:  ssl_verify: False
2025-01-13 15:04:37.189 25 INFO cinder.volume.drivers.lightos [None req-4a87b7d4-24ee-4143-8ca8-7a69d0a2a4c8 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/4f09f21a-34ea-4f21-910b-3f349bfc4c0e             request.body: {} ssl_verify: False
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager [None req-4a87b7d4-24ee-4143-8ca8-7a69d0a2a4c8 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager 
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager 
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:37.228 25 ERROR cinder.volume.manager 
2025-01-13 15:04:37.256 25 INFO cinder.volume.manager [None req-4a87b7d4-24ee-4143-8ca8-7a69d0a2a4c8 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Deleted volume successfully.
2025-01-13 15:04:38.294 25 INFO cinder.volume.drivers.lightos [None req-f4b13d9a-4fc7-4454-a4bd-5e5196834482 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_b5622734-e105-4556-a00f-72ae8b3a9292             request.body: {} ssl_verify: False
2025-01-13 15:04:38.313 25 INFO cinder.volume.drivers.lightos [None req-f4b13d9a-4fc7-4454-a4bd-5e5196834482 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/ea5bce2c-f50e-42e7-b1a1-8fc05a8ec04c?             request.body:  ssl_verify: False
2025-01-13 15:04:38.344 25 INFO cinder.volume.drivers.lightos [None req-f4b13d9a-4fc7-4454-a4bd-5e5196834482 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ea5bce2c-f50e-42e7-b1a1-8fc05a8ec04c             request.body: {} ssl_verify: False
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager [None req-f4b13d9a-4fc7-4454-a4bd-5e5196834482 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager 
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager 
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:38.376 25 ERROR cinder.volume.manager 
2025-01-13 15:04:38.407 25 INFO cinder.volume.manager [None req-f4b13d9a-4fc7-4454-a4bd-5e5196834482 8e21c53d453f4c2495a4930d43d97415 726b875bdf9944659ff33012e5ba2549 - - - -] Deleted volume successfully.
2025-01-13 15:04:43.116 25 INFO cinder.volume.flows.manager.create_volume [None req-f46fcf2d-9bd2-49ab-a3f3-6decb9ced41f a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Volume f2d41456-e9ab-482d-a676-140f1b7f9912: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_f2d41456-e9ab-482d-a676-140f1b7f9912', 'volume_size': 1}
2025-01-13 15:04:43.116 25 INFO cinder.volume.drivers.lightos [None req-f46fcf2d-9bd2-49ab-a3f3-6decb9ced41f a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f2d41456-e9ab-482d-a676-140f1b7f9912             request.body: {} ssl_verify: False
2025-01-13 15:04:43.132 25 INFO cinder.volume.drivers.lightos [None req-f46fcf2d-9bd2-49ab-a3f3-6decb9ced41f a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_f2d41456-e9ab-482d-a676-140f1b7f9912', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:04:43.191 25 INFO cinder.volume.drivers.lightos [None req-f46fcf2d-9bd2-49ab-a3f3-6decb9ced41f a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/3eef686f-b647-4bac-945b-90bc5f446e0e             request.body: {} ssl_verify: False
2025-01-13 15:04:44.216 25 INFO cinder.volume.drivers.lightos [None req-f46fcf2d-9bd2-49ab-a3f3-6decb9ced41f a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/3eef686f-b647-4bac-945b-90bc5f446e0e             request.body: {} ssl_verify: False
2025-01-13 15:04:44.251 25 INFO cinder.volume.flows.manager.create_volume [None req-f46fcf2d-9bd2-49ab-a3f3-6decb9ced41f a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Volume vol_f2d41456-e9ab-482d-a676-140f1b7f9912 (f2d41456-e9ab-482d-a676-140f1b7f9912): created successfully
2025-01-13 15:04:44.263 25 INFO cinder.volume.manager [None req-f46fcf2d-9bd2-49ab-a3f3-6decb9ced41f a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Created volume successfully.
2025-01-13 15:04:45.618 25 INFO cinder.volume.flows.manager.create_volume [None req-bec5f2fb-593d-4df5-a325-10977e1abdc7 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Volume d200bcf3-8ba6-47b0-a748-be69d9ccfeac: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_d200bcf3-8ba6-47b0-a748-be69d9ccfeac', 'volume_size': 1}
2025-01-13 15:04:45.618 25 INFO cinder.volume.drivers.lightos [None req-bec5f2fb-593d-4df5-a325-10977e1abdc7 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_d200bcf3-8ba6-47b0-a748-be69d9ccfeac             request.body: {} ssl_verify: False
2025-01-13 15:04:45.632 25 INFO cinder.volume.drivers.lightos [None req-bec5f2fb-593d-4df5-a325-10977e1abdc7 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_d200bcf3-8ba6-47b0-a748-be69d9ccfeac', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:04:45.681 25 INFO cinder.volume.drivers.lightos [None req-bec5f2fb-593d-4df5-a325-10977e1abdc7 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/eeb78174-1779-4fc9-8563-2e88bed3b9e8             request.body: {} ssl_verify: False
2025-01-13 15:04:46.710 25 INFO cinder.volume.drivers.lightos [None req-bec5f2fb-593d-4df5-a325-10977e1abdc7 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/eeb78174-1779-4fc9-8563-2e88bed3b9e8             request.body: {} ssl_verify: False
2025-01-13 15:04:46.745 25 INFO cinder.volume.flows.manager.create_volume [None req-bec5f2fb-593d-4df5-a325-10977e1abdc7 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Volume vol_d200bcf3-8ba6-47b0-a748-be69d9ccfeac (d200bcf3-8ba6-47b0-a748-be69d9ccfeac): created successfully
2025-01-13 15:04:46.754 25 INFO cinder.volume.manager [None req-bec5f2fb-593d-4df5-a325-10977e1abdc7 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Created volume successfully.
2025-01-13 15:04:48.095 25 INFO cinder.volume.flows.manager.create_volume [None req-522c654a-9247-4a8b-b196-bc4e217a03b0 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Volume f6ecd86f-b1fe-41bd-993f-9c84524e2205: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_f6ecd86f-b1fe-41bd-993f-9c84524e2205', 'volume_size': 1}
2025-01-13 15:04:48.095 25 INFO cinder.volume.drivers.lightos [None req-522c654a-9247-4a8b-b196-bc4e217a03b0 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f6ecd86f-b1fe-41bd-993f-9c84524e2205             request.body: {} ssl_verify: False
2025-01-13 15:04:48.109 25 INFO cinder.volume.drivers.lightos [None req-522c654a-9247-4a8b-b196-bc4e217a03b0 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_f6ecd86f-b1fe-41bd-993f-9c84524e2205', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:04:48.149 25 INFO cinder.volume.drivers.lightos [None req-522c654a-9247-4a8b-b196-bc4e217a03b0 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/9b21a996-7396-42d9-b330-f8e862a56400             request.body: {} ssl_verify: False
2025-01-13 15:04:49.196 25 INFO cinder.volume.drivers.lightos [None req-522c654a-9247-4a8b-b196-bc4e217a03b0 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/9b21a996-7396-42d9-b330-f8e862a56400             request.body: {} ssl_verify: False
2025-01-13 15:04:49.231 25 INFO cinder.volume.flows.manager.create_volume [None req-522c654a-9247-4a8b-b196-bc4e217a03b0 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Volume vol_f6ecd86f-b1fe-41bd-993f-9c84524e2205 (f6ecd86f-b1fe-41bd-993f-9c84524e2205): created successfully
2025-01-13 15:04:49.240 25 INFO cinder.volume.manager [None req-522c654a-9247-4a8b-b196-bc4e217a03b0 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Created volume successfully.
2025-01-13 15:04:51.939 25 INFO cinder.volume.drivers.lightos [None req-1f5e1f47-9e4f-47c4-a197-3eeb63909e3c a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f6ecd86f-b1fe-41bd-993f-9c84524e2205             request.body: {} ssl_verify: False
2025-01-13 15:04:51.954 25 INFO cinder.volume.drivers.lightos [None req-1f5e1f47-9e4f-47c4-a197-3eeb63909e3c a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/9b21a996-7396-42d9-b330-f8e862a56400?             request.body:  ssl_verify: False
2025-01-13 15:04:52.002 25 INFO cinder.volume.drivers.lightos [None req-1f5e1f47-9e4f-47c4-a197-3eeb63909e3c a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/9b21a996-7396-42d9-b330-f8e862a56400             request.body: {} ssl_verify: False
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager [None req-1f5e1f47-9e4f-47c4-a197-3eeb63909e3c a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager 
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager 
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:52.044 25 ERROR cinder.volume.manager 
2025-01-13 15:04:52.074 25 INFO cinder.volume.manager [None req-1f5e1f47-9e4f-47c4-a197-3eeb63909e3c a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Deleted volume successfully.
2025-01-13 15:04:53.153 25 INFO cinder.volume.drivers.lightos [None req-900fc30c-b1df-41b4-a5cd-2944ee8a8096 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_d200bcf3-8ba6-47b0-a748-be69d9ccfeac             request.body: {} ssl_verify: False
2025-01-13 15:04:53.170 25 INFO cinder.volume.drivers.lightos [None req-900fc30c-b1df-41b4-a5cd-2944ee8a8096 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/eeb78174-1779-4fc9-8563-2e88bed3b9e8?             request.body:  ssl_verify: False
2025-01-13 15:04:53.202 25 INFO cinder.volume.drivers.lightos [None req-900fc30c-b1df-41b4-a5cd-2944ee8a8096 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/eeb78174-1779-4fc9-8563-2e88bed3b9e8             request.body: {} ssl_verify: False
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager [None req-900fc30c-b1df-41b4-a5cd-2944ee8a8096 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager 
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager 
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:53.248 25 ERROR cinder.volume.manager 
2025-01-13 15:04:53.277 25 INFO cinder.volume.manager [None req-900fc30c-b1df-41b4-a5cd-2944ee8a8096 a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Deleted volume successfully.
2025-01-13 15:04:54.373 25 INFO cinder.volume.drivers.lightos [None req-e2669b49-0fb5-4859-aa85-e3a7d427cb2e a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f2d41456-e9ab-482d-a676-140f1b7f9912             request.body: {} ssl_verify: False
2025-01-13 15:04:54.390 25 INFO cinder.volume.drivers.lightos [None req-e2669b49-0fb5-4859-aa85-e3a7d427cb2e a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/3eef686f-b647-4bac-945b-90bc5f446e0e?             request.body:  ssl_verify: False
2025-01-13 15:04:54.424 25 INFO cinder.volume.drivers.lightos [None req-e2669b49-0fb5-4859-aa85-e3a7d427cb2e a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/3eef686f-b647-4bac-945b-90bc5f446e0e             request.body: {} ssl_verify: False
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager [None req-e2669b49-0fb5-4859-aa85-e3a7d427cb2e a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager 
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager 
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:04:54.468 25 ERROR cinder.volume.manager 
2025-01-13 15:04:54.502 25 INFO cinder.volume.manager [None req-e2669b49-0fb5-4859-aa85-e3a7d427cb2e a33445886d664354a479bbd3d9596c7b 2e4b4481fcb440128e193f6b1fd9a3ea - - - -] Deleted volume successfully.
2025-01-13 15:04:59.247 25 INFO cinder.volume.flows.manager.create_volume [None req-73095419-6768-45b2-a780-2c6c3ffe7f0f c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Volume ea3a685d-3a96-440a-a119-601b2a94f65f: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_ea3a685d-3a96-440a-a119-601b2a94f65f', 'volume_size': 2}
2025-01-13 15:04:59.247 25 INFO cinder.volume.drivers.lightos [None req-73095419-6768-45b2-a780-2c6c3ffe7f0f c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_ea3a685d-3a96-440a-a119-601b2a94f65f             request.body: {} ssl_verify: False
2025-01-13 15:04:59.262 25 INFO cinder.volume.drivers.lightos [None req-73095419-6768-45b2-a780-2c6c3ffe7f0f c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_ea3a685d-3a96-440a-a119-601b2a94f65f', 'size': '2 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:04:59.299 25 INFO cinder.volume.drivers.lightos [None req-73095419-6768-45b2-a780-2c6c3ffe7f0f c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/e3bc7a4d-5a40-459f-abe7-baf25ee1e807             request.body: {} ssl_verify: False
2025-01-13 15:05:00.325 25 INFO cinder.volume.drivers.lightos [None req-73095419-6768-45b2-a780-2c6c3ffe7f0f c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/e3bc7a4d-5a40-459f-abe7-baf25ee1e807             request.body: {} ssl_verify: False
2025-01-13 15:05:00.364 25 INFO cinder.volume.flows.manager.create_volume [None req-73095419-6768-45b2-a780-2c6c3ffe7f0f c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Volume vol_ea3a685d-3a96-440a-a119-601b2a94f65f (ea3a685d-3a96-440a-a119-601b2a94f65f): created successfully
2025-01-13 15:05:00.376 25 INFO cinder.volume.manager [None req-73095419-6768-45b2-a780-2c6c3ffe7f0f c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Created volume successfully.
2025-01-13 15:05:01.580 25 INFO cinder.volume.drivers.lightos [None req-e0c95c20-75bc-4b0b-acb8-7237688e9933 c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-66b9df61-67cc-4e3e-88f6-3750c2f4949f             request.body: {} ssl_verify: False
2025-01-13 15:05:01.595 25 INFO cinder.volume.drivers.lightos [None req-e0c95c20-75bc-4b0b-acb8-7237688e9933 c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-66b9df61-67cc-4e3e-88f6-3750c2f4949f', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_ea3a685d-3a96-440a-a119-601b2a94f65f'} ssl_verify: False
2025-01-13 15:05:01.639 25 INFO cinder.volume.drivers.lightos [None req-e0c95c20-75bc-4b0b-acb8-7237688e9933 c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-66b9df61-67cc-4e3e-88f6-3750c2f4949f             request.body: {} ssl_verify: False
2025-01-13 15:05:02.735 25 INFO cinder.volume.drivers.lightos [None req-e0c95c20-75bc-4b0b-acb8-7237688e9933 c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-66b9df61-67cc-4e3e-88f6-3750c2f4949f             request.body: {} ssl_verify: False
2025-01-13 15:05:02.806 25 INFO cinder.volume.manager [None req-e0c95c20-75bc-4b0b-acb8-7237688e9933 c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Create snapshot completed successfully
2025-01-13 15:05:03.800 25 INFO cinder.volume.drivers.lightos [None req-785e4f8c-1fab-4ff5-8ce1-f294ca1e6a49 c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-66b9df61-67cc-4e3e-88f6-3750c2f4949f             request.body: {} ssl_verify: False
2025-01-13 15:05:03.820 25 INFO cinder.volume.drivers.lightos [None req-785e4f8c-1fab-4ff5-8ce1-f294ca1e6a49 c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/bc15eaf4-f366-4ba6-b115-3d995d5baf85?             request.body:  ssl_verify: False
2025-01-13 15:05:03.855 25 INFO cinder.volume.drivers.lightos [None req-785e4f8c-1fab-4ff5-8ce1-f294ca1e6a49 c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/bc15eaf4-f366-4ba6-b115-3d995d5baf85             request.body: {} ssl_verify: False
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager [None req-785e4f8c-1fab-4ff5-8ce1-f294ca1e6a49 c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager 
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager 
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:05:03.915 25 ERROR cinder.volume.manager 
2025-01-13 15:05:03.926 25 INFO cinder.volume.manager [None req-785e4f8c-1fab-4ff5-8ce1-f294ca1e6a49 c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Delete snapshot completed successfully.
2025-01-13 15:05:05.012 25 INFO cinder.volume.drivers.lightos [None req-a4af7765-e091-4d2e-ad31-e264abf24aeb c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_ea3a685d-3a96-440a-a119-601b2a94f65f             request.body: {} ssl_verify: False
2025-01-13 15:05:05.030 25 INFO cinder.volume.drivers.lightos [None req-a4af7765-e091-4d2e-ad31-e264abf24aeb c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/e3bc7a4d-5a40-459f-abe7-baf25ee1e807?             request.body:  ssl_verify: False
2025-01-13 15:05:05.081 25 INFO cinder.volume.drivers.lightos [None req-a4af7765-e091-4d2e-ad31-e264abf24aeb c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/e3bc7a4d-5a40-459f-abe7-baf25ee1e807             request.body: {} ssl_verify: False
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager [None req-a4af7765-e091-4d2e-ad31-e264abf24aeb c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager 
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager 
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:05:05.149 25 ERROR cinder.volume.manager 
2025-01-13 15:05:05.184 25 INFO cinder.volume.manager [None req-a4af7765-e091-4d2e-ad31-e264abf24aeb c30698b8a30541c4947f8ae369475340 128354eca3d34bd99b9eb5d880e59b44 - - - -] Deleted volume successfully.
2025-01-13 15:07:40.834 25 INFO cinder.volume.flows.manager.create_volume [None req-653431c2-6d37-4137-b977-624f2de9d99e 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Volume 783bd30a-6dbc-4387-83e1-4048a918f2ff: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_783bd30a-6dbc-4387-83e1-4048a918f2ff', 'volume_size': 1}
2025-01-13 15:07:40.835 25 INFO cinder.volume.drivers.lightos [None req-653431c2-6d37-4137-b977-624f2de9d99e 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_783bd30a-6dbc-4387-83e1-4048a918f2ff             request.body: {} ssl_verify: False
2025-01-13 15:07:40.857 25 INFO cinder.volume.drivers.lightos [None req-653431c2-6d37-4137-b977-624f2de9d99e 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_783bd30a-6dbc-4387-83e1-4048a918f2ff', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:07:40.899 25 INFO cinder.volume.drivers.lightos [None req-653431c2-6d37-4137-b977-624f2de9d99e 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/725b2ee6-8e44-4bb2-9b9a-ef55d4bf3bc5             request.body: {} ssl_verify: False
2025-01-13 15:07:41.951 25 INFO cinder.volume.drivers.lightos [None req-653431c2-6d37-4137-b977-624f2de9d99e 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/725b2ee6-8e44-4bb2-9b9a-ef55d4bf3bc5             request.body: {} ssl_verify: False
2025-01-13 15:07:41.995 25 INFO cinder.volume.flows.manager.create_volume [None req-653431c2-6d37-4137-b977-624f2de9d99e 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Volume vol_783bd30a-6dbc-4387-83e1-4048a918f2ff (783bd30a-6dbc-4387-83e1-4048a918f2ff): created successfully
2025-01-13 15:07:42.007 25 INFO cinder.volume.manager [None req-653431c2-6d37-4137-b977-624f2de9d99e 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Created volume successfully.
2025-01-13 15:07:43.145 25 INFO cinder.volume.drivers.lightos [None req-a0e014b5-bb39-4a7b-acc3-b5cb0afc04fb 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-38ad1394-473e-42b1-accb-558aafa9ee51             request.body: {} ssl_verify: False
2025-01-13 15:07:43.163 25 INFO cinder.volume.drivers.lightos [None req-a0e014b5-bb39-4a7b-acc3-b5cb0afc04fb 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-38ad1394-473e-42b1-accb-558aafa9ee51', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_783bd30a-6dbc-4387-83e1-4048a918f2ff'} ssl_verify: False
2025-01-13 15:07:43.255 25 INFO cinder.volume.drivers.lightos [None req-a0e014b5-bb39-4a7b-acc3-b5cb0afc04fb 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-38ad1394-473e-42b1-accb-558aafa9ee51             request.body: {} ssl_verify: False
2025-01-13 15:07:44.336 25 INFO cinder.volume.drivers.lightos [None req-a0e014b5-bb39-4a7b-acc3-b5cb0afc04fb 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-38ad1394-473e-42b1-accb-558aafa9ee51             request.body: {} ssl_verify: False
2025-01-13 15:07:44.383 25 INFO cinder.volume.manager [None req-a0e014b5-bb39-4a7b-acc3-b5cb0afc04fb 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Create snapshot completed successfully
2025-01-13 15:07:45.410 25 INFO cinder.volume.drivers.lightos [None req-f5bbd7d2-9663-4e8c-8c5a-6c819840f556 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-9e31805c-5763-4adf-95cf-9a7a9b367343             request.body: {} ssl_verify: False
2025-01-13 15:07:45.426 25 INFO cinder.volume.drivers.lightos [None req-f5bbd7d2-9663-4e8c-8c5a-6c819840f556 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-9e31805c-5763-4adf-95cf-9a7a9b367343', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_783bd30a-6dbc-4387-83e1-4048a918f2ff'} ssl_verify: False
2025-01-13 15:07:45.464 25 INFO cinder.volume.drivers.lightos [None req-f5bbd7d2-9663-4e8c-8c5a-6c819840f556 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-9e31805c-5763-4adf-95cf-9a7a9b367343             request.body: {} ssl_verify: False
2025-01-13 15:07:46.523 25 INFO cinder.volume.drivers.lightos [None req-f5bbd7d2-9663-4e8c-8c5a-6c819840f556 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-9e31805c-5763-4adf-95cf-9a7a9b367343             request.body: {} ssl_verify: False
2025-01-13 15:07:46.562 25 INFO cinder.volume.manager [None req-f5bbd7d2-9663-4e8c-8c5a-6c819840f556 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Create snapshot completed successfully
2025-01-13 15:07:47.590 25 INFO cinder.volume.drivers.lightos [None req-18afa83f-c9f6-427b-9827-8cf1e10eaab1 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-38ad1394-473e-42b1-accb-558aafa9ee51             request.body: {} ssl_verify: False
2025-01-13 15:07:47.608 25 INFO cinder.volume.drivers.lightos [None req-18afa83f-c9f6-427b-9827-8cf1e10eaab1 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/6cf65fcf-2c22-4019-8ccf-df6b7c58eb18?             request.body:  ssl_verify: False
2025-01-13 15:07:47.640 25 INFO cinder.volume.drivers.lightos [None req-18afa83f-c9f6-427b-9827-8cf1e10eaab1 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/6cf65fcf-2c22-4019-8ccf-df6b7c58eb18             request.body: {} ssl_verify: False
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager [None req-18afa83f-c9f6-427b-9827-8cf1e10eaab1 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager 
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager 
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:07:47.708 25 ERROR cinder.volume.manager 
2025-01-13 15:07:47.722 25 INFO cinder.volume.manager [None req-18afa83f-c9f6-427b-9827-8cf1e10eaab1 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Delete snapshot completed successfully.
2025-01-13 15:07:47.735 25 INFO cinder.volume.drivers.lightos [None req-18afa83f-c9f6-427b-9827-8cf1e10eaab1 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-9e31805c-5763-4adf-95cf-9a7a9b367343             request.body: {} ssl_verify: False
2025-01-13 15:07:47.751 25 INFO cinder.volume.drivers.lightos [None req-18afa83f-c9f6-427b-9827-8cf1e10eaab1 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/c127893b-f56a-4ae8-ac04-11d348fd40b5?             request.body:  ssl_verify: False
2025-01-13 15:07:47.803 25 INFO cinder.volume.drivers.lightos [None req-18afa83f-c9f6-427b-9827-8cf1e10eaab1 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/c127893b-f56a-4ae8-ac04-11d348fd40b5             request.body: {} ssl_verify: False
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager [None req-18afa83f-c9f6-427b-9827-8cf1e10eaab1 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager 
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager 
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:07:47.859 25 ERROR cinder.volume.manager 
2025-01-13 15:07:47.872 25 INFO cinder.volume.manager [None req-18afa83f-c9f6-427b-9827-8cf1e10eaab1 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Delete snapshot completed successfully.
2025-01-13 15:07:47.873 25 INFO cinder.volume.drivers.lightos [None req-18afa83f-c9f6-427b-9827-8cf1e10eaab1 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_783bd30a-6dbc-4387-83e1-4048a918f2ff             request.body: {} ssl_verify: False
2025-01-13 15:07:47.890 25 INFO cinder.volume.drivers.lightos [None req-18afa83f-c9f6-427b-9827-8cf1e10eaab1 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/725b2ee6-8e44-4bb2-9b9a-ef55d4bf3bc5?             request.body:  ssl_verify: False
2025-01-13 15:07:47.922 25 INFO cinder.volume.drivers.lightos [None req-18afa83f-c9f6-427b-9827-8cf1e10eaab1 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/725b2ee6-8e44-4bb2-9b9a-ef55d4bf3bc5             request.body: {} ssl_verify: False
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager [None req-18afa83f-c9f6-427b-9827-8cf1e10eaab1 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager 
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager 
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:07:47.986 25 ERROR cinder.volume.manager 
2025-01-13 15:07:48.016 25 INFO cinder.volume.manager [None req-18afa83f-c9f6-427b-9827-8cf1e10eaab1 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Deleted volume successfully.
2025-01-13 15:07:49.151 25 INFO cinder.volume.flows.manager.create_volume [None req-5b4ab821-9dd0-4444-857f-a787109ae780 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Volume 54ef8a52-222b-4a47-bee7-e7789fc44e71: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_54ef8a52-222b-4a47-bee7-e7789fc44e71', 'volume_size': 1}
2025-01-13 15:07:49.151 25 INFO cinder.volume.drivers.lightos [None req-5b4ab821-9dd0-4444-857f-a787109ae780 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_54ef8a52-222b-4a47-bee7-e7789fc44e71             request.body: {} ssl_verify: False
2025-01-13 15:07:49.168 25 INFO cinder.volume.drivers.lightos [None req-5b4ab821-9dd0-4444-857f-a787109ae780 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_54ef8a52-222b-4a47-bee7-e7789fc44e71', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:07:49.211 25 INFO cinder.volume.drivers.lightos [None req-5b4ab821-9dd0-4444-857f-a787109ae780 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/a3b24ebc-7880-4543-b2f8-6ba948d466fd             request.body: {} ssl_verify: False
2025-01-13 15:07:50.245 25 INFO cinder.volume.drivers.lightos [None req-5b4ab821-9dd0-4444-857f-a787109ae780 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/a3b24ebc-7880-4543-b2f8-6ba948d466fd             request.body: {} ssl_verify: False
2025-01-13 15:07:50.282 25 INFO cinder.volume.flows.manager.create_volume [None req-5b4ab821-9dd0-4444-857f-a787109ae780 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Volume vol_54ef8a52-222b-4a47-bee7-e7789fc44e71 (54ef8a52-222b-4a47-bee7-e7789fc44e71): created successfully
2025-01-13 15:07:50.293 25 INFO cinder.volume.manager [None req-5b4ab821-9dd0-4444-857f-a787109ae780 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Created volume successfully.
2025-01-13 15:07:51.425 25 INFO cinder.volume.drivers.lightos [None req-ce5f5876-bf4f-4f3f-923a-ceff1a4d3a46 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-5a5d9e31-6fad-4cc3-bc07-19eafd914376             request.body: {} ssl_verify: False
2025-01-13 15:07:51.440 25 INFO cinder.volume.drivers.lightos [None req-ce5f5876-bf4f-4f3f-923a-ceff1a4d3a46 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-5a5d9e31-6fad-4cc3-bc07-19eafd914376', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_54ef8a52-222b-4a47-bee7-e7789fc44e71'} ssl_verify: False
2025-01-13 15:07:51.474 25 INFO cinder.volume.drivers.lightos [None req-ce5f5876-bf4f-4f3f-923a-ceff1a4d3a46 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-5a5d9e31-6fad-4cc3-bc07-19eafd914376             request.body: {} ssl_verify: False
2025-01-13 15:07:52.532 25 INFO cinder.volume.drivers.lightos [None req-ce5f5876-bf4f-4f3f-923a-ceff1a4d3a46 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-5a5d9e31-6fad-4cc3-bc07-19eafd914376             request.body: {} ssl_verify: False
2025-01-13 15:07:52.578 25 INFO cinder.volume.manager [None req-ce5f5876-bf4f-4f3f-923a-ceff1a4d3a46 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Create snapshot completed successfully
2025-01-13 15:07:53.842 25 INFO cinder.volume.flows.manager.create_volume [None req-ed0b28fc-192c-48cf-9300-cea9f1ea0656 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Volume b269a920-edde-48cf-a34f-6c639b90c54e: being created as snap with specification: {'status': 'creating', 'volume_name': 'vol_b269a920-edde-48cf-a34f-6c639b90c54e', 'volume_size': 1, 'snapshot_id': '5a5d9e31-6fad-4cc3-bc07-19eafd914376'}
2025-01-13 15:07:53.848 25 INFO cinder.volume.drivers.lightos [None req-ed0b28fc-192c-48cf-9300-cea9f1ea0656 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_b269a920-edde-48cf-a34f-6c639b90c54e             request.body: {} ssl_verify: False
2025-01-13 15:07:53.867 25 INFO cinder.volume.drivers.lightos [None req-ed0b28fc-192c-48cf-9300-cea9f1ea0656 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_b269a920-edde-48cf-a34f-6c639b90c54e', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': 'snapshot-5a5d9e31-6fad-4cc3-bc07-19eafd914376'} ssl_verify: False
2025-01-13 15:07:53.922 25 INFO cinder.volume.drivers.lightos [None req-ed0b28fc-192c-48cf-9300-cea9f1ea0656 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/87b4b531-98d3-4637-9b52-34c4d58323ba             request.body: {} ssl_verify: False
2025-01-13 15:07:54.979 25 INFO cinder.volume.drivers.lightos [None req-ed0b28fc-192c-48cf-9300-cea9f1ea0656 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/87b4b531-98d3-4637-9b52-34c4d58323ba             request.body: {} ssl_verify: False
2025-01-13 15:07:55.028 25 INFO cinder.volume.flows.manager.create_volume [None req-ed0b28fc-192c-48cf-9300-cea9f1ea0656 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Volume vol_b269a920-edde-48cf-a34f-6c639b90c54e (b269a920-edde-48cf-a34f-6c639b90c54e): created successfully
2025-01-13 15:07:55.036 25 INFO cinder.volume.manager [None req-ed0b28fc-192c-48cf-9300-cea9f1ea0656 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Created volume successfully.
2025-01-13 15:07:56.116 25 INFO cinder.volume.drivers.lightos [None req-eaa460b3-5574-4453-bf8d-71c2ca6ab797 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-5a5d9e31-6fad-4cc3-bc07-19eafd914376             request.body: {} ssl_verify: False
2025-01-13 15:07:56.133 25 INFO cinder.volume.drivers.lightos [None req-eaa460b3-5574-4453-bf8d-71c2ca6ab797 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/3cf3bb33-b971-449b-88e3-8d792e750f0a?             request.body:  ssl_verify: False
2025-01-13 15:07:56.199 25 INFO cinder.volume.drivers.lightos [None req-eaa460b3-5574-4453-bf8d-71c2ca6ab797 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/3cf3bb33-b971-449b-88e3-8d792e750f0a             request.body: {} ssl_verify: False
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager [None req-eaa460b3-5574-4453-bf8d-71c2ca6ab797 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager 
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager 
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:07:56.264 25 ERROR cinder.volume.manager 
2025-01-13 15:07:56.278 25 INFO cinder.volume.manager [None req-eaa460b3-5574-4453-bf8d-71c2ca6ab797 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Delete snapshot completed successfully.
2025-01-13 15:07:56.279 25 INFO cinder.volume.drivers.lightos [None req-eaa460b3-5574-4453-bf8d-71c2ca6ab797 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_54ef8a52-222b-4a47-bee7-e7789fc44e71             request.body: {} ssl_verify: False
2025-01-13 15:07:56.298 25 INFO cinder.volume.drivers.lightos [None req-eaa460b3-5574-4453-bf8d-71c2ca6ab797 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/a3b24ebc-7880-4543-b2f8-6ba948d466fd?             request.body:  ssl_verify: False
2025-01-13 15:07:56.332 25 INFO cinder.volume.drivers.lightos [None req-eaa460b3-5574-4453-bf8d-71c2ca6ab797 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/a3b24ebc-7880-4543-b2f8-6ba948d466fd             request.body: {} ssl_verify: False
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager [None req-eaa460b3-5574-4453-bf8d-71c2ca6ab797 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager 
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager 
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:07:56.396 25 ERROR cinder.volume.manager 
2025-01-13 15:07:56.424 25 INFO cinder.volume.manager [None req-eaa460b3-5574-4453-bf8d-71c2ca6ab797 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Deleted volume successfully.
2025-01-13 15:07:57.384 25 INFO cinder.volume.drivers.lightos [None req-6b75a379-6aef-4fe9-91ed-a8a32e28a4ad 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_b269a920-edde-48cf-a34f-6c639b90c54e             request.body: {} ssl_verify: False
2025-01-13 15:07:57.403 25 INFO cinder.volume.drivers.lightos [None req-6b75a379-6aef-4fe9-91ed-a8a32e28a4ad 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/87b4b531-98d3-4637-9b52-34c4d58323ba?             request.body:  ssl_verify: False
2025-01-13 15:07:57.439 25 INFO cinder.volume.drivers.lightos [None req-6b75a379-6aef-4fe9-91ed-a8a32e28a4ad 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/87b4b531-98d3-4637-9b52-34c4d58323ba             request.body: {} ssl_verify: False
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager [None req-6b75a379-6aef-4fe9-91ed-a8a32e28a4ad 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager 
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager 
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:07:57.482 25 ERROR cinder.volume.manager 
2025-01-13 15:07:57.509 25 INFO cinder.volume.manager [None req-6b75a379-6aef-4fe9-91ed-a8a32e28a4ad 7537a0c07bcc4bc2847620f6d455d3fe a71d28f6b6294e7f95ca87419caaca80 - - - -] Deleted volume successfully.
2025-01-13 15:08:02.485 25 INFO cinder.volume.flows.manager.create_volume [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Volume 07c3e2b3-26c0-4fd8-b439-a77737cd335e: being created as image with specification: {'status': 'creating', 'volume_name': 'vol_07c3e2b3-26c0-4fd8-b439-a77737cd335e', 'volume_size': 1, 'image_id': '4750b270-4234-4361-8332-29002e5eea4e', 'image_location': (None, None), 'image_meta': {'name': 'cirros', 'disk_format': 'qcow2', 'container_format': 'bare', 'visibility': 'public', 'size': 12716032, 'virtual_size': 46137344, 'status': 'active', 'checksum': '443b7623e27ecf03dc9e01ee93f67afe', 'protected': False, 'min_ram': 0, 'min_disk': 0, 'owner': '0eac1ff84c4b4af5a7e389a9fdfa4f07', 'os_hidden': False, 'os_hash_algo': 'sha512', 'os_hash_value': '6513f21e44aa3da349f248188a44bc304a3653a04122d8fb4535423c8e1d14cd6a153f735bb0982e2161b5b5186106570c17a9e58b64dd39390617cd5a350f78', 'id': '4750b270-4234-4361-8332-29002e5eea4e', 'created_at': datetime.datetime(2025, 1, 13, 12, 10, 20, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 1, 13, 12, 10, 20, tzinfo=datetime.timezone.utc), 'tags': [], 'file': '/v2/images/4750b270-4234-4361-8332-29002e5eea4e/file', 'stores': 'file', 'properties': {'owner_specified.openstack.md5': '', 'owner_specified.openstack.sha256': '', 'owner_specified.openstack.object': 'images/cirros'}}, 'image_service': <cinder.image.glance.GlanceImageService object at 0x7f0bc1998e20>}
2025-01-13 15:08:03.626 25 INFO cinder.image.image_utils [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Image download 12.13 MB at 10.64 MB/s
2025-01-13 15:08:04.321 25 INFO cinder.volume.drivers.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_07c3e2b3-26c0-4fd8-b439-a77737cd335e             request.body: {} ssl_verify: False
2025-01-13 15:08:04.350 25 INFO cinder.volume.drivers.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_07c3e2b3-26c0-4fd8-b439-a77737cd335e', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:08:04.390 25 INFO cinder.volume.drivers.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/882cd2c2-8c36-46ad-a2bb-91cf5875d41e             request.body: {} ssl_verify: False
2025-01-13 15:08:05.456 25 INFO cinder.volume.drivers.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/882cd2c2-8c36-46ad-a2bb-91cf5875d41e             request.body: {} ssl_verify: False
2025-01-13 15:08:05.543 25 INFO os_brick.initiator.connectors.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Current host hostNQN nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc and IP(s) are ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', 'fe80::4099:911b:7117:6464'] 
2025-01-13 15:08:05.544 25 INFO cinder.volume.drivers.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Current host hostNQN is nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc and IP(s) are ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', 'fe80::4099:911b:7117:6464']
2025-01-13 15:08:05.544 25 INFO cinder.volume.drivers.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_07c3e2b3-26c0-4fd8-b439-a77737cd335e             request.body: {} ssl_verify: False
2025-01-13 15:08:05.572 25 INFO cinder.volume.drivers.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking update_volume using PUT url: /api/v2/projects/default/volumes/882cd2c2-8c36-46ad-a2bb-91cf5875d41e             request.body: {'acl': {'values': ['nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc']}, 'IPAcl': {'values': ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fe80::4099:911b:7117:6464', 'fd00::a:13:2c:7']}} ssl_verify: False
2025-01-13 15:08:05.615 25 INFO cinder.volume.drivers.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_07c3e2b3-26c0-4fd8-b439-a77737cd335e             request.body: {} ssl_verify: False
2025-01-13 15:08:06.686 25 INFO cinder.volume.drivers.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_07c3e2b3-26c0-4fd8-b439-a77737cd335e             request.body: {} ssl_verify: False
2025-01-13 15:08:06.712 25 INFO cinder.volume.drivers.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_07c3e2b3-26c0-4fd8-b439-a77737cd335e             request.body: {} ssl_verify: False
2025-01-13 15:08:06.746 25 INFO cinder.volume.drivers.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_07c3e2b3-26c0-4fd8-b439-a77737cd335e             request.body: {} ssl_verify: False
2025-01-13 15:08:06.776 25 INFO os_brick.initiator.connectors.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] LIGHTOS: connect_volume called for volume 882cd2c2-8c36-46ad-a2bb-91cf5875d41e, connection properties: {'lightos_nodes': {'[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}, '[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}, '[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}}, 'uuid': '882cd2c2-8c36-46ad-a2bb-91cf5875d41e', 'subsysnqn': 'nqn.2016-01.com.lightbitslabs:uuid:ed93b30a-10c9-4020-b8d0-0edc696e5120:suffix', 'encrypted': False}
2025-01-13 15:08:06.781 25 INFO os_brick.initiator.connectors.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] LIGHTOS: devpath /dev/nvme0n1 detected for uuid 882cd2c2-8c36-46ad-a2bb-91cf5875d41e
2025-01-13 15:08:08.835 25 INFO cinder.image.image_utils [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Converted 44.00 MB image at 44.00 MB/s
2025-01-13 15:08:08.839 25 INFO os_brick.initiator.connectors.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] LIGHTOS: devpath /dev/nvme0n1 detected for uuid 882cd2c2-8c36-46ad-a2bb-91cf5875d41e
2025-01-13 15:08:08.853 25 INFO cinder.volume.drivers.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_07c3e2b3-26c0-4fd8-b439-a77737cd335e             request.body: {} ssl_verify: False
2025-01-13 15:08:08.878 25 INFO cinder.volume.drivers.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking update_volume using PUT url: /api/v2/projects/default/volumes/882cd2c2-8c36-46ad-a2bb-91cf5875d41e             request.body: {'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}} ssl_verify: False
2025-01-13 15:08:08.909 25 INFO cinder.volume.drivers.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_07c3e2b3-26c0-4fd8-b439-a77737cd335e             request.body: {} ssl_verify: False
2025-01-13 15:08:09.939 25 INFO cinder.volume.drivers.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_07c3e2b3-26c0-4fd8-b439-a77737cd335e             request.body: {} ssl_verify: False
2025-01-13 15:08:09.964 25 INFO cinder.volume.drivers.lightos [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_07c3e2b3-26c0-4fd8-b439-a77737cd335e             request.body: {} ssl_verify: False
2025-01-13 15:08:10.071 25 INFO cinder.volume.flows.manager.create_volume [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Volume vol_07c3e2b3-26c0-4fd8-b439-a77737cd335e (07c3e2b3-26c0-4fd8-b439-a77737cd335e): created successfully
2025-01-13 15:08:10.079 25 INFO cinder.volume.manager [None req-6a5faf19-0176-41ef-803e-f85051205760 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Created volume successfully.
2025-01-13 15:08:11.256 25 INFO cinder.volume.flows.manager.create_volume [None req-702c2745-8f4e-49ab-8ec3-80b7c7abcdd4 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Volume 9d90b51f-dd56-44f6-873e-82e6dc5d28fa: being created as source_vol with specification: {'status': 'creating', 'volume_name': 'vol_9d90b51f-dd56-44f6-873e-82e6dc5d28fa', 'volume_size': 1, 'source_volid': '07c3e2b3-26c0-4fd8-b439-a77737cd335e', 'source_volstatus': 'available'}
2025-01-13 15:08:11.265 25 INFO cinder.volume.drivers.lightos [None req-702c2745-8f4e-49ab-8ec3-80b7c7abcdd4 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_9d90b51f-dd56-44f6-873e-82e6dc5d28fa             request.body: {} ssl_verify: False
2025-01-13 15:08:11.281 25 INFO cinder.volume.drivers.lightos [None req-702c2745-8f4e-49ab-8ec3-80b7c7abcdd4 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'for_clone_9d90b51f-dd56-44f6-873e-82e6dc5d28fa', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_07c3e2b3-26c0-4fd8-b439-a77737cd335e'} ssl_verify: False
2025-01-13 15:08:11.330 25 INFO cinder.volume.drivers.lightos [None req-702c2745-8f4e-49ab-8ec3-80b7c7abcdd4 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_9d90b51f-dd56-44f6-873e-82e6dc5d28fa             request.body: {} ssl_verify: False
2025-01-13 15:08:12.452 25 INFO cinder.volume.drivers.lightos [None req-702c2745-8f4e-49ab-8ec3-80b7c7abcdd4 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_9d90b51f-dd56-44f6-873e-82e6dc5d28fa             request.body: {} ssl_verify: False
2025-01-13 15:08:12.502 25 INFO cinder.volume.drivers.lightos [None req-702c2745-8f4e-49ab-8ec3-80b7c7abcdd4 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_9d90b51f-dd56-44f6-873e-82e6dc5d28fa             request.body: {} ssl_verify: False
2025-01-13 15:08:12.523 25 INFO cinder.volume.drivers.lightos [None req-702c2745-8f4e-49ab-8ec3-80b7c7abcdd4 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_9d90b51f-dd56-44f6-873e-82e6dc5d28fa', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': 'for_clone_9d90b51f-dd56-44f6-873e-82e6dc5d28fa'} ssl_verify: False
2025-01-13 15:08:12.559 25 INFO cinder.volume.drivers.lightos [None req-702c2745-8f4e-49ab-8ec3-80b7c7abcdd4 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c4c6bf8f-370e-4b6a-aa37-7e7ce2ce5d9f             request.body: {} ssl_verify: False
2025-01-13 15:08:13.609 25 INFO cinder.volume.drivers.lightos [None req-702c2745-8f4e-49ab-8ec3-80b7c7abcdd4 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c4c6bf8f-370e-4b6a-aa37-7e7ce2ce5d9f             request.body: {} ssl_verify: False
2025-01-13 15:08:13.635 25 INFO cinder.volume.drivers.lightos [None req-702c2745-8f4e-49ab-8ec3-80b7c7abcdd4 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_9d90b51f-dd56-44f6-873e-82e6dc5d28fa             request.body: {} ssl_verify: False
2025-01-13 15:08:13.658 25 INFO cinder.volume.drivers.lightos [None req-702c2745-8f4e-49ab-8ec3-80b7c7abcdd4 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/ed5583d5-cc65-4763-a517-6edf635bee86?             request.body:  ssl_verify: False
2025-01-13 15:08:13.706 25 INFO cinder.volume.drivers.lightos [None req-702c2745-8f4e-49ab-8ec3-80b7c7abcdd4 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/ed5583d5-cc65-4763-a517-6edf635bee86             request.body: {} ssl_verify: False
2025-01-13 15:08:13.797 25 INFO cinder.volume.flows.manager.create_volume [None req-702c2745-8f4e-49ab-8ec3-80b7c7abcdd4 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Volume vol_9d90b51f-dd56-44f6-873e-82e6dc5d28fa (9d90b51f-dd56-44f6-873e-82e6dc5d28fa): created successfully
2025-01-13 15:08:13.805 25 INFO cinder.volume.manager [None req-702c2745-8f4e-49ab-8ec3-80b7c7abcdd4 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Created volume successfully.
2025-01-13 15:08:14.666 25 INFO cinder.volume.drivers.lightos [None req-b1c557a1-8a3c-4ce7-98cd-7356cac07fcb 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_9d90b51f-dd56-44f6-873e-82e6dc5d28fa             request.body: {} ssl_verify: False
2025-01-13 15:08:14.683 25 INFO cinder.volume.drivers.lightos [None req-b1c557a1-8a3c-4ce7-98cd-7356cac07fcb 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/c4c6bf8f-370e-4b6a-aa37-7e7ce2ce5d9f?             request.body:  ssl_verify: False
2025-01-13 15:08:14.723 25 INFO cinder.volume.drivers.lightos [None req-b1c557a1-8a3c-4ce7-98cd-7356cac07fcb 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c4c6bf8f-370e-4b6a-aa37-7e7ce2ce5d9f             request.body: {} ssl_verify: False
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager [None req-b1c557a1-8a3c-4ce7-98cd-7356cac07fcb 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager 
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager 
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:08:14.803 25 ERROR cinder.volume.manager 
2025-01-13 15:08:14.835 25 INFO cinder.volume.manager [None req-b1c557a1-8a3c-4ce7-98cd-7356cac07fcb 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Deleted volume successfully.
2025-01-13 15:08:15.895 25 INFO cinder.volume.drivers.lightos [None req-3b48e257-8437-4886-a5ab-ad17e4bee5eb 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_07c3e2b3-26c0-4fd8-b439-a77737cd335e             request.body: {} ssl_verify: False
2025-01-13 15:08:15.913 25 INFO cinder.volume.drivers.lightos [None req-3b48e257-8437-4886-a5ab-ad17e4bee5eb 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/882cd2c2-8c36-46ad-a2bb-91cf5875d41e?             request.body:  ssl_verify: False
2025-01-13 15:08:15.951 25 INFO cinder.volume.drivers.lightos [None req-3b48e257-8437-4886-a5ab-ad17e4bee5eb 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/882cd2c2-8c36-46ad-a2bb-91cf5875d41e             request.body: {} ssl_verify: False
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager [None req-3b48e257-8437-4886-a5ab-ad17e4bee5eb 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager 
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager 
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:08:15.992 25 ERROR cinder.volume.manager 
2025-01-13 15:08:16.019 25 INFO cinder.volume.manager [None req-3b48e257-8437-4886-a5ab-ad17e4bee5eb 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Deleted volume successfully.
2025-01-13 15:08:17.304 25 INFO cinder.volume.flows.manager.create_volume [None req-2cdd488e-d7fb-401a-aa39-9b2c372b93b1 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Volume fc17232b-5a4b-4265-891e-dfb64462e3ac: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_fc17232b-5a4b-4265-891e-dfb64462e3ac', 'volume_size': 1}
2025-01-13 15:08:17.305 25 INFO cinder.volume.drivers.lightos [None req-2cdd488e-d7fb-401a-aa39-9b2c372b93b1 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_fc17232b-5a4b-4265-891e-dfb64462e3ac             request.body: {} ssl_verify: False
2025-01-13 15:08:17.321 25 INFO cinder.volume.drivers.lightos [None req-2cdd488e-d7fb-401a-aa39-9b2c372b93b1 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_fc17232b-5a4b-4265-891e-dfb64462e3ac', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:08:17.360 25 INFO cinder.volume.drivers.lightos [None req-2cdd488e-d7fb-401a-aa39-9b2c372b93b1 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/d616b2c3-143d-40dc-ac45-4f156498772e             request.body: {} ssl_verify: False
2025-01-13 15:08:18.406 25 INFO cinder.volume.drivers.lightos [None req-2cdd488e-d7fb-401a-aa39-9b2c372b93b1 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/d616b2c3-143d-40dc-ac45-4f156498772e             request.body: {} ssl_verify: False
2025-01-13 15:08:18.449 25 INFO cinder.volume.flows.manager.create_volume [None req-2cdd488e-d7fb-401a-aa39-9b2c372b93b1 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Volume vol_fc17232b-5a4b-4265-891e-dfb64462e3ac (fc17232b-5a4b-4265-891e-dfb64462e3ac): created successfully
2025-01-13 15:08:18.459 25 INFO cinder.volume.manager [None req-2cdd488e-d7fb-401a-aa39-9b2c372b93b1 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Created volume successfully.
2025-01-13 15:08:19.766 25 INFO cinder.volume.flows.manager.create_volume [None req-e7e974a2-ae83-49ce-a474-8d6097718cea 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Volume 20c0afc8-9a7e-474f-a523-f9ce65bc42d6: being created as source_vol with specification: {'status': 'creating', 'volume_name': 'vol_20c0afc8-9a7e-474f-a523-f9ce65bc42d6', 'volume_size': 2, 'source_volid': 'fc17232b-5a4b-4265-891e-dfb64462e3ac', 'source_volstatus': 'available'}
2025-01-13 15:08:19.777 25 INFO cinder.volume.drivers.lightos [None req-e7e974a2-ae83-49ce-a474-8d6097718cea 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_20c0afc8-9a7e-474f-a523-f9ce65bc42d6             request.body: {} ssl_verify: False
2025-01-13 15:08:19.796 25 INFO cinder.volume.drivers.lightos [None req-e7e974a2-ae83-49ce-a474-8d6097718cea 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'for_clone_20c0afc8-9a7e-474f-a523-f9ce65bc42d6', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_fc17232b-5a4b-4265-891e-dfb64462e3ac'} ssl_verify: False
2025-01-13 15:08:19.855 25 INFO cinder.volume.drivers.lightos [None req-e7e974a2-ae83-49ce-a474-8d6097718cea 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_20c0afc8-9a7e-474f-a523-f9ce65bc42d6             request.body: {} ssl_verify: False
2025-01-13 15:08:20.911 25 INFO cinder.volume.drivers.lightos [None req-e7e974a2-ae83-49ce-a474-8d6097718cea 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_20c0afc8-9a7e-474f-a523-f9ce65bc42d6             request.body: {} ssl_verify: False
2025-01-13 15:08:20.937 25 INFO cinder.volume.drivers.lightos [None req-e7e974a2-ae83-49ce-a474-8d6097718cea 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_20c0afc8-9a7e-474f-a523-f9ce65bc42d6             request.body: {} ssl_verify: False
2025-01-13 15:08:20.960 25 INFO cinder.volume.drivers.lightos [None req-e7e974a2-ae83-49ce-a474-8d6097718cea 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_20c0afc8-9a7e-474f-a523-f9ce65bc42d6', 'size': '2 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': 'for_clone_20c0afc8-9a7e-474f-a523-f9ce65bc42d6'} ssl_verify: False
2025-01-13 15:08:21.008 25 INFO cinder.volume.drivers.lightos [None req-e7e974a2-ae83-49ce-a474-8d6097718cea 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b42bf686-c0bd-4843-a723-12214106b9aa             request.body: {} ssl_verify: False
2025-01-13 15:08:21.152 25 INFO cinder.volume.drivers.lightos [None req-e7e974a2-ae83-49ce-a474-8d6097718cea 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_20c0afc8-9a7e-474f-a523-f9ce65bc42d6             request.body: {} ssl_verify: False
2025-01-13 15:08:21.175 25 INFO cinder.volume.drivers.lightos [None req-e7e974a2-ae83-49ce-a474-8d6097718cea 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/394ebd47-4356-4fc9-a1bb-ba7ab9601311?             request.body:  ssl_verify: False
2025-01-13 15:08:21.237 25 INFO cinder.volume.drivers.lightos [None req-e7e974a2-ae83-49ce-a474-8d6097718cea 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/394ebd47-4356-4fc9-a1bb-ba7ab9601311             request.body: {} ssl_verify: False
2025-01-13 15:08:21.279 25 INFO cinder.volume.flows.manager.create_volume [None req-e7e974a2-ae83-49ce-a474-8d6097718cea 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Volume vol_20c0afc8-9a7e-474f-a523-f9ce65bc42d6 (20c0afc8-9a7e-474f-a523-f9ce65bc42d6): created successfully
2025-01-13 15:08:21.288 25 INFO cinder.volume.manager [None req-e7e974a2-ae83-49ce-a474-8d6097718cea 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Created volume successfully.
2025-01-13 15:08:22.104 25 INFO cinder.volume.drivers.lightos [None req-08ec0be2-f081-474b-b08d-86bffaee0da7 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_20c0afc8-9a7e-474f-a523-f9ce65bc42d6             request.body: {} ssl_verify: False
2025-01-13 15:08:22.124 25 INFO cinder.volume.drivers.lightos [None req-08ec0be2-f081-474b-b08d-86bffaee0da7 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/b42bf686-c0bd-4843-a723-12214106b9aa?             request.body:  ssl_verify: False
2025-01-13 15:08:22.202 25 INFO cinder.volume.drivers.lightos [None req-08ec0be2-f081-474b-b08d-86bffaee0da7 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b42bf686-c0bd-4843-a723-12214106b9aa             request.body: {} ssl_verify: False
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager [None req-08ec0be2-f081-474b-b08d-86bffaee0da7 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager 
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager 
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:08:22.264 25 ERROR cinder.volume.manager 
2025-01-13 15:08:22.291 25 INFO cinder.volume.manager [None req-08ec0be2-f081-474b-b08d-86bffaee0da7 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Deleted volume successfully.
2025-01-13 15:08:23.332 25 INFO cinder.volume.drivers.lightos [None req-1631f672-8c6a-4565-88f5-d0b882bfd6c2 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_fc17232b-5a4b-4265-891e-dfb64462e3ac             request.body: {} ssl_verify: False
2025-01-13 15:08:23.348 25 INFO cinder.volume.drivers.lightos [None req-1631f672-8c6a-4565-88f5-d0b882bfd6c2 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/d616b2c3-143d-40dc-ac45-4f156498772e?             request.body:  ssl_verify: False
2025-01-13 15:08:23.431 25 INFO cinder.volume.drivers.lightos [None req-1631f672-8c6a-4565-88f5-d0b882bfd6c2 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/d616b2c3-143d-40dc-ac45-4f156498772e             request.body: {} ssl_verify: False
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager [None req-1631f672-8c6a-4565-88f5-d0b882bfd6c2 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager 
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager 
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:08:23.480 25 ERROR cinder.volume.manager 
2025-01-13 15:08:23.510 25 INFO cinder.volume.manager [None req-1631f672-8c6a-4565-88f5-d0b882bfd6c2 4748add69e3745cd97ce598485a4dabc dd0250c95ec64b77b28627e3ba468a68 - - - -] Deleted volume successfully.
2025-01-13 15:08:31.531 25 INFO cinder.volume.flows.manager.create_volume [None req-cecfb062-65d6-48ee-9563-9c1864fa1732 388232cedd4345f985d98f4bf3c468c2 075e4383044e4fb3b654487c4e00e731 - - - -] Volume f783b62b-4c1a-493b-a6d7-ac79f6bbdca3: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_f783b62b-4c1a-493b-a6d7-ac79f6bbdca3', 'volume_size': 1}
2025-01-13 15:08:31.531 25 INFO cinder.volume.drivers.lightos [None req-cecfb062-65d6-48ee-9563-9c1864fa1732 388232cedd4345f985d98f4bf3c468c2 075e4383044e4fb3b654487c4e00e731 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f783b62b-4c1a-493b-a6d7-ac79f6bbdca3             request.body: {} ssl_verify: False
2025-01-13 15:08:31.549 25 INFO cinder.volume.drivers.lightos [None req-cecfb062-65d6-48ee-9563-9c1864fa1732 388232cedd4345f985d98f4bf3c468c2 075e4383044e4fb3b654487c4e00e731 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_f783b62b-4c1a-493b-a6d7-ac79f6bbdca3', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:08:31.590 25 INFO cinder.volume.drivers.lightos [None req-cecfb062-65d6-48ee-9563-9c1864fa1732 388232cedd4345f985d98f4bf3c468c2 075e4383044e4fb3b654487c4e00e731 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/d1001ed5-8c9a-4b32-a700-4f969d36ca07             request.body: {} ssl_verify: False
2025-01-13 15:08:32.659 25 INFO cinder.volume.drivers.lightos [None req-cecfb062-65d6-48ee-9563-9c1864fa1732 388232cedd4345f985d98f4bf3c468c2 075e4383044e4fb3b654487c4e00e731 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/d1001ed5-8c9a-4b32-a700-4f969d36ca07             request.body: {} ssl_verify: False
2025-01-13 15:08:32.707 25 INFO cinder.volume.flows.manager.create_volume [None req-cecfb062-65d6-48ee-9563-9c1864fa1732 388232cedd4345f985d98f4bf3c468c2 075e4383044e4fb3b654487c4e00e731 - - - -] Volume vol_f783b62b-4c1a-493b-a6d7-ac79f6bbdca3 (f783b62b-4c1a-493b-a6d7-ac79f6bbdca3): created successfully
2025-01-13 15:08:32.715 25 INFO cinder.volume.manager [None req-cecfb062-65d6-48ee-9563-9c1864fa1732 388232cedd4345f985d98f4bf3c468c2 075e4383044e4fb3b654487c4e00e731 - - - -] Created volume successfully.
2025-01-13 15:08:56.657 25 INFO cinder.volume.drivers.lightos [None req-2a1c90db-553a-455f-af31-822c06f40a3b 388232cedd4345f985d98f4bf3c468c2 075e4383044e4fb3b654487c4e00e731 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f783b62b-4c1a-493b-a6d7-ac79f6bbdca3             request.body: {} ssl_verify: False
2025-01-13 15:08:56.678 25 INFO cinder.volume.drivers.lightos [None req-2a1c90db-553a-455f-af31-822c06f40a3b 388232cedd4345f985d98f4bf3c468c2 075e4383044e4fb3b654487c4e00e731 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/d1001ed5-8c9a-4b32-a700-4f969d36ca07?             request.body:  ssl_verify: False
2025-01-13 15:08:56.721 25 INFO cinder.volume.drivers.lightos [None req-2a1c90db-553a-455f-af31-822c06f40a3b 388232cedd4345f985d98f4bf3c468c2 075e4383044e4fb3b654487c4e00e731 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/d1001ed5-8c9a-4b32-a700-4f969d36ca07             request.body: {} ssl_verify: False
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager [None req-2a1c90db-553a-455f-af31-822c06f40a3b 388232cedd4345f985d98f4bf3c468c2 075e4383044e4fb3b654487c4e00e731 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager 
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager 
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:08:56.816 25 ERROR cinder.volume.manager 
2025-01-13 15:08:56.848 25 INFO cinder.volume.manager [None req-2a1c90db-553a-455f-af31-822c06f40a3b 388232cedd4345f985d98f4bf3c468c2 075e4383044e4fb3b654487c4e00e731 - - - -] Deleted volume successfully.
2025-01-13 15:09:01.775 25 INFO cinder.volume.flows.manager.create_volume [None req-64316b2a-63fe-4fad-ad31-5569e4e3505f 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Volume 97d9ec7f-3216-45f2-96d8-c049f5154411: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_97d9ec7f-3216-45f2-96d8-c049f5154411', 'volume_size': 1}
2025-01-13 15:09:01.776 25 INFO cinder.volume.drivers.lightos [None req-64316b2a-63fe-4fad-ad31-5569e4e3505f 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_97d9ec7f-3216-45f2-96d8-c049f5154411             request.body: {} ssl_verify: False
2025-01-13 15:09:01.799 25 INFO cinder.volume.drivers.lightos [None req-64316b2a-63fe-4fad-ad31-5569e4e3505f 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_97d9ec7f-3216-45f2-96d8-c049f5154411', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:01.846 25 INFO cinder.volume.drivers.lightos [None req-64316b2a-63fe-4fad-ad31-5569e4e3505f 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/bf824a3e-d781-4c89-a36b-f562ae070111             request.body: {} ssl_verify: False
2025-01-13 15:09:02.868 25 INFO cinder.volume.drivers.lightos [None req-64316b2a-63fe-4fad-ad31-5569e4e3505f 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/bf824a3e-d781-4c89-a36b-f562ae070111             request.body: {} ssl_verify: False
2025-01-13 15:09:02.908 25 INFO cinder.volume.flows.manager.create_volume [None req-64316b2a-63fe-4fad-ad31-5569e4e3505f 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Volume vol_97d9ec7f-3216-45f2-96d8-c049f5154411 (97d9ec7f-3216-45f2-96d8-c049f5154411): created successfully
2025-01-13 15:09:02.918 25 INFO cinder.volume.manager [None req-64316b2a-63fe-4fad-ad31-5569e4e3505f 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Created volume successfully.
2025-01-13 15:09:04.080 25 INFO cinder.volume.drivers.lightos [None req-b66685ff-76a5-451f-b7e3-e687c07053d1 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-3fcedda3-b224-4574-9379-be27f1376cd0             request.body: {} ssl_verify: False
2025-01-13 15:09:04.100 25 INFO cinder.volume.drivers.lightos [None req-b66685ff-76a5-451f-b7e3-e687c07053d1 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-3fcedda3-b224-4574-9379-be27f1376cd0', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_97d9ec7f-3216-45f2-96d8-c049f5154411'} ssl_verify: False
2025-01-13 15:09:04.158 25 INFO cinder.volume.drivers.lightos [None req-b66685ff-76a5-451f-b7e3-e687c07053d1 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-3fcedda3-b224-4574-9379-be27f1376cd0             request.body: {} ssl_verify: False
2025-01-13 15:09:05.279 25 INFO cinder.volume.drivers.lightos [None req-b66685ff-76a5-451f-b7e3-e687c07053d1 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-3fcedda3-b224-4574-9379-be27f1376cd0             request.body: {} ssl_verify: False
2025-01-13 15:09:05.324 25 INFO cinder.volume.manager [None req-b66685ff-76a5-451f-b7e3-e687c07053d1 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Create snapshot completed successfully
2025-01-13 15:09:06.342 25 INFO cinder.volume.drivers.lightos [None req-bdbec489-d397-4d77-86cf-81fe6e151697 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-480d7c50-8272-4592-ae61-9e6c73ea5407             request.body: {} ssl_verify: False
2025-01-13 15:09:06.358 25 INFO cinder.volume.drivers.lightos [None req-bdbec489-d397-4d77-86cf-81fe6e151697 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-480d7c50-8272-4592-ae61-9e6c73ea5407', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_97d9ec7f-3216-45f2-96d8-c049f5154411'} ssl_verify: False
2025-01-13 15:09:06.399 25 INFO cinder.volume.drivers.lightos [None req-bdbec489-d397-4d77-86cf-81fe6e151697 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-480d7c50-8272-4592-ae61-9e6c73ea5407             request.body: {} ssl_verify: False
2025-01-13 15:09:07.459 25 INFO cinder.volume.drivers.lightos [None req-bdbec489-d397-4d77-86cf-81fe6e151697 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-480d7c50-8272-4592-ae61-9e6c73ea5407             request.body: {} ssl_verify: False
2025-01-13 15:09:07.500 25 INFO cinder.volume.manager [None req-bdbec489-d397-4d77-86cf-81fe6e151697 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Create snapshot completed successfully
2025-01-13 15:09:08.601 25 INFO cinder.volume.drivers.lightos [None req-5d495b62-80a1-4618-9aae-60934f741b17 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-4917aaca-45b1-4c51-8e6c-4ff9b6b6d177             request.body: {} ssl_verify: False
2025-01-13 15:09:08.619 25 INFO cinder.volume.drivers.lightos [None req-5d495b62-80a1-4618-9aae-60934f741b17 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-4917aaca-45b1-4c51-8e6c-4ff9b6b6d177', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_97d9ec7f-3216-45f2-96d8-c049f5154411'} ssl_verify: False
2025-01-13 15:09:08.673 25 INFO cinder.volume.drivers.lightos [None req-5d495b62-80a1-4618-9aae-60934f741b17 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-4917aaca-45b1-4c51-8e6c-4ff9b6b6d177             request.body: {} ssl_verify: False
2025-01-13 15:09:09.703 25 INFO cinder.volume.drivers.lightos [None req-5d495b62-80a1-4618-9aae-60934f741b17 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-4917aaca-45b1-4c51-8e6c-4ff9b6b6d177             request.body: {} ssl_verify: False
2025-01-13 15:09:09.748 25 INFO cinder.volume.manager [None req-5d495b62-80a1-4618-9aae-60934f741b17 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Create snapshot completed successfully
2025-01-13 15:09:11.317 25 INFO cinder.volume.drivers.lightos [None req-caece965-50e4-458e-b83f-86fe4a17431e 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-4917aaca-45b1-4c51-8e6c-4ff9b6b6d177             request.body: {} ssl_verify: False
2025-01-13 15:09:11.350 25 INFO cinder.volume.drivers.lightos [None req-caece965-50e4-458e-b83f-86fe4a17431e 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/b376a1c6-11a4-4703-973a-9ed1f3df80c9?             request.body:  ssl_verify: False
2025-01-13 15:09:11.384 25 INFO cinder.volume.drivers.lightos [None req-caece965-50e4-458e-b83f-86fe4a17431e 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/b376a1c6-11a4-4703-973a-9ed1f3df80c9             request.body: {} ssl_verify: False
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager [None req-caece965-50e4-458e-b83f-86fe4a17431e 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager 
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager 
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:11.447 25 ERROR cinder.volume.manager 
2025-01-13 15:09:11.457 25 INFO cinder.volume.manager [None req-caece965-50e4-458e-b83f-86fe4a17431e 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Delete snapshot completed successfully.
2025-01-13 15:09:12.437 25 INFO cinder.volume.drivers.lightos [None req-2a19763c-0bce-4a03-aed9-8984b997aab8 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-480d7c50-8272-4592-ae61-9e6c73ea5407             request.body: {} ssl_verify: False
2025-01-13 15:09:12.457 25 INFO cinder.volume.drivers.lightos [None req-2a19763c-0bce-4a03-aed9-8984b997aab8 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/41042798-9cdb-4e37-a9d3-f671b709bcbd?             request.body:  ssl_verify: False
2025-01-13 15:09:12.488 25 INFO cinder.volume.drivers.lightos [None req-2a19763c-0bce-4a03-aed9-8984b997aab8 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/41042798-9cdb-4e37-a9d3-f671b709bcbd             request.body: {} ssl_verify: False
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager [None req-2a19763c-0bce-4a03-aed9-8984b997aab8 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager 
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager 
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:12.558 25 ERROR cinder.volume.manager 
2025-01-13 15:09:12.569 25 INFO cinder.volume.manager [None req-2a19763c-0bce-4a03-aed9-8984b997aab8 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Delete snapshot completed successfully.
2025-01-13 15:09:13.550 25 INFO cinder.volume.drivers.lightos [None req-282fbe26-a9af-44b6-90cb-bfa8de89ee23 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-3fcedda3-b224-4574-9379-be27f1376cd0             request.body: {} ssl_verify: False
2025-01-13 15:09:13.573 25 INFO cinder.volume.drivers.lightos [None req-282fbe26-a9af-44b6-90cb-bfa8de89ee23 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/e5d26387-d795-46a4-9169-bd5a071b3ece?             request.body:  ssl_verify: False
2025-01-13 15:09:13.649 25 INFO cinder.volume.drivers.lightos [None req-282fbe26-a9af-44b6-90cb-bfa8de89ee23 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/e5d26387-d795-46a4-9169-bd5a071b3ece             request.body: {} ssl_verify: False
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager [None req-282fbe26-a9af-44b6-90cb-bfa8de89ee23 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager 
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager 
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:13.704 25 ERROR cinder.volume.manager 
2025-01-13 15:09:13.716 25 INFO cinder.volume.manager [None req-282fbe26-a9af-44b6-90cb-bfa8de89ee23 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Delete snapshot completed successfully.
2025-01-13 15:09:14.751 25 INFO cinder.volume.drivers.lightos [None req-67228f5c-7626-4d51-96e7-73012cb4406c 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_97d9ec7f-3216-45f2-96d8-c049f5154411             request.body: {} ssl_verify: False
2025-01-13 15:09:14.771 25 INFO cinder.volume.drivers.lightos [None req-67228f5c-7626-4d51-96e7-73012cb4406c 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/bf824a3e-d781-4c89-a36b-f562ae070111?             request.body:  ssl_verify: False
2025-01-13 15:09:14.819 25 INFO cinder.volume.drivers.lightos [None req-67228f5c-7626-4d51-96e7-73012cb4406c 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/bf824a3e-d781-4c89-a36b-f562ae070111             request.body: {} ssl_verify: False
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager [None req-67228f5c-7626-4d51-96e7-73012cb4406c 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager 
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager 
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:14.891 25 ERROR cinder.volume.manager 
2025-01-13 15:09:14.921 25 INFO cinder.volume.manager [None req-67228f5c-7626-4d51-96e7-73012cb4406c 657657a574b644d086dbd18b0a6cf47b 8d63be2d025843d3918e87840f8f7ad9 - - - -] Deleted volume successfully.
2025-01-13 15:09:24.026 25 INFO cinder.volume.flows.manager.create_volume [None req-d52bdc6a-c75a-4dde-9261-2c9793e3f492 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Volume 5b180fe4-99cc-4efd-8af5-47748408e3d6: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_5b180fe4-99cc-4efd-8af5-47748408e3d6', 'volume_size': 1}
2025-01-13 15:09:24.026 25 INFO cinder.volume.drivers.lightos [None req-d52bdc6a-c75a-4dde-9261-2c9793e3f492 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_5b180fe4-99cc-4efd-8af5-47748408e3d6             request.body: {} ssl_verify: False
2025-01-13 15:09:24.059 25 INFO cinder.volume.drivers.lightos [None req-d52bdc6a-c75a-4dde-9261-2c9793e3f492 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_5b180fe4-99cc-4efd-8af5-47748408e3d6', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:24.088 25 INFO cinder.volume.flows.manager.create_volume [None req-01e3624c-7fb1-4e0c-90bd-3ac76867b6e5 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Volume 0eaae3af-f23a-4e1a-9965-9f2453fb58aa: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_0eaae3af-f23a-4e1a-9965-9f2453fb58aa', 'volume_size': 1}
2025-01-13 15:09:24.088 25 INFO cinder.volume.drivers.lightos [None req-01e3624c-7fb1-4e0c-90bd-3ac76867b6e5 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_0eaae3af-f23a-4e1a-9965-9f2453fb58aa             request.body: {} ssl_verify: False
2025-01-13 15:09:24.106 25 INFO cinder.volume.flows.manager.create_volume [None req-b4ef5304-2fe0-4aec-9e1d-9df1e6ff498b ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Volume 617afd8c-4f6f-48d2-a822-b180509cf79b: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_617afd8c-4f6f-48d2-a822-b180509cf79b', 'volume_size': 1}
2025-01-13 15:09:24.106 25 INFO cinder.volume.drivers.lightos [None req-b4ef5304-2fe0-4aec-9e1d-9df1e6ff498b ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_617afd8c-4f6f-48d2-a822-b180509cf79b             request.body: {} ssl_verify: False
2025-01-13 15:09:24.149 25 INFO cinder.volume.drivers.lightos [None req-01e3624c-7fb1-4e0c-90bd-3ac76867b6e5 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_0eaae3af-f23a-4e1a-9965-9f2453fb58aa', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:24.153 25 INFO cinder.volume.drivers.lightos [None req-d52bdc6a-c75a-4dde-9261-2c9793e3f492 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/59debe08-8ab1-45be-883a-934b1e2bab54             request.body: {} ssl_verify: False
2025-01-13 15:09:24.155 25 INFO cinder.volume.drivers.lightos [None req-b4ef5304-2fe0-4aec-9e1d-9df1e6ff498b ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_617afd8c-4f6f-48d2-a822-b180509cf79b', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:24.222 25 INFO cinder.volume.flows.manager.create_volume [None req-42ff806f-7034-4cda-af59-53f1e41184cf be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Volume 06ab7c03-3bb7-4a96-b16f-07fbb39b516f: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_06ab7c03-3bb7-4a96-b16f-07fbb39b516f', 'volume_size': 1}
2025-01-13 15:09:24.222 25 INFO cinder.volume.drivers.lightos [None req-42ff806f-7034-4cda-af59-53f1e41184cf be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_06ab7c03-3bb7-4a96-b16f-07fbb39b516f             request.body: {} ssl_verify: False
2025-01-13 15:09:24.232 25 INFO cinder.volume.flows.manager.create_volume [None req-d52bdc6a-c75a-4dde-9261-2c9793e3f492 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Volume vol_5b180fe4-99cc-4efd-8af5-47748408e3d6 (5b180fe4-99cc-4efd-8af5-47748408e3d6): created successfully
2025-01-13 15:09:24.244 25 INFO cinder.volume.manager [None req-d52bdc6a-c75a-4dde-9261-2c9793e3f492 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Created volume successfully.
2025-01-13 15:09:24.254 25 INFO cinder.volume.drivers.lightos [None req-42ff806f-7034-4cda-af59-53f1e41184cf be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_06ab7c03-3bb7-4a96-b16f-07fbb39b516f', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:24.370 25 INFO cinder.volume.drivers.lightos [None req-01e3624c-7fb1-4e0c-90bd-3ac76867b6e5 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ccdfb566-8a31-4aa8-aeef-69146f36a451             request.body: {} ssl_verify: False
2025-01-13 15:09:24.377 25 INFO cinder.volume.drivers.lightos [None req-b4ef5304-2fe0-4aec-9e1d-9df1e6ff498b ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/0923f27d-2223-43a4-b90b-54fc73fb1d01             request.body: {} ssl_verify: False
2025-01-13 15:09:24.435 25 INFO cinder.volume.flows.manager.create_volume [None req-9aeee5e9-2f13-4bd0-9e04-5e4a139c3300 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Volume 2e499727-777f-4e2c-8f3a-3917158ba52c: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_2e499727-777f-4e2c-8f3a-3917158ba52c', 'volume_size': 1}
2025-01-13 15:09:24.435 25 INFO cinder.volume.drivers.lightos [None req-9aeee5e9-2f13-4bd0-9e04-5e4a139c3300 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_2e499727-777f-4e2c-8f3a-3917158ba52c             request.body: {} ssl_verify: False
2025-01-13 15:09:24.437 25 INFO cinder.volume.flows.manager.create_volume [None req-b4ef5304-2fe0-4aec-9e1d-9df1e6ff498b ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Volume vol_617afd8c-4f6f-48d2-a822-b180509cf79b (617afd8c-4f6f-48d2-a822-b180509cf79b): created successfully
2025-01-13 15:09:24.445 25 INFO cinder.volume.manager [None req-b4ef5304-2fe0-4aec-9e1d-9df1e6ff498b ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Created volume successfully.
2025-01-13 15:09:24.514 25 INFO cinder.volume.drivers.lightos [None req-9aeee5e9-2f13-4bd0-9e04-5e4a139c3300 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_2e499727-777f-4e2c-8f3a-3917158ba52c', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:24.519 25 INFO cinder.volume.drivers.lightos [None req-42ff806f-7034-4cda-af59-53f1e41184cf be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/01bb5d19-9980-426d-8d05-3b3cdba9d738             request.body: {} ssl_verify: False
2025-01-13 15:09:24.634 25 INFO cinder.volume.flows.manager.create_volume [None req-8d1b6f06-bdaf-4333-b7d0-b0d8b7608dcd be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Volume 6642968b-6454-4f3f-a05d-6f2a4c035c65: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_6642968b-6454-4f3f-a05d-6f2a4c035c65', 'volume_size': 1}
2025-01-13 15:09:24.634 25 INFO cinder.volume.drivers.lightos [None req-8d1b6f06-bdaf-4333-b7d0-b0d8b7608dcd be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_6642968b-6454-4f3f-a05d-6f2a4c035c65             request.body: {} ssl_verify: False
2025-01-13 15:09:24.650 25 INFO cinder.volume.drivers.lightos [None req-8d1b6f06-bdaf-4333-b7d0-b0d8b7608dcd be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_6642968b-6454-4f3f-a05d-6f2a4c035c65', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:24.689 25 INFO cinder.volume.drivers.lightos [None req-9aeee5e9-2f13-4bd0-9e04-5e4a139c3300 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/52417e47-9666-4470-abf2-17d86bc64e0c             request.body: {} ssl_verify: False
2025-01-13 15:09:24.827 25 INFO cinder.volume.drivers.lightos [None req-8d1b6f06-bdaf-4333-b7d0-b0d8b7608dcd be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c45b05de-7815-4c26-8292-02013e0a2084             request.body: {} ssl_verify: False
2025-01-13 15:09:24.849 25 INFO cinder.volume.flows.manager.create_volume [None req-1d4bfbbf-58a2-4fbe-951f-e9ba7cf3c842 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Volume 9ca59961-8dd2-4a29-a13c-af8028c724bf: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_9ca59961-8dd2-4a29-a13c-af8028c724bf', 'volume_size': 1}
2025-01-13 15:09:24.850 25 INFO cinder.volume.drivers.lightos [None req-1d4bfbbf-58a2-4fbe-951f-e9ba7cf3c842 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_9ca59961-8dd2-4a29-a13c-af8028c724bf             request.body: {} ssl_verify: False
2025-01-13 15:09:24.881 25 INFO cinder.volume.drivers.lightos [None req-1d4bfbbf-58a2-4fbe-951f-e9ba7cf3c842 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_9ca59961-8dd2-4a29-a13c-af8028c724bf', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:25.178 25 INFO cinder.volume.drivers.lightos [None req-1d4bfbbf-58a2-4fbe-951f-e9ba7cf3c842 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/bba4210b-bc38-4932-97d3-12d12b2b946f             request.body: {} ssl_verify: False
2025-01-13 15:09:25.202 25 INFO cinder.volume.drivers.lightos [None req-822675ff-1728-4f36-9ff5-28b324632116 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-2b678634-807d-465e-9a77-78ff813c5b68             request.body: {} ssl_verify: False
2025-01-13 15:09:25.216 25 INFO cinder.volume.drivers.lightos [None req-822675ff-1728-4f36-9ff5-28b324632116 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-2b678634-807d-465e-9a77-78ff813c5b68', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_5b180fe4-99cc-4efd-8af5-47748408e3d6'} ssl_verify: False
2025-01-13 15:09:25.360 25 INFO cinder.volume.flows.manager.create_volume [None req-8a59794a-d8e4-49a5-b2cc-36d137ebcb3f ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Volume 0aae48e9-2d7e-4446-aa33-1d95e784eb18: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_0aae48e9-2d7e-4446-aa33-1d95e784eb18', 'volume_size': 1}
2025-01-13 15:09:25.360 25 INFO cinder.volume.drivers.lightos [None req-8a59794a-d8e4-49a5-b2cc-36d137ebcb3f ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_0aae48e9-2d7e-4446-aa33-1d95e784eb18             request.body: {} ssl_verify: False
2025-01-13 15:09:25.374 25 INFO cinder.volume.drivers.lightos [None req-8a59794a-d8e4-49a5-b2cc-36d137ebcb3f ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_0aae48e9-2d7e-4446-aa33-1d95e784eb18', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:25.395 25 INFO cinder.volume.drivers.lightos [None req-01e3624c-7fb1-4e0c-90bd-3ac76867b6e5 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ccdfb566-8a31-4aa8-aeef-69146f36a451             request.body: {} ssl_verify: False
2025-01-13 15:09:25.442 25 INFO cinder.volume.drivers.lightos [None req-8a59794a-d8e4-49a5-b2cc-36d137ebcb3f ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/503f8b4e-63d7-4291-8db1-808085794dd0             request.body: {} ssl_verify: False
2025-01-13 15:09:25.445 25 INFO cinder.volume.flows.manager.create_volume [None req-01e3624c-7fb1-4e0c-90bd-3ac76867b6e5 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Volume vol_0eaae3af-f23a-4e1a-9965-9f2453fb58aa (0eaae3af-f23a-4e1a-9965-9f2453fb58aa): created successfully
2025-01-13 15:09:25.455 25 INFO cinder.volume.manager [None req-01e3624c-7fb1-4e0c-90bd-3ac76867b6e5 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Created volume successfully.
2025-01-13 15:09:25.468 25 INFO cinder.volume.drivers.lightos [None req-822675ff-1728-4f36-9ff5-28b324632116 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-2b678634-807d-465e-9a77-78ff813c5b68             request.body: {} ssl_verify: False
2025-01-13 15:09:25.550 25 INFO cinder.volume.flows.manager.create_volume [None req-b9652e55-27ea-49a9-af2c-72870a9d57c0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Volume 5ab333f8-9e6a-4319-8169-9cb6cfc1476d: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_5ab333f8-9e6a-4319-8169-9cb6cfc1476d', 'volume_size': 1}
2025-01-13 15:09:25.550 25 INFO cinder.volume.drivers.lightos [None req-b9652e55-27ea-49a9-af2c-72870a9d57c0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_5ab333f8-9e6a-4319-8169-9cb6cfc1476d             request.body: {} ssl_verify: False
2025-01-13 15:09:25.552 25 INFO cinder.volume.drivers.lightos [None req-42ff806f-7034-4cda-af59-53f1e41184cf be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/01bb5d19-9980-426d-8d05-3b3cdba9d738             request.body: {} ssl_verify: False
2025-01-13 15:09:25.669 25 INFO cinder.volume.flows.manager.create_volume [None req-42ff806f-7034-4cda-af59-53f1e41184cf be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Volume vol_06ab7c03-3bb7-4a96-b16f-07fbb39b516f (06ab7c03-3bb7-4a96-b16f-07fbb39b516f): created successfully
2025-01-13 15:09:25.674 25 INFO cinder.volume.drivers.lightos [None req-b9652e55-27ea-49a9-af2c-72870a9d57c0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_5ab333f8-9e6a-4319-8169-9cb6cfc1476d', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:25.679 25 INFO cinder.volume.manager [None req-42ff806f-7034-4cda-af59-53f1e41184cf be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Created volume successfully.
2025-01-13 15:09:25.711 25 INFO cinder.volume.drivers.lightos [None req-9aeee5e9-2f13-4bd0-9e04-5e4a139c3300 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/52417e47-9666-4470-abf2-17d86bc64e0c             request.body: {} ssl_verify: False
2025-01-13 15:09:25.773 25 INFO cinder.volume.flows.manager.create_volume [None req-8970bedc-d80a-4298-94ea-c2cdc1e505d0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Volume 4fcca01d-7309-4cb6-90d4-be4e111b0ca8: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_4fcca01d-7309-4cb6-90d4-be4e111b0ca8', 'volume_size': 1}
2025-01-13 15:09:25.773 25 INFO cinder.volume.drivers.lightos [None req-8970bedc-d80a-4298-94ea-c2cdc1e505d0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_4fcca01d-7309-4cb6-90d4-be4e111b0ca8             request.body: {} ssl_verify: False
2025-01-13 15:09:25.775 25 INFO cinder.volume.drivers.lightos [None req-b9652e55-27ea-49a9-af2c-72870a9d57c0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ea5e3240-f185-4a95-b086-f13f17d445a2             request.body: {} ssl_verify: False
2025-01-13 15:09:25.787 25 INFO cinder.volume.flows.manager.create_volume [None req-9aeee5e9-2f13-4bd0-9e04-5e4a139c3300 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Volume vol_2e499727-777f-4e2c-8f3a-3917158ba52c (2e499727-777f-4e2c-8f3a-3917158ba52c): created successfully
2025-01-13 15:09:25.795 25 INFO cinder.volume.manager [None req-9aeee5e9-2f13-4bd0-9e04-5e4a139c3300 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Created volume successfully.
2025-01-13 15:09:25.827 25 INFO cinder.volume.drivers.lightos [None req-8970bedc-d80a-4298-94ea-c2cdc1e505d0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_4fcca01d-7309-4cb6-90d4-be4e111b0ca8', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:25.852 25 INFO cinder.volume.drivers.lightos [None req-8d1b6f06-bdaf-4333-b7d0-b0d8b7608dcd be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c45b05de-7815-4c26-8292-02013e0a2084             request.body: {} ssl_verify: False
2025-01-13 15:09:25.901 25 INFO cinder.volume.flows.manager.create_volume [None req-8d1b6f06-bdaf-4333-b7d0-b0d8b7608dcd be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Volume vol_6642968b-6454-4f3f-a05d-6f2a4c035c65 (6642968b-6454-4f3f-a05d-6f2a4c035c65): created successfully
2025-01-13 15:09:25.907 25 INFO cinder.volume.drivers.lightos [None req-8970bedc-d80a-4298-94ea-c2cdc1e505d0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/dc4eda87-7321-4edf-86b4-3cb72b8c7233             request.body: {} ssl_verify: False
2025-01-13 15:09:25.911 25 INFO cinder.volume.manager [None req-8d1b6f06-bdaf-4333-b7d0-b0d8b7608dcd be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Created volume successfully.
2025-01-13 15:09:26.063 25 INFO cinder.volume.flows.manager.create_volume [None req-2a425d14-e803-49f5-aa21-2e44d3744f94 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Volume de66c89f-08cb-409b-a1c7-e9b024638407: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_de66c89f-08cb-409b-a1c7-e9b024638407', 'volume_size': 1}
2025-01-13 15:09:26.063 25 INFO cinder.volume.drivers.lightos [None req-2a425d14-e803-49f5-aa21-2e44d3744f94 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_de66c89f-08cb-409b-a1c7-e9b024638407             request.body: {} ssl_verify: False
2025-01-13 15:09:26.085 25 INFO cinder.volume.drivers.lightos [None req-2a425d14-e803-49f5-aa21-2e44d3744f94 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_de66c89f-08cb-409b-a1c7-e9b024638407', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:26.190 25 INFO cinder.volume.drivers.lightos [None req-2a425d14-e803-49f5-aa21-2e44d3744f94 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/566ae48b-cbaf-42ea-8f15-877ce20176ff             request.body: {} ssl_verify: False
2025-01-13 15:09:26.207 25 INFO cinder.volume.drivers.lightos [None req-1d4bfbbf-58a2-4fbe-951f-e9ba7cf3c842 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/bba4210b-bc38-4932-97d3-12d12b2b946f             request.body: {} ssl_verify: False
2025-01-13 15:09:26.229 25 INFO cinder.volume.flows.manager.create_volume [None req-e587c587-0bc4-4832-bd37-ab6447aa97d2 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Volume 1778af90-0990-49cd-b83a-a941ab0ce606: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_1778af90-0990-49cd-b83a-a941ab0ce606', 'volume_size': 1}
2025-01-13 15:09:26.229 25 INFO cinder.volume.drivers.lightos [None req-e587c587-0bc4-4832-bd37-ab6447aa97d2 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_1778af90-0990-49cd-b83a-a941ab0ce606             request.body: {} ssl_verify: False
2025-01-13 15:09:26.258 25 INFO cinder.volume.drivers.lightos [None req-e587c587-0bc4-4832-bd37-ab6447aa97d2 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_1778af90-0990-49cd-b83a-a941ab0ce606', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:26.264 25 INFO cinder.volume.flows.manager.create_volume [None req-1d4bfbbf-58a2-4fbe-951f-e9ba7cf3c842 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Volume vol_9ca59961-8dd2-4a29-a13c-af8028c724bf (9ca59961-8dd2-4a29-a13c-af8028c724bf): created successfully
2025-01-13 15:09:26.274 25 INFO cinder.volume.manager [None req-1d4bfbbf-58a2-4fbe-951f-e9ba7cf3c842 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Created volume successfully.
2025-01-13 15:09:26.294 25 INFO cinder.volume.drivers.lightos [None req-e587c587-0bc4-4832-bd37-ab6447aa97d2 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/1ff7dbca-1af7-485b-9f75-30034b94cbb8             request.body: {} ssl_verify: False
2025-01-13 15:09:26.462 25 INFO cinder.volume.drivers.lightos [None req-8a59794a-d8e4-49a5-b2cc-36d137ebcb3f ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/503f8b4e-63d7-4291-8db1-808085794dd0             request.body: {} ssl_verify: False
2025-01-13 15:09:26.505 25 INFO cinder.volume.flows.manager.create_volume [None req-8a59794a-d8e4-49a5-b2cc-36d137ebcb3f ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Volume vol_0aae48e9-2d7e-4446-aa33-1d95e784eb18 (0aae48e9-2d7e-4446-aa33-1d95e784eb18): created successfully
2025-01-13 15:09:26.513 25 INFO cinder.volume.manager [None req-8a59794a-d8e4-49a5-b2cc-36d137ebcb3f ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Created volume successfully.
2025-01-13 15:09:26.553 25 INFO cinder.volume.drivers.lightos [None req-822675ff-1728-4f36-9ff5-28b324632116 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-2b678634-807d-465e-9a77-78ff813c5b68             request.body: {} ssl_verify: False
2025-01-13 15:09:26.599 25 INFO cinder.volume.manager [None req-822675ff-1728-4f36-9ff5-28b324632116 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Create snapshot completed successfully
2025-01-13 15:09:26.874 25 INFO cinder.volume.drivers.lightos [None req-b9652e55-27ea-49a9-af2c-72870a9d57c0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ea5e3240-f185-4a95-b086-f13f17d445a2             request.body: {} ssl_verify: False
2025-01-13 15:09:26.913 25 INFO cinder.volume.flows.manager.create_volume [None req-b9652e55-27ea-49a9-af2c-72870a9d57c0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Volume vol_5ab333f8-9e6a-4319-8169-9cb6cfc1476d (5ab333f8-9e6a-4319-8169-9cb6cfc1476d): created successfully
2025-01-13 15:09:26.922 25 INFO cinder.volume.manager [None req-b9652e55-27ea-49a9-af2c-72870a9d57c0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Created volume successfully.
2025-01-13 15:09:26.950 25 INFO cinder.volume.drivers.lightos [None req-8970bedc-d80a-4298-94ea-c2cdc1e505d0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/dc4eda87-7321-4edf-86b4-3cb72b8c7233             request.body: {} ssl_verify: False
2025-01-13 15:09:26.984 25 INFO cinder.volume.flows.manager.create_volume [None req-8970bedc-d80a-4298-94ea-c2cdc1e505d0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Volume vol_4fcca01d-7309-4cb6-90d4-be4e111b0ca8 (4fcca01d-7309-4cb6-90d4-be4e111b0ca8): created successfully
2025-01-13 15:09:26.992 25 INFO cinder.volume.manager [None req-8970bedc-d80a-4298-94ea-c2cdc1e505d0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Created volume successfully.
2025-01-13 15:09:27.248 25 INFO cinder.volume.drivers.lightos [None req-2a425d14-e803-49f5-aa21-2e44d3744f94 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/566ae48b-cbaf-42ea-8f15-877ce20176ff             request.body: {} ssl_verify: False
2025-01-13 15:09:27.289 25 INFO cinder.volume.flows.manager.create_volume [None req-2a425d14-e803-49f5-aa21-2e44d3744f94 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Volume vol_de66c89f-08cb-409b-a1c7-e9b024638407 (de66c89f-08cb-409b-a1c7-e9b024638407): created successfully
2025-01-13 15:09:27.298 25 INFO cinder.volume.drivers.lightos [None req-90b877f1-bb36-4592-a8af-d5f93daff012 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_9ca59961-8dd2-4a29-a13c-af8028c724bf             request.body: {} ssl_verify: False
2025-01-13 15:09:27.301 25 INFO cinder.volume.manager [None req-2a425d14-e803-49f5-aa21-2e44d3744f94 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Created volume successfully.
2025-01-13 15:09:27.317 25 INFO cinder.volume.drivers.lightos [None req-90b877f1-bb36-4592-a8af-d5f93daff012 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/bba4210b-bc38-4932-97d3-12d12b2b946f?             request.body:  ssl_verify: False
2025-01-13 15:09:27.336 25 INFO cinder.volume.drivers.lightos [None req-e587c587-0bc4-4832-bd37-ab6447aa97d2 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/1ff7dbca-1af7-485b-9f75-30034b94cbb8             request.body: {} ssl_verify: False
2025-01-13 15:09:27.357 25 INFO cinder.volume.drivers.lightos [None req-90b877f1-bb36-4592-a8af-d5f93daff012 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/bba4210b-bc38-4932-97d3-12d12b2b946f             request.body: {} ssl_verify: False
2025-01-13 15:09:27.421 25 INFO cinder.volume.flows.manager.create_volume [None req-e587c587-0bc4-4832-bd37-ab6447aa97d2 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Volume vol_1778af90-0990-49cd-b83a-a941ab0ce606 (1778af90-0990-49cd-b83a-a941ab0ce606): created successfully
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager [None req-90b877f1-bb36-4592-a8af-d5f93daff012 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager 
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager 
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:27.427 25 ERROR cinder.volume.manager 
2025-01-13 15:09:27.432 25 INFO cinder.volume.manager [None req-e587c587-0bc4-4832-bd37-ab6447aa97d2 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Created volume successfully.
2025-01-13 15:09:27.451 25 INFO cinder.volume.manager [None req-90b877f1-bb36-4592-a8af-d5f93daff012 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Deleted volume successfully.
2025-01-13 15:09:27.598 25 INFO cinder.volume.flows.manager.create_volume [None req-937f8251-611c-4d6c-8362-6cacb401b87c 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Volume bd4762d3-abab-4e30-a3e4-980566194427: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_bd4762d3-abab-4e30-a3e4-980566194427', 'volume_size': 1}
2025-01-13 15:09:27.598 25 INFO cinder.volume.drivers.lightos [None req-937f8251-611c-4d6c-8362-6cacb401b87c 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_bd4762d3-abab-4e30-a3e4-980566194427             request.body: {} ssl_verify: False
2025-01-13 15:09:27.611 25 INFO cinder.volume.drivers.lightos [None req-1ee5aa0b-5a0f-44d4-99b3-21408ccf7d0e ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_1778af90-0990-49cd-b83a-a941ab0ce606             request.body: {} ssl_verify: False
2025-01-13 15:09:27.623 25 INFO cinder.volume.drivers.lightos [None req-937f8251-611c-4d6c-8362-6cacb401b87c 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_bd4762d3-abab-4e30-a3e4-980566194427', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:27.632 25 INFO cinder.volume.drivers.lightos [None req-1ee5aa0b-5a0f-44d4-99b3-21408ccf7d0e ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/1ff7dbca-1af7-485b-9f75-30034b94cbb8?             request.body:  ssl_verify: False
2025-01-13 15:09:27.654 25 INFO cinder.volume.drivers.lightos [None req-937f8251-611c-4d6c-8362-6cacb401b87c 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ea44c16c-f262-4aaa-acaa-23033ccf65a9             request.body: {} ssl_verify: False
2025-01-13 15:09:27.734 25 INFO cinder.volume.drivers.lightos [None req-1ee5aa0b-5a0f-44d4-99b3-21408ccf7d0e ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/1ff7dbca-1af7-485b-9f75-30034b94cbb8             request.body: {} ssl_verify: False
2025-01-13 15:09:27.818 25 INFO cinder.volume.flows.manager.create_volume [None req-49f2b6d5-b1b2-4ff9-9bdb-5b8260b41ddf 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Volume 4e3eb0b7-bb01-49f2-b4e1-cc1e9f76cb8e: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_4e3eb0b7-bb01-49f2-b4e1-cc1e9f76cb8e', 'volume_size': 1}
2025-01-13 15:09:27.818 25 INFO cinder.volume.drivers.lightos [None req-49f2b6d5-b1b2-4ff9-9bdb-5b8260b41ddf 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_4e3eb0b7-bb01-49f2-b4e1-cc1e9f76cb8e             request.body: {} ssl_verify: False
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager [None req-1ee5aa0b-5a0f-44d4-99b3-21408ccf7d0e ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager 
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager 
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:27.846 25 ERROR cinder.volume.manager 
2025-01-13 15:09:27.850 25 INFO cinder.volume.drivers.lightos [None req-49f2b6d5-b1b2-4ff9-9bdb-5b8260b41ddf 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_4e3eb0b7-bb01-49f2-b4e1-cc1e9f76cb8e', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:27.875 25 INFO cinder.volume.manager [None req-1ee5aa0b-5a0f-44d4-99b3-21408ccf7d0e ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Deleted volume successfully.
2025-01-13 15:09:27.893 25 INFO cinder.volume.drivers.lightos [None req-49f2b6d5-b1b2-4ff9-9bdb-5b8260b41ddf 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/18bbe558-d4d1-4ba1-8656-00c2ad3dc04a             request.body: {} ssl_verify: False
2025-01-13 15:09:27.993 25 INFO cinder.volume.flows.manager.create_volume [None req-49f2b6d5-b1b2-4ff9-9bdb-5b8260b41ddf 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Volume vol_4e3eb0b7-bb01-49f2-b4e1-cc1e9f76cb8e (4e3eb0b7-bb01-49f2-b4e1-cc1e9f76cb8e): created successfully
2025-01-13 15:09:28.002 25 INFO cinder.volume.manager [None req-49f2b6d5-b1b2-4ff9-9bdb-5b8260b41ddf 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Created volume successfully.
2025-01-13 15:09:28.057 25 INFO cinder.volume.flows.manager.create_volume [None req-de6ab1f3-cb6b-4209-8c93-5fb64e754a24 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Volume 4cddb567-c4a2-421c-a527-b768a896c4a3: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_4cddb567-c4a2-421c-a527-b768a896c4a3', 'volume_size': 1}
2025-01-13 15:09:28.057 25 INFO cinder.volume.drivers.lightos [None req-de6ab1f3-cb6b-4209-8c93-5fb64e754a24 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_4cddb567-c4a2-421c-a527-b768a896c4a3             request.body: {} ssl_verify: False
2025-01-13 15:09:28.071 25 INFO cinder.volume.drivers.lightos [None req-de6ab1f3-cb6b-4209-8c93-5fb64e754a24 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_4cddb567-c4a2-421c-a527-b768a896c4a3', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:28.104 25 INFO cinder.volume.drivers.lightos [None req-de6ab1f3-cb6b-4209-8c93-5fb64e754a24 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ab9f3016-b174-4fce-ae6e-a38715cb1547             request.body: {} ssl_verify: False
2025-01-13 15:09:28.288 25 INFO cinder.volume.flows.manager.create_volume [None req-f08f8733-0a78-40c8-b97c-bf3cf3cbaa2d 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Volume 56858f9f-b143-4771-93b1-6d654bbf57bb: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_56858f9f-b143-4771-93b1-6d654bbf57bb', 'volume_size': 1}
2025-01-13 15:09:28.289 25 INFO cinder.volume.drivers.lightos [None req-f08f8733-0a78-40c8-b97c-bf3cf3cbaa2d 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_56858f9f-b143-4771-93b1-6d654bbf57bb             request.body: {} ssl_verify: False
2025-01-13 15:09:28.303 25 INFO cinder.volume.drivers.lightos [None req-f08f8733-0a78-40c8-b97c-bf3cf3cbaa2d 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_56858f9f-b143-4771-93b1-6d654bbf57bb', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:28.330 25 INFO cinder.volume.drivers.lightos [None req-f08f8733-0a78-40c8-b97c-bf3cf3cbaa2d 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b1597e6f-3254-4742-8257-0876b25234cb             request.body: {} ssl_verify: False
2025-01-13 15:09:28.453 25 INFO cinder.volume.drivers.lightos [None req-c97dc268-f07c-4875-9b53-66efaf1f2562 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_6642968b-6454-4f3f-a05d-6f2a4c035c65             request.body: {} ssl_verify: False
2025-01-13 15:09:28.475 25 INFO cinder.volume.drivers.lightos [None req-c97dc268-f07c-4875-9b53-66efaf1f2562 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/c45b05de-7815-4c26-8292-02013e0a2084?             request.body:  ssl_verify: False
2025-01-13 15:09:28.520 25 INFO cinder.volume.flows.manager.create_volume [None req-8894e1bb-da23-4289-a10e-9b88a28702bd 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Volume 4a679aae-1bda-4d5f-b530-12307ebbd2eb: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_4a679aae-1bda-4d5f-b530-12307ebbd2eb', 'volume_size': 1}
2025-01-13 15:09:28.520 25 INFO cinder.volume.drivers.lightos [None req-8894e1bb-da23-4289-a10e-9b88a28702bd 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_4a679aae-1bda-4d5f-b530-12307ebbd2eb             request.body: {} ssl_verify: False
2025-01-13 15:09:28.522 25 INFO cinder.volume.drivers.lightos [None req-c97dc268-f07c-4875-9b53-66efaf1f2562 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c45b05de-7815-4c26-8292-02013e0a2084             request.body: {} ssl_verify: False
2025-01-13 15:09:28.566 25 INFO cinder.volume.drivers.lightos [None req-8894e1bb-da23-4289-a10e-9b88a28702bd 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_4a679aae-1bda-4d5f-b530-12307ebbd2eb', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager [None req-c97dc268-f07c-4875-9b53-66efaf1f2562 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager 
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager 
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:28.585 25 ERROR cinder.volume.manager 
2025-01-13 15:09:28.602 25 INFO cinder.volume.drivers.lightos [None req-8894e1bb-da23-4289-a10e-9b88a28702bd 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/abcb6daf-48c8-48fc-a60d-3782650a77e2             request.body: {} ssl_verify: False
2025-01-13 15:09:28.611 25 INFO cinder.volume.manager [None req-c97dc268-f07c-4875-9b53-66efaf1f2562 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Deleted volume successfully.
2025-01-13 15:09:28.732 25 INFO cinder.volume.drivers.lightos [None req-05cccf13-f0f4-4fe2-b7af-ef8e0b7d253b ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_de66c89f-08cb-409b-a1c7-e9b024638407             request.body: {} ssl_verify: False
2025-01-13 15:09:28.743 25 INFO cinder.volume.drivers.lightos [None req-937f8251-611c-4d6c-8362-6cacb401b87c 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ea44c16c-f262-4aaa-acaa-23033ccf65a9             request.body: {} ssl_verify: False
2025-01-13 15:09:28.851 25 INFO cinder.volume.drivers.lightos [None req-05cccf13-f0f4-4fe2-b7af-ef8e0b7d253b ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/566ae48b-cbaf-42ea-8f15-877ce20176ff?             request.body:  ssl_verify: False
2025-01-13 15:09:28.855 25 INFO cinder.volume.flows.manager.create_volume [None req-937f8251-611c-4d6c-8362-6cacb401b87c 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Volume vol_bd4762d3-abab-4e30-a3e4-980566194427 (bd4762d3-abab-4e30-a3e4-980566194427): created successfully
2025-01-13 15:09:28.864 25 INFO cinder.volume.manager [None req-937f8251-611c-4d6c-8362-6cacb401b87c 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Created volume successfully.
2025-01-13 15:09:28.886 25 INFO cinder.volume.drivers.lightos [None req-05cccf13-f0f4-4fe2-b7af-ef8e0b7d253b ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/566ae48b-cbaf-42ea-8f15-877ce20176ff             request.body: {} ssl_verify: False
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager [None req-05cccf13-f0f4-4fe2-b7af-ef8e0b7d253b ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager 
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager 
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:28.965 25 ERROR cinder.volume.manager 
2025-01-13 15:09:28.994 25 INFO cinder.volume.manager [None req-05cccf13-f0f4-4fe2-b7af-ef8e0b7d253b ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Deleted volume successfully.
2025-01-13 15:09:29.141 25 INFO cinder.volume.drivers.lightos [None req-de6ab1f3-cb6b-4209-8c93-5fb64e754a24 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ab9f3016-b174-4fce-ae6e-a38715cb1547             request.body: {} ssl_verify: False
2025-01-13 15:09:29.176 25 INFO cinder.volume.flows.manager.create_volume [None req-de6ab1f3-cb6b-4209-8c93-5fb64e754a24 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Volume vol_4cddb567-c4a2-421c-a527-b768a896c4a3 (4cddb567-c4a2-421c-a527-b768a896c4a3): created successfully
2025-01-13 15:09:29.190 25 INFO cinder.volume.manager [None req-de6ab1f3-cb6b-4209-8c93-5fb64e754a24 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Created volume successfully.
2025-01-13 15:09:29.387 25 INFO cinder.volume.drivers.lightos [None req-f08f8733-0a78-40c8-b97c-bf3cf3cbaa2d 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b1597e6f-3254-4742-8257-0876b25234cb             request.body: {} ssl_verify: False
2025-01-13 15:09:29.425 25 INFO cinder.volume.flows.manager.create_volume [None req-f08f8733-0a78-40c8-b97c-bf3cf3cbaa2d 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Volume vol_56858f9f-b143-4771-93b1-6d654bbf57bb (56858f9f-b143-4771-93b1-6d654bbf57bb): created successfully
2025-01-13 15:09:29.434 25 INFO cinder.volume.manager [None req-f08f8733-0a78-40c8-b97c-bf3cf3cbaa2d 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Created volume successfully.
2025-01-13 15:09:29.605 25 INFO cinder.volume.drivers.lightos [None req-2fae63ae-0441-4f3a-8ded-6254986194e0 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_2e499727-777f-4e2c-8f3a-3917158ba52c             request.body: {} ssl_verify: False
2025-01-13 15:09:29.623 25 INFO cinder.volume.drivers.lightos [None req-2fae63ae-0441-4f3a-8ded-6254986194e0 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/52417e47-9666-4470-abf2-17d86bc64e0c?             request.body:  ssl_verify: False
2025-01-13 15:09:29.628 25 INFO cinder.volume.drivers.lightos [None req-8894e1bb-da23-4289-a10e-9b88a28702bd 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/abcb6daf-48c8-48fc-a60d-3782650a77e2             request.body: {} ssl_verify: False
2025-01-13 15:09:29.657 25 INFO cinder.volume.flows.manager.create_volume [None req-8894e1bb-da23-4289-a10e-9b88a28702bd 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Volume vol_4a679aae-1bda-4d5f-b530-12307ebbd2eb (4a679aae-1bda-4d5f-b530-12307ebbd2eb): created successfully
2025-01-13 15:09:29.666 25 INFO cinder.volume.manager [None req-8894e1bb-da23-4289-a10e-9b88a28702bd 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Created volume successfully.
2025-01-13 15:09:29.669 25 INFO cinder.volume.drivers.lightos [None req-2fae63ae-0441-4f3a-8ded-6254986194e0 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/52417e47-9666-4470-abf2-17d86bc64e0c             request.body: {} ssl_verify: False
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager [None req-2fae63ae-0441-4f3a-8ded-6254986194e0 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager 
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager 
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:29.716 25 ERROR cinder.volume.manager 
2025-01-13 15:09:29.747 25 INFO cinder.volume.manager [None req-2fae63ae-0441-4f3a-8ded-6254986194e0 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Deleted volume successfully.
2025-01-13 15:09:29.877 25 INFO cinder.volume.drivers.lightos [None req-c74664f0-c4ff-4b0f-9eaa-0e92bf614475 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_4a679aae-1bda-4d5f-b530-12307ebbd2eb             request.body: {} ssl_verify: False
2025-01-13 15:09:29.890 25 INFO cinder.volume.drivers.lightos [None req-c491ffbf-3893-4c5e-a2c1-5d3c5e1f12a8 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_4fcca01d-7309-4cb6-90d4-be4e111b0ca8             request.body: {} ssl_verify: False
2025-01-13 15:09:29.899 25 INFO cinder.volume.drivers.lightos [None req-c74664f0-c4ff-4b0f-9eaa-0e92bf614475 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/abcb6daf-48c8-48fc-a60d-3782650a77e2?             request.body:  ssl_verify: False
2025-01-13 15:09:29.920 25 INFO cinder.volume.drivers.lightos [None req-c491ffbf-3893-4c5e-a2c1-5d3c5e1f12a8 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/dc4eda87-7321-4edf-86b4-3cb72b8c7233?             request.body:  ssl_verify: False
2025-01-13 15:09:29.974 25 INFO cinder.volume.drivers.lightos [None req-c74664f0-c4ff-4b0f-9eaa-0e92bf614475 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/abcb6daf-48c8-48fc-a60d-3782650a77e2             request.body: {} ssl_verify: False
2025-01-13 15:09:30.010 25 INFO cinder.volume.drivers.lightos [None req-c491ffbf-3893-4c5e-a2c1-5d3c5e1f12a8 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/dc4eda87-7321-4edf-86b4-3cb72b8c7233             request.body: {} ssl_verify: False
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager [None req-c74664f0-c4ff-4b0f-9eaa-0e92bf614475 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager 
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager 
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:30.061 25 ERROR cinder.volume.manager 
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager [None req-c491ffbf-3893-4c5e-a2c1-5d3c5e1f12a8 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager 
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager 
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:30.076 25 ERROR cinder.volume.manager 
2025-01-13 15:09:30.091 25 INFO cinder.volume.manager [None req-c74664f0-c4ff-4b0f-9eaa-0e92bf614475 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Deleted volume successfully.
2025-01-13 15:09:30.102 25 INFO cinder.volume.manager [None req-c491ffbf-3893-4c5e-a2c1-5d3c5e1f12a8 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Deleted volume successfully.
2025-01-13 15:09:30.756 25 INFO cinder.volume.drivers.lightos [None req-346c4423-66b9-45c9-a45d-cb44aa097c0b be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_06ab7c03-3bb7-4a96-b16f-07fbb39b516f             request.body: {} ssl_verify: False
2025-01-13 15:09:30.783 25 INFO cinder.volume.drivers.lightos [None req-346c4423-66b9-45c9-a45d-cb44aa097c0b be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/01bb5d19-9980-426d-8d05-3b3cdba9d738?             request.body:  ssl_verify: False
2025-01-13 15:09:30.842 25 INFO cinder.volume.drivers.lightos [None req-346c4423-66b9-45c9-a45d-cb44aa097c0b be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/01bb5d19-9980-426d-8d05-3b3cdba9d738             request.body: {} ssl_verify: False
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager [None req-346c4423-66b9-45c9-a45d-cb44aa097c0b be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager 
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager 
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:30.888 25 ERROR cinder.volume.manager 
2025-01-13 15:09:30.919 25 INFO cinder.volume.manager [None req-346c4423-66b9-45c9-a45d-cb44aa097c0b be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Deleted volume successfully.
2025-01-13 15:09:31.027 25 INFO cinder.volume.drivers.lightos [None req-d364af6c-f9bb-4476-a654-ad6a05f7e208 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_56858f9f-b143-4771-93b1-6d654bbf57bb             request.body: {} ssl_verify: False
2025-01-13 15:09:31.032 25 INFO cinder.volume.drivers.lightos [None req-92855403-88e0-4877-bee2-2fb78ee32b52 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_5ab333f8-9e6a-4319-8169-9cb6cfc1476d             request.body: {} ssl_verify: False
2025-01-13 15:09:31.050 25 INFO cinder.volume.drivers.lightos [None req-d364af6c-f9bb-4476-a654-ad6a05f7e208 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/b1597e6f-3254-4742-8257-0876b25234cb?             request.body:  ssl_verify: False
2025-01-13 15:09:31.070 25 INFO cinder.volume.drivers.lightos [None req-92855403-88e0-4877-bee2-2fb78ee32b52 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/ea5e3240-f185-4a95-b086-f13f17d445a2?             request.body:  ssl_verify: False
2025-01-13 15:09:31.098 25 INFO cinder.volume.drivers.lightos [None req-d364af6c-f9bb-4476-a654-ad6a05f7e208 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b1597e6f-3254-4742-8257-0876b25234cb             request.body: {} ssl_verify: False
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager [None req-d364af6c-f9bb-4476-a654-ad6a05f7e208 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager 
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager 
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:31.177 25 ERROR cinder.volume.manager 
2025-01-13 15:09:31.182 25 INFO cinder.volume.drivers.lightos [None req-92855403-88e0-4877-bee2-2fb78ee32b52 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ea5e3240-f185-4a95-b086-f13f17d445a2             request.body: {} ssl_verify: False
2025-01-13 15:09:31.208 25 INFO cinder.volume.manager [None req-d364af6c-f9bb-4476-a654-ad6a05f7e208 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Deleted volume successfully.
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager [None req-92855403-88e0-4877-bee2-2fb78ee32b52 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager 
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager 
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:31.243 25 ERROR cinder.volume.manager 
2025-01-13 15:09:31.273 25 INFO cinder.volume.manager [None req-92855403-88e0-4877-bee2-2fb78ee32b52 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Deleted volume successfully.
2025-01-13 15:09:31.912 25 INFO cinder.volume.drivers.lightos [None req-7a7e447e-1fe1-4ea9-a282-a11d4e3a2ea5 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_0eaae3af-f23a-4e1a-9965-9f2453fb58aa             request.body: {} ssl_verify: False
2025-01-13 15:09:31.930 25 INFO cinder.volume.drivers.lightos [None req-7a7e447e-1fe1-4ea9-a282-a11d4e3a2ea5 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/ccdfb566-8a31-4aa8-aeef-69146f36a451?             request.body:  ssl_verify: False
2025-01-13 15:09:31.990 25 INFO cinder.volume.drivers.lightos [None req-7a7e447e-1fe1-4ea9-a282-a11d4e3a2ea5 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ccdfb566-8a31-4aa8-aeef-69146f36a451             request.body: {} ssl_verify: False
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager [None req-7a7e447e-1fe1-4ea9-a282-a11d4e3a2ea5 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager 
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager 
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:32.075 25 ERROR cinder.volume.manager 
2025-01-13 15:09:32.104 25 INFO cinder.volume.manager [None req-7a7e447e-1fe1-4ea9-a282-a11d4e3a2ea5 be06d641d9f649d2befcf562319d98a0 6d47eb9b94fa442f87fecf1de29b30d1 - - - -] Deleted volume successfully.
2025-01-13 15:09:32.175 25 INFO cinder.volume.drivers.lightos [None req-3b129aac-34bf-443e-8209-e66246b4e489 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_4cddb567-c4a2-421c-a527-b768a896c4a3             request.body: {} ssl_verify: False
2025-01-13 15:09:32.185 25 INFO cinder.volume.drivers.lightos [None req-41bcc2be-906a-4505-8114-70b6de8f76d0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_0aae48e9-2d7e-4446-aa33-1d95e784eb18             request.body: {} ssl_verify: False
2025-01-13 15:09:32.198 25 INFO cinder.volume.drivers.lightos [None req-3b129aac-34bf-443e-8209-e66246b4e489 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/ab9f3016-b174-4fce-ae6e-a38715cb1547?             request.body:  ssl_verify: False
2025-01-13 15:09:32.202 25 INFO cinder.volume.drivers.lightos [None req-41bcc2be-906a-4505-8114-70b6de8f76d0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/503f8b4e-63d7-4291-8db1-808085794dd0?             request.body:  ssl_verify: False
2025-01-13 15:09:32.232 25 INFO cinder.volume.drivers.lightos [None req-3b129aac-34bf-443e-8209-e66246b4e489 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ab9f3016-b174-4fce-ae6e-a38715cb1547             request.body: {} ssl_verify: False
2025-01-13 15:09:32.251 25 INFO cinder.volume.drivers.lightos [None req-41bcc2be-906a-4505-8114-70b6de8f76d0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/503f8b4e-63d7-4291-8db1-808085794dd0             request.body: {} ssl_verify: False
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager [None req-3b129aac-34bf-443e-8209-e66246b4e489 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager 
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager 
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:32.263 25 ERROR cinder.volume.manager 
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager [None req-41bcc2be-906a-4505-8114-70b6de8f76d0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager 
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager 
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:32.279 25 ERROR cinder.volume.manager 
2025-01-13 15:09:32.291 25 INFO cinder.volume.manager [None req-3b129aac-34bf-443e-8209-e66246b4e489 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Deleted volume successfully.
2025-01-13 15:09:32.303 25 INFO cinder.volume.manager [None req-41bcc2be-906a-4505-8114-70b6de8f76d0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Deleted volume successfully.
2025-01-13 15:09:33.341 25 INFO cinder.volume.drivers.lightos [None req-f96b1cd1-3ad5-418c-b9c1-dd25faced6a0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_617afd8c-4f6f-48d2-a822-b180509cf79b             request.body: {} ssl_verify: False
2025-01-13 15:09:33.348 25 INFO cinder.volume.drivers.lightos [None req-0183037d-565d-471a-8985-c04fc27933e5 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_4e3eb0b7-bb01-49f2-b4e1-cc1e9f76cb8e             request.body: {} ssl_verify: False
2025-01-13 15:09:33.361 25 INFO cinder.volume.drivers.lightos [None req-f96b1cd1-3ad5-418c-b9c1-dd25faced6a0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/0923f27d-2223-43a4-b90b-54fc73fb1d01?             request.body:  ssl_verify: False
2025-01-13 15:09:33.365 25 INFO cinder.volume.drivers.lightos [None req-0183037d-565d-471a-8985-c04fc27933e5 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/18bbe558-d4d1-4ba1-8656-00c2ad3dc04a?             request.body:  ssl_verify: False
2025-01-13 15:09:33.400 25 INFO cinder.volume.drivers.lightos [None req-f96b1cd1-3ad5-418c-b9c1-dd25faced6a0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/0923f27d-2223-43a4-b90b-54fc73fb1d01             request.body: {} ssl_verify: False
2025-01-13 15:09:33.434 25 INFO cinder.volume.drivers.lightos [None req-0183037d-565d-471a-8985-c04fc27933e5 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/18bbe558-d4d1-4ba1-8656-00c2ad3dc04a             request.body: {} ssl_verify: False
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager [None req-f96b1cd1-3ad5-418c-b9c1-dd25faced6a0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager 
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager 
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:33.444 25 ERROR cinder.volume.manager 
2025-01-13 15:09:33.469 25 INFO cinder.volume.manager [None req-f96b1cd1-3ad5-418c-b9c1-dd25faced6a0 ac26eacf304948e4b8e224fc87750ddd f8c2df465a494221bb5f8ae93d4e957e - - - -] Deleted volume successfully.
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager [None req-0183037d-565d-471a-8985-c04fc27933e5 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager 
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager 
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:33.521 25 ERROR cinder.volume.manager 
2025-01-13 15:09:33.548 25 INFO cinder.volume.manager [None req-0183037d-565d-471a-8985-c04fc27933e5 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Deleted volume successfully.
2025-01-13 15:09:34.498 25 INFO cinder.volume.drivers.lightos [None req-5f31e09b-f9ec-40d8-a94d-d78ab39ea8cd 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_bd4762d3-abab-4e30-a3e4-980566194427             request.body: {} ssl_verify: False
2025-01-13 15:09:34.520 25 INFO cinder.volume.drivers.lightos [None req-5f31e09b-f9ec-40d8-a94d-d78ab39ea8cd 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/ea44c16c-f262-4aaa-acaa-23033ccf65a9?             request.body:  ssl_verify: False
2025-01-13 15:09:34.566 25 INFO cinder.volume.drivers.lightos [None req-5f31e09b-f9ec-40d8-a94d-d78ab39ea8cd 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ea44c16c-f262-4aaa-acaa-23033ccf65a9             request.body: {} ssl_verify: False
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager [None req-5f31e09b-f9ec-40d8-a94d-d78ab39ea8cd 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager 
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager 
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:34.652 25 ERROR cinder.volume.manager 
2025-01-13 15:09:34.683 25 INFO cinder.volume.manager [None req-5f31e09b-f9ec-40d8-a94d-d78ab39ea8cd 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Deleted volume successfully.
2025-01-13 15:09:35.626 25 INFO cinder.volume.drivers.lightos [None req-50135397-4ef8-4bbc-ad1e-2d91f67a7387 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-2b678634-807d-465e-9a77-78ff813c5b68             request.body: {} ssl_verify: False
2025-01-13 15:09:35.648 25 INFO cinder.volume.drivers.lightos [None req-50135397-4ef8-4bbc-ad1e-2d91f67a7387 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/a631808c-7b20-48f4-8aaf-ed38dc92ed6c?             request.body:  ssl_verify: False
2025-01-13 15:09:35.685 25 INFO cinder.volume.drivers.lightos [None req-50135397-4ef8-4bbc-ad1e-2d91f67a7387 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/a631808c-7b20-48f4-8aaf-ed38dc92ed6c             request.body: {} ssl_verify: False
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager [None req-50135397-4ef8-4bbc-ad1e-2d91f67a7387 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager 
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager 
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:35.781 25 ERROR cinder.volume.manager 
2025-01-13 15:09:35.794 25 INFO cinder.volume.manager [None req-50135397-4ef8-4bbc-ad1e-2d91f67a7387 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Delete snapshot completed successfully.
2025-01-13 15:09:36.774 25 INFO cinder.volume.drivers.lightos [None req-83df5118-35ea-4340-9437-b4f10cdc3299 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_5b180fe4-99cc-4efd-8af5-47748408e3d6             request.body: {} ssl_verify: False
2025-01-13 15:09:36.794 25 INFO cinder.volume.drivers.lightos [None req-83df5118-35ea-4340-9437-b4f10cdc3299 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/59debe08-8ab1-45be-883a-934b1e2bab54?             request.body:  ssl_verify: False
2025-01-13 15:09:36.832 25 INFO cinder.volume.drivers.lightos [None req-83df5118-35ea-4340-9437-b4f10cdc3299 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/59debe08-8ab1-45be-883a-934b1e2bab54             request.body: {} ssl_verify: False
2025-01-13 15:09:36.889 25 INFO cinder.volume.flows.manager.create_volume [None req-48ed4b05-5b13-43e3-84c0-63aa3abb8435 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Volume 555c254a-e921-4798-95c4-90e292b265a5: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_555c254a-e921-4798-95c4-90e292b265a5', 'volume_size': 1}
2025-01-13 15:09:36.889 25 INFO cinder.volume.drivers.lightos [None req-48ed4b05-5b13-43e3-84c0-63aa3abb8435 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_555c254a-e921-4798-95c4-90e292b265a5             request.body: {} ssl_verify: False
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager [None req-83df5118-35ea-4340-9437-b4f10cdc3299 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager 
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager 
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:36.919 25 ERROR cinder.volume.manager 
2025-01-13 15:09:36.923 25 INFO cinder.volume.drivers.lightos [None req-48ed4b05-5b13-43e3-84c0-63aa3abb8435 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_555c254a-e921-4798-95c4-90e292b265a5', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:36.948 25 INFO cinder.volume.manager [None req-83df5118-35ea-4340-9437-b4f10cdc3299 8eb3d93545874002a962a26e556c2dac 555e2bc8be9548cba9a2ee0cefdfa87f - - - -] Deleted volume successfully.
2025-01-13 15:09:36.963 25 INFO cinder.volume.drivers.lightos [None req-48ed4b05-5b13-43e3-84c0-63aa3abb8435 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c0cb56cb-ef08-42fd-890b-4a511dff09a4             request.body: {} ssl_verify: False
2025-01-13 15:09:38.036 25 INFO cinder.volume.drivers.lightos [None req-48ed4b05-5b13-43e3-84c0-63aa3abb8435 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c0cb56cb-ef08-42fd-890b-4a511dff09a4             request.body: {} ssl_verify: False
2025-01-13 15:09:38.086 25 INFO cinder.volume.flows.manager.create_volume [None req-48ed4b05-5b13-43e3-84c0-63aa3abb8435 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Volume vol_555c254a-e921-4798-95c4-90e292b265a5 (555c254a-e921-4798-95c4-90e292b265a5): created successfully
2025-01-13 15:09:38.095 25 INFO cinder.volume.manager [None req-48ed4b05-5b13-43e3-84c0-63aa3abb8435 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Created volume successfully.
2025-01-13 15:09:39.367 25 INFO cinder.volume.flows.manager.create_volume [None req-e0c78f71-fe98-488b-bbcb-b4c73af9075e 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Volume 76aa8e4a-9840-49b2-b8f8-833cc1e862b7: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_76aa8e4a-9840-49b2-b8f8-833cc1e862b7', 'volume_size': 1}
2025-01-13 15:09:39.367 25 INFO cinder.volume.drivers.lightos [None req-e0c78f71-fe98-488b-bbcb-b4c73af9075e 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_76aa8e4a-9840-49b2-b8f8-833cc1e862b7             request.body: {} ssl_verify: False
2025-01-13 15:09:39.386 25 INFO cinder.volume.drivers.lightos [None req-e0c78f71-fe98-488b-bbcb-b4c73af9075e 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_76aa8e4a-9840-49b2-b8f8-833cc1e862b7', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 15:09:39.433 25 INFO cinder.volume.drivers.lightos [None req-e0c78f71-fe98-488b-bbcb-b4c73af9075e 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/1ab78118-999e-45f9-8cb1-d614c104e450             request.body: {} ssl_verify: False
2025-01-13 15:09:39.539 25 INFO cinder.volume.flows.manager.create_volume [None req-e0c78f71-fe98-488b-bbcb-b4c73af9075e 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Volume vol_76aa8e4a-9840-49b2-b8f8-833cc1e862b7 (76aa8e4a-9840-49b2-b8f8-833cc1e862b7): created successfully
2025-01-13 15:09:39.549 25 INFO cinder.volume.manager [None req-e0c78f71-fe98-488b-bbcb-b4c73af9075e 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Created volume successfully.
2025-01-13 15:09:40.672 25 INFO cinder.volume.drivers.lightos [None req-e83a103d-e21a-45ae-b191-e71967a04f19 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-777fbb72-1d25-49fc-a340-11251f165fe5             request.body: {} ssl_verify: False
2025-01-13 15:09:40.690 25 INFO cinder.volume.drivers.lightos [None req-e83a103d-e21a-45ae-b191-e71967a04f19 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-777fbb72-1d25-49fc-a340-11251f165fe5', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_76aa8e4a-9840-49b2-b8f8-833cc1e862b7'} ssl_verify: False
2025-01-13 15:09:40.734 25 INFO cinder.volume.drivers.lightos [None req-e83a103d-e21a-45ae-b191-e71967a04f19 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-777fbb72-1d25-49fc-a340-11251f165fe5             request.body: {} ssl_verify: False
2025-01-13 15:09:41.770 25 INFO cinder.volume.drivers.lightos [None req-e83a103d-e21a-45ae-b191-e71967a04f19 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-777fbb72-1d25-49fc-a340-11251f165fe5             request.body: {} ssl_verify: False
2025-01-13 15:09:41.829 25 INFO cinder.volume.manager [None req-e83a103d-e21a-45ae-b191-e71967a04f19 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Create snapshot completed successfully
2025-01-13 15:09:42.824 25 INFO cinder.volume.drivers.lightos [None req-16c93fbd-1ca2-45ae-8163-9ef693a744f7 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-777fbb72-1d25-49fc-a340-11251f165fe5             request.body: {} ssl_verify: False
2025-01-13 15:09:42.844 25 INFO cinder.volume.drivers.lightos [None req-16c93fbd-1ca2-45ae-8163-9ef693a744f7 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/c622cc81-3ed7-4c25-b106-f83b915e37b0?             request.body:  ssl_verify: False
2025-01-13 15:09:42.874 25 INFO cinder.volume.drivers.lightos [None req-16c93fbd-1ca2-45ae-8163-9ef693a744f7 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/c622cc81-3ed7-4c25-b106-f83b915e37b0             request.body: {} ssl_verify: False
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager [None req-16c93fbd-1ca2-45ae-8163-9ef693a744f7 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager 
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager 
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:42.934 25 ERROR cinder.volume.manager 
2025-01-13 15:09:42.946 25 INFO cinder.volume.manager [None req-16c93fbd-1ca2-45ae-8163-9ef693a744f7 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Delete snapshot completed successfully.
2025-01-13 15:09:43.970 25 INFO cinder.volume.drivers.lightos [None req-284a7c4f-2c79-4e4e-8bc1-be982fa94abc 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_76aa8e4a-9840-49b2-b8f8-833cc1e862b7             request.body: {} ssl_verify: False
2025-01-13 15:09:43.988 25 INFO cinder.volume.drivers.lightos [None req-284a7c4f-2c79-4e4e-8bc1-be982fa94abc 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/1ab78118-999e-45f9-8cb1-d614c104e450?             request.body:  ssl_verify: False
2025-01-13 15:09:44.023 25 INFO cinder.volume.drivers.lightos [None req-284a7c4f-2c79-4e4e-8bc1-be982fa94abc 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/1ab78118-999e-45f9-8cb1-d614c104e450             request.body: {} ssl_verify: False
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager [None req-284a7c4f-2c79-4e4e-8bc1-be982fa94abc 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager 
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager 
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:44.077 25 ERROR cinder.volume.manager 
2025-01-13 15:09:44.106 25 INFO cinder.volume.manager [None req-284a7c4f-2c79-4e4e-8bc1-be982fa94abc 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Deleted volume successfully.
2025-01-13 15:09:45.138 25 INFO cinder.volume.drivers.lightos [None req-a5475c36-324d-46c9-b975-bb938f79cdb4 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_555c254a-e921-4798-95c4-90e292b265a5             request.body: {} ssl_verify: False
2025-01-13 15:09:45.158 25 INFO cinder.volume.drivers.lightos [None req-a5475c36-324d-46c9-b975-bb938f79cdb4 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/c0cb56cb-ef08-42fd-890b-4a511dff09a4?             request.body:  ssl_verify: False
2025-01-13 15:09:45.232 25 INFO cinder.volume.drivers.lightos [None req-a5475c36-324d-46c9-b975-bb938f79cdb4 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c0cb56cb-ef08-42fd-890b-4a511dff09a4             request.body: {} ssl_verify: False
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager [None req-a5475c36-324d-46c9-b975-bb938f79cdb4 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager 
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager 
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4859, in volume_type_get
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4811, in _volume_type_get
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4788, in _volume_type_get_db_object
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     .first()
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     return meth(
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     result.read()
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 15:09:45.253 25 ERROR cinder.volume.manager 
2025-01-13 15:09:45.278 25 INFO cinder.volume.manager [None req-a5475c36-324d-46c9-b975-bb938f79cdb4 062a849d55484478b698265d0d7f810c d68798e3b9f34b0295fe6ef0062f344f - - - -] Deleted volume successfully.

Build Started 13_01_2025_12_35_41
2025-01-13 12:36:01.047 7 INFO oslo_service.service [None req-24bc3ce1-52fe-45fa-87d2-5b7f7a85266c - - - - - -] Caught SIGTERM, stopping children
2025-01-13 12:36:01.050 7 INFO oslo_service.service [None req-24bc3ce1-52fe-45fa-87d2-5b7f7a85266c - - - - - -] Waiting on 1 children to exit
2025-01-13 12:36:05.349 25 WARNING amqp [None req-24bc3ce1-52fe-45fa-87d2-5b7f7a85266c - - - - - -] Received method (60, 30) during closing channel 1. This method will be ignored
2025-01-13 12:36:05.357 25 WARNING amqp [None req-24bc3ce1-52fe-45fa-87d2-5b7f7a85266c - - - - - -] Received method (60, 30) during closing channel 1. This method will be ignored
2025-01-13 12:36:05.364 25 WARNING amqp [None req-24bc3ce1-52fe-45fa-87d2-5b7f7a85266c - - - - - -] Received method (60, 30) during closing channel 1. This method will be ignored
2025-01-13 12:36:05.375 7 INFO oslo_service.service [None req-24bc3ce1-52fe-45fa-87d2-5b7f7a85266c - - - - - -] Child 25 exited with status 0
2025-01-13 12:36:19.070 7 INFO cinder.rpc [None req-3c76f9c1-aa54-44a6-9027-a1ef97330ea7 - - - - - -] Automatically selected cinder-scheduler objects version 1.39 as minimum service version.
2025-01-13 12:36:19.075 7 INFO cinder.rpc [None req-3c76f9c1-aa54-44a6-9027-a1ef97330ea7 - - - - - -] Automatically selected cinder-scheduler RPC version 3.12 as minimum service version.
2025-01-13 12:36:19.108 7 INFO cinder.volume.manager [None req-3c76f9c1-aa54-44a6-9027-a1ef97330ea7 - - - - - -] Determined volume DB was empty at startup.
2025-01-13 12:36:19.126 7 INFO cinder.volume.manager [None req-3c76f9c1-aa54-44a6-9027-a1ef97330ea7 - - - - - -] Image-volume cache disabled for host rack13-server67@LIGHTOSyilgqu.
2025-01-13 12:36:19.141 7 INFO oslo_service.service [None req-3c76f9c1-aa54-44a6-9027-a1ef97330ea7 - - - - - -] Starting 1 workers
2025-01-13 12:36:19.151 25 INFO cinder.service [-] Starting cinder-volume node (version 25.1.0)
2025-01-13 12:36:19.155 7 WARNING oslo_config.cfg [None req-3c76f9c1-aa54-44a6-9027-a1ef97330ea7 - - - - - -] Deprecated: Option "heartbeat_in_pthread" from group "oslo_messaging_rabbit" is deprecated for removal (The option is related to Eventlet which will be removed. In addition this has never worked as expected with services using eventlet for core service framework.).  Its value may be silently ignored in the future.
2025-01-13 12:36:19.170 25 INFO cinder.volume.manager [None req-fd773737-de4e-4636-bd7f-da224f9fbff6 - - - - - -] Starting volume driver LightOSVolumeDriver (2.3.12)
2025-01-13 12:36:19.170 25 INFO cinder.volume.drivers.lightos [None req-fd773737-de4e-4636-bd7f-da224f9fbff6 - - - - - -] Invoking get_cluster_info using GET url: /api/v2/clusterinfo             request.body: {} ssl_verify: False
2025-01-13 12:36:19.233 25 INFO cinder.volume.drivers.lightos [None req-fd773737-de4e-4636-bd7f-da224f9fbff6 - - - - - -] Connected to LightOS cluster fd2aa544-9eb4-597a-ae95-880b19a0bbea subsysnqn nqn.2016-01.com.lightbitslabs:uuid:ed93b30a-10c9-4020-b8d0-0edc696e5120:suffix
2025-01-13 12:36:19.234 25 INFO cinder.volume.drivers.lightos [None req-fd773737-de4e-4636-bd7f-da224f9fbff6 - - - - - -] Invoking get_nodes using GET url: /api/v2/nodes             request.body: {} ssl_verify: False
2025-01-13 12:36:19.266 25 INFO os_brick.initiator.connectors.lightos [None req-fd773737-de4e-4636-bd7f-da224f9fbff6 - - - - - -] Current host hostNQN nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc and IP(s) are ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', 'fe80::4099:911b:7117:6464'] 
2025-01-13 12:36:19.315 25 WARNING oslo_config.cfg [None req-fd773737-de4e-4636-bd7f-da224f9fbff6 - - - - - -] Deprecated: Option "heartbeat_in_pthread" from group "oslo_messaging_rabbit" is deprecated for removal (The option is related to Eventlet which will be removed. In addition this has never worked as expected with services using eventlet for core service framework.).  Its value may be silently ignored in the future.
2025-01-13 12:36:19.322 25 INFO cinder.keymgr.migration [None req-c3817695-604a-49cb-960d-a40a81920fc7 - - - - - -] Not migrating encryption keys because the ConfKeyManager's fixed_key is not in use.
2025-01-13 12:36:19.342 25 INFO cinder.volume.manager [None req-fd773737-de4e-4636-bd7f-da224f9fbff6 - - - - - -] Driver initialization completed successfully.
2025-01-13 12:36:19.343 25 INFO cinder.manager [None req-fd773737-de4e-4636-bd7f-da224f9fbff6 - - - - - -] Initiating service 4 cleanup
2025-01-13 12:36:19.352 25 INFO cinder.manager [None req-fd773737-de4e-4636-bd7f-da224f9fbff6 - - - - - -] Service 4 cleanup completed.
2025-01-13 12:36:19.402 25 INFO cinder.service [None req-fd773737-de4e-4636-bd7f-da224f9fbff6 - - - - - -] Starting cinder-volume cluster lightos_cinder_cluster@LIGHTOSyilgqu (version 25.1.0)
2025-01-13 12:36:19.423 25 INFO cinder.volume.manager [None req-fd773737-de4e-4636-bd7f-da224f9fbff6 - - - - - -] Initializing RPC dependent components of volume driver LightOSVolumeDriver (2.3.12)
2025-01-13 12:36:19.436 25 INFO cinder.volume.manager [None req-fd773737-de4e-4636-bd7f-da224f9fbff6 - - - - - -] Driver post RPC initialization completed successfully.
2025-01-13 12:37:23.854 25 INFO cinder.volume.flows.manager.create_volume [req-8cc757c4-2273-4041-854d-f8900095a3dc req-35d97a0c-1005-4588-b566-ede42cdbd682 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Volume a484e15c-d77f-47f2-b1b0-711fff1b3942: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_a484e15c-d77f-47f2-b1b0-711fff1b3942', 'volume_size': 1}
2025-01-13 12:37:23.854 25 INFO cinder.volume.drivers.lightos [req-8cc757c4-2273-4041-854d-f8900095a3dc req-35d97a0c-1005-4588-b566-ede42cdbd682 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_a484e15c-d77f-47f2-b1b0-711fff1b3942             request.body: {} ssl_verify: False
2025-01-13 12:37:23.893 25 INFO cinder.volume.flows.manager.create_volume [req-8aa8b211-cfb2-4b47-bf75-1c1fc47adf43 req-79c9d44c-8bd2-44c1-9d2b-28025323beb8 0918a4e63ff9403fb1d154c2d9339510 90af0814e9c64e6ca85ca4cbf2fd72da - - - -] Volume 74551dcf-4919-427f-969b-01d0d0bb8075: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_74551dcf-4919-427f-969b-01d0d0bb8075', 'volume_size': 1}
2025-01-13 12:37:23.893 25 INFO cinder.volume.drivers.lightos [req-8aa8b211-cfb2-4b47-bf75-1c1fc47adf43 req-79c9d44c-8bd2-44c1-9d2b-28025323beb8 0918a4e63ff9403fb1d154c2d9339510 90af0814e9c64e6ca85ca4cbf2fd72da - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_74551dcf-4919-427f-969b-01d0d0bb8075             request.body: {} ssl_verify: False
2025-01-13 12:37:23.895 25 INFO cinder.volume.drivers.lightos [req-8cc757c4-2273-4041-854d-f8900095a3dc req-35d97a0c-1005-4588-b566-ede42cdbd682 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_a484e15c-d77f-47f2-b1b0-711fff1b3942', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:37:23.913 25 INFO cinder.volume.drivers.lightos [req-8aa8b211-cfb2-4b47-bf75-1c1fc47adf43 req-79c9d44c-8bd2-44c1-9d2b-28025323beb8 0918a4e63ff9403fb1d154c2d9339510 90af0814e9c64e6ca85ca4cbf2fd72da - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_74551dcf-4919-427f-969b-01d0d0bb8075', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:37:23.942 25 INFO cinder.volume.drivers.lightos [req-8cc757c4-2273-4041-854d-f8900095a3dc req-35d97a0c-1005-4588-b566-ede42cdbd682 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/520c293d-13e2-4436-905a-29f006eaaf5d             request.body: {} ssl_verify: False
2025-01-13 12:37:23.983 25 INFO cinder.volume.drivers.lightos [req-8aa8b211-cfb2-4b47-bf75-1c1fc47adf43 req-79c9d44c-8bd2-44c1-9d2b-28025323beb8 0918a4e63ff9403fb1d154c2d9339510 90af0814e9c64e6ca85ca4cbf2fd72da - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/56bbd9d5-a608-471b-b5ae-5e6e1d66578e             request.body: {} ssl_verify: False
2025-01-13 12:37:25.000 25 INFO cinder.volume.drivers.lightos [req-8cc757c4-2273-4041-854d-f8900095a3dc req-35d97a0c-1005-4588-b566-ede42cdbd682 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/520c293d-13e2-4436-905a-29f006eaaf5d             request.body: {} ssl_verify: False
2025-01-13 12:37:25.003 25 INFO cinder.volume.drivers.lightos [req-8aa8b211-cfb2-4b47-bf75-1c1fc47adf43 req-79c9d44c-8bd2-44c1-9d2b-28025323beb8 0918a4e63ff9403fb1d154c2d9339510 90af0814e9c64e6ca85ca4cbf2fd72da - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/56bbd9d5-a608-471b-b5ae-5e6e1d66578e             request.body: {} ssl_verify: False
2025-01-13 12:37:25.036 25 INFO cinder.volume.flows.manager.create_volume [req-8cc757c4-2273-4041-854d-f8900095a3dc req-35d97a0c-1005-4588-b566-ede42cdbd682 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Volume vol_a484e15c-d77f-47f2-b1b0-711fff1b3942 (a484e15c-d77f-47f2-b1b0-711fff1b3942): created successfully
2025-01-13 12:37:25.043 25 INFO cinder.volume.flows.manager.create_volume [req-8aa8b211-cfb2-4b47-bf75-1c1fc47adf43 req-79c9d44c-8bd2-44c1-9d2b-28025323beb8 0918a4e63ff9403fb1d154c2d9339510 90af0814e9c64e6ca85ca4cbf2fd72da - - - -] Volume vol_74551dcf-4919-427f-969b-01d0d0bb8075 (74551dcf-4919-427f-969b-01d0d0bb8075): created successfully
2025-01-13 12:37:25.049 25 INFO cinder.volume.manager [req-8cc757c4-2273-4041-854d-f8900095a3dc req-35d97a0c-1005-4588-b566-ede42cdbd682 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Created volume successfully.
2025-01-13 12:37:25.051 25 INFO cinder.volume.manager [req-8aa8b211-cfb2-4b47-bf75-1c1fc47adf43 req-79c9d44c-8bd2-44c1-9d2b-28025323beb8 0918a4e63ff9403fb1d154c2d9339510 90af0814e9c64e6ca85ca4cbf2fd72da - - - -] Created volume successfully.
2025-01-13 12:37:25.424 25 INFO cinder.volume.drivers.lightos [req-1afd507d-97b2-4ee8-a2ef-5de5a462ffd1 req-8cd5482c-04e3-4382-91a4-3d5d93adaa8d 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-d06b134a-9412-41ba-bf01-6680d2d7c74b             request.body: {} ssl_verify: False
2025-01-13 12:37:25.434 25 INFO cinder.volume.drivers.lightos [req-1afd507d-97b2-4ee8-a2ef-5de5a462ffd1 req-8cd5482c-04e3-4382-91a4-3d5d93adaa8d 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-d06b134a-9412-41ba-bf01-6680d2d7c74b', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_a484e15c-d77f-47f2-b1b0-711fff1b3942'} ssl_verify: False
2025-01-13 12:37:25.466 25 INFO cinder.volume.drivers.lightos [req-1afd507d-97b2-4ee8-a2ef-5de5a462ffd1 req-8cd5482c-04e3-4382-91a4-3d5d93adaa8d 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-d06b134a-9412-41ba-bf01-6680d2d7c74b             request.body: {} ssl_verify: False
2025-01-13 12:37:25.592 25 INFO cinder.volume.manager [None req-5dd51672-0ac7-4205-bd5f-bde3ea6622a8 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Group tempest-GroupSnapshotsV319Test-Group-1041602334: creating
2025-01-13 12:37:25.611 25 INFO cinder.volume.manager [None req-5dd51672-0ac7-4205-bd5f-bde3ea6622a8 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Group tempest-GroupSnapshotsV319Test-Group-1041602334: created successfully
2025-01-13 12:37:25.621 25 INFO cinder.volume.manager [None req-5dd51672-0ac7-4205-bd5f-bde3ea6622a8 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Create group completed successfully.
2025-01-13 12:37:26.247 25 INFO cinder.volume.drivers.lightos [req-900068af-c550-45af-9878-0265a677055e req-219b0337-d0b6-4db2-a796-c49737b7a2ee 0918a4e63ff9403fb1d154c2d9339510 90af0814e9c64e6ca85ca4cbf2fd72da - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_74551dcf-4919-427f-969b-01d0d0bb8075             request.body: {} ssl_verify: False
2025-01-13 12:37:26.259 25 INFO cinder.volume.drivers.lightos [req-900068af-c550-45af-9878-0265a677055e req-219b0337-d0b6-4db2-a796-c49737b7a2ee 0918a4e63ff9403fb1d154c2d9339510 90af0814e9c64e6ca85ca4cbf2fd72da - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/56bbd9d5-a608-471b-b5ae-5e6e1d66578e?             request.body:  ssl_verify: False
2025-01-13 12:37:26.286 25 INFO cinder.volume.drivers.lightos [req-900068af-c550-45af-9878-0265a677055e req-219b0337-d0b6-4db2-a796-c49737b7a2ee 0918a4e63ff9403fb1d154c2d9339510 90af0814e9c64e6ca85ca4cbf2fd72da - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/56bbd9d5-a608-471b-b5ae-5e6e1d66578e             request.body: {} ssl_verify: False
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager [req-900068af-c550-45af-9878-0265a677055e req-219b0337-d0b6-4db2-a796-c49737b7a2ee 0918a4e63ff9403fb1d154c2d9339510 90af0814e9c64e6ca85ca4cbf2fd72da - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager 
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager 
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:26.335 25 ERROR cinder.volume.manager 
2025-01-13 12:37:26.374 25 INFO cinder.volume.manager [req-900068af-c550-45af-9878-0265a677055e req-219b0337-d0b6-4db2-a796-c49737b7a2ee 0918a4e63ff9403fb1d154c2d9339510 90af0814e9c64e6ca85ca4cbf2fd72da - - - -] Deleted volume successfully.
2025-01-13 12:37:26.506 25 INFO cinder.volume.drivers.lightos [req-1afd507d-97b2-4ee8-a2ef-5de5a462ffd1 req-8cd5482c-04e3-4382-91a4-3d5d93adaa8d 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-d06b134a-9412-41ba-bf01-6680d2d7c74b             request.body: {} ssl_verify: False
2025-01-13 12:37:26.548 25 INFO cinder.volume.manager [req-1afd507d-97b2-4ee8-a2ef-5de5a462ffd1 req-8cd5482c-04e3-4382-91a4-3d5d93adaa8d 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Create snapshot completed successfully
2025-01-13 12:37:26.658 25 INFO cinder.volume.drivers.lightos [req-c26196ee-8131-4e0f-8ba1-c18b0ea62430 req-b6935284-abf4-459b-8734-f194ea786be5 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-d06b134a-9412-41ba-bf01-6680d2d7c74b             request.body: {} ssl_verify: False
2025-01-13 12:37:26.674 25 INFO cinder.volume.drivers.lightos [req-c26196ee-8131-4e0f-8ba1-c18b0ea62430 req-b6935284-abf4-459b-8734-f194ea786be5 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/c22c312c-a136-4b3f-9a06-c19a8ce95835?             request.body:  ssl_verify: False
2025-01-13 12:37:26.700 25 INFO cinder.volume.drivers.lightos [req-c26196ee-8131-4e0f-8ba1-c18b0ea62430 req-b6935284-abf4-459b-8734-f194ea786be5 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/c22c312c-a136-4b3f-9a06-c19a8ce95835             request.body: {} ssl_verify: False
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager [req-c26196ee-8131-4e0f-8ba1-c18b0ea62430 req-b6935284-abf4-459b-8734-f194ea786be5 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager 
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager 
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:26.749 25 ERROR cinder.volume.manager 
2025-01-13 12:37:26.763 25 INFO cinder.volume.manager [req-c26196ee-8131-4e0f-8ba1-c18b0ea62430 req-b6935284-abf4-459b-8734-f194ea786be5 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Delete snapshot completed successfully.
2025-01-13 12:37:26.988 25 INFO cinder.volume.flows.manager.create_volume [None req-5a10472d-e04a-4e37-9f1c-2f3b5d73a92d 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Volume 3bce762f-3a43-420f-9790-a7bbab90ab9d: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_3bce762f-3a43-420f-9790-a7bbab90ab9d', 'volume_size': 1}
2025-01-13 12:37:26.988 25 INFO cinder.volume.drivers.lightos [None req-5a10472d-e04a-4e37-9f1c-2f3b5d73a92d 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_3bce762f-3a43-420f-9790-a7bbab90ab9d             request.body: {} ssl_verify: False
2025-01-13 12:37:27.001 25 INFO cinder.volume.drivers.lightos [None req-5a10472d-e04a-4e37-9f1c-2f3b5d73a92d 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_3bce762f-3a43-420f-9790-a7bbab90ab9d', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:37:27.023 25 INFO cinder.volume.drivers.lightos [None req-5a10472d-e04a-4e37-9f1c-2f3b5d73a92d 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/248599ef-2e7c-4cc2-b1e7-4232213dd090             request.body: {} ssl_verify: False
2025-01-13 12:37:27.078 25 INFO cinder.volume.flows.manager.create_volume [None req-5a10472d-e04a-4e37-9f1c-2f3b5d73a92d 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Volume vol_3bce762f-3a43-420f-9790-a7bbab90ab9d (3bce762f-3a43-420f-9790-a7bbab90ab9d): created successfully
2025-01-13 12:37:27.089 25 INFO cinder.volume.manager [None req-5a10472d-e04a-4e37-9f1c-2f3b5d73a92d 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Created volume successfully.
2025-01-13 12:37:27.857 25 INFO cinder.volume.drivers.lightos [req-e095260d-2ee0-4b64-ac40-8146769bc1b5 req-db650d08-64e7-401a-bba3-6a2fedd69528 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_a484e15c-d77f-47f2-b1b0-711fff1b3942             request.body: {} ssl_verify: False
2025-01-13 12:37:27.869 25 INFO cinder.volume.drivers.lightos [req-e095260d-2ee0-4b64-ac40-8146769bc1b5 req-db650d08-64e7-401a-bba3-6a2fedd69528 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/520c293d-13e2-4436-905a-29f006eaaf5d?             request.body:  ssl_verify: False
2025-01-13 12:37:27.892 25 INFO cinder.volume.drivers.lightos [req-e095260d-2ee0-4b64-ac40-8146769bc1b5 req-db650d08-64e7-401a-bba3-6a2fedd69528 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/520c293d-13e2-4436-905a-29f006eaaf5d             request.body: {} ssl_verify: False
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager [req-e095260d-2ee0-4b64-ac40-8146769bc1b5 req-db650d08-64e7-401a-bba3-6a2fedd69528 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager 
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager 
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:27.928 25 ERROR cinder.volume.manager 
2025-01-13 12:37:27.959 25 INFO cinder.volume.manager [req-e095260d-2ee0-4b64-ac40-8146769bc1b5 req-db650d08-64e7-401a-bba3-6a2fedd69528 2e5468678bfd4b82b4d94e4f88ed568f 351972648262458baed1119a6eae5179 - - - -] Deleted volume successfully.
2025-01-13 12:37:28.224 25 INFO cinder.volume.manager [None req-8c69bc19-810d-4941-b7fa-caf219375da5 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] GroupSnapshot c0afa83c-8696-40ff-9c15-2e95d18fe51a: creating.
2025-01-13 12:37:28.265 25 INFO cinder.volume.drivers.lightos [None req-8c69bc19-810d-4941-b7fa-caf219375da5 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-084a479b-41e3-4cd5-8c01-cee87bed63fd             request.body: {} ssl_verify: False
2025-01-13 12:37:28.275 25 INFO cinder.volume.drivers.lightos [None req-8c69bc19-810d-4941-b7fa-caf219375da5 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-084a479b-41e3-4cd5-8c01-cee87bed63fd', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_3bce762f-3a43-420f-9790-a7bbab90ab9d'} ssl_verify: False
2025-01-13 12:37:28.299 25 INFO cinder.volume.drivers.lightos [None req-8c69bc19-810d-4941-b7fa-caf219375da5 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-084a479b-41e3-4cd5-8c01-cee87bed63fd             request.body: {} ssl_verify: False
2025-01-13 12:37:29.353 25 INFO cinder.volume.drivers.lightos [None req-8c69bc19-810d-4941-b7fa-caf219375da5 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-084a479b-41e3-4cd5-8c01-cee87bed63fd             request.body: {} ssl_verify: False
2025-01-13 12:37:29.446 25 INFO cinder.volume.manager [None req-8c69bc19-810d-4941-b7fa-caf219375da5 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] group_snapshot c0afa83c-8696-40ff-9c15-2e95d18fe51a: created successfully
2025-01-13 12:37:30.702 25 INFO cinder.volume.manager [None req-f718b872-91fe-4a88-a0eb-e88b3a7f3f4d 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] group_snapshot c0afa83c-8696-40ff-9c15-2e95d18fe51a: deleting
2025-01-13 12:37:30.735 25 INFO cinder.volume.drivers.lightos [None req-f718b872-91fe-4a88-a0eb-e88b3a7f3f4d 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-084a479b-41e3-4cd5-8c01-cee87bed63fd             request.body: {} ssl_verify: False
2025-01-13 12:37:30.748 25 INFO cinder.volume.drivers.lightos [None req-f718b872-91fe-4a88-a0eb-e88b3a7f3f4d 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/ff88c6c7-f4f8-4020-8edf-0aa81111f178?             request.body:  ssl_verify: False
2025-01-13 12:37:30.771 25 INFO cinder.volume.drivers.lightos [None req-f718b872-91fe-4a88-a0eb-e88b3a7f3f4d 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/ff88c6c7-f4f8-4020-8edf-0aa81111f178             request.body: {} ssl_verify: False
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager [None req-f718b872-91fe-4a88-a0eb-e88b3a7f3f4d 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Failed to update usages deleting snapshot: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '5960f4ab-f258-474e-9634-2fd23f86955e', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager 
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager 
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 4360, in delete_group_snapshot
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager [parameters: {'id_1': '5960f4ab-f258-474e-9634-2fd23f86955e', 'param_1': 1}]
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:30.830 25 ERROR cinder.volume.manager 
2025-01-13 12:37:30.847 25 INFO cinder.volume.manager [None req-f718b872-91fe-4a88-a0eb-e88b3a7f3f4d 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] group_snapshot c0afa83c-8696-40ff-9c15-2e95d18fe51a: deleted successfully
2025-01-13 12:37:32.154 25 INFO cinder.volume.drivers.lightos [None req-55c0b0df-e5b8-4f15-8c4e-65782360b1ac 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_3bce762f-3a43-420f-9790-a7bbab90ab9d             request.body: {} ssl_verify: False
2025-01-13 12:37:32.165 25 INFO cinder.volume.drivers.lightos [None req-55c0b0df-e5b8-4f15-8c4e-65782360b1ac 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/248599ef-2e7c-4cc2-b1e7-4232213dd090?             request.body:  ssl_verify: False
2025-01-13 12:37:32.192 25 INFO cinder.volume.drivers.lightos [None req-55c0b0df-e5b8-4f15-8c4e-65782360b1ac 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/248599ef-2e7c-4cc2-b1e7-4232213dd090             request.body: {} ssl_verify: False
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager [None req-55c0b0df-e5b8-4f15-8c4e-65782360b1ac 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '5960f4ab-f258-474e-9634-2fd23f86955e', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager 
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager 
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager [parameters: {'id_1': '5960f4ab-f258-474e-9634-2fd23f86955e', 'param_1': 1}]
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:32.275 25 ERROR cinder.volume.manager 
2025-01-13 12:37:32.331 25 INFO cinder.volume.manager [None req-55c0b0df-e5b8-4f15-8c4e-65782360b1ac 30564be06d7c4f989ebdbb377b3b3e44 d037d174d8f9480c85009dbff21e04fc - - - -] Delete group completed successfully.
2025-01-13 12:37:32.752 25 INFO cinder.volume.flows.manager.create_volume [None req-b47204a1-5058-4360-ba1b-0e9436456192 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Volume 3b4b8687-ca55-41b4-8e40-fc88e9de7e8f: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_3b4b8687-ca55-41b4-8e40-fc88e9de7e8f', 'volume_size': 1}
2025-01-13 12:37:32.752 25 INFO cinder.volume.drivers.lightos [None req-b47204a1-5058-4360-ba1b-0e9436456192 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_3b4b8687-ca55-41b4-8e40-fc88e9de7e8f             request.body: {} ssl_verify: False
2025-01-13 12:37:32.763 25 INFO cinder.volume.drivers.lightos [None req-b47204a1-5058-4360-ba1b-0e9436456192 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_3b4b8687-ca55-41b4-8e40-fc88e9de7e8f', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:37:32.786 25 INFO cinder.volume.drivers.lightos [None req-b47204a1-5058-4360-ba1b-0e9436456192 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b88189c1-40d4-4538-b733-905602efc9e2             request.body: {} ssl_verify: False
2025-01-13 12:37:33.810 25 INFO cinder.volume.drivers.lightos [None req-b47204a1-5058-4360-ba1b-0e9436456192 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b88189c1-40d4-4538-b733-905602efc9e2             request.body: {} ssl_verify: False
2025-01-13 12:37:33.841 25 INFO cinder.volume.flows.manager.create_volume [None req-b47204a1-5058-4360-ba1b-0e9436456192 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Volume vol_3b4b8687-ca55-41b4-8e40-fc88e9de7e8f (3b4b8687-ca55-41b4-8e40-fc88e9de7e8f): created successfully
2025-01-13 12:37:33.852 25 INFO cinder.volume.manager [None req-b47204a1-5058-4360-ba1b-0e9436456192 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Created volume successfully.
2025-01-13 12:37:35.195 25 INFO cinder.volume.flows.manager.create_volume [None req-f09e79f6-fb6e-4b43-bed9-6fb6c589cd51 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Volume 85174493-939e-4618-a8d3-85485d84ba79: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_85174493-939e-4618-a8d3-85485d84ba79', 'volume_size': 1}
2025-01-13 12:37:35.195 25 INFO cinder.volume.drivers.lightos [None req-f09e79f6-fb6e-4b43-bed9-6fb6c589cd51 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_85174493-939e-4618-a8d3-85485d84ba79             request.body: {} ssl_verify: False
2025-01-13 12:37:35.208 25 INFO cinder.volume.drivers.lightos [None req-f09e79f6-fb6e-4b43-bed9-6fb6c589cd51 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_85174493-939e-4618-a8d3-85485d84ba79', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:37:35.242 25 INFO cinder.volume.drivers.lightos [None req-f09e79f6-fb6e-4b43-bed9-6fb6c589cd51 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/dda2bc79-e41f-4299-84f9-763f96672f9a             request.body: {} ssl_verify: False
2025-01-13 12:37:36.276 25 INFO cinder.volume.drivers.lightos [None req-f09e79f6-fb6e-4b43-bed9-6fb6c589cd51 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/dda2bc79-e41f-4299-84f9-763f96672f9a             request.body: {} ssl_verify: False
2025-01-13 12:37:36.310 25 INFO cinder.volume.flows.manager.create_volume [None req-f09e79f6-fb6e-4b43-bed9-6fb6c589cd51 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Volume vol_85174493-939e-4618-a8d3-85485d84ba79 (85174493-939e-4618-a8d3-85485d84ba79): created successfully
2025-01-13 12:37:36.320 25 INFO cinder.volume.manager [None req-f09e79f6-fb6e-4b43-bed9-6fb6c589cd51 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Created volume successfully.
2025-01-13 12:37:37.699 25 INFO cinder.volume.flows.manager.create_volume [None req-d603a303-9e55-41ba-aeaa-6b835c227764 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Volume e58edcab-87c2-4b6d-ae2a-c62b49238dc5: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_e58edcab-87c2-4b6d-ae2a-c62b49238dc5', 'volume_size': 1}
2025-01-13 12:37:37.699 25 INFO cinder.volume.drivers.lightos [None req-d603a303-9e55-41ba-aeaa-6b835c227764 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_e58edcab-87c2-4b6d-ae2a-c62b49238dc5             request.body: {} ssl_verify: False
2025-01-13 12:37:37.713 25 INFO cinder.volume.drivers.lightos [None req-d603a303-9e55-41ba-aeaa-6b835c227764 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_e58edcab-87c2-4b6d-ae2a-c62b49238dc5', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:37:37.753 25 INFO cinder.volume.drivers.lightos [None req-d603a303-9e55-41ba-aeaa-6b835c227764 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/434ea1c5-b1f7-4f01-bd8c-4dd2e17671ca             request.body: {} ssl_verify: False
2025-01-13 12:37:38.776 25 INFO cinder.volume.drivers.lightos [None req-d603a303-9e55-41ba-aeaa-6b835c227764 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/434ea1c5-b1f7-4f01-bd8c-4dd2e17671ca             request.body: {} ssl_verify: False
2025-01-13 12:37:38.810 25 INFO cinder.volume.flows.manager.create_volume [None req-d603a303-9e55-41ba-aeaa-6b835c227764 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Volume vol_e58edcab-87c2-4b6d-ae2a-c62b49238dc5 (e58edcab-87c2-4b6d-ae2a-c62b49238dc5): created successfully
2025-01-13 12:37:38.822 25 INFO cinder.volume.manager [None req-d603a303-9e55-41ba-aeaa-6b835c227764 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Created volume successfully.
2025-01-13 12:37:40.472 25 INFO cinder.volume.drivers.lightos [None req-c244f316-7966-4f0a-8ca8-c75f3a09ada8 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_e58edcab-87c2-4b6d-ae2a-c62b49238dc5             request.body: {} ssl_verify: False
2025-01-13 12:37:40.485 25 INFO cinder.volume.drivers.lightos [None req-c244f316-7966-4f0a-8ca8-c75f3a09ada8 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/434ea1c5-b1f7-4f01-bd8c-4dd2e17671ca?             request.body:  ssl_verify: False
2025-01-13 12:37:40.536 25 INFO cinder.volume.drivers.lightos [None req-c244f316-7966-4f0a-8ca8-c75f3a09ada8 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/434ea1c5-b1f7-4f01-bd8c-4dd2e17671ca             request.body: {} ssl_verify: False
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager [None req-c244f316-7966-4f0a-8ca8-c75f3a09ada8 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager 
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager 
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:40.706 25 ERROR cinder.volume.manager 
2025-01-13 12:37:40.735 25 INFO cinder.volume.manager [None req-c244f316-7966-4f0a-8ca8-c75f3a09ada8 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Deleted volume successfully.
2025-01-13 12:37:41.620 25 INFO cinder.volume.drivers.lightos [None req-e663b8e1-c8f1-4fcd-9aa3-ea0d5ab30844 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_85174493-939e-4618-a8d3-85485d84ba79             request.body: {} ssl_verify: False
2025-01-13 12:37:41.636 25 INFO cinder.volume.drivers.lightos [None req-e663b8e1-c8f1-4fcd-9aa3-ea0d5ab30844 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/dda2bc79-e41f-4299-84f9-763f96672f9a?             request.body:  ssl_verify: False
2025-01-13 12:37:41.727 25 INFO cinder.volume.drivers.lightos [None req-e663b8e1-c8f1-4fcd-9aa3-ea0d5ab30844 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/dda2bc79-e41f-4299-84f9-763f96672f9a             request.body: {} ssl_verify: False
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager [None req-e663b8e1-c8f1-4fcd-9aa3-ea0d5ab30844 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager 
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager 
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:41.766 25 ERROR cinder.volume.manager 
2025-01-13 12:37:41.797 25 INFO cinder.volume.manager [None req-e663b8e1-c8f1-4fcd-9aa3-ea0d5ab30844 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Deleted volume successfully.
2025-01-13 12:37:42.778 25 INFO cinder.volume.drivers.lightos [None req-5d3662a3-b47b-41da-aad2-695ef898d2dc 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_3b4b8687-ca55-41b4-8e40-fc88e9de7e8f             request.body: {} ssl_verify: False
2025-01-13 12:37:42.794 25 INFO cinder.volume.drivers.lightos [None req-5d3662a3-b47b-41da-aad2-695ef898d2dc 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/b88189c1-40d4-4538-b733-905602efc9e2?             request.body:  ssl_verify: False
2025-01-13 12:37:42.825 25 INFO cinder.volume.drivers.lightos [None req-5d3662a3-b47b-41da-aad2-695ef898d2dc 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b88189c1-40d4-4538-b733-905602efc9e2             request.body: {} ssl_verify: False
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager [None req-5d3662a3-b47b-41da-aad2-695ef898d2dc 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager 
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager 
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:42.870 25 ERROR cinder.volume.manager 
2025-01-13 12:37:42.899 25 INFO cinder.volume.manager [None req-5d3662a3-b47b-41da-aad2-695ef898d2dc 62f2ace2bfbb4d0388341fdecadf979a 131f3ba6a2ef430daabc8dfdf4087266 - - - -] Deleted volume successfully.
2025-01-13 12:37:44.013 25 INFO cinder.volume.manager [None req-d214b4d5-e658-4410-a59f-b76638f3df6d 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Group tempest-GroupSnapshotsTest-Group-1723875489: creating
2025-01-13 12:37:44.027 25 INFO cinder.volume.manager [None req-d214b4d5-e658-4410-a59f-b76638f3df6d 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Group tempest-GroupSnapshotsTest-Group-1723875489: created successfully
2025-01-13 12:37:44.034 25 INFO cinder.volume.manager [None req-d214b4d5-e658-4410-a59f-b76638f3df6d 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Create group completed successfully.
2025-01-13 12:37:45.399 25 INFO cinder.volume.flows.manager.create_volume [None req-34defa48-c849-485b-8d00-bbf6963c28cf 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Volume ad7fad5a-5178-4b7e-bea0-1c55507e7480: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_ad7fad5a-5178-4b7e-bea0-1c55507e7480', 'volume_size': 1}
2025-01-13 12:37:45.399 25 INFO cinder.volume.drivers.lightos [None req-34defa48-c849-485b-8d00-bbf6963c28cf 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_ad7fad5a-5178-4b7e-bea0-1c55507e7480             request.body: {} ssl_verify: False
2025-01-13 12:37:45.411 25 INFO cinder.volume.drivers.lightos [None req-34defa48-c849-485b-8d00-bbf6963c28cf 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_ad7fad5a-5178-4b7e-bea0-1c55507e7480', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:37:45.438 25 INFO cinder.volume.drivers.lightos [None req-34defa48-c849-485b-8d00-bbf6963c28cf 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/2e112c3f-7d07-4f0e-b698-054ca2d94066             request.body: {} ssl_verify: False
2025-01-13 12:37:46.465 25 INFO cinder.volume.drivers.lightos [None req-34defa48-c849-485b-8d00-bbf6963c28cf 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/2e112c3f-7d07-4f0e-b698-054ca2d94066             request.body: {} ssl_verify: False
2025-01-13 12:37:46.495 25 INFO cinder.volume.flows.manager.create_volume [None req-34defa48-c849-485b-8d00-bbf6963c28cf 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Volume vol_ad7fad5a-5178-4b7e-bea0-1c55507e7480 (ad7fad5a-5178-4b7e-bea0-1c55507e7480): created successfully
2025-01-13 12:37:46.506 25 INFO cinder.volume.manager [None req-34defa48-c849-485b-8d00-bbf6963c28cf 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Created volume successfully.
2025-01-13 12:37:47.734 25 INFO cinder.volume.manager [None req-01093566-7581-4d44-ab6f-09a22028edcb 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] GroupSnapshot fabd72fa-c0ef-4432-8490-84ec1a5b5718: creating.
2025-01-13 12:37:47.765 25 INFO cinder.volume.drivers.lightos [None req-01093566-7581-4d44-ab6f-09a22028edcb 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-c11b1a31-aec5-4c2b-926e-d4cd7dd7a5a1             request.body: {} ssl_verify: False
2025-01-13 12:37:47.776 25 INFO cinder.volume.drivers.lightos [None req-01093566-7581-4d44-ab6f-09a22028edcb 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-c11b1a31-aec5-4c2b-926e-d4cd7dd7a5a1', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_ad7fad5a-5178-4b7e-bea0-1c55507e7480'} ssl_verify: False
2025-01-13 12:37:47.809 25 INFO cinder.volume.drivers.lightos [None req-01093566-7581-4d44-ab6f-09a22028edcb 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-c11b1a31-aec5-4c2b-926e-d4cd7dd7a5a1             request.body: {} ssl_verify: False
2025-01-13 12:37:48.855 25 INFO cinder.volume.drivers.lightos [None req-01093566-7581-4d44-ab6f-09a22028edcb 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-c11b1a31-aec5-4c2b-926e-d4cd7dd7a5a1             request.body: {} ssl_verify: False
2025-01-13 12:37:48.918 25 INFO cinder.volume.manager [None req-01093566-7581-4d44-ab6f-09a22028edcb 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] group_snapshot fabd72fa-c0ef-4432-8490-84ec1a5b5718: created successfully
2025-01-13 12:37:50.793 25 INFO cinder.volume.drivers.lightos [None req-8a6d18f9-b232-4479-a42a-a4271f5820c0 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_22ff7ffb-b635-46c2-9970-a17b3f147be4             request.body: {} ssl_verify: False
2025-01-13 12:37:50.811 25 INFO cinder.volume.drivers.lightos [None req-8a6d18f9-b232-4479-a42a-a4271f5820c0 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_22ff7ffb-b635-46c2-9970-a17b3f147be4', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': 'snapshot-c11b1a31-aec5-4c2b-926e-d4cd7dd7a5a1'} ssl_verify: False
2025-01-13 12:37:50.857 25 INFO cinder.volume.drivers.lightos [None req-8a6d18f9-b232-4479-a42a-a4271f5820c0 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/f3eadf73-3567-497a-80a7-5d7729c1098b             request.body: {} ssl_verify: False
2025-01-13 12:37:51.913 25 INFO cinder.volume.drivers.lightos [None req-8a6d18f9-b232-4479-a42a-a4271f5820c0 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/f3eadf73-3567-497a-80a7-5d7729c1098b             request.body: {} ssl_verify: False
2025-01-13 12:37:51.989 25 INFO cinder.volume.manager [None req-8a6d18f9-b232-4479-a42a-a4271f5820c0 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Create group from source-snapshot-fabd72fa-c0ef-4432-8490-84ec1a5b5718 completed successfully.
2025-01-13 12:37:52.259 25 INFO cinder.volume.drivers.lightos [None req-13e15d3f-9604-45d2-bfc0-7c8d3628d6ff 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_22ff7ffb-b635-46c2-9970-a17b3f147be4             request.body: {} ssl_verify: False
2025-01-13 12:37:52.273 25 INFO cinder.volume.drivers.lightos [None req-13e15d3f-9604-45d2-bfc0-7c8d3628d6ff 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/f3eadf73-3567-497a-80a7-5d7729c1098b?             request.body:  ssl_verify: False
2025-01-13 12:37:52.298 25 INFO cinder.volume.drivers.lightos [None req-13e15d3f-9604-45d2-bfc0-7c8d3628d6ff 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/f3eadf73-3567-497a-80a7-5d7729c1098b             request.body: {} ssl_verify: False
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager [None req-13e15d3f-9604-45d2-bfc0-7c8d3628d6ff 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '9e65ad8b-1097-4c26-b818-8d1be0c3aff9', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager 
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager 
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager [parameters: {'id_1': '9e65ad8b-1097-4c26-b818-8d1be0c3aff9', 'param_1': 1}]
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:52.370 25 ERROR cinder.volume.manager 
2025-01-13 12:37:52.419 25 INFO cinder.volume.manager [None req-13e15d3f-9604-45d2-bfc0-7c8d3628d6ff 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Delete group completed successfully.
2025-01-13 12:37:53.402 25 INFO cinder.volume.manager [None req-ff01aa07-17c8-4e73-b6ae-64273d6ee34b 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] group_snapshot fabd72fa-c0ef-4432-8490-84ec1a5b5718: deleting
2025-01-13 12:37:53.434 25 INFO cinder.volume.drivers.lightos [None req-ff01aa07-17c8-4e73-b6ae-64273d6ee34b 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-c11b1a31-aec5-4c2b-926e-d4cd7dd7a5a1             request.body: {} ssl_verify: False
2025-01-13 12:37:53.447 25 INFO cinder.volume.drivers.lightos [None req-ff01aa07-17c8-4e73-b6ae-64273d6ee34b 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/04264ec8-a5db-479d-b85a-fd63a4fe54a7?             request.body:  ssl_verify: False
2025-01-13 12:37:53.481 25 INFO cinder.volume.drivers.lightos [None req-ff01aa07-17c8-4e73-b6ae-64273d6ee34b 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/04264ec8-a5db-479d-b85a-fd63a4fe54a7             request.body: {} ssl_verify: False
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager [None req-ff01aa07-17c8-4e73-b6ae-64273d6ee34b 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Failed to update usages deleting snapshot: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '9e65ad8b-1097-4c26-b818-8d1be0c3aff9', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager 
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager 
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 4360, in delete_group_snapshot
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager [parameters: {'id_1': '9e65ad8b-1097-4c26-b818-8d1be0c3aff9', 'param_1': 1}]
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:53.563 25 ERROR cinder.volume.manager 
2025-01-13 12:37:53.605 25 INFO cinder.volume.manager [None req-ff01aa07-17c8-4e73-b6ae-64273d6ee34b 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] group_snapshot fabd72fa-c0ef-4432-8490-84ec1a5b5718: deleted successfully
2025-01-13 12:37:54.764 25 INFO cinder.volume.drivers.lightos [None req-e736654d-85d2-4e9a-b0a3-bce4ea004c48 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_ad7fad5a-5178-4b7e-bea0-1c55507e7480             request.body: {} ssl_verify: False
2025-01-13 12:37:54.775 25 INFO cinder.volume.drivers.lightos [None req-e736654d-85d2-4e9a-b0a3-bce4ea004c48 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/2e112c3f-7d07-4f0e-b698-054ca2d94066?             request.body:  ssl_verify: False
2025-01-13 12:37:54.802 25 INFO cinder.volume.drivers.lightos [None req-e736654d-85d2-4e9a-b0a3-bce4ea004c48 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/2e112c3f-7d07-4f0e-b698-054ca2d94066             request.body: {} ssl_verify: False
2025-01-13 12:37:54.857 25 INFO cinder.volume.manager [None req-364e765a-5b39-4cbb-bcce-dea09427fb94 e902d19d5d5b4118b08489f9005394c4 95d9debf90154a68ba74a12bdfa96e16 - - - -] Group tempest-GroupsV320Test-Group-1555609128: creating
2025-01-13 12:37:54.877 25 INFO cinder.volume.manager [None req-364e765a-5b39-4cbb-bcce-dea09427fb94 e902d19d5d5b4118b08489f9005394c4 95d9debf90154a68ba74a12bdfa96e16 - - - -] Group tempest-GroupsV320Test-Group-1555609128: created successfully
2025-01-13 12:37:54.884 25 INFO cinder.volume.manager [None req-364e765a-5b39-4cbb-bcce-dea09427fb94 e902d19d5d5b4118b08489f9005394c4 95d9debf90154a68ba74a12bdfa96e16 - - - -] Create group completed successfully.
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager [None req-e736654d-85d2-4e9a-b0a3-bce4ea004c48 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '9e65ad8b-1097-4c26-b818-8d1be0c3aff9', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager 
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager 
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager [parameters: {'id_1': '9e65ad8b-1097-4c26-b818-8d1be0c3aff9', 'param_1': 1}]
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:37:54.887 25 ERROR cinder.volume.manager 
2025-01-13 12:37:54.955 25 INFO cinder.volume.manager [None req-e736654d-85d2-4e9a-b0a3-bce4ea004c48 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Delete group completed successfully.
2025-01-13 12:37:56.168 25 INFO cinder.volume.manager [None req-94a22170-e780-449c-b78a-a6a13f66e6d7 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Group tempest-GroupSnapshotsTest-Group-1345928095: creating
2025-01-13 12:37:56.186 25 INFO cinder.volume.manager [None req-94a22170-e780-449c-b78a-a6a13f66e6d7 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Group tempest-GroupSnapshotsTest-Group-1345928095: created successfully
2025-01-13 12:37:56.196 25 INFO cinder.volume.manager [None req-94a22170-e780-449c-b78a-a6a13f66e6d7 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Create group completed successfully.
2025-01-13 12:37:56.353 25 INFO cinder.volume.manager [None req-fe7561b2-7491-48e9-b0ab-7d24046facc4 e902d19d5d5b4118b08489f9005394c4 95d9debf90154a68ba74a12bdfa96e16 - - - -] Delete group completed successfully.
2025-01-13 12:37:57.589 25 INFO cinder.volume.flows.manager.create_volume [None req-850d65bf-7cc7-40c7-8353-220b625c35b6 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Volume 4cf773fd-3218-4380-8ea5-623d8a9bd0b0: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_4cf773fd-3218-4380-8ea5-623d8a9bd0b0', 'volume_size': 1}
2025-01-13 12:37:57.589 25 INFO cinder.volume.drivers.lightos [None req-850d65bf-7cc7-40c7-8353-220b625c35b6 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_4cf773fd-3218-4380-8ea5-623d8a9bd0b0             request.body: {} ssl_verify: False
2025-01-13 12:37:57.600 25 INFO cinder.volume.drivers.lightos [None req-850d65bf-7cc7-40c7-8353-220b625c35b6 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_4cf773fd-3218-4380-8ea5-623d8a9bd0b0', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:37:57.622 25 INFO cinder.volume.drivers.lightos [None req-850d65bf-7cc7-40c7-8353-220b625c35b6 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/066cad3d-f74f-493b-ac64-3338a83f1e93             request.body: {} ssl_verify: False
2025-01-13 12:37:58.644 25 INFO cinder.volume.drivers.lightos [None req-850d65bf-7cc7-40c7-8353-220b625c35b6 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/066cad3d-f74f-493b-ac64-3338a83f1e93             request.body: {} ssl_verify: False
2025-01-13 12:37:58.673 25 INFO cinder.volume.flows.manager.create_volume [None req-850d65bf-7cc7-40c7-8353-220b625c35b6 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Volume vol_4cf773fd-3218-4380-8ea5-623d8a9bd0b0 (4cf773fd-3218-4380-8ea5-623d8a9bd0b0): created successfully
2025-01-13 12:37:58.682 25 INFO cinder.volume.manager [None req-850d65bf-7cc7-40c7-8353-220b625c35b6 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Created volume successfully.
2025-01-13 12:38:00.055 25 INFO cinder.volume.flows.manager.create_volume [None req-10c333ba-9ce3-4424-8c00-c11c901674bd 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Volume baaaea2a-7219-4917-a3fa-e85dbf1cfcba: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_baaaea2a-7219-4917-a3fa-e85dbf1cfcba', 'volume_size': 1}
2025-01-13 12:38:00.055 25 INFO cinder.volume.drivers.lightos [None req-10c333ba-9ce3-4424-8c00-c11c901674bd 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_baaaea2a-7219-4917-a3fa-e85dbf1cfcba             request.body: {} ssl_verify: False
2025-01-13 12:38:00.064 25 INFO cinder.volume.drivers.lightos [None req-10c333ba-9ce3-4424-8c00-c11c901674bd 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_baaaea2a-7219-4917-a3fa-e85dbf1cfcba', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:38:00.091 25 INFO cinder.volume.drivers.lightos [None req-10c333ba-9ce3-4424-8c00-c11c901674bd 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/47bd14fb-d5a5-4545-a621-407f3e39921e             request.body: {} ssl_verify: False
2025-01-13 12:38:01.110 25 INFO cinder.volume.drivers.lightos [None req-10c333ba-9ce3-4424-8c00-c11c901674bd 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/47bd14fb-d5a5-4545-a621-407f3e39921e             request.body: {} ssl_verify: False
2025-01-13 12:38:01.139 25 INFO cinder.volume.flows.manager.create_volume [None req-10c333ba-9ce3-4424-8c00-c11c901674bd 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Volume vol_baaaea2a-7219-4917-a3fa-e85dbf1cfcba (baaaea2a-7219-4917-a3fa-e85dbf1cfcba): created successfully
2025-01-13 12:38:01.154 25 INFO cinder.volume.manager [None req-10c333ba-9ce3-4424-8c00-c11c901674bd 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Created volume successfully.
2025-01-13 12:38:02.345 25 INFO cinder.volume.manager [None req-0bf9d49b-97c7-4d34-b160-04edccbaf91e 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Update group completed successfully.
2025-01-13 12:38:03.168 25 INFO cinder.volume.flows.manager.create_volume [None req-90fd831d-e2a5-423d-a2b7-9e958edab9eb ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Volume 8201979e-4927-4826-891b-15bd346aa5dc: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_8201979e-4927-4826-891b-15bd346aa5dc', 'volume_size': 1}
2025-01-13 12:38:03.168 25 INFO cinder.volume.drivers.lightos [None req-90fd831d-e2a5-423d-a2b7-9e958edab9eb ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_8201979e-4927-4826-891b-15bd346aa5dc             request.body: {} ssl_verify: False
2025-01-13 12:38:03.180 25 INFO cinder.volume.drivers.lightos [None req-90fd831d-e2a5-423d-a2b7-9e958edab9eb ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_8201979e-4927-4826-891b-15bd346aa5dc', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:38:03.205 25 INFO cinder.volume.drivers.lightos [None req-90fd831d-e2a5-423d-a2b7-9e958edab9eb ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/234222ea-f6d0-4bb7-a7bc-f5aebe99def7             request.body: {} ssl_verify: False
2025-01-13 12:38:03.509 25 INFO cinder.volume.manager [None req-90e6d302-b465-4fa4-95f0-4d2fadfda37b 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Update group completed successfully.
2025-01-13 12:38:04.231 25 INFO cinder.volume.drivers.lightos [None req-90fd831d-e2a5-423d-a2b7-9e958edab9eb ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/234222ea-f6d0-4bb7-a7bc-f5aebe99def7             request.body: {} ssl_verify: False
2025-01-13 12:38:04.264 25 INFO cinder.volume.flows.manager.create_volume [None req-90fd831d-e2a5-423d-a2b7-9e958edab9eb ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Volume vol_8201979e-4927-4826-891b-15bd346aa5dc (8201979e-4927-4826-891b-15bd346aa5dc): created successfully
2025-01-13 12:38:04.278 25 INFO cinder.volume.manager [None req-90fd831d-e2a5-423d-a2b7-9e958edab9eb ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Created volume successfully.
2025-01-13 12:38:04.645 25 INFO cinder.volume.manager [None req-b9cf104f-cd99-43b8-a0dd-5f12bda5e720 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Update group completed successfully.
2025-01-13 12:38:05.460 25 INFO cinder.volume.drivers.lightos [None req-f8f3def2-3dd5-48a9-a2db-7d40659f90f5 ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-ea82e50e-5977-449c-a868-cc5290773612             request.body: {} ssl_verify: False
2025-01-13 12:38:05.470 25 INFO cinder.volume.drivers.lightos [None req-f8f3def2-3dd5-48a9-a2db-7d40659f90f5 ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-ea82e50e-5977-449c-a868-cc5290773612', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_8201979e-4927-4826-891b-15bd346aa5dc'} ssl_verify: False
2025-01-13 12:38:05.497 25 INFO cinder.volume.drivers.lightos [None req-f8f3def2-3dd5-48a9-a2db-7d40659f90f5 ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-ea82e50e-5977-449c-a868-cc5290773612             request.body: {} ssl_verify: False
2025-01-13 12:38:05.807 25 INFO cinder.volume.manager [None req-ca726fd7-6cbc-4f1f-a6d2-6a3f2a905f3e 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Update group completed successfully.
2025-01-13 12:38:06.480 25 INFO cinder.volume.flows.manager.create_volume [None req-4b58298d-7f00-4f75-a9e9-4358e378ba47 0bc45dbc3ed247adb3a6dc2b4c9aca91 1f9e1e8ba76f488f9d92e781b4a398cd - - - -] Volume c00bdf21-7a5c-42dc-8909-5c4ee3660935: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_c00bdf21-7a5c-42dc-8909-5c4ee3660935', 'volume_size': 1}
2025-01-13 12:38:06.480 25 INFO cinder.volume.drivers.lightos [None req-4b58298d-7f00-4f75-a9e9-4358e378ba47 0bc45dbc3ed247adb3a6dc2b4c9aca91 1f9e1e8ba76f488f9d92e781b4a398cd - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_c00bdf21-7a5c-42dc-8909-5c4ee3660935             request.body: {} ssl_verify: False
2025-01-13 12:38:06.491 25 INFO cinder.volume.drivers.lightos [None req-4b58298d-7f00-4f75-a9e9-4358e378ba47 0bc45dbc3ed247adb3a6dc2b4c9aca91 1f9e1e8ba76f488f9d92e781b4a398cd - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_c00bdf21-7a5c-42dc-8909-5c4ee3660935', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:38:06.526 25 INFO cinder.volume.drivers.lightos [None req-4b58298d-7f00-4f75-a9e9-4358e378ba47 0bc45dbc3ed247adb3a6dc2b4c9aca91 1f9e1e8ba76f488f9d92e781b4a398cd - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/43504c52-edcf-47f5-9089-8a7019532c29             request.body: {} ssl_verify: False
2025-01-13 12:38:06.564 25 INFO cinder.volume.drivers.lightos [None req-f8f3def2-3dd5-48a9-a2db-7d40659f90f5 ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-ea82e50e-5977-449c-a868-cc5290773612             request.body: {} ssl_verify: False
2025-01-13 12:38:06.614 25 INFO cinder.volume.manager [None req-f8f3def2-3dd5-48a9-a2db-7d40659f90f5 ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Create snapshot completed successfully
2025-01-13 12:38:07.159 25 INFO cinder.volume.manager [None req-01d42356-1232-4865-9761-822d1a7fd90a 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] GroupSnapshot f4f7df48-c2d0-4842-bdd8-4a42602e7616: creating.
2025-01-13 12:38:07.192 25 INFO cinder.volume.drivers.lightos [None req-01d42356-1232-4865-9761-822d1a7fd90a 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-3d0af5ca-019f-4359-a2e3-a61a0a3449e3             request.body: {} ssl_verify: False
2025-01-13 12:38:07.207 25 INFO cinder.volume.drivers.lightos [None req-01d42356-1232-4865-9761-822d1a7fd90a 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-3d0af5ca-019f-4359-a2e3-a61a0a3449e3', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_4cf773fd-3218-4380-8ea5-623d8a9bd0b0'} ssl_verify: False
2025-01-13 12:38:07.239 25 INFO cinder.volume.drivers.lightos [None req-01d42356-1232-4865-9761-822d1a7fd90a 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-3d0af5ca-019f-4359-a2e3-a61a0a3449e3             request.body: {} ssl_verify: False
2025-01-13 12:38:07.581 25 INFO cinder.volume.drivers.lightos [None req-4b58298d-7f00-4f75-a9e9-4358e378ba47 0bc45dbc3ed247adb3a6dc2b4c9aca91 1f9e1e8ba76f488f9d92e781b4a398cd - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/43504c52-edcf-47f5-9089-8a7019532c29             request.body: {} ssl_verify: False
2025-01-13 12:38:07.615 25 INFO cinder.volume.flows.manager.create_volume [None req-4b58298d-7f00-4f75-a9e9-4358e378ba47 0bc45dbc3ed247adb3a6dc2b4c9aca91 1f9e1e8ba76f488f9d92e781b4a398cd - - - -] Volume vol_c00bdf21-7a5c-42dc-8909-5c4ee3660935 (c00bdf21-7a5c-42dc-8909-5c4ee3660935): created successfully
2025-01-13 12:38:07.626 25 INFO cinder.volume.manager [None req-4b58298d-7f00-4f75-a9e9-4358e378ba47 0bc45dbc3ed247adb3a6dc2b4c9aca91 1f9e1e8ba76f488f9d92e781b4a398cd - - - -] Created volume successfully.
2025-01-13 12:38:08.019 25 INFO cinder.volume.drivers.lightos [None req-5145fc1b-d230-420f-93a7-d3837a254d3d ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-d3b6b9df-4bdf-4f18-8315-52db63357208             request.body: {} ssl_verify: False
2025-01-13 12:38:08.028 25 INFO cinder.volume.drivers.lightos [None req-5145fc1b-d230-420f-93a7-d3837a254d3d ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-d3b6b9df-4bdf-4f18-8315-52db63357208', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_8201979e-4927-4826-891b-15bd346aa5dc'} ssl_verify: False
2025-01-13 12:38:08.065 25 INFO cinder.volume.drivers.lightos [None req-5145fc1b-d230-420f-93a7-d3837a254d3d ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-d3b6b9df-4bdf-4f18-8315-52db63357208             request.body: {} ssl_verify: False
2025-01-13 12:38:08.278 25 INFO cinder.volume.drivers.lightos [None req-01d42356-1232-4865-9761-822d1a7fd90a 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-3d0af5ca-019f-4359-a2e3-a61a0a3449e3             request.body: {} ssl_verify: False
2025-01-13 12:38:08.318 25 INFO cinder.volume.drivers.lightos [None req-01d42356-1232-4865-9761-822d1a7fd90a 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-c0360cc6-1f17-4e50-82a9-4087c8ffd264             request.body: {} ssl_verify: False
2025-01-13 12:38:08.333 25 INFO cinder.volume.drivers.lightos [None req-01d42356-1232-4865-9761-822d1a7fd90a 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-c0360cc6-1f17-4e50-82a9-4087c8ffd264', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_baaaea2a-7219-4917-a3fa-e85dbf1cfcba'} ssl_verify: False
2025-01-13 12:38:08.363 25 INFO cinder.volume.drivers.lightos [None req-01d42356-1232-4865-9761-822d1a7fd90a 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-c0360cc6-1f17-4e50-82a9-4087c8ffd264             request.body: {} ssl_verify: False
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server [None req-6075c27f-86fe-40e1-b00c-3577b1ed95a0 0bc45dbc3ed247adb3a6dc2b4c9aca91 1f9e1e8ba76f488f9d92e781b4a398cd - - - -] Exception during message handling: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.deleted = false AND volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '71df066b-02bc-41a5-a666-d869902228d1', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server Traceback (most recent call last):
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     self.dialect.do_execute(
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     cursor.execute(statement, parameters)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     result = self._query(query)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     conn.query(q)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     result.read()
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     first_packet = self.connection._read_packet()
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     packet.raise_for_error()
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     err.raise_mysql_exception(self._data)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     raise errorclass(errno, errval)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server 
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server The above exception was the direct cause of the following exception:
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server 
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server Traceback (most recent call last):
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_messaging/rpc/server.py", line 172, in _process_incoming
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     res = self.dispatcher.dispatch(message)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_messaging/rpc/dispatcher.py", line 309, in dispatch
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     return self._do_dispatch(endpoint, method, ctxt, args)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_messaging/rpc/dispatcher.py", line 229, in _do_dispatch
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     result = func(ctxt, **new_args)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3049, in retype
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     diff, all_equal = volume_types.volume_types_diff(
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/volume_types.py", line 419, in volume_types_diff
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     vol_type = get_volume_type(context, vol_type_id)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/volume_types.py", line 184, in get_volume_type
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     return db.volume_type_get(ctxt, id, expected_fields=expected_fields)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     return fn(*args, **kwargs)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     return _volume_type_get(
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     return f(*args, **kwargs)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     result = _volume_type_get_db_object(
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     .first()
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     return self._execute_internal(
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     result = conn.execute(
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     return meth(
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     return connection._execute_clauseelement(
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     ret = self._execute_context(
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     return self._exec_single_context(
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     self._handle_dbapi_exception(
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     self.dialect.do_execute(
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     cursor.execute(statement, parameters)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     result = self._query(query)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     conn.query(q)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     result.read()
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     first_packet = self.connection._read_packet()
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     packet.raise_for_error()
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     err.raise_mysql_exception(self._data)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server     raise errorclass(errno, errval)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server FROM volume_types 
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server WHERE volume_types.deleted = false AND volume_types.id = %(id_1)s 
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server [parameters: {'id_1': '71df066b-02bc-41a5-a666-d869902228d1', 'param_1': 1}]
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:08.817 25 ERROR oslo_messaging.rpc.server 
2025-01-13 12:38:09.103 25 INFO cinder.volume.drivers.lightos [None req-5145fc1b-d230-420f-93a7-d3837a254d3d ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-d3b6b9df-4bdf-4f18-8315-52db63357208             request.body: {} ssl_verify: False
2025-01-13 12:38:09.142 25 INFO cinder.volume.manager [None req-5145fc1b-d230-420f-93a7-d3837a254d3d ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Create snapshot completed successfully
2025-01-13 12:38:09.393 25 INFO cinder.volume.drivers.lightos [None req-01d42356-1232-4865-9761-822d1a7fd90a 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-c0360cc6-1f17-4e50-82a9-4087c8ffd264             request.body: {} ssl_verify: False
2025-01-13 12:38:09.478 25 INFO cinder.volume.manager [None req-01d42356-1232-4865-9761-822d1a7fd90a 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] group_snapshot f4f7df48-c2d0-4842-bdd8-4a42602e7616: created successfully
2025-01-13 12:38:10.220 25 INFO cinder.volume.drivers.lightos [None req-6c77d5e5-d9a3-40d4-8bbd-93acceb4908c b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-d3b6b9df-4bdf-4f18-8315-52db63357208             request.body: {} ssl_verify: False
2025-01-13 12:38:10.243 25 INFO cinder.volume.drivers.lightos [None req-6c77d5e5-d9a3-40d4-8bbd-93acceb4908c b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/2f82588d-2c57-40f9-b761-fc650ce2e7c3?             request.body:  ssl_verify: False
2025-01-13 12:38:10.271 25 INFO cinder.volume.drivers.lightos [None req-6c77d5e5-d9a3-40d4-8bbd-93acceb4908c b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/2f82588d-2c57-40f9-b761-fc650ce2e7c3             request.body: {} ssl_verify: False
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager [None req-6c77d5e5-d9a3-40d4-8bbd-93acceb4908c b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager 
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager 
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:10.316 25 ERROR cinder.volume.manager 
2025-01-13 12:38:10.330 25 INFO cinder.volume.manager [None req-6c77d5e5-d9a3-40d4-8bbd-93acceb4908c b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Delete snapshot completed successfully.
2025-01-13 12:38:10.463 25 INFO cinder.volume.manager [None req-5fa06f81-82e3-4b69-a28e-e3bfabf6b508 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] group_snapshot f4f7df48-c2d0-4842-bdd8-4a42602e7616: deleting
2025-01-13 12:38:10.501 25 INFO cinder.volume.drivers.lightos [None req-5fa06f81-82e3-4b69-a28e-e3bfabf6b508 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-3d0af5ca-019f-4359-a2e3-a61a0a3449e3             request.body: {} ssl_verify: False
2025-01-13 12:38:10.516 25 INFO cinder.volume.drivers.lightos [None req-5fa06f81-82e3-4b69-a28e-e3bfabf6b508 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/411a3aab-6aac-4702-bb75-3fb8a553f2d7?             request.body:  ssl_verify: False
2025-01-13 12:38:10.553 25 INFO cinder.volume.drivers.lightos [None req-5fa06f81-82e3-4b69-a28e-e3bfabf6b508 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/411a3aab-6aac-4702-bb75-3fb8a553f2d7             request.body: {} ssl_verify: False
2025-01-13 12:38:10.588 25 INFO cinder.volume.drivers.lightos [None req-5fa06f81-82e3-4b69-a28e-e3bfabf6b508 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-c0360cc6-1f17-4e50-82a9-4087c8ffd264             request.body: {} ssl_verify: False
2025-01-13 12:38:10.599 25 INFO cinder.volume.drivers.lightos [None req-5fa06f81-82e3-4b69-a28e-e3bfabf6b508 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/5167b6fe-4d12-4518-9ec2-f27f9cd1d68e?             request.body:  ssl_verify: False
2025-01-13 12:38:10.625 25 INFO cinder.volume.drivers.lightos [None req-5fa06f81-82e3-4b69-a28e-e3bfabf6b508 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/5167b6fe-4d12-4518-9ec2-f27f9cd1d68e             request.body: {} ssl_verify: False
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager [None req-5fa06f81-82e3-4b69-a28e-e3bfabf6b508 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Failed to update usages deleting snapshot: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '005e199e-6b3f-423b-afa5-ef4757c977f0', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager 
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager 
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 4360, in delete_group_snapshot
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager [parameters: {'id_1': '005e199e-6b3f-423b-afa5-ef4757c977f0', 'param_1': 1}]
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:10.697 25 ERROR cinder.volume.manager 
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager [None req-5fa06f81-82e3-4b69-a28e-e3bfabf6b508 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Failed to update usages deleting snapshot: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '005e199e-6b3f-423b-afa5-ef4757c977f0', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager 
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager 
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 4360, in delete_group_snapshot
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager [parameters: {'id_1': '005e199e-6b3f-423b-afa5-ef4757c977f0', 'param_1': 1}]
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:10.736 25 ERROR cinder.volume.manager 
2025-01-13 12:38:10.753 25 INFO cinder.volume.manager [None req-5fa06f81-82e3-4b69-a28e-e3bfabf6b508 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] group_snapshot f4f7df48-c2d0-4842-bdd8-4a42602e7616: deleted successfully
2025-01-13 12:38:11.626 25 INFO cinder.volume.drivers.lightos [None req-58ea8e6b-e837-41a9-ba54-4662cf8ea05f ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-5f8a962a-6a4f-42ff-adf1-4237f9421eeb             request.body: {} ssl_verify: False
2025-01-13 12:38:11.647 25 INFO cinder.volume.drivers.lightos [None req-58ea8e6b-e837-41a9-ba54-4662cf8ea05f ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-5f8a962a-6a4f-42ff-adf1-4237f9421eeb', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_8201979e-4927-4826-891b-15bd346aa5dc'} ssl_verify: False
2025-01-13 12:38:11.700 25 INFO cinder.volume.drivers.lightos [None req-58ea8e6b-e837-41a9-ba54-4662cf8ea05f ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-5f8a962a-6a4f-42ff-adf1-4237f9421eeb             request.body: {} ssl_verify: False
2025-01-13 12:38:11.960 25 INFO cinder.volume.drivers.lightos [None req-b977eed5-ad05-4129-9076-dba7eefe9268 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_4cf773fd-3218-4380-8ea5-623d8a9bd0b0             request.body: {} ssl_verify: False
2025-01-13 12:38:11.974 25 INFO cinder.volume.drivers.lightos [None req-b977eed5-ad05-4129-9076-dba7eefe9268 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/066cad3d-f74f-493b-ac64-3338a83f1e93?             request.body:  ssl_verify: False
2025-01-13 12:38:12.010 25 INFO cinder.volume.drivers.lightos [None req-b977eed5-ad05-4129-9076-dba7eefe9268 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/066cad3d-f74f-493b-ac64-3338a83f1e93             request.body: {} ssl_verify: False
2025-01-13 12:38:12.034 25 INFO cinder.volume.drivers.lightos [None req-b977eed5-ad05-4129-9076-dba7eefe9268 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_baaaea2a-7219-4917-a3fa-e85dbf1cfcba             request.body: {} ssl_verify: False
2025-01-13 12:38:12.058 25 INFO cinder.volume.drivers.lightos [None req-b977eed5-ad05-4129-9076-dba7eefe9268 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/47bd14fb-d5a5-4545-a621-407f3e39921e?             request.body:  ssl_verify: False
2025-01-13 12:38:12.094 25 INFO cinder.volume.drivers.lightos [None req-b977eed5-ad05-4129-9076-dba7eefe9268 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/47bd14fb-d5a5-4545-a621-407f3e39921e             request.body: {} ssl_verify: False
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager [None req-b977eed5-ad05-4129-9076-dba7eefe9268 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '005e199e-6b3f-423b-afa5-ef4757c977f0', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager 
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager 
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager [parameters: {'id_1': '005e199e-6b3f-423b-afa5-ef4757c977f0', 'param_1': 1}]
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:12.166 25 ERROR cinder.volume.manager 
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager [None req-b977eed5-ad05-4129-9076-dba7eefe9268 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '005e199e-6b3f-423b-afa5-ef4757c977f0', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager 
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager 
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager [parameters: {'id_1': '005e199e-6b3f-423b-afa5-ef4757c977f0', 'param_1': 1}]
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:12.190 25 ERROR cinder.volume.manager 
2025-01-13 12:38:12.244 25 INFO cinder.volume.manager [None req-b977eed5-ad05-4129-9076-dba7eefe9268 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Delete group completed successfully.
2025-01-13 12:38:12.770 25 INFO cinder.volume.drivers.lightos [None req-58ea8e6b-e837-41a9-ba54-4662cf8ea05f ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-5f8a962a-6a4f-42ff-adf1-4237f9421eeb             request.body: {} ssl_verify: False
2025-01-13 12:38:12.808 25 INFO cinder.volume.manager [None req-58ea8e6b-e837-41a9-ba54-4662cf8ea05f ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Create snapshot completed successfully
2025-01-13 12:38:13.428 25 INFO cinder.volume.manager [None req-1035e08d-ff4b-441b-bd79-653d77b2e4e3 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Group tempest-GroupSnapshotsTest-Group-1304769311: creating
2025-01-13 12:38:13.444 25 INFO cinder.volume.manager [None req-1035e08d-ff4b-441b-bd79-653d77b2e4e3 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Group tempest-GroupSnapshotsTest-Group-1304769311: created successfully
2025-01-13 12:38:13.455 25 INFO cinder.volume.manager [None req-1035e08d-ff4b-441b-bd79-653d77b2e4e3 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Create group completed successfully.
2025-01-13 12:38:13.832 25 INFO cinder.volume.drivers.lightos [None req-6d940032-7833-4be7-9b42-e0604f1a4c13 b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-5f8a962a-6a4f-42ff-adf1-4237f9421eeb             request.body: {} ssl_verify: False
2025-01-13 12:38:13.847 25 INFO cinder.volume.drivers.lightos [None req-6d940032-7833-4be7-9b42-e0604f1a4c13 b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/20b417b5-130e-43de-ba43-4436ca16e70b?             request.body:  ssl_verify: False
2025-01-13 12:38:13.871 25 INFO cinder.volume.drivers.lightos [None req-6d940032-7833-4be7-9b42-e0604f1a4c13 b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/20b417b5-130e-43de-ba43-4436ca16e70b             request.body: {} ssl_verify: False
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager [None req-6d940032-7833-4be7-9b42-e0604f1a4c13 b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager 
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager 
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:13.933 25 ERROR cinder.volume.manager 
2025-01-13 12:38:13.945 25 INFO cinder.volume.manager [None req-6d940032-7833-4be7-9b42-e0604f1a4c13 b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Delete snapshot completed successfully.
2025-01-13 12:38:14.821 25 INFO cinder.volume.flows.manager.create_volume [None req-8693ade6-cb7c-43f2-944b-78e1417529a7 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Volume f30003c6-f368-4ce8-89af-83f50e5d16ed: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_f30003c6-f368-4ce8-89af-83f50e5d16ed', 'volume_size': 1}
2025-01-13 12:38:14.821 25 INFO cinder.volume.drivers.lightos [None req-8693ade6-cb7c-43f2-944b-78e1417529a7 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f30003c6-f368-4ce8-89af-83f50e5d16ed             request.body: {} ssl_verify: False
2025-01-13 12:38:14.831 25 INFO cinder.volume.drivers.lightos [None req-8693ade6-cb7c-43f2-944b-78e1417529a7 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_f30003c6-f368-4ce8-89af-83f50e5d16ed', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:38:14.852 25 INFO cinder.volume.drivers.lightos [None req-8693ade6-cb7c-43f2-944b-78e1417529a7 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/72037025-4710-4763-9cad-f5331a2f3c48             request.body: {} ssl_verify: False
2025-01-13 12:38:15.195 25 INFO cinder.volume.drivers.lightos [None req-3596f38c-eca7-4e13-947a-fda4dd1ea6a0 ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-c7ad0838-c197-4437-be58-b028087f9892             request.body: {} ssl_verify: False
2025-01-13 12:38:15.206 25 INFO cinder.volume.drivers.lightos [None req-3596f38c-eca7-4e13-947a-fda4dd1ea6a0 ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-c7ad0838-c197-4437-be58-b028087f9892', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_8201979e-4927-4826-891b-15bd346aa5dc'} ssl_verify: False
2025-01-13 12:38:15.239 25 INFO cinder.volume.drivers.lightos [None req-3596f38c-eca7-4e13-947a-fda4dd1ea6a0 ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-c7ad0838-c197-4437-be58-b028087f9892             request.body: {} ssl_verify: False
2025-01-13 12:38:15.873 25 INFO cinder.volume.drivers.lightos [None req-8693ade6-cb7c-43f2-944b-78e1417529a7 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/72037025-4710-4763-9cad-f5331a2f3c48             request.body: {} ssl_verify: False
2025-01-13 12:38:15.906 25 INFO cinder.volume.flows.manager.create_volume [None req-8693ade6-cb7c-43f2-944b-78e1417529a7 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Volume vol_f30003c6-f368-4ce8-89af-83f50e5d16ed (f30003c6-f368-4ce8-89af-83f50e5d16ed): created successfully
2025-01-13 12:38:15.915 25 INFO cinder.volume.manager [None req-8693ade6-cb7c-43f2-944b-78e1417529a7 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Created volume successfully.
2025-01-13 12:38:16.257 25 INFO cinder.volume.drivers.lightos [None req-3596f38c-eca7-4e13-947a-fda4dd1ea6a0 ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-c7ad0838-c197-4437-be58-b028087f9892             request.body: {} ssl_verify: False
2025-01-13 12:38:16.293 25 INFO cinder.volume.manager [None req-3596f38c-eca7-4e13-947a-fda4dd1ea6a0 ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Create snapshot completed successfully
2025-01-13 12:38:17.141 25 INFO cinder.volume.manager [None req-adf21e93-659a-49f8-81d6-d77aba6c1d9a 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] GroupSnapshot 615a72ce-0f41-4049-a29c-83e5ef3733b2: creating.
2025-01-13 12:38:17.176 25 INFO cinder.volume.drivers.lightos [None req-adf21e93-659a-49f8-81d6-d77aba6c1d9a 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-1f0b785e-d469-4277-b643-62bc6b749936             request.body: {} ssl_verify: False
2025-01-13 12:38:17.194 25 INFO cinder.volume.drivers.lightos [None req-adf21e93-659a-49f8-81d6-d77aba6c1d9a 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-1f0b785e-d469-4277-b643-62bc6b749936', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_f30003c6-f368-4ce8-89af-83f50e5d16ed'} ssl_verify: False
2025-01-13 12:38:17.279 25 INFO cinder.volume.drivers.lightos [None req-adf21e93-659a-49f8-81d6-d77aba6c1d9a 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-1f0b785e-d469-4277-b643-62bc6b749936             request.body: {} ssl_verify: False
2025-01-13 12:38:17.431 25 INFO cinder.volume.drivers.lightos [None req-f647dc6e-8570-4e09-a1b7-1cc49475b7cf b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-c7ad0838-c197-4437-be58-b028087f9892             request.body: {} ssl_verify: False
2025-01-13 12:38:17.448 25 INFO cinder.volume.drivers.lightos [None req-f647dc6e-8570-4e09-a1b7-1cc49475b7cf b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/767b5c33-5432-4df2-8dfb-d99e77e30615?             request.body:  ssl_verify: False
2025-01-13 12:38:17.481 25 INFO cinder.volume.drivers.lightos [None req-f647dc6e-8570-4e09-a1b7-1cc49475b7cf b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/767b5c33-5432-4df2-8dfb-d99e77e30615             request.body: {} ssl_verify: False
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager [None req-f647dc6e-8570-4e09-a1b7-1cc49475b7cf b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager 
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager 
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:17.511 25 ERROR cinder.volume.manager 
2025-01-13 12:38:17.526 25 INFO cinder.volume.manager [None req-f647dc6e-8570-4e09-a1b7-1cc49475b7cf b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Delete snapshot completed successfully.
2025-01-13 12:38:18.298 25 INFO cinder.volume.drivers.lightos [None req-adf21e93-659a-49f8-81d6-d77aba6c1d9a 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-1f0b785e-d469-4277-b643-62bc6b749936             request.body: {} ssl_verify: False
2025-01-13 12:38:18.363 25 INFO cinder.volume.manager [None req-adf21e93-659a-49f8-81d6-d77aba6c1d9a 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] group_snapshot 615a72ce-0f41-4049-a29c-83e5ef3733b2: created successfully
2025-01-13 12:38:18.799 25 INFO cinder.volume.drivers.lightos [None req-b7b387db-7c0f-4484-bd7f-b06e0c57148c ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-11c63594-cf99-455a-ad03-a4a10d1f65fd             request.body: {} ssl_verify: False
2025-01-13 12:38:18.808 25 INFO cinder.volume.drivers.lightos [None req-b7b387db-7c0f-4484-bd7f-b06e0c57148c ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-11c63594-cf99-455a-ad03-a4a10d1f65fd', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_8201979e-4927-4826-891b-15bd346aa5dc'} ssl_verify: False
2025-01-13 12:38:18.841 25 INFO cinder.volume.drivers.lightos [None req-b7b387db-7c0f-4484-bd7f-b06e0c57148c ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-11c63594-cf99-455a-ad03-a4a10d1f65fd             request.body: {} ssl_verify: False
2025-01-13 12:38:19.422 25 INFO cinder.volume.manager [None req-6588178b-9a00-4da8-b814-7ef954427541 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] group_snapshot 615a72ce-0f41-4049-a29c-83e5ef3733b2: deleting
2025-01-13 12:38:19.458 25 INFO cinder.volume.drivers.lightos [None req-6588178b-9a00-4da8-b814-7ef954427541 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-1f0b785e-d469-4277-b643-62bc6b749936             request.body: {} ssl_verify: False
2025-01-13 12:38:19.470 25 INFO cinder.volume.drivers.lightos [None req-6588178b-9a00-4da8-b814-7ef954427541 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/d4d6576b-8f7c-4520-bf03-6d4ad93b45e8?             request.body:  ssl_verify: False
2025-01-13 12:38:19.501 25 INFO cinder.volume.drivers.lightos [None req-6588178b-9a00-4da8-b814-7ef954427541 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/d4d6576b-8f7c-4520-bf03-6d4ad93b45e8             request.body: {} ssl_verify: False
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager [None req-6588178b-9a00-4da8-b814-7ef954427541 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Failed to update usages deleting snapshot: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': 'c27f6c2a-4a55-40cc-8fa8-95c82a72dbba', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager 
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager 
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 4360, in delete_group_snapshot
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager [parameters: {'id_1': 'c27f6c2a-4a55-40cc-8fa8-95c82a72dbba', 'param_1': 1}]
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:19.561 25 ERROR cinder.volume.manager 
2025-01-13 12:38:19.581 25 INFO cinder.volume.manager [None req-6588178b-9a00-4da8-b814-7ef954427541 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] group_snapshot 615a72ce-0f41-4049-a29c-83e5ef3733b2: deleted successfully
2025-01-13 12:38:19.909 25 INFO cinder.volume.drivers.lightos [None req-b7b387db-7c0f-4484-bd7f-b06e0c57148c ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-11c63594-cf99-455a-ad03-a4a10d1f65fd             request.body: {} ssl_verify: False
2025-01-13 12:38:19.943 25 INFO cinder.volume.manager [None req-b7b387db-7c0f-4484-bd7f-b06e0c57148c ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Create snapshot completed successfully
2025-01-13 12:38:20.842 25 INFO cinder.volume.drivers.lightos [None req-ca0390bf-89fa-4161-a602-ca8029a21767 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f30003c6-f368-4ce8-89af-83f50e5d16ed             request.body: {} ssl_verify: False
2025-01-13 12:38:20.855 25 INFO cinder.volume.drivers.lightos [None req-ca0390bf-89fa-4161-a602-ca8029a21767 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/72037025-4710-4763-9cad-f5331a2f3c48?             request.body:  ssl_verify: False
2025-01-13 12:38:20.881 25 INFO cinder.volume.drivers.lightos [None req-ca0390bf-89fa-4161-a602-ca8029a21767 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/72037025-4710-4763-9cad-f5331a2f3c48             request.body: {} ssl_verify: False
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager [None req-ca0390bf-89fa-4161-a602-ca8029a21767 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': 'c27f6c2a-4a55-40cc-8fa8-95c82a72dbba', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager 
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager 
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager [parameters: {'id_1': 'c27f6c2a-4a55-40cc-8fa8-95c82a72dbba', 'param_1': 1}]
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:20.964 25 ERROR cinder.volume.manager 
2025-01-13 12:38:20.996 25 INFO cinder.volume.drivers.lightos [None req-1e42dbf3-7e95-46b9-a65b-833f85e635ed b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-11c63594-cf99-455a-ad03-a4a10d1f65fd             request.body: {} ssl_verify: False
2025-01-13 12:38:21.009 25 INFO cinder.volume.drivers.lightos [None req-1e42dbf3-7e95-46b9-a65b-833f85e635ed b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/991c9439-4e79-4552-b463-5a5e3d3322d5?             request.body:  ssl_verify: False
2025-01-13 12:38:21.027 25 INFO cinder.volume.manager [None req-ca0390bf-89fa-4161-a602-ca8029a21767 26e0ca5a0ff14ac78c9daadebb59b945 78e157e4994744eea2eb483691db3f66 - - - -] Delete group completed successfully.
2025-01-13 12:38:21.033 25 INFO cinder.volume.drivers.lightos [None req-1e42dbf3-7e95-46b9-a65b-833f85e635ed b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/991c9439-4e79-4552-b463-5a5e3d3322d5             request.body: {} ssl_verify: False
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager [None req-1e42dbf3-7e95-46b9-a65b-833f85e635ed b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager 
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager 
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:21.094 25 ERROR cinder.volume.manager 
2025-01-13 12:38:21.105 25 INFO cinder.volume.manager [None req-1e42dbf3-7e95-46b9-a65b-833f85e635ed b4423926b0624b2b827161bcea3f2087 363b05b480b8402192f0cc8a93f14287 - - - -] Delete snapshot completed successfully.
2025-01-13 12:38:22.455 25 INFO cinder.volume.drivers.lightos [None req-07b40b43-549d-47cd-8710-665d6b0b7fc3 ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-ea82e50e-5977-449c-a868-cc5290773612             request.body: {} ssl_verify: False
2025-01-13 12:38:22.478 25 INFO cinder.volume.drivers.lightos [None req-07b40b43-549d-47cd-8710-665d6b0b7fc3 ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/4892690b-59c9-4c36-8492-6b54dbe9be6e?             request.body:  ssl_verify: False
2025-01-13 12:38:22.616 25 INFO cinder.volume.drivers.lightos [None req-07b40b43-549d-47cd-8710-665d6b0b7fc3 ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/4892690b-59c9-4c36-8492-6b54dbe9be6e             request.body: {} ssl_verify: False
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager [None req-07b40b43-549d-47cd-8710-665d6b0b7fc3 ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager 
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager 
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:22.694 25 ERROR cinder.volume.manager 
2025-01-13 12:38:22.707 25 INFO cinder.volume.manager [None req-07b40b43-549d-47cd-8710-665d6b0b7fc3 ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Delete snapshot completed successfully.
2025-01-13 12:38:23.651 25 INFO cinder.volume.drivers.lightos [None req-64402941-1b97-4142-82af-911ff54388be ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_8201979e-4927-4826-891b-15bd346aa5dc             request.body: {} ssl_verify: False
2025-01-13 12:38:23.666 25 INFO cinder.volume.drivers.lightos [None req-64402941-1b97-4142-82af-911ff54388be ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/234222ea-f6d0-4bb7-a7bc-f5aebe99def7?             request.body:  ssl_verify: False
2025-01-13 12:38:23.710 25 INFO cinder.volume.drivers.lightos [None req-64402941-1b97-4142-82af-911ff54388be ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/234222ea-f6d0-4bb7-a7bc-f5aebe99def7             request.body: {} ssl_verify: False
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager [None req-64402941-1b97-4142-82af-911ff54388be ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager 
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager 
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:23.734 25 ERROR cinder.volume.manager 
2025-01-13 12:38:23.761 25 INFO cinder.volume.manager [None req-64402941-1b97-4142-82af-911ff54388be ec7eba2491ef48909e247b99a55380f6 c21e19aee49b4ded9d3e04fa6053ae5d - - - -] Deleted volume successfully.
2025-01-13 12:38:27.819 25 INFO cinder.volume.manager [None req-18faa7df-7ebd-42d0-87cc-4671b9a5f700 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Group tempest-Group1-179127798: creating
2025-01-13 12:38:27.833 25 INFO cinder.volume.manager [None req-18faa7df-7ebd-42d0-87cc-4671b9a5f700 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Group tempest-Group1-179127798: created successfully
2025-01-13 12:38:27.840 25 INFO cinder.volume.manager [None req-18faa7df-7ebd-42d0-87cc-4671b9a5f700 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Create group completed successfully.
2025-01-13 12:38:29.015 25 INFO cinder.volume.manager [None req-529b25a2-7e52-4087-b4c2-1021d95cd565 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Group tempest-Group2-1879840201: creating
2025-01-13 12:38:29.031 25 INFO cinder.volume.manager [None req-529b25a2-7e52-4087-b4c2-1021d95cd565 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Group tempest-Group2-1879840201: created successfully
2025-01-13 12:38:29.041 25 INFO cinder.volume.manager [None req-529b25a2-7e52-4087-b4c2-1021d95cd565 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Create group completed successfully.
2025-01-13 12:38:30.374 25 INFO cinder.volume.flows.manager.create_volume [None req-99c1d70a-40ab-4bae-81c1-202f407d72c0 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Volume dd39caa5-b40a-4971-aad7-38cdd71c5e38: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_dd39caa5-b40a-4971-aad7-38cdd71c5e38', 'volume_size': 1}
2025-01-13 12:38:30.375 25 INFO cinder.volume.drivers.lightos [None req-99c1d70a-40ab-4bae-81c1-202f407d72c0 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_dd39caa5-b40a-4971-aad7-38cdd71c5e38             request.body: {} ssl_verify: False
2025-01-13 12:38:30.386 25 INFO cinder.volume.drivers.lightos [None req-99c1d70a-40ab-4bae-81c1-202f407d72c0 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_dd39caa5-b40a-4971-aad7-38cdd71c5e38', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:38:30.418 25 INFO cinder.volume.drivers.lightos [None req-99c1d70a-40ab-4bae-81c1-202f407d72c0 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/f18e34dc-d28e-4c79-a706-259cdc8449d1             request.body: {} ssl_verify: False
2025-01-13 12:38:31.451 25 INFO cinder.volume.drivers.lightos [None req-99c1d70a-40ab-4bae-81c1-202f407d72c0 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/f18e34dc-d28e-4c79-a706-259cdc8449d1             request.body: {} ssl_verify: False
2025-01-13 12:38:31.480 25 INFO cinder.volume.flows.manager.create_volume [None req-99c1d70a-40ab-4bae-81c1-202f407d72c0 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Volume vol_dd39caa5-b40a-4971-aad7-38cdd71c5e38 (dd39caa5-b40a-4971-aad7-38cdd71c5e38): created successfully
2025-01-13 12:38:31.489 25 INFO cinder.volume.manager [None req-99c1d70a-40ab-4bae-81c1-202f407d72c0 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Created volume successfully.
2025-01-13 12:38:32.903 25 INFO cinder.volume.drivers.lightos [None req-c4d9e536-c623-4d8b-8e69-50610f75efaa b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_dd39caa5-b40a-4971-aad7-38cdd71c5e38             request.body: {} ssl_verify: False
2025-01-13 12:38:32.915 25 INFO cinder.volume.drivers.lightos [None req-c4d9e536-c623-4d8b-8e69-50610f75efaa b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/f18e34dc-d28e-4c79-a706-259cdc8449d1?             request.body:  ssl_verify: False
2025-01-13 12:38:32.939 25 INFO cinder.volume.drivers.lightos [None req-c4d9e536-c623-4d8b-8e69-50610f75efaa b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/f18e34dc-d28e-4c79-a706-259cdc8449d1             request.body: {} ssl_verify: False
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager [None req-c4d9e536-c623-4d8b-8e69-50610f75efaa b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '6f57e042-3f61-4808-89bc-1cb27af1acc9', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager 
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager 
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager [parameters: {'id_1': '6f57e042-3f61-4808-89bc-1cb27af1acc9', 'param_1': 1}]
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:32.998 25 ERROR cinder.volume.manager 
2025-01-13 12:38:33.045 25 INFO cinder.volume.manager [None req-c4d9e536-c623-4d8b-8e69-50610f75efaa b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Delete group completed successfully.
2025-01-13 12:38:34.121 25 INFO cinder.volume.manager [None req-704cc4d5-1104-4017-bdc8-aed3d83df32e b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Delete group completed successfully.
2025-01-13 12:38:35.601 25 INFO cinder.volume.manager [None req-429fdc20-0b5b-4db7-9ec8-8ae32c9cb7f8 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Group tempest-GroupsTest-Group-1033479149: creating
2025-01-13 12:38:35.615 25 INFO cinder.volume.manager [None req-429fdc20-0b5b-4db7-9ec8-8ae32c9cb7f8 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Group tempest-GroupsTest-Group-1033479149: created successfully
2025-01-13 12:38:35.621 25 INFO cinder.volume.manager [None req-429fdc20-0b5b-4db7-9ec8-8ae32c9cb7f8 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Create group completed successfully.
2025-01-13 12:38:36.546 25 INFO cinder.volume.flows.manager.create_volume [None req-3beecb5a-5991-4c45-b1b7-ccfb5bd1770d 677eb2c5c5cc409591fde782270395fc 044a4d81eba84ecf9c67d47345dd0c72 - - - -] Volume 9b5be09b-19a3-4725-b28e-8f187fe61ce4: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_9b5be09b-19a3-4725-b28e-8f187fe61ce4', 'volume_size': 1}
2025-01-13 12:38:36.546 25 INFO cinder.volume.drivers.lightos [None req-3beecb5a-5991-4c45-b1b7-ccfb5bd1770d 677eb2c5c5cc409591fde782270395fc 044a4d81eba84ecf9c67d47345dd0c72 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_9b5be09b-19a3-4725-b28e-8f187fe61ce4             request.body: {} ssl_verify: False
2025-01-13 12:38:36.559 25 INFO cinder.volume.drivers.lightos [None req-3beecb5a-5991-4c45-b1b7-ccfb5bd1770d 677eb2c5c5cc409591fde782270395fc 044a4d81eba84ecf9c67d47345dd0c72 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_9b5be09b-19a3-4725-b28e-8f187fe61ce4', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:38:36.590 25 INFO cinder.volume.drivers.lightos [None req-3beecb5a-5991-4c45-b1b7-ccfb5bd1770d 677eb2c5c5cc409591fde782270395fc 044a4d81eba84ecf9c67d47345dd0c72 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/7b5eabd9-10a6-4274-bcff-033f528a3fcc             request.body: {} ssl_verify: False
2025-01-13 12:38:36.989 25 INFO cinder.volume.flows.manager.create_volume [None req-4ecf840a-ddd9-498c-ae7c-e8a7930425b0 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Volume 99fbef4b-a22a-41b1-9ce4-3cf13fc48b33: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_99fbef4b-a22a-41b1-9ce4-3cf13fc48b33', 'volume_size': 1}
2025-01-13 12:38:36.990 25 INFO cinder.volume.drivers.lightos [None req-4ecf840a-ddd9-498c-ae7c-e8a7930425b0 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_99fbef4b-a22a-41b1-9ce4-3cf13fc48b33             request.body: {} ssl_verify: False
2025-01-13 12:38:37.002 25 INFO cinder.volume.drivers.lightos [None req-4ecf840a-ddd9-498c-ae7c-e8a7930425b0 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_99fbef4b-a22a-41b1-9ce4-3cf13fc48b33', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:38:37.028 25 INFO cinder.volume.drivers.lightos [None req-4ecf840a-ddd9-498c-ae7c-e8a7930425b0 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b626a5ac-1f77-4633-aaac-f5a8dfae3c2e             request.body: {} ssl_verify: False
2025-01-13 12:38:37.629 25 INFO cinder.volume.drivers.lightos [None req-3beecb5a-5991-4c45-b1b7-ccfb5bd1770d 677eb2c5c5cc409591fde782270395fc 044a4d81eba84ecf9c67d47345dd0c72 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/7b5eabd9-10a6-4274-bcff-033f528a3fcc             request.body: {} ssl_verify: False
2025-01-13 12:38:37.672 25 INFO cinder.volume.flows.manager.create_volume [None req-3beecb5a-5991-4c45-b1b7-ccfb5bd1770d 677eb2c5c5cc409591fde782270395fc 044a4d81eba84ecf9c67d47345dd0c72 - - - -] Volume vol_9b5be09b-19a3-4725-b28e-8f187fe61ce4 (9b5be09b-19a3-4725-b28e-8f187fe61ce4): created successfully
2025-01-13 12:38:37.682 25 INFO cinder.volume.manager [None req-3beecb5a-5991-4c45-b1b7-ccfb5bd1770d 677eb2c5c5cc409591fde782270395fc 044a4d81eba84ecf9c67d47345dd0c72 - - - -] Created volume successfully.
2025-01-13 12:38:38.050 25 INFO cinder.volume.drivers.lightos [None req-4ecf840a-ddd9-498c-ae7c-e8a7930425b0 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b626a5ac-1f77-4633-aaac-f5a8dfae3c2e             request.body: {} ssl_verify: False
2025-01-13 12:38:38.087 25 INFO cinder.volume.flows.manager.create_volume [None req-4ecf840a-ddd9-498c-ae7c-e8a7930425b0 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Volume vol_99fbef4b-a22a-41b1-9ce4-3cf13fc48b33 (99fbef4b-a22a-41b1-9ce4-3cf13fc48b33): created successfully
2025-01-13 12:38:38.094 25 INFO cinder.volume.manager [None req-4ecf840a-ddd9-498c-ae7c-e8a7930425b0 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Created volume successfully.
2025-01-13 12:38:39.425 25 INFO cinder.volume.drivers.lightos [None req-d9b2ef4f-41a5-4c66-972c-58c581e0bc0c 677eb2c5c5cc409591fde782270395fc 044a4d81eba84ecf9c67d47345dd0c72 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_9b5be09b-19a3-4725-b28e-8f187fe61ce4             request.body: {} ssl_verify: False
2025-01-13 12:38:39.437 25 INFO cinder.volume.drivers.lightos [None req-d9b2ef4f-41a5-4c66-972c-58c581e0bc0c 677eb2c5c5cc409591fde782270395fc 044a4d81eba84ecf9c67d47345dd0c72 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/7b5eabd9-10a6-4274-bcff-033f528a3fcc?             request.body:  ssl_verify: False
2025-01-13 12:38:39.467 25 INFO cinder.volume.drivers.lightos [None req-d9b2ef4f-41a5-4c66-972c-58c581e0bc0c 677eb2c5c5cc409591fde782270395fc 044a4d81eba84ecf9c67d47345dd0c72 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/7b5eabd9-10a6-4274-bcff-033f528a3fcc             request.body: {} ssl_verify: False
2025-01-13 12:38:39.493 25 INFO cinder.volume.flows.manager.create_volume [None req-9ded652f-68ad-4b56-b707-b941e793f1b3 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Volume f6739e0c-f3bc-4d1b-a265-0669af77f9ad: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_f6739e0c-f3bc-4d1b-a265-0669af77f9ad', 'volume_size': 1}
2025-01-13 12:38:39.494 25 INFO cinder.volume.drivers.lightos [None req-9ded652f-68ad-4b56-b707-b941e793f1b3 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f6739e0c-f3bc-4d1b-a265-0669af77f9ad             request.body: {} ssl_verify: False
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager [None req-d9b2ef4f-41a5-4c66-972c-58c581e0bc0c 677eb2c5c5cc409591fde782270395fc 044a4d81eba84ecf9c67d47345dd0c72 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager 
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager 
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:39.498 25 ERROR cinder.volume.manager 
2025-01-13 12:38:39.505 25 INFO cinder.volume.drivers.lightos [None req-9ded652f-68ad-4b56-b707-b941e793f1b3 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_f6739e0c-f3bc-4d1b-a265-0669af77f9ad', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:38:39.523 25 INFO cinder.volume.manager [None req-d9b2ef4f-41a5-4c66-972c-58c581e0bc0c 677eb2c5c5cc409591fde782270395fc 044a4d81eba84ecf9c67d47345dd0c72 - - - -] Deleted volume successfully.
2025-01-13 12:38:39.526 25 INFO cinder.volume.drivers.lightos [None req-9ded652f-68ad-4b56-b707-b941e793f1b3 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/2f29ca00-88c6-4a21-b47a-9131b9aca387             request.body: {} ssl_verify: False
2025-01-13 12:38:40.549 25 INFO cinder.volume.drivers.lightos [None req-9ded652f-68ad-4b56-b707-b941e793f1b3 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/2f29ca00-88c6-4a21-b47a-9131b9aca387             request.body: {} ssl_verify: False
2025-01-13 12:38:40.581 25 INFO cinder.volume.flows.manager.create_volume [None req-9ded652f-68ad-4b56-b707-b941e793f1b3 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Volume vol_f6739e0c-f3bc-4d1b-a265-0669af77f9ad (f6739e0c-f3bc-4d1b-a265-0669af77f9ad): created successfully
2025-01-13 12:38:40.592 25 INFO cinder.volume.manager [None req-9ded652f-68ad-4b56-b707-b941e793f1b3 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Created volume successfully.
2025-01-13 12:38:41.754 25 INFO cinder.volume.manager [None req-2d1ab43f-5d4c-49c0-aa3a-a838d2a68d1f b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Update group completed successfully.
2025-01-13 12:38:43.046 25 INFO cinder.volume.manager [None req-a59fdab0-4103-4a7b-b7b1-8ea32b2d3886 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Update group completed successfully.
2025-01-13 12:38:44.384 25 INFO cinder.volume.drivers.lightos [None req-fd70fb99-4212-44e9-ab44-29c86b88c065 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_99fbef4b-a22a-41b1-9ce4-3cf13fc48b33             request.body: {} ssl_verify: False
2025-01-13 12:38:44.402 25 INFO cinder.volume.drivers.lightos [None req-fd70fb99-4212-44e9-ab44-29c86b88c065 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/b626a5ac-1f77-4633-aaac-f5a8dfae3c2e?             request.body:  ssl_verify: False
2025-01-13 12:38:44.430 25 INFO cinder.volume.drivers.lightos [None req-fd70fb99-4212-44e9-ab44-29c86b88c065 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b626a5ac-1f77-4633-aaac-f5a8dfae3c2e             request.body: {} ssl_verify: False
2025-01-13 12:38:44.469 25 INFO cinder.volume.drivers.lightos [None req-fd70fb99-4212-44e9-ab44-29c86b88c065 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f6739e0c-f3bc-4d1b-a265-0669af77f9ad             request.body: {} ssl_verify: False
2025-01-13 12:38:44.485 25 INFO cinder.volume.drivers.lightos [None req-fd70fb99-4212-44e9-ab44-29c86b88c065 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/2f29ca00-88c6-4a21-b47a-9131b9aca387?             request.body:  ssl_verify: False
2025-01-13 12:38:44.505 25 INFO cinder.volume.drivers.lightos [None req-fd70fb99-4212-44e9-ab44-29c86b88c065 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/2f29ca00-88c6-4a21-b47a-9131b9aca387             request.body: {} ssl_verify: False
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager [None req-fd70fb99-4212-44e9-ab44-29c86b88c065 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '53cb560e-cf33-4390-8912-99dac7e99717', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager 
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager 
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager [parameters: {'id_1': '53cb560e-cf33-4390-8912-99dac7e99717', 'param_1': 1}]
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:44.590 25 ERROR cinder.volume.manager 
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager [None req-fd70fb99-4212-44e9-ab44-29c86b88c065 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '53cb560e-cf33-4390-8912-99dac7e99717', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager 
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager 
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager [parameters: {'id_1': '53cb560e-cf33-4390-8912-99dac7e99717', 'param_1': 1}]
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:44.610 25 ERROR cinder.volume.manager 
2025-01-13 12:38:44.658 25 INFO cinder.volume.manager [None req-fd70fb99-4212-44e9-ab44-29c86b88c065 b58a7100bbce49c98ef8b09feaf021fb ee84ba7c5e774af08b8443081dae0427 - - - -] Delete group completed successfully.
2025-01-13 12:38:46.750 25 INFO cinder.volume.flows.manager.create_volume [None req-df3ae8e7-6df1-424d-9359-8823cb10981c baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Volume 0edf1d73-c0b1-43d2-976b-09d66c9fdc7b: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_0edf1d73-c0b1-43d2-976b-09d66c9fdc7b', 'volume_size': 1}
2025-01-13 12:38:46.750 25 INFO cinder.volume.drivers.lightos [None req-df3ae8e7-6df1-424d-9359-8823cb10981c baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_0edf1d73-c0b1-43d2-976b-09d66c9fdc7b             request.body: {} ssl_verify: False
2025-01-13 12:38:46.760 25 INFO cinder.volume.drivers.lightos [None req-df3ae8e7-6df1-424d-9359-8823cb10981c baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_0edf1d73-c0b1-43d2-976b-09d66c9fdc7b', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:38:46.784 25 INFO cinder.volume.drivers.lightos [None req-df3ae8e7-6df1-424d-9359-8823cb10981c baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b6b3689a-8716-46ec-9018-5e483682eaeb             request.body: {} ssl_verify: False
2025-01-13 12:38:47.810 25 INFO cinder.volume.drivers.lightos [None req-df3ae8e7-6df1-424d-9359-8823cb10981c baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b6b3689a-8716-46ec-9018-5e483682eaeb             request.body: {} ssl_verify: False
2025-01-13 12:38:47.841 25 INFO cinder.volume.flows.manager.create_volume [None req-df3ae8e7-6df1-424d-9359-8823cb10981c baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Volume vol_0edf1d73-c0b1-43d2-976b-09d66c9fdc7b (0edf1d73-c0b1-43d2-976b-09d66c9fdc7b): created successfully
2025-01-13 12:38:47.852 25 INFO cinder.volume.manager [None req-df3ae8e7-6df1-424d-9359-8823cb10981c baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Created volume successfully.
2025-01-13 12:38:49.060 25 INFO cinder.volume.drivers.lightos [None req-74d61490-3ff4-4730-b967-7c2bc0940e18 baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-b8857fc8-ec43-488c-b3d3-4df3d50fddc1             request.body: {} ssl_verify: False
2025-01-13 12:38:49.071 25 INFO cinder.volume.drivers.lightos [None req-74d61490-3ff4-4730-b967-7c2bc0940e18 baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-b8857fc8-ec43-488c-b3d3-4df3d50fddc1', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_0edf1d73-c0b1-43d2-976b-09d66c9fdc7b'} ssl_verify: False
2025-01-13 12:38:49.115 25 INFO cinder.volume.drivers.lightos [None req-74d61490-3ff4-4730-b967-7c2bc0940e18 baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-b8857fc8-ec43-488c-b3d3-4df3d50fddc1             request.body: {} ssl_verify: False
2025-01-13 12:38:50.177 25 INFO cinder.volume.drivers.lightos [None req-74d61490-3ff4-4730-b967-7c2bc0940e18 baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-b8857fc8-ec43-488c-b3d3-4df3d50fddc1             request.body: {} ssl_verify: False
2025-01-13 12:38:50.225 25 INFO cinder.volume.manager [None req-74d61490-3ff4-4730-b967-7c2bc0940e18 baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Create snapshot completed successfully
2025-01-13 12:38:51.524 25 INFO cinder.volume.manager [None req-67d48483-7af0-4848-b9b6-32278f73d7c3 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Group tempest-GroupsV314Test-Group-1446378078: creating
2025-01-13 12:38:51.540 25 INFO cinder.volume.manager [None req-67d48483-7af0-4848-b9b6-32278f73d7c3 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Group tempest-GroupsV314Test-Group-1446378078: created successfully
2025-01-13 12:38:51.554 25 INFO cinder.volume.drivers.lightos [None req-8c33def7-0ce0-4b3e-94e4-dbeb48fa7600 baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-b8857fc8-ec43-488c-b3d3-4df3d50fddc1             request.body: {} ssl_verify: False
2025-01-13 12:38:51.556 25 INFO cinder.volume.manager [None req-67d48483-7af0-4848-b9b6-32278f73d7c3 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Create group completed successfully.
2025-01-13 12:38:51.566 25 INFO cinder.volume.drivers.lightos [None req-8c33def7-0ce0-4b3e-94e4-dbeb48fa7600 baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/200d71db-952f-447d-8ae4-027ef4aea44e?             request.body:  ssl_verify: False
2025-01-13 12:38:51.590 25 INFO cinder.volume.drivers.lightos [None req-8c33def7-0ce0-4b3e-94e4-dbeb48fa7600 baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/200d71db-952f-447d-8ae4-027ef4aea44e             request.body: {} ssl_verify: False
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager [None req-8c33def7-0ce0-4b3e-94e4-dbeb48fa7600 baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager 
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager 
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:51.646 25 ERROR cinder.volume.manager 
2025-01-13 12:38:51.657 25 INFO cinder.volume.manager [None req-8c33def7-0ce0-4b3e-94e4-dbeb48fa7600 baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Delete snapshot completed successfully.
2025-01-13 12:38:52.760 25 INFO cinder.volume.drivers.lightos [None req-ebdcf403-ddbd-4b4a-a276-b478aa7414fd baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_0edf1d73-c0b1-43d2-976b-09d66c9fdc7b             request.body: {} ssl_verify: False
2025-01-13 12:38:52.772 25 INFO cinder.volume.drivers.lightos [None req-ebdcf403-ddbd-4b4a-a276-b478aa7414fd baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/b6b3689a-8716-46ec-9018-5e483682eaeb?             request.body:  ssl_verify: False
2025-01-13 12:38:52.799 25 INFO cinder.volume.drivers.lightos [None req-ebdcf403-ddbd-4b4a-a276-b478aa7414fd baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b6b3689a-8716-46ec-9018-5e483682eaeb             request.body: {} ssl_verify: False
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager [None req-ebdcf403-ddbd-4b4a-a276-b478aa7414fd baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager 
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager 
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:52.831 25 ERROR cinder.volume.manager 
2025-01-13 12:38:52.861 25 INFO cinder.volume.manager [None req-ebdcf403-ddbd-4b4a-a276-b478aa7414fd baea5f6ae79744f89e55caf15fb103bc ea9e9cb648204440b56621802b0dea73 - - - -] Deleted volume successfully.
2025-01-13 12:38:52.954 25 INFO cinder.volume.flows.manager.create_volume [None req-52338647-dd9d-4b70-b1e0-0184ae33ac07 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Volume 8f27d73e-0ac3-455c-8a45-a26d3268a6f3: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_8f27d73e-0ac3-455c-8a45-a26d3268a6f3', 'volume_size': 1}
2025-01-13 12:38:52.955 25 INFO cinder.volume.drivers.lightos [None req-52338647-dd9d-4b70-b1e0-0184ae33ac07 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_8f27d73e-0ac3-455c-8a45-a26d3268a6f3             request.body: {} ssl_verify: False
2025-01-13 12:38:52.965 25 INFO cinder.volume.drivers.lightos [None req-52338647-dd9d-4b70-b1e0-0184ae33ac07 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_8f27d73e-0ac3-455c-8a45-a26d3268a6f3', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:38:52.990 25 INFO cinder.volume.drivers.lightos [None req-52338647-dd9d-4b70-b1e0-0184ae33ac07 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/0ba3836c-48f6-4d18-84b4-ef664a79c314             request.body: {} ssl_verify: False
2025-01-13 12:38:54.018 25 INFO cinder.volume.drivers.lightos [None req-52338647-dd9d-4b70-b1e0-0184ae33ac07 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/0ba3836c-48f6-4d18-84b4-ef664a79c314             request.body: {} ssl_verify: False
2025-01-13 12:38:54.047 25 INFO cinder.volume.flows.manager.create_volume [None req-52338647-dd9d-4b70-b1e0-0184ae33ac07 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Volume vol_8f27d73e-0ac3-455c-8a45-a26d3268a6f3 (8f27d73e-0ac3-455c-8a45-a26d3268a6f3): created successfully
2025-01-13 12:38:54.056 25 INFO cinder.volume.manager [None req-52338647-dd9d-4b70-b1e0-0184ae33ac07 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Created volume successfully.
2025-01-13 12:38:56.010 25 INFO cinder.volume.drivers.lightos [None req-2ed70746-b25d-4b5e-b32e-2534fe7400fe f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_7b261892-4d63-4c06-9f10-d62ece98b4db             request.body: {} ssl_verify: False
2025-01-13 12:38:56.023 25 INFO cinder.volume.drivers.lightos [None req-2ed70746-b25d-4b5e-b32e-2534fe7400fe f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'for_clone_7b261892-4d63-4c06-9f10-d62ece98b4db', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_8f27d73e-0ac3-455c-8a45-a26d3268a6f3'} ssl_verify: False
2025-01-13 12:38:56.057 25 INFO cinder.volume.drivers.lightos [None req-2ed70746-b25d-4b5e-b32e-2534fe7400fe f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_7b261892-4d63-4c06-9f10-d62ece98b4db             request.body: {} ssl_verify: False
2025-01-13 12:38:57.183 25 INFO cinder.volume.drivers.lightos [None req-2ed70746-b25d-4b5e-b32e-2534fe7400fe f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_7b261892-4d63-4c06-9f10-d62ece98b4db             request.body: {} ssl_verify: False
2025-01-13 12:38:57.203 25 INFO cinder.volume.drivers.lightos [None req-2ed70746-b25d-4b5e-b32e-2534fe7400fe f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_7b261892-4d63-4c06-9f10-d62ece98b4db             request.body: {} ssl_verify: False
2025-01-13 12:38:57.220 25 INFO cinder.volume.drivers.lightos [None req-2ed70746-b25d-4b5e-b32e-2534fe7400fe f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_7b261892-4d63-4c06-9f10-d62ece98b4db', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': 'for_clone_7b261892-4d63-4c06-9f10-d62ece98b4db'} ssl_verify: False
2025-01-13 12:38:57.258 25 INFO cinder.volume.drivers.lightos [None req-2ed70746-b25d-4b5e-b32e-2534fe7400fe f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/953e869f-b426-43a7-be8b-66a474696f0c             request.body: {} ssl_verify: False
2025-01-13 12:38:58.325 25 INFO cinder.volume.drivers.lightos [None req-2ed70746-b25d-4b5e-b32e-2534fe7400fe f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/953e869f-b426-43a7-be8b-66a474696f0c             request.body: {} ssl_verify: False
2025-01-13 12:38:58.345 25 INFO cinder.volume.drivers.lightos [None req-2ed70746-b25d-4b5e-b32e-2534fe7400fe f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_7b261892-4d63-4c06-9f10-d62ece98b4db             request.body: {} ssl_verify: False
2025-01-13 12:38:58.362 25 INFO cinder.volume.drivers.lightos [None req-2ed70746-b25d-4b5e-b32e-2534fe7400fe f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/28eb5875-960e-445f-8b00-d34abb0cdad8?             request.body:  ssl_verify: False
2025-01-13 12:38:58.392 25 INFO cinder.volume.drivers.lightos [None req-2ed70746-b25d-4b5e-b32e-2534fe7400fe f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/28eb5875-960e-445f-8b00-d34abb0cdad8             request.body: {} ssl_verify: False
2025-01-13 12:38:58.486 25 INFO cinder.volume.manager [None req-2ed70746-b25d-4b5e-b32e-2534fe7400fe f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Create group from source-group-bbe27268-e507-4b2c-a8e1-7e975de38b3e completed successfully.
2025-01-13 12:38:59.653 25 INFO cinder.volume.drivers.lightos [None req-5fa2f6a6-77de-458b-817e-d9904aaaba74 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_7b261892-4d63-4c06-9f10-d62ece98b4db             request.body: {} ssl_verify: False
2025-01-13 12:38:59.666 25 INFO cinder.volume.drivers.lightos [None req-5fa2f6a6-77de-458b-817e-d9904aaaba74 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/953e869f-b426-43a7-be8b-66a474696f0c?             request.body:  ssl_verify: False
2025-01-13 12:38:59.703 25 INFO cinder.volume.drivers.lightos [None req-5fa2f6a6-77de-458b-817e-d9904aaaba74 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/953e869f-b426-43a7-be8b-66a474696f0c             request.body: {} ssl_verify: False
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager [None req-5fa2f6a6-77de-458b-817e-d9904aaaba74 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': 'e2c106e1-798c-4e72-8de6-9bdf760e4471', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager 
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager 
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager [parameters: {'id_1': 'e2c106e1-798c-4e72-8de6-9bdf760e4471', 'param_1': 1}]
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:38:59.773 25 ERROR cinder.volume.manager 
2025-01-13 12:38:59.845 25 INFO cinder.volume.manager [None req-5fa2f6a6-77de-458b-817e-d9904aaaba74 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Delete group completed successfully.
2025-01-13 12:39:00.961 25 INFO cinder.volume.drivers.lightos [None req-f11575e8-e3b7-4664-ba5c-22651a107ea5 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_8f27d73e-0ac3-455c-8a45-a26d3268a6f3             request.body: {} ssl_verify: False
2025-01-13 12:39:00.973 25 INFO cinder.volume.drivers.lightos [None req-f11575e8-e3b7-4664-ba5c-22651a107ea5 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/0ba3836c-48f6-4d18-84b4-ef664a79c314?             request.body:  ssl_verify: False
2025-01-13 12:39:00.996 25 INFO cinder.volume.drivers.lightos [None req-f11575e8-e3b7-4664-ba5c-22651a107ea5 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/0ba3836c-48f6-4d18-84b4-ef664a79c314             request.body: {} ssl_verify: False
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager [None req-f11575e8-e3b7-4664-ba5c-22651a107ea5 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Delete group failed to update usages.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': 'e2c106e1-798c-4e72-8de6-9bdf760e4471', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager 
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager 
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 3815, in delete_group
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager [parameters: {'id_1': 'e2c106e1-798c-4e72-8de6-9bdf760e4471', 'param_1': 1}]
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:01.066 25 ERROR cinder.volume.manager 
2025-01-13 12:39:01.138 25 INFO cinder.volume.manager [None req-f11575e8-e3b7-4664-ba5c-22651a107ea5 f60f22a9c0b946d582ad2834985a09cb 33d1f600029c4d88b1572d42d139f66a - - - -] Delete group completed successfully.
2025-01-13 12:39:01.466 25 INFO cinder.volume.flows.manager.create_volume [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Volume 84e46ac1-4be8-471b-8751-5df402c7d36a: being created as image with specification: {'status': 'creating', 'volume_name': 'vol_84e46ac1-4be8-471b-8751-5df402c7d36a', 'volume_size': 1, 'image_id': '4750b270-4234-4361-8332-29002e5eea4e', 'image_location': (None, None), 'image_meta': {'name': 'cirros', 'disk_format': 'qcow2', 'container_format': 'bare', 'visibility': 'public', 'size': 12716032, 'virtual_size': 46137344, 'status': 'active', 'checksum': '443b7623e27ecf03dc9e01ee93f67afe', 'protected': False, 'min_ram': 0, 'min_disk': 0, 'owner': '0eac1ff84c4b4af5a7e389a9fdfa4f07', 'os_hidden': False, 'os_hash_algo': 'sha512', 'os_hash_value': '6513f21e44aa3da349f248188a44bc304a3653a04122d8fb4535423c8e1d14cd6a153f735bb0982e2161b5b5186106570c17a9e58b64dd39390617cd5a350f78', 'id': '4750b270-4234-4361-8332-29002e5eea4e', 'created_at': datetime.datetime(2025, 1, 13, 12, 10, 20, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 1, 13, 12, 10, 20, tzinfo=datetime.timezone.utc), 'tags': [], 'file': '/v2/images/4750b270-4234-4361-8332-29002e5eea4e/file', 'stores': 'file', 'properties': {'owner_specified.openstack.md5': '', 'owner_specified.openstack.sha256': '', 'owner_specified.openstack.object': 'images/cirros'}}, 'image_service': <cinder.image.glance.GlanceImageService object at 0x7fc4f8eb8d90>}
2025-01-13 12:39:02.612 25 INFO cinder.image.image_utils [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Image download 12.13 MB at 10.60 MB/s
2025-01-13 12:39:02.649 25 INFO oslo.privsep.daemon [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Running privsep helper: ['sudo', 'cinder-rootwrap', '/etc/cinder/rootwrap.conf', 'privsep-helper', '--config-file', '/etc/cinder/cinder.conf', '--privsep_context', 'cinder.privsep.sys_admin_pctxt', '--privsep_sock_path', '/tmp/tmpw9iy2_1q/privsep.sock']
2025-01-13 12:39:03.311 25 INFO oslo.privsep.daemon [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Spawned new privsep daemon via rootwrap
2025-01-13 12:39:03.197 110 INFO oslo.privsep.daemon [-] privsep daemon starting
2025-01-13 12:39:03.205 110 INFO oslo.privsep.daemon [-] privsep process running with uid/gid: 0/0
2025-01-13 12:39:03.209 110 INFO oslo.privsep.daemon [-] privsep process running with capabilities (eff/prm/inh): CAP_CHOWN|CAP_DAC_OVERRIDE|CAP_DAC_READ_SEARCH|CAP_FOWNER|CAP_NET_ADMIN|CAP_SYS_ADMIN/CAP_CHOWN|CAP_DAC_OVERRIDE|CAP_DAC_READ_SEARCH|CAP_FOWNER|CAP_NET_ADMIN|CAP_SYS_ADMIN/none
2025-01-13 12:39:03.210 110 INFO oslo.privsep.daemon [-] privsep daemon running as pid 110
2025-01-13 12:39:03.975 25 INFO cinder.volume.drivers.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_84e46ac1-4be8-471b-8751-5df402c7d36a             request.body: {} ssl_verify: False
2025-01-13 12:39:03.998 25 INFO cinder.volume.drivers.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_84e46ac1-4be8-471b-8751-5df402c7d36a', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:39:04.030 25 INFO cinder.volume.drivers.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/480cd8f4-2ba4-4da4-88a2-f315cff93422             request.body: {} ssl_verify: False
2025-01-13 12:39:04.112 25 INFO oslo.privsep.daemon [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Running privsep helper: ['sudo', '-E', 'cinder-rootwrap', '/etc/cinder/rootwrap.conf', 'privsep-helper', '--config-file', '/etc/cinder/cinder.conf', '--privsep_context', 'os_brick.privileged.default', '--privsep_sock_path', '/tmp/tmp4xuyyjub/privsep.sock']
2025-01-13 12:39:04.556 25 INFO oslo.privsep.daemon [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Spawned new privsep daemon via rootwrap
2025-01-13 12:39:04.475 125 INFO oslo.privsep.daemon [-] privsep daemon starting
2025-01-13 12:39:04.482 125 INFO oslo.privsep.daemon [-] privsep process running with uid/gid: 0/0
2025-01-13 12:39:04.486 125 INFO oslo.privsep.daemon [-] privsep process running with capabilities (eff/prm/inh): CAP_DAC_READ_SEARCH|CAP_SYS_ADMIN/CAP_DAC_READ_SEARCH|CAP_SYS_ADMIN/none
2025-01-13 12:39:04.486 125 INFO oslo.privsep.daemon [-] privsep daemon running as pid 125
2025-01-13 12:39:04.703 25 INFO os_brick.initiator.connectors.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Current host hostNQN nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc and IP(s) are ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', 'fe80::4099:911b:7117:6464'] 
2025-01-13 12:39:04.705 25 INFO cinder.volume.drivers.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Current host hostNQN is nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc and IP(s) are ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', 'fe80::4099:911b:7117:6464']
2025-01-13 12:39:04.705 25 INFO cinder.volume.drivers.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_84e46ac1-4be8-471b-8751-5df402c7d36a             request.body: {} ssl_verify: False
2025-01-13 12:39:04.722 25 INFO cinder.volume.drivers.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Invoking update_volume using PUT url: /api/v2/projects/default/volumes/480cd8f4-2ba4-4da4-88a2-f315cff93422             request.body: {'acl': {'values': ['nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc']}, 'IPAcl': {'values': ['fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', '[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', 'fe80::4099:911b:7117:6464', '[LB_IP_ADDRESS]']}} ssl_verify: False
2025-01-13 12:39:04.750 25 INFO cinder.volume.drivers.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_84e46ac1-4be8-471b-8751-5df402c7d36a             request.body: {} ssl_verify: False
2025-01-13 12:39:05.775 25 INFO cinder.volume.drivers.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_84e46ac1-4be8-471b-8751-5df402c7d36a             request.body: {} ssl_verify: False
2025-01-13 12:39:05.793 25 INFO cinder.volume.drivers.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_84e46ac1-4be8-471b-8751-5df402c7d36a             request.body: {} ssl_verify: False
2025-01-13 12:39:05.806 25 INFO cinder.volume.drivers.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_84e46ac1-4be8-471b-8751-5df402c7d36a             request.body: {} ssl_verify: False
2025-01-13 12:39:05.817 25 INFO os_brick.initiator.connectors.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] LIGHTOS: connect_volume called for volume 480cd8f4-2ba4-4da4-88a2-f315cff93422, connection properties: {'lightos_nodes': {'[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}, '[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}, '[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}}, 'uuid': '480cd8f4-2ba4-4da4-88a2-f315cff93422', 'subsysnqn': 'nqn.2016-01.com.lightbitslabs:uuid:ed93b30a-10c9-4020-b8d0-0edc696e5120:suffix', 'encrypted': False}
2025-01-13 12:39:05.846 25 INFO os_brick.initiator.connectors.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] LIGHTOS: devpath /dev/nvme0n1 detected for uuid 480cd8f4-2ba4-4da4-88a2-f315cff93422
2025-01-13 12:39:07.891 25 INFO cinder.image.image_utils [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Converted 44.00 MB image at 44.00 MB/s
2025-01-13 12:39:07.894 25 INFO os_brick.initiator.connectors.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] LIGHTOS: devpath /dev/nvme0n1 detected for uuid 480cd8f4-2ba4-4da4-88a2-f315cff93422
2025-01-13 12:39:07.906 25 INFO cinder.volume.drivers.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_84e46ac1-4be8-471b-8751-5df402c7d36a             request.body: {} ssl_verify: False
2025-01-13 12:39:07.921 25 INFO cinder.volume.drivers.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Invoking update_volume using PUT url: /api/v2/projects/default/volumes/480cd8f4-2ba4-4da4-88a2-f315cff93422             request.body: {'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}} ssl_verify: False
2025-01-13 12:39:07.945 25 INFO cinder.volume.drivers.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_84e46ac1-4be8-471b-8751-5df402c7d36a             request.body: {} ssl_verify: False
2025-01-13 12:39:08.979 25 INFO cinder.volume.drivers.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_84e46ac1-4be8-471b-8751-5df402c7d36a             request.body: {} ssl_verify: False
2025-01-13 12:39:08.996 25 INFO cinder.volume.drivers.lightos [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_84e46ac1-4be8-471b-8751-5df402c7d36a             request.body: {} ssl_verify: False
2025-01-13 12:39:09.083 25 INFO cinder.volume.flows.manager.create_volume [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Volume vol_84e46ac1-4be8-471b-8751-5df402c7d36a (84e46ac1-4be8-471b-8751-5df402c7d36a): created successfully
2025-01-13 12:39:09.097 25 INFO cinder.volume.manager [None req-c70824ed-bc4a-4896-8f61-2fb6cf178b20 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Created volume successfully.
2025-01-13 12:39:10.197 25 INFO cinder.volume.drivers.lightos [None req-7b314b1f-8c92-4b81-9394-3eae77162444 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_84e46ac1-4be8-471b-8751-5df402c7d36a             request.body: {} ssl_verify: False
2025-01-13 12:39:10.211 25 INFO cinder.volume.drivers.lightos [None req-7b314b1f-8c92-4b81-9394-3eae77162444 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/480cd8f4-2ba4-4da4-88a2-f315cff93422?             request.body:  ssl_verify: False
2025-01-13 12:39:10.238 25 INFO cinder.volume.drivers.lightos [None req-7b314b1f-8c92-4b81-9394-3eae77162444 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/480cd8f4-2ba4-4da4-88a2-f315cff93422             request.body: {} ssl_verify: False
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager [None req-7b314b1f-8c92-4b81-9394-3eae77162444 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager 
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager 
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:10.267 25 ERROR cinder.volume.manager 
2025-01-13 12:39:10.300 25 INFO cinder.volume.manager [None req-7b314b1f-8c92-4b81-9394-3eae77162444 33430f506a4a40e99e3a3bc25b49a3dc e0781feb782a4cafa02b64293d23147f - - - -] Deleted volume successfully.
2025-01-13 12:39:16.309 25 INFO cinder.volume.flows.manager.create_volume [None req-8882a8f8-fe0e-4d08-bd5e-46d448c6c260 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Volume 477f8dc4-cb8e-4258-97d2-0ad3a061832e: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_477f8dc4-cb8e-4258-97d2-0ad3a061832e', 'volume_size': 1}
2025-01-13 12:39:16.309 25 INFO cinder.volume.drivers.lightos [None req-8882a8f8-fe0e-4d08-bd5e-46d448c6c260 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_477f8dc4-cb8e-4258-97d2-0ad3a061832e             request.body: {} ssl_verify: False
2025-01-13 12:39:16.322 25 INFO cinder.volume.drivers.lightos [None req-8882a8f8-fe0e-4d08-bd5e-46d448c6c260 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_477f8dc4-cb8e-4258-97d2-0ad3a061832e', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:39:16.354 25 INFO cinder.volume.drivers.lightos [None req-8882a8f8-fe0e-4d08-bd5e-46d448c6c260 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/86a8f81c-9f1e-4257-9bc9-bef8f3d6a462             request.body: {} ssl_verify: False
2025-01-13 12:39:17.397 25 INFO cinder.volume.drivers.lightos [None req-8882a8f8-fe0e-4d08-bd5e-46d448c6c260 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/86a8f81c-9f1e-4257-9bc9-bef8f3d6a462             request.body: {} ssl_verify: False
2025-01-13 12:39:17.436 25 INFO cinder.volume.flows.manager.create_volume [None req-8882a8f8-fe0e-4d08-bd5e-46d448c6c260 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Volume vol_477f8dc4-cb8e-4258-97d2-0ad3a061832e (477f8dc4-cb8e-4258-97d2-0ad3a061832e): created successfully
2025-01-13 12:39:17.449 25 INFO cinder.volume.manager [None req-8882a8f8-fe0e-4d08-bd5e-46d448c6c260 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Created volume successfully.
2025-01-13 12:39:18.443 25 INFO cinder.volume.flows.manager.create_volume [None req-cfa37ecc-5726-457c-b81c-e571a03af9f5 f350e6f1284f4e03b55a703bfe15e1fc d45189f77298444eac48747b47d602b5 - - - -] Volume ce2355c8-24bf-4a7a-8c22-e33adb76337e: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_ce2355c8-24bf-4a7a-8c22-e33adb76337e', 'volume_size': 1}
2025-01-13 12:39:18.444 25 INFO cinder.volume.drivers.lightos [None req-cfa37ecc-5726-457c-b81c-e571a03af9f5 f350e6f1284f4e03b55a703bfe15e1fc d45189f77298444eac48747b47d602b5 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_ce2355c8-24bf-4a7a-8c22-e33adb76337e             request.body: {} ssl_verify: False
2025-01-13 12:39:18.464 25 INFO cinder.volume.drivers.lightos [None req-cfa37ecc-5726-457c-b81c-e571a03af9f5 f350e6f1284f4e03b55a703bfe15e1fc d45189f77298444eac48747b47d602b5 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_ce2355c8-24bf-4a7a-8c22-e33adb76337e', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:39:18.497 25 INFO cinder.volume.drivers.lightos [None req-cfa37ecc-5726-457c-b81c-e571a03af9f5 f350e6f1284f4e03b55a703bfe15e1fc d45189f77298444eac48747b47d602b5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/80a0df2f-0507-42c6-941a-8db46437d92c             request.body: {} ssl_verify: False
2025-01-13 12:39:18.540 25 INFO cinder.volume.drivers.lightos [None req-ac5357af-1a7d-4442-a390-868fa55ce731 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_477f8dc4-cb8e-4258-97d2-0ad3a061832e             request.body: {} ssl_verify: False
2025-01-13 12:39:18.561 25 INFO cinder.volume.drivers.lightos [None req-ac5357af-1a7d-4442-a390-868fa55ce731 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/86a8f81c-9f1e-4257-9bc9-bef8f3d6a462?             request.body:  ssl_verify: False
2025-01-13 12:39:18.601 25 INFO cinder.volume.drivers.lightos [None req-ac5357af-1a7d-4442-a390-868fa55ce731 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/86a8f81c-9f1e-4257-9bc9-bef8f3d6a462             request.body: {} ssl_verify: False
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager [None req-ac5357af-1a7d-4442-a390-868fa55ce731 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager 
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager 
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:18.664 25 ERROR cinder.volume.manager 
2025-01-13 12:39:18.693 25 INFO cinder.volume.manager [None req-ac5357af-1a7d-4442-a390-868fa55ce731 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Deleted volume successfully.
2025-01-13 12:39:19.527 25 INFO cinder.volume.drivers.lightos [None req-cfa37ecc-5726-457c-b81c-e571a03af9f5 f350e6f1284f4e03b55a703bfe15e1fc d45189f77298444eac48747b47d602b5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/80a0df2f-0507-42c6-941a-8db46437d92c             request.body: {} ssl_verify: False
2025-01-13 12:39:19.565 25 INFO cinder.volume.flows.manager.create_volume [None req-cfa37ecc-5726-457c-b81c-e571a03af9f5 f350e6f1284f4e03b55a703bfe15e1fc d45189f77298444eac48747b47d602b5 - - - -] Volume vol_ce2355c8-24bf-4a7a-8c22-e33adb76337e (ce2355c8-24bf-4a7a-8c22-e33adb76337e): created successfully
2025-01-13 12:39:19.574 25 INFO cinder.volume.manager [None req-cfa37ecc-5726-457c-b81c-e571a03af9f5 f350e6f1284f4e03b55a703bfe15e1fc d45189f77298444eac48747b47d602b5 - - - -] Created volume successfully.
2025-01-13 12:39:20.063 25 INFO cinder.volume.flows.manager.create_volume [None req-014c7059-e340-498c-bedd-7861c7d7a743 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Volume 4f59729f-13dc-421c-a43e-6c480eaf3271: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_4f59729f-13dc-421c-a43e-6c480eaf3271', 'volume_size': 1}
2025-01-13 12:39:20.063 25 INFO cinder.volume.drivers.lightos [None req-014c7059-e340-498c-bedd-7861c7d7a743 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_4f59729f-13dc-421c-a43e-6c480eaf3271             request.body: {} ssl_verify: False
2025-01-13 12:39:20.075 25 INFO cinder.volume.drivers.lightos [None req-014c7059-e340-498c-bedd-7861c7d7a743 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_4f59729f-13dc-421c-a43e-6c480eaf3271', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:39:20.099 25 INFO cinder.volume.drivers.lightos [None req-014c7059-e340-498c-bedd-7861c7d7a743 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/9f435036-605c-4a6e-b249-2150e3f11ac0             request.body: {} ssl_verify: False
2025-01-13 12:39:21.120 25 INFO cinder.volume.drivers.lightos [None req-014c7059-e340-498c-bedd-7861c7d7a743 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/9f435036-605c-4a6e-b249-2150e3f11ac0             request.body: {} ssl_verify: False
2025-01-13 12:39:21.160 25 INFO cinder.volume.flows.manager.create_volume [None req-014c7059-e340-498c-bedd-7861c7d7a743 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Volume vol_4f59729f-13dc-421c-a43e-6c480eaf3271 (4f59729f-13dc-421c-a43e-6c480eaf3271): created successfully
2025-01-13 12:39:21.177 25 INFO cinder.volume.manager [None req-7924c7bf-4ed9-478c-aa61-e0109fd447f8 df3fc2fad6084b76b58427b99ea42845 088fe533bad8453282c3561b70178447 - - - -] Transfer volume completed successfully.
2025-01-13 12:39:21.180 25 INFO cinder.volume.manager [None req-014c7059-e340-498c-bedd-7861c7d7a743 4b4028ff000e4824b39eb96339900a71 b02389c807fc4beba997a57672f185df - - - -] Created volume successfully.
2025-01-13 12:39:22.117 25 INFO cinder.volume.drivers.lightos [None req-d75986a8-ed61-40ae-8c74-4787612f3789 09f4312fd6f5467a822ad51653b9de4a 86b74ec1f76d4922a0ababbd3459c3d4 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_ce2355c8-24bf-4a7a-8c22-e33adb76337e             request.body: {} ssl_verify: False
2025-01-13 12:39:22.131 25 INFO cinder.volume.drivers.lightos [None req-d75986a8-ed61-40ae-8c74-4787612f3789 09f4312fd6f5467a822ad51653b9de4a 86b74ec1f76d4922a0ababbd3459c3d4 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/80a0df2f-0507-42c6-941a-8db46437d92c?             request.body:  ssl_verify: False
2025-01-13 12:39:22.195 25 INFO cinder.volume.drivers.lightos [None req-d75986a8-ed61-40ae-8c74-4787612f3789 09f4312fd6f5467a822ad51653b9de4a 86b74ec1f76d4922a0ababbd3459c3d4 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/80a0df2f-0507-42c6-941a-8db46437d92c             request.body: {} ssl_verify: False
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager [None req-d75986a8-ed61-40ae-8c74-4787612f3789 09f4312fd6f5467a822ad51653b9de4a 86b74ec1f76d4922a0ababbd3459c3d4 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager 
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager 
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:22.227 25 ERROR cinder.volume.manager 
2025-01-13 12:39:22.258 25 INFO cinder.volume.manager [None req-d75986a8-ed61-40ae-8c74-4787612f3789 09f4312fd6f5467a822ad51653b9de4a 86b74ec1f76d4922a0ababbd3459c3d4 - - - -] Deleted volume successfully.
2025-01-13 12:39:22.705 25 INFO cinder.volume.manager [None req-ba9dd8f4-844a-4d48-8953-375576b5f1f9 cc2b72dda8444277b90668048040a0b7 c3e21e7054304b0f8d23832f6e835199 - - - -] Transfer volume completed successfully.
2025-01-13 12:39:23.584 25 INFO cinder.volume.flows.manager.create_volume [None req-43aebfa7-5f4a-48cb-9dc6-d4d22b4ecbbd f350e6f1284f4e03b55a703bfe15e1fc d45189f77298444eac48747b47d602b5 - - - -] Volume 7aa6b629-597f-4a45-a5ee-702ceae74953: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_7aa6b629-597f-4a45-a5ee-702ceae74953', 'volume_size': 1}
2025-01-13 12:39:23.585 25 INFO cinder.volume.drivers.lightos [None req-43aebfa7-5f4a-48cb-9dc6-d4d22b4ecbbd f350e6f1284f4e03b55a703bfe15e1fc d45189f77298444eac48747b47d602b5 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_7aa6b629-597f-4a45-a5ee-702ceae74953             request.body: {} ssl_verify: False
2025-01-13 12:39:23.603 25 INFO cinder.volume.drivers.lightos [None req-43aebfa7-5f4a-48cb-9dc6-d4d22b4ecbbd f350e6f1284f4e03b55a703bfe15e1fc d45189f77298444eac48747b47d602b5 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_7aa6b629-597f-4a45-a5ee-702ceae74953', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:39:23.614 25 INFO cinder.volume.drivers.lightos [None req-bacc09ed-5d8e-4c1d-80e6-7f5337204a19 c0dd79586bbd4d2398e4b0c17bd58fdd ee83afe2683749fc9de67f88f0c5e073 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_4f59729f-13dc-421c-a43e-6c480eaf3271             request.body: {} ssl_verify: False
2025-01-13 12:39:23.627 25 INFO cinder.volume.drivers.lightos [None req-bacc09ed-5d8e-4c1d-80e6-7f5337204a19 c0dd79586bbd4d2398e4b0c17bd58fdd ee83afe2683749fc9de67f88f0c5e073 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/9f435036-605c-4a6e-b249-2150e3f11ac0?             request.body:  ssl_verify: False
2025-01-13 12:39:23.632 25 INFO cinder.volume.drivers.lightos [None req-43aebfa7-5f4a-48cb-9dc6-d4d22b4ecbbd f350e6f1284f4e03b55a703bfe15e1fc d45189f77298444eac48747b47d602b5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/432ced84-6ee6-4a5e-967c-771d6f9cbf50             request.body: {} ssl_verify: False
2025-01-13 12:39:23.710 25 INFO cinder.volume.drivers.lightos [None req-bacc09ed-5d8e-4c1d-80e6-7f5337204a19 c0dd79586bbd4d2398e4b0c17bd58fdd ee83afe2683749fc9de67f88f0c5e073 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/9f435036-605c-4a6e-b249-2150e3f11ac0             request.body: {} ssl_verify: False
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager [None req-bacc09ed-5d8e-4c1d-80e6-7f5337204a19 c0dd79586bbd4d2398e4b0c17bd58fdd ee83afe2683749fc9de67f88f0c5e073 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager 
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager 
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:23.739 25 ERROR cinder.volume.manager 
2025-01-13 12:39:23.779 25 INFO cinder.volume.manager [None req-bacc09ed-5d8e-4c1d-80e6-7f5337204a19 c0dd79586bbd4d2398e4b0c17bd58fdd ee83afe2683749fc9de67f88f0c5e073 - - - -] Deleted volume successfully.
2025-01-13 12:39:24.659 25 INFO cinder.volume.drivers.lightos [None req-43aebfa7-5f4a-48cb-9dc6-d4d22b4ecbbd f350e6f1284f4e03b55a703bfe15e1fc d45189f77298444eac48747b47d602b5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/432ced84-6ee6-4a5e-967c-771d6f9cbf50             request.body: {} ssl_verify: False
2025-01-13 12:39:24.691 25 INFO cinder.volume.flows.manager.create_volume [None req-43aebfa7-5f4a-48cb-9dc6-d4d22b4ecbbd f350e6f1284f4e03b55a703bfe15e1fc d45189f77298444eac48747b47d602b5 - - - -] Volume vol_7aa6b629-597f-4a45-a5ee-702ceae74953 (7aa6b629-597f-4a45-a5ee-702ceae74953): created successfully
2025-01-13 12:39:24.699 25 INFO cinder.volume.manager [None req-43aebfa7-5f4a-48cb-9dc6-d4d22b4ecbbd f350e6f1284f4e03b55a703bfe15e1fc d45189f77298444eac48747b47d602b5 - - - -] Created volume successfully.
2025-01-13 12:39:26.020 25 INFO cinder.volume.drivers.lightos [None req-5f49c041-960a-4788-a32e-2305637db85d 09f4312fd6f5467a822ad51653b9de4a 86b74ec1f76d4922a0ababbd3459c3d4 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_7aa6b629-597f-4a45-a5ee-702ceae74953             request.body: {} ssl_verify: False
2025-01-13 12:39:26.039 25 INFO cinder.volume.drivers.lightos [None req-5f49c041-960a-4788-a32e-2305637db85d 09f4312fd6f5467a822ad51653b9de4a 86b74ec1f76d4922a0ababbd3459c3d4 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/432ced84-6ee6-4a5e-967c-771d6f9cbf50?             request.body:  ssl_verify: False
2025-01-13 12:39:26.107 25 INFO cinder.volume.drivers.lightos [None req-5f49c041-960a-4788-a32e-2305637db85d 09f4312fd6f5467a822ad51653b9de4a 86b74ec1f76d4922a0ababbd3459c3d4 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/432ced84-6ee6-4a5e-967c-771d6f9cbf50             request.body: {} ssl_verify: False
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager [None req-5f49c041-960a-4788-a32e-2305637db85d 09f4312fd6f5467a822ad51653b9de4a 86b74ec1f76d4922a0ababbd3459c3d4 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager 
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager 
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:26.166 25 ERROR cinder.volume.manager 
2025-01-13 12:39:26.198 25 INFO cinder.volume.manager [None req-5f49c041-960a-4788-a32e-2305637db85d 09f4312fd6f5467a822ad51653b9de4a 86b74ec1f76d4922a0ababbd3459c3d4 - - - -] Deleted volume successfully.
2025-01-13 12:39:31.741 25 INFO cinder.volume.flows.manager.create_volume [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Volume 47c4ef5e-89d8-4814-8093-d461d4a6a6c7: being created as image with specification: {'status': 'creating', 'volume_name': 'vol_47c4ef5e-89d8-4814-8093-d461d4a6a6c7', 'volume_size': 1, 'image_id': '4750b270-4234-4361-8332-29002e5eea4e', 'image_location': (None, None), 'image_meta': {'name': 'cirros', 'disk_format': 'qcow2', 'container_format': 'bare', 'visibility': 'public', 'size': 12716032, 'virtual_size': 46137344, 'status': 'active', 'checksum': '443b7623e27ecf03dc9e01ee93f67afe', 'protected': False, 'min_ram': 0, 'min_disk': 0, 'owner': '0eac1ff84c4b4af5a7e389a9fdfa4f07', 'os_hidden': False, 'os_hash_algo': 'sha512', 'os_hash_value': '6513f21e44aa3da349f248188a44bc304a3653a04122d8fb4535423c8e1d14cd6a153f735bb0982e2161b5b5186106570c17a9e58b64dd39390617cd5a350f78', 'id': '4750b270-4234-4361-8332-29002e5eea4e', 'created_at': datetime.datetime(2025, 1, 13, 12, 10, 20, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 1, 13, 12, 10, 20, tzinfo=datetime.timezone.utc), 'tags': [], 'file': '/v2/images/4750b270-4234-4361-8332-29002e5eea4e/file', 'stores': 'file', 'properties': {'owner_specified.openstack.md5': '', 'owner_specified.openstack.sha256': '', 'owner_specified.openstack.object': 'images/cirros'}}, 'image_service': <cinder.image.glance.GlanceImageService object at 0x7fc4f8ff3730>}
2025-01-13 12:39:32.772 25 INFO cinder.volume.flows.manager.create_volume [None req-123f6cc5-3e45-4d0f-95d1-e953cdc9d701 1c010b0c5d974405809e72332dcdb9a2 67f5b9968cc84e94864fe8f1e6eb6c45 - - - -] Volume 369f3e5f-2279-42f0-973c-e720374cc402: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_369f3e5f-2279-42f0-973c-e720374cc402', 'volume_size': 1}
2025-01-13 12:39:32.772 25 INFO cinder.volume.drivers.lightos [None req-123f6cc5-3e45-4d0f-95d1-e953cdc9d701 1c010b0c5d974405809e72332dcdb9a2 67f5b9968cc84e94864fe8f1e6eb6c45 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_369f3e5f-2279-42f0-973c-e720374cc402             request.body: {} ssl_verify: False
2025-01-13 12:39:32.783 25 INFO cinder.volume.drivers.lightos [None req-123f6cc5-3e45-4d0f-95d1-e953cdc9d701 1c010b0c5d974405809e72332dcdb9a2 67f5b9968cc84e94864fe8f1e6eb6c45 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_369f3e5f-2279-42f0-973c-e720374cc402', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:39:32.810 25 INFO cinder.volume.drivers.lightos [None req-123f6cc5-3e45-4d0f-95d1-e953cdc9d701 1c010b0c5d974405809e72332dcdb9a2 67f5b9968cc84e94864fe8f1e6eb6c45 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b43aff78-9fca-4b94-a4fd-fd597d788e17             request.body: {} ssl_verify: False
2025-01-13 12:39:32.891 25 INFO cinder.image.image_utils [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Image download 12.13 MB at 10.55 MB/s
2025-01-13 12:39:33.599 25 INFO cinder.volume.drivers.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_47c4ef5e-89d8-4814-8093-d461d4a6a6c7             request.body: {} ssl_verify: False
2025-01-13 12:39:33.619 25 INFO cinder.volume.drivers.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_47c4ef5e-89d8-4814-8093-d461d4a6a6c7', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:39:33.648 25 INFO cinder.volume.drivers.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/e06a9c79-8ef5-4014-9ecd-3df03d81f731             request.body: {} ssl_verify: False
2025-01-13 12:39:33.824 25 INFO cinder.volume.drivers.lightos [None req-123f6cc5-3e45-4d0f-95d1-e953cdc9d701 1c010b0c5d974405809e72332dcdb9a2 67f5b9968cc84e94864fe8f1e6eb6c45 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b43aff78-9fca-4b94-a4fd-fd597d788e17             request.body: {} ssl_verify: False
2025-01-13 12:39:33.856 25 INFO cinder.volume.flows.manager.create_volume [None req-123f6cc5-3e45-4d0f-95d1-e953cdc9d701 1c010b0c5d974405809e72332dcdb9a2 67f5b9968cc84e94864fe8f1e6eb6c45 - - - -] Volume vol_369f3e5f-2279-42f0-973c-e720374cc402 (369f3e5f-2279-42f0-973c-e720374cc402): created successfully
2025-01-13 12:39:33.866 25 INFO cinder.volume.manager [None req-123f6cc5-3e45-4d0f-95d1-e953cdc9d701 1c010b0c5d974405809e72332dcdb9a2 67f5b9968cc84e94864fe8f1e6eb6c45 - - - -] Created volume successfully.
2025-01-13 12:39:34.669 25 INFO cinder.volume.drivers.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/e06a9c79-8ef5-4014-9ecd-3df03d81f731             request.body: {} ssl_verify: False
2025-01-13 12:39:34.752 25 INFO os_brick.initiator.connectors.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Current host hostNQN nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc and IP(s) are ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', 'fe80::4099:911b:7117:6464'] 
2025-01-13 12:39:34.753 25 INFO cinder.volume.drivers.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Current host hostNQN is nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc and IP(s) are ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', 'fe80::4099:911b:7117:6464']
2025-01-13 12:39:34.754 25 INFO cinder.volume.drivers.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_47c4ef5e-89d8-4814-8093-d461d4a6a6c7             request.body: {} ssl_verify: False
2025-01-13 12:39:34.770 25 INFO cinder.volume.drivers.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking update_volume using PUT url: /api/v2/projects/default/volumes/e06a9c79-8ef5-4014-9ecd-3df03d81f731             request.body: {'acl': {'values': ['nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc']}, 'IPAcl': {'values': ['fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', '[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', 'fe80::4099:911b:7117:6464', '[LB_IP_ADDRESS]']}} ssl_verify: False
2025-01-13 12:39:34.796 25 INFO cinder.volume.drivers.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_47c4ef5e-89d8-4814-8093-d461d4a6a6c7             request.body: {} ssl_verify: False
2025-01-13 12:39:35.024 25 INFO cinder.volume.drivers.lightos [None req-b6ca0775-47f7-44a6-8b75-fca19a7f6734 1c010b0c5d974405809e72332dcdb9a2 67f5b9968cc84e94864fe8f1e6eb6c45 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_369f3e5f-2279-42f0-973c-e720374cc402             request.body: {} ssl_verify: False
2025-01-13 12:39:35.043 25 INFO cinder.volume.drivers.lightos [None req-b6ca0775-47f7-44a6-8b75-fca19a7f6734 1c010b0c5d974405809e72332dcdb9a2 67f5b9968cc84e94864fe8f1e6eb6c45 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/b43aff78-9fca-4b94-a4fd-fd597d788e17?             request.body:  ssl_verify: False
2025-01-13 12:39:35.077 25 INFO cinder.volume.drivers.lightos [None req-b6ca0775-47f7-44a6-8b75-fca19a7f6734 1c010b0c5d974405809e72332dcdb9a2 67f5b9968cc84e94864fe8f1e6eb6c45 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b43aff78-9fca-4b94-a4fd-fd597d788e17             request.body: {} ssl_verify: False
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager [None req-b6ca0775-47f7-44a6-8b75-fca19a7f6734 1c010b0c5d974405809e72332dcdb9a2 67f5b9968cc84e94864fe8f1e6eb6c45 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager 
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager 
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:35.103 25 ERROR cinder.volume.manager 
2025-01-13 12:39:35.129 25 INFO cinder.volume.manager [None req-b6ca0775-47f7-44a6-8b75-fca19a7f6734 1c010b0c5d974405809e72332dcdb9a2 67f5b9968cc84e94864fe8f1e6eb6c45 - - - -] Deleted volume successfully.
2025-01-13 12:39:35.835 25 INFO cinder.volume.drivers.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_47c4ef5e-89d8-4814-8093-d461d4a6a6c7             request.body: {} ssl_verify: False
2025-01-13 12:39:35.852 25 INFO cinder.volume.drivers.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_47c4ef5e-89d8-4814-8093-d461d4a6a6c7             request.body: {} ssl_verify: False
2025-01-13 12:39:35.865 25 INFO cinder.volume.drivers.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_47c4ef5e-89d8-4814-8093-d461d4a6a6c7             request.body: {} ssl_verify: False
2025-01-13 12:39:35.877 25 INFO os_brick.initiator.connectors.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] LIGHTOS: connect_volume called for volume e06a9c79-8ef5-4014-9ecd-3df03d81f731, connection properties: {'lightos_nodes': {'[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}, '[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}, '[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}}, 'uuid': 'e06a9c79-8ef5-4014-9ecd-3df03d81f731', 'subsysnqn': 'nqn.2016-01.com.lightbitslabs:uuid:ed93b30a-10c9-4020-b8d0-0edc696e5120:suffix', 'encrypted': False}
2025-01-13 12:39:35.879 25 INFO os_brick.initiator.connectors.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] LIGHTOS: devpath /dev/nvme0n1 detected for uuid e06a9c79-8ef5-4014-9ecd-3df03d81f731
2025-01-13 12:39:37.937 25 INFO cinder.image.image_utils [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Converted 44.00 MB image at 44.00 MB/s
2025-01-13 12:39:37.941 25 INFO os_brick.initiator.connectors.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] LIGHTOS: devpath /dev/nvme0n1 detected for uuid e06a9c79-8ef5-4014-9ecd-3df03d81f731
2025-01-13 12:39:37.955 25 INFO cinder.volume.drivers.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_47c4ef5e-89d8-4814-8093-d461d4a6a6c7             request.body: {} ssl_verify: False
2025-01-13 12:39:37.974 25 INFO cinder.volume.drivers.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking update_volume using PUT url: /api/v2/projects/default/volumes/e06a9c79-8ef5-4014-9ecd-3df03d81f731             request.body: {'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}} ssl_verify: False
2025-01-13 12:39:38.002 25 INFO cinder.volume.drivers.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_47c4ef5e-89d8-4814-8093-d461d4a6a6c7             request.body: {} ssl_verify: False
2025-01-13 12:39:39.025 25 INFO cinder.volume.drivers.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_47c4ef5e-89d8-4814-8093-d461d4a6a6c7             request.body: {} ssl_verify: False
2025-01-13 12:39:39.042 25 INFO cinder.volume.drivers.lightos [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_47c4ef5e-89d8-4814-8093-d461d4a6a6c7             request.body: {} ssl_verify: False
2025-01-13 12:39:39.130 25 INFO cinder.volume.flows.manager.create_volume [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Volume vol_47c4ef5e-89d8-4814-8093-d461d4a6a6c7 (47c4ef5e-89d8-4814-8093-d461d4a6a6c7): created successfully
2025-01-13 12:39:39.140 25 INFO cinder.volume.manager [None req-3b2ff307-ab2f-455a-bd0c-81647d651fda 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Created volume successfully.
2025-01-13 12:39:40.248 25 INFO cinder.volume.drivers.lightos [None req-b971f9aa-308b-423b-bc28-72dbf1766303 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_47c4ef5e-89d8-4814-8093-d461d4a6a6c7             request.body: {} ssl_verify: False
2025-01-13 12:39:40.266 25 INFO cinder.volume.drivers.lightos [None req-b971f9aa-308b-423b-bc28-72dbf1766303 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking extend_volume using PUT url: /api/v2/projects/default/volumes/e06a9c79-8ef5-4014-9ecd-3df03d81f731             request.body: {'UUID': 'e06a9c79-8ef5-4014-9ecd-3df03d81f731', 'size': '2 gib'} ssl_verify: False
2025-01-13 12:39:40.297 25 INFO cinder.volume.drivers.lightos [None req-b971f9aa-308b-423b-bc28-72dbf1766303 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Successfully extended volume Volume(_name_id=None,admin_metadata={},attach_status='detached',availability_zone='nova',bootable=True,cluster=<?>,cluster_name='lightos_cinder_cluster@LIGHTOSyilgqu#yilgqu',consistencygroup=<?>,consistencygroup_id=None,created_at=2025-01-13T12:39:31Z,deleted=False,deleted_at=None,display_description=None,display_name='tempest-VolumesExtendTest-Volume-651631693',ec2_id=None,encryption_key_id=None,glance_metadata={checksum='443b7623e27ecf03dc9e01ee93f67afe',container_format='bare',disk_format='qcow2',image_id='4750b270-4234-4361-8332-29002e5eea4e',image_name='cirros',min_disk='0',min_ram='0',owner_specified.openstack.md5='',owner_specified.openstack.object='images/cirros',owner_specified.openstack.sha256='',signature_verified='False',size='12716032'},group=<?>,group_id=None,host='rack13-server67@LIGHTOSyilgqu#yilgqu',id=47c4ef5e-89d8-4814-8093-d461d4a6a6c7,launched_at=2025-01-13T12:39:39Z,metadata={},migration_status=None,multiattach=False,previous_status='available',project_id='666416daef6847dfbfd800114d0445a2',provider_auth=None,provider_geometry=None,provider_id=None,provider_location=None,replication_driver_data=None,replication_extended_status=None,replication_status=None,scheduled_at=2025-01-13T12:39:31Z,service_uuid='d010301b-5eca-4df5-9fb8-f79e3dac31b0',shared_targets=False,size=1,snapshot_id=None,snapshots=<?>,source_volid=None,status='extending',terminated_at=None,updated_at=2025-01-13T12:39:39Z,use_quota=True,user_id='1011be8381364fd9b879cfdb40246b95',volume_attachment=VolumeAttachmentList,volume_type=VolumeType(0268b28d-787a-4ba1-bedc-3987f184bb0c),volume_type_id=0268b28d-787a-4ba1-bedc-3987f184bb0c) project default size:2
2025-01-13 12:39:40.327 25 INFO cinder.volume.manager [None req-b971f9aa-308b-423b-bc28-72dbf1766303 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Extend volume completed successfully.
2025-01-13 12:39:41.536 25 INFO cinder.volume.drivers.lightos [None req-e1aabcee-5c7d-4e16-85cc-5904d931f2aa 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_47c4ef5e-89d8-4814-8093-d461d4a6a6c7             request.body: {} ssl_verify: False
2025-01-13 12:39:41.547 25 INFO cinder.volume.drivers.lightos [None req-e1aabcee-5c7d-4e16-85cc-5904d931f2aa 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/e06a9c79-8ef5-4014-9ecd-3df03d81f731?             request.body:  ssl_verify: False
2025-01-13 12:39:41.609 25 INFO cinder.volume.drivers.lightos [None req-e1aabcee-5c7d-4e16-85cc-5904d931f2aa 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/e06a9c79-8ef5-4014-9ecd-3df03d81f731             request.body: {} ssl_verify: False
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager [None req-e1aabcee-5c7d-4e16-85cc-5904d931f2aa 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager 
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager 
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:41.636 25 ERROR cinder.volume.manager 
2025-01-13 12:39:41.661 25 INFO cinder.volume.manager [None req-e1aabcee-5c7d-4e16-85cc-5904d931f2aa 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Deleted volume successfully.
2025-01-13 12:39:42.882 25 INFO cinder.volume.flows.manager.create_volume [None req-a6ab778e-5508-4f2c-9a55-acbc39a50e0b 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Volume 8f6cb8e8-ac3a-4dc1-85bb-e648b1992118: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_8f6cb8e8-ac3a-4dc1-85bb-e648b1992118', 'volume_size': 1}
2025-01-13 12:39:42.883 25 INFO cinder.volume.drivers.lightos [None req-a6ab778e-5508-4f2c-9a55-acbc39a50e0b 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_8f6cb8e8-ac3a-4dc1-85bb-e648b1992118             request.body: {} ssl_verify: False
2025-01-13 12:39:42.892 25 INFO cinder.volume.drivers.lightos [None req-a6ab778e-5508-4f2c-9a55-acbc39a50e0b 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_8f6cb8e8-ac3a-4dc1-85bb-e648b1992118', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:39:42.916 25 INFO cinder.volume.drivers.lightos [None req-a6ab778e-5508-4f2c-9a55-acbc39a50e0b 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/71f0db46-80db-4aed-9bfd-43d26ca14a7a             request.body: {} ssl_verify: False
2025-01-13 12:39:43.932 25 INFO cinder.volume.drivers.lightos [None req-a6ab778e-5508-4f2c-9a55-acbc39a50e0b 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/71f0db46-80db-4aed-9bfd-43d26ca14a7a             request.body: {} ssl_verify: False
2025-01-13 12:39:43.975 25 INFO cinder.volume.flows.manager.create_volume [None req-a6ab778e-5508-4f2c-9a55-acbc39a50e0b 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Volume vol_8f6cb8e8-ac3a-4dc1-85bb-e648b1992118 (8f6cb8e8-ac3a-4dc1-85bb-e648b1992118): created successfully
2025-01-13 12:39:43.984 25 INFO cinder.volume.manager [None req-a6ab778e-5508-4f2c-9a55-acbc39a50e0b 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Created volume successfully.
2025-01-13 12:39:45.142 25 INFO cinder.volume.drivers.lightos [None req-5ffbb626-44be-40dc-be26-d954d0bb25da 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-10d9c55d-af89-4c4c-bec7-6cd3f5621089             request.body: {} ssl_verify: False
2025-01-13 12:39:45.154 25 INFO cinder.volume.drivers.lightos [None req-5ffbb626-44be-40dc-be26-d954d0bb25da 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-10d9c55d-af89-4c4c-bec7-6cd3f5621089', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_8f6cb8e8-ac3a-4dc1-85bb-e648b1992118'} ssl_verify: False
2025-01-13 12:39:45.270 25 INFO cinder.volume.drivers.lightos [None req-5ffbb626-44be-40dc-be26-d954d0bb25da 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-10d9c55d-af89-4c4c-bec7-6cd3f5621089             request.body: {} ssl_verify: False
2025-01-13 12:39:46.289 25 INFO cinder.volume.drivers.lightos [None req-5ffbb626-44be-40dc-be26-d954d0bb25da 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-10d9c55d-af89-4c4c-bec7-6cd3f5621089             request.body: {} ssl_verify: False
2025-01-13 12:39:46.328 25 INFO cinder.volume.manager [None req-5ffbb626-44be-40dc-be26-d954d0bb25da 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Create snapshot completed successfully
2025-01-13 12:39:47.335 25 INFO cinder.volume.drivers.lightos [None req-8354e661-c1d1-42bf-be94-76c15dc7b297 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_8f6cb8e8-ac3a-4dc1-85bb-e648b1992118             request.body: {} ssl_verify: False
2025-01-13 12:39:47.351 25 INFO cinder.volume.drivers.lightos [None req-8354e661-c1d1-42bf-be94-76c15dc7b297 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking extend_volume using PUT url: /api/v2/projects/default/volumes/71f0db46-80db-4aed-9bfd-43d26ca14a7a             request.body: {'UUID': '71f0db46-80db-4aed-9bfd-43d26ca14a7a', 'size': '2 gib'} ssl_verify: False
2025-01-13 12:39:47.369 25 INFO cinder.volume.drivers.lightos [None req-8354e661-c1d1-42bf-be94-76c15dc7b297 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Successfully extended volume Volume(_name_id=None,admin_metadata={},attach_status='detached',availability_zone='nova',bootable=False,cluster=<?>,cluster_name='lightos_cinder_cluster@LIGHTOSyilgqu#yilgqu',consistencygroup=<?>,consistencygroup_id=None,created_at=2025-01-13T12:39:42Z,deleted=False,deleted_at=None,display_description=None,display_name='tempest-VolumesExtendTest-Volume-1550760497',ec2_id=None,encryption_key_id=None,glance_metadata={},group=<?>,group_id=None,host='rack13-server67@LIGHTOSyilgqu#yilgqu',id=8f6cb8e8-ac3a-4dc1-85bb-e648b1992118,launched_at=2025-01-13T12:39:43Z,metadata={},migration_status=None,multiattach=False,previous_status='available',project_id='666416daef6847dfbfd800114d0445a2',provider_auth=None,provider_geometry=None,provider_id=None,provider_location=None,replication_driver_data=None,replication_extended_status=None,replication_status=None,scheduled_at=2025-01-13T12:39:42Z,service_uuid='d010301b-5eca-4df5-9fb8-f79e3dac31b0',shared_targets=False,size=1,snapshot_id=None,snapshots=<?>,source_volid=None,status='extending',terminated_at=None,updated_at=2025-01-13T12:39:43Z,use_quota=True,user_id='1011be8381364fd9b879cfdb40246b95',volume_attachment=VolumeAttachmentList,volume_type=VolumeType(0268b28d-787a-4ba1-bedc-3987f184bb0c),volume_type_id=0268b28d-787a-4ba1-bedc-3987f184bb0c) project default size:2
2025-01-13 12:39:47.400 25 INFO cinder.volume.manager [None req-8354e661-c1d1-42bf-be94-76c15dc7b297 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Extend volume completed successfully.
2025-01-13 12:39:48.563 25 INFO cinder.volume.drivers.lightos [None req-d5090d54-d99e-4af1-b4f5-2bf30f857c20 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-10d9c55d-af89-4c4c-bec7-6cd3f5621089             request.body: {} ssl_verify: False
2025-01-13 12:39:48.583 25 INFO cinder.volume.drivers.lightos [None req-d5090d54-d99e-4af1-b4f5-2bf30f857c20 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/19f90851-00fa-49c1-8f11-a6c238d72f29?             request.body:  ssl_verify: False
2025-01-13 12:39:48.622 25 INFO cinder.volume.drivers.lightos [None req-d5090d54-d99e-4af1-b4f5-2bf30f857c20 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/19f90851-00fa-49c1-8f11-a6c238d72f29             request.body: {} ssl_verify: False
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager [None req-d5090d54-d99e-4af1-b4f5-2bf30f857c20 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager 
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager 
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:48.680 25 ERROR cinder.volume.manager 
2025-01-13 12:39:48.691 25 INFO cinder.volume.manager [None req-d5090d54-d99e-4af1-b4f5-2bf30f857c20 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Delete snapshot completed successfully.
2025-01-13 12:39:49.785 25 INFO cinder.volume.drivers.lightos [None req-8384b1ec-849d-4a89-8011-b174ca2ed9b4 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_8f6cb8e8-ac3a-4dc1-85bb-e648b1992118             request.body: {} ssl_verify: False
2025-01-13 12:39:49.800 25 INFO cinder.volume.drivers.lightos [None req-8384b1ec-849d-4a89-8011-b174ca2ed9b4 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/71f0db46-80db-4aed-9bfd-43d26ca14a7a?             request.body:  ssl_verify: False
2025-01-13 12:39:49.829 25 INFO cinder.volume.drivers.lightos [None req-8384b1ec-849d-4a89-8011-b174ca2ed9b4 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/71f0db46-80db-4aed-9bfd-43d26ca14a7a             request.body: {} ssl_verify: False
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager [None req-8384b1ec-849d-4a89-8011-b174ca2ed9b4 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager 
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager 
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:49.851 25 ERROR cinder.volume.manager 
2025-01-13 12:39:49.877 25 INFO cinder.volume.manager [None req-8384b1ec-849d-4a89-8011-b174ca2ed9b4 1011be8381364fd9b879cfdb40246b95 666416daef6847dfbfd800114d0445a2 - - - -] Deleted volume successfully.
2025-01-13 12:39:54.443 25 INFO cinder.volume.flows.manager.create_volume [None req-93632e65-1f87-4018-b2ac-d8bc92e0eb25 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Volume fb5530c1-f31c-44f1-94cc-6cf5daf78195: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_fb5530c1-f31c-44f1-94cc-6cf5daf78195', 'volume_size': 1}
2025-01-13 12:39:54.443 25 INFO cinder.volume.drivers.lightos [None req-93632e65-1f87-4018-b2ac-d8bc92e0eb25 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_fb5530c1-f31c-44f1-94cc-6cf5daf78195             request.body: {} ssl_verify: False
2025-01-13 12:39:54.455 25 INFO cinder.volume.drivers.lightos [None req-93632e65-1f87-4018-b2ac-d8bc92e0eb25 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_fb5530c1-f31c-44f1-94cc-6cf5daf78195', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:39:54.477 25 INFO cinder.volume.drivers.lightos [None req-93632e65-1f87-4018-b2ac-d8bc92e0eb25 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/79f9a53c-50e7-49d2-b1a9-83858ffe7120             request.body: {} ssl_verify: False
2025-01-13 12:39:55.504 25 INFO cinder.volume.drivers.lightos [None req-93632e65-1f87-4018-b2ac-d8bc92e0eb25 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/79f9a53c-50e7-49d2-b1a9-83858ffe7120             request.body: {} ssl_verify: False
2025-01-13 12:39:55.533 25 INFO cinder.volume.flows.manager.create_volume [None req-93632e65-1f87-4018-b2ac-d8bc92e0eb25 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Volume vol_fb5530c1-f31c-44f1-94cc-6cf5daf78195 (fb5530c1-f31c-44f1-94cc-6cf5daf78195): created successfully
2025-01-13 12:39:55.541 25 INFO cinder.volume.manager [None req-93632e65-1f87-4018-b2ac-d8bc92e0eb25 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Created volume successfully.
2025-01-13 12:39:57.093 25 INFO cinder.volume.flows.manager.create_volume [None req-74e406b5-dfe9-4b64-88b5-8db38041f830 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Volume 8a97fab6-fed5-4c89-9a43-68eba6b87dab: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_8a97fab6-fed5-4c89-9a43-68eba6b87dab', 'volume_size': 1}
2025-01-13 12:39:57.093 25 INFO cinder.volume.drivers.lightos [None req-74e406b5-dfe9-4b64-88b5-8db38041f830 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_8a97fab6-fed5-4c89-9a43-68eba6b87dab             request.body: {} ssl_verify: False
2025-01-13 12:39:57.102 25 INFO cinder.volume.drivers.lightos [None req-74e406b5-dfe9-4b64-88b5-8db38041f830 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_8a97fab6-fed5-4c89-9a43-68eba6b87dab', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:39:57.122 25 INFO cinder.volume.drivers.lightos [None req-74e406b5-dfe9-4b64-88b5-8db38041f830 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/7ea90895-a143-489a-aafb-0d3614e4feff             request.body: {} ssl_verify: False
2025-01-13 12:39:58.151 25 INFO cinder.volume.drivers.lightos [None req-74e406b5-dfe9-4b64-88b5-8db38041f830 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/7ea90895-a143-489a-aafb-0d3614e4feff             request.body: {} ssl_verify: False
2025-01-13 12:39:58.179 25 INFO cinder.volume.flows.manager.create_volume [None req-74e406b5-dfe9-4b64-88b5-8db38041f830 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Volume vol_8a97fab6-fed5-4c89-9a43-68eba6b87dab (8a97fab6-fed5-4c89-9a43-68eba6b87dab): created successfully
2025-01-13 12:39:58.187 25 INFO cinder.volume.manager [None req-74e406b5-dfe9-4b64-88b5-8db38041f830 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Created volume successfully.
2025-01-13 12:39:59.304 25 INFO cinder.volume.drivers.lightos [None req-3da1321a-c20f-4d4d-a7bb-39979f0f472a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_8a97fab6-fed5-4c89-9a43-68eba6b87dab             request.body: {} ssl_verify: False
2025-01-13 12:39:59.317 25 INFO cinder.volume.drivers.lightos [None req-3da1321a-c20f-4d4d-a7bb-39979f0f472a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/7ea90895-a143-489a-aafb-0d3614e4feff?             request.body:  ssl_verify: False
2025-01-13 12:39:59.341 25 INFO cinder.volume.drivers.lightos [None req-3da1321a-c20f-4d4d-a7bb-39979f0f472a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/7ea90895-a143-489a-aafb-0d3614e4feff             request.body: {} ssl_verify: False
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager [None req-3da1321a-c20f-4d4d-a7bb-39979f0f472a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager 
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager 
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:39:59.381 25 ERROR cinder.volume.manager 
2025-01-13 12:39:59.411 25 INFO cinder.volume.manager [None req-3da1321a-c20f-4d4d-a7bb-39979f0f472a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Deleted volume successfully.
2025-01-13 12:40:00.456 25 INFO cinder.volume.drivers.lightos [None req-036fc140-714b-4112-bb29-80dca285cc20 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_fb5530c1-f31c-44f1-94cc-6cf5daf78195             request.body: {} ssl_verify: False
2025-01-13 12:40:00.468 25 INFO cinder.volume.drivers.lightos [None req-036fc140-714b-4112-bb29-80dca285cc20 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/79f9a53c-50e7-49d2-b1a9-83858ffe7120?             request.body:  ssl_verify: False
2025-01-13 12:40:00.496 25 INFO cinder.volume.drivers.lightos [None req-036fc140-714b-4112-bb29-80dca285cc20 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/79f9a53c-50e7-49d2-b1a9-83858ffe7120             request.body: {} ssl_verify: False
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager [None req-036fc140-714b-4112-bb29-80dca285cc20 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager 
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager 
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:00.549 25 ERROR cinder.volume.manager 
2025-01-13 12:40:00.578 25 INFO cinder.volume.manager [None req-036fc140-714b-4112-bb29-80dca285cc20 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Deleted volume successfully.
2025-01-13 12:40:01.842 25 INFO cinder.volume.flows.manager.create_volume [None req-a52559df-273b-4311-8584-2edc85dd6b7d 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Volume 8d11a907-2375-46a2-a2cd-e8c398553d1e: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_8d11a907-2375-46a2-a2cd-e8c398553d1e', 'volume_size': 1}
2025-01-13 12:40:01.842 25 INFO cinder.volume.drivers.lightos [None req-a52559df-273b-4311-8584-2edc85dd6b7d 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_8d11a907-2375-46a2-a2cd-e8c398553d1e             request.body: {} ssl_verify: False
2025-01-13 12:40:01.853 25 INFO cinder.volume.drivers.lightos [None req-a52559df-273b-4311-8584-2edc85dd6b7d 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_8d11a907-2375-46a2-a2cd-e8c398553d1e', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:40:01.876 25 INFO cinder.volume.drivers.lightos [None req-a52559df-273b-4311-8584-2edc85dd6b7d 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/91997781-2c71-44bf-9290-a25e75c23bf0             request.body: {} ssl_verify: False
2025-01-13 12:40:02.895 25 INFO cinder.volume.drivers.lightos [None req-a52559df-273b-4311-8584-2edc85dd6b7d 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/91997781-2c71-44bf-9290-a25e75c23bf0             request.body: {} ssl_verify: False
2025-01-13 12:40:02.926 25 INFO cinder.volume.flows.manager.create_volume [None req-a52559df-273b-4311-8584-2edc85dd6b7d 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Volume vol_8d11a907-2375-46a2-a2cd-e8c398553d1e (8d11a907-2375-46a2-a2cd-e8c398553d1e): created successfully
2025-01-13 12:40:02.937 25 INFO cinder.volume.manager [None req-a52559df-273b-4311-8584-2edc85dd6b7d 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Created volume successfully.
2025-01-13 12:40:04.296 25 INFO cinder.volume.flows.manager.create_volume [None req-d7c9d945-f31f-4993-9673-70bcbb2bb14a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Volume 10e4455c-bdc0-4d04-a56f-c124439a7e93: being created as source_vol with specification: {'status': 'creating', 'volume_name': 'vol_10e4455c-bdc0-4d04-a56f-c124439a7e93', 'volume_size': 1, 'source_volid': '8d11a907-2375-46a2-a2cd-e8c398553d1e', 'source_volstatus': 'available'}
2025-01-13 12:40:04.305 25 INFO cinder.volume.drivers.lightos [None req-d7c9d945-f31f-4993-9673-70bcbb2bb14a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_10e4455c-bdc0-4d04-a56f-c124439a7e93             request.body: {} ssl_verify: False
2025-01-13 12:40:04.316 25 INFO cinder.volume.drivers.lightos [None req-d7c9d945-f31f-4993-9673-70bcbb2bb14a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'for_clone_10e4455c-bdc0-4d04-a56f-c124439a7e93', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_8d11a907-2375-46a2-a2cd-e8c398553d1e'} ssl_verify: False
2025-01-13 12:40:04.340 25 INFO cinder.volume.drivers.lightos [None req-d7c9d945-f31f-4993-9673-70bcbb2bb14a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_10e4455c-bdc0-4d04-a56f-c124439a7e93             request.body: {} ssl_verify: False
2025-01-13 12:40:05.386 25 INFO cinder.volume.drivers.lightos [None req-d7c9d945-f31f-4993-9673-70bcbb2bb14a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_10e4455c-bdc0-4d04-a56f-c124439a7e93             request.body: {} ssl_verify: False
2025-01-13 12:40:05.403 25 INFO cinder.volume.drivers.lightos [None req-d7c9d945-f31f-4993-9673-70bcbb2bb14a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_10e4455c-bdc0-4d04-a56f-c124439a7e93             request.body: {} ssl_verify: False
2025-01-13 12:40:05.416 25 INFO cinder.volume.drivers.lightos [None req-d7c9d945-f31f-4993-9673-70bcbb2bb14a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_10e4455c-bdc0-4d04-a56f-c124439a7e93', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': 'for_clone_10e4455c-bdc0-4d04-a56f-c124439a7e93'} ssl_verify: False
2025-01-13 12:40:05.437 25 INFO cinder.volume.drivers.lightos [None req-d7c9d945-f31f-4993-9673-70bcbb2bb14a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/f88e0f5c-e02e-4df0-9cd9-cbfb5b2fc01b             request.body: {} ssl_verify: False
2025-01-13 12:40:06.313 25 INFO cinder.volume.flows.manager.create_volume [None req-b8c36aa8-9e1b-4256-bdd0-0511d14324d2 8f79e2f3531e45089be82c1639df6f9f a0c2612f660440fd8be75dbc463c0d8c - - - -] Volume 264dbec6-d220-4931-9f35-8f0bc8e306db: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_264dbec6-d220-4931-9f35-8f0bc8e306db', 'volume_size': 1}
2025-01-13 12:40:06.313 25 INFO cinder.volume.drivers.lightos [None req-b8c36aa8-9e1b-4256-bdd0-0511d14324d2 8f79e2f3531e45089be82c1639df6f9f a0c2612f660440fd8be75dbc463c0d8c - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_264dbec6-d220-4931-9f35-8f0bc8e306db             request.body: {} ssl_verify: False
2025-01-13 12:40:06.323 25 INFO cinder.volume.drivers.lightos [None req-b8c36aa8-9e1b-4256-bdd0-0511d14324d2 8f79e2f3531e45089be82c1639df6f9f a0c2612f660440fd8be75dbc463c0d8c - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_264dbec6-d220-4931-9f35-8f0bc8e306db', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:40:06.348 25 INFO cinder.volume.drivers.lightos [None req-b8c36aa8-9e1b-4256-bdd0-0511d14324d2 8f79e2f3531e45089be82c1639df6f9f a0c2612f660440fd8be75dbc463c0d8c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/530ac508-584f-4276-a04a-f46a0a448eb2             request.body: {} ssl_verify: False
2025-01-13 12:40:06.471 25 INFO cinder.volume.drivers.lightos [None req-d7c9d945-f31f-4993-9673-70bcbb2bb14a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/f88e0f5c-e02e-4df0-9cd9-cbfb5b2fc01b             request.body: {} ssl_verify: False
2025-01-13 12:40:06.489 25 INFO cinder.volume.drivers.lightos [None req-d7c9d945-f31f-4993-9673-70bcbb2bb14a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_10e4455c-bdc0-4d04-a56f-c124439a7e93             request.body: {} ssl_verify: False
2025-01-13 12:40:06.503 25 INFO cinder.volume.drivers.lightos [None req-d7c9d945-f31f-4993-9673-70bcbb2bb14a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/55bbf8e2-d2ba-44d5-a67f-626cbb295d17?             request.body:  ssl_verify: False
2025-01-13 12:40:06.540 25 INFO cinder.volume.drivers.lightos [None req-d7c9d945-f31f-4993-9673-70bcbb2bb14a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/55bbf8e2-d2ba-44d5-a67f-626cbb295d17             request.body: {} ssl_verify: False
2025-01-13 12:40:06.584 25 INFO cinder.volume.flows.manager.create_volume [None req-d7c9d945-f31f-4993-9673-70bcbb2bb14a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Volume vol_10e4455c-bdc0-4d04-a56f-c124439a7e93 (10e4455c-bdc0-4d04-a56f-c124439a7e93): created successfully
2025-01-13 12:40:06.592 25 INFO cinder.volume.manager [None req-d7c9d945-f31f-4993-9673-70bcbb2bb14a 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Created volume successfully.
2025-01-13 12:40:07.396 25 INFO cinder.volume.drivers.lightos [None req-b8c36aa8-9e1b-4256-bdd0-0511d14324d2 8f79e2f3531e45089be82c1639df6f9f a0c2612f660440fd8be75dbc463c0d8c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/530ac508-584f-4276-a04a-f46a0a448eb2             request.body: {} ssl_verify: False
2025-01-13 12:40:07.425 25 INFO cinder.volume.flows.manager.create_volume [None req-b8c36aa8-9e1b-4256-bdd0-0511d14324d2 8f79e2f3531e45089be82c1639df6f9f a0c2612f660440fd8be75dbc463c0d8c - - - -] Volume vol_264dbec6-d220-4931-9f35-8f0bc8e306db (264dbec6-d220-4931-9f35-8f0bc8e306db): created successfully
2025-01-13 12:40:07.434 25 INFO cinder.volume.manager [None req-b8c36aa8-9e1b-4256-bdd0-0511d14324d2 8f79e2f3531e45089be82c1639df6f9f a0c2612f660440fd8be75dbc463c0d8c - - - -] Created volume successfully.
2025-01-13 12:40:08.033 25 INFO cinder.volume.flows.manager.create_volume [None req-0a1c3e76-f64a-474b-8cba-12c9b2740e71 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Volume 2dc541b5-dadb-4fbf-a0d6-a6dfbbd8577d: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_2dc541b5-dadb-4fbf-a0d6-a6dfbbd8577d', 'volume_size': 1}
2025-01-13 12:40:08.033 25 INFO cinder.volume.drivers.lightos [None req-0a1c3e76-f64a-474b-8cba-12c9b2740e71 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_2dc541b5-dadb-4fbf-a0d6-a6dfbbd8577d             request.body: {} ssl_verify: False
2025-01-13 12:40:08.047 25 INFO cinder.volume.drivers.lightos [None req-0a1c3e76-f64a-474b-8cba-12c9b2740e71 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_2dc541b5-dadb-4fbf-a0d6-a6dfbbd8577d', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:40:08.123 25 INFO cinder.volume.drivers.lightos [None req-0a1c3e76-f64a-474b-8cba-12c9b2740e71 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/7a10cfa7-83ea-46fe-b0cf-c9ece8188137             request.body: {} ssl_verify: False
2025-01-13 12:40:08.610 25 INFO cinder.volume.drivers.lightos [None req-f8120ab9-a773-4e6e-97e4-2437a1cd2e54 8f79e2f3531e45089be82c1639df6f9f a0c2612f660440fd8be75dbc463c0d8c - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_264dbec6-d220-4931-9f35-8f0bc8e306db             request.body: {} ssl_verify: False
2025-01-13 12:40:08.621 25 INFO cinder.volume.drivers.lightos [None req-f8120ab9-a773-4e6e-97e4-2437a1cd2e54 8f79e2f3531e45089be82c1639df6f9f a0c2612f660440fd8be75dbc463c0d8c - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/530ac508-584f-4276-a04a-f46a0a448eb2?             request.body:  ssl_verify: False
2025-01-13 12:40:08.644 25 INFO cinder.volume.drivers.lightos [None req-f8120ab9-a773-4e6e-97e4-2437a1cd2e54 8f79e2f3531e45089be82c1639df6f9f a0c2612f660440fd8be75dbc463c0d8c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/530ac508-584f-4276-a04a-f46a0a448eb2             request.body: {} ssl_verify: False
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager [None req-f8120ab9-a773-4e6e-97e4-2437a1cd2e54 8f79e2f3531e45089be82c1639df6f9f a0c2612f660440fd8be75dbc463c0d8c - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager 
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager 
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:08.682 25 ERROR cinder.volume.manager 
2025-01-13 12:40:08.714 25 INFO cinder.volume.manager [None req-f8120ab9-a773-4e6e-97e4-2437a1cd2e54 8f79e2f3531e45089be82c1639df6f9f a0c2612f660440fd8be75dbc463c0d8c - - - -] Deleted volume successfully.
2025-01-13 12:40:09.157 25 INFO cinder.volume.drivers.lightos [None req-0a1c3e76-f64a-474b-8cba-12c9b2740e71 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/7a10cfa7-83ea-46fe-b0cf-c9ece8188137             request.body: {} ssl_verify: False
2025-01-13 12:40:09.187 25 INFO cinder.volume.flows.manager.create_volume [None req-0a1c3e76-f64a-474b-8cba-12c9b2740e71 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Volume vol_2dc541b5-dadb-4fbf-a0d6-a6dfbbd8577d (2dc541b5-dadb-4fbf-a0d6-a6dfbbd8577d): created successfully
2025-01-13 12:40:09.196 25 INFO cinder.volume.manager [None req-0a1c3e76-f64a-474b-8cba-12c9b2740e71 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Created volume successfully.
2025-01-13 12:40:10.276 25 INFO cinder.volume.drivers.lightos [None req-a89ac37d-92d0-4476-871b-ea95430650c4 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_2dc541b5-dadb-4fbf-a0d6-a6dfbbd8577d             request.body: {} ssl_verify: False
2025-01-13 12:40:10.300 25 INFO cinder.volume.drivers.lightos [None req-a89ac37d-92d0-4476-871b-ea95430650c4 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/7a10cfa7-83ea-46fe-b0cf-c9ece8188137?             request.body:  ssl_verify: False
2025-01-13 12:40:10.335 25 INFO cinder.volume.drivers.lightos [None req-a89ac37d-92d0-4476-871b-ea95430650c4 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/7a10cfa7-83ea-46fe-b0cf-c9ece8188137             request.body: {} ssl_verify: False
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager [None req-a89ac37d-92d0-4476-871b-ea95430650c4 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager 
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager 
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:10.362 25 ERROR cinder.volume.manager 
2025-01-13 12:40:10.404 25 INFO cinder.volume.manager [None req-a89ac37d-92d0-4476-871b-ea95430650c4 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Deleted volume successfully.
2025-01-13 12:40:11.431 25 INFO cinder.volume.drivers.lightos [None req-2f381320-e014-4947-8ff9-b899c3a998f7 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_10e4455c-bdc0-4d04-a56f-c124439a7e93             request.body: {} ssl_verify: False
2025-01-13 12:40:11.445 25 INFO cinder.volume.drivers.lightos [None req-2f381320-e014-4947-8ff9-b899c3a998f7 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/f88e0f5c-e02e-4df0-9cd9-cbfb5b2fc01b?             request.body:  ssl_verify: False
2025-01-13 12:40:11.467 25 INFO cinder.volume.drivers.lightos [None req-2f381320-e014-4947-8ff9-b899c3a998f7 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/f88e0f5c-e02e-4df0-9cd9-cbfb5b2fc01b             request.body: {} ssl_verify: False
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager [None req-2f381320-e014-4947-8ff9-b899c3a998f7 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager 
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager 
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:11.525 25 ERROR cinder.volume.manager 
2025-01-13 12:40:11.552 25 INFO cinder.volume.manager [None req-2f381320-e014-4947-8ff9-b899c3a998f7 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Deleted volume successfully.
2025-01-13 12:40:12.650 25 INFO cinder.volume.drivers.lightos [None req-9838b56a-0dcc-45cf-bff2-8c9cbd01a11b 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_8d11a907-2375-46a2-a2cd-e8c398553d1e             request.body: {} ssl_verify: False
2025-01-13 12:40:12.662 25 INFO cinder.volume.drivers.lightos [None req-9838b56a-0dcc-45cf-bff2-8c9cbd01a11b 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/91997781-2c71-44bf-9290-a25e75c23bf0?             request.body:  ssl_verify: False
2025-01-13 12:40:12.710 25 INFO cinder.volume.drivers.lightos [None req-9838b56a-0dcc-45cf-bff2-8c9cbd01a11b 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/91997781-2c71-44bf-9290-a25e75c23bf0             request.body: {} ssl_verify: False
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager [None req-9838b56a-0dcc-45cf-bff2-8c9cbd01a11b 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager 
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager 
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:12.733 25 ERROR cinder.volume.manager 
2025-01-13 12:40:12.760 25 INFO cinder.volume.manager [None req-9838b56a-0dcc-45cf-bff2-8c9cbd01a11b 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Deleted volume successfully.
2025-01-13 12:40:13.510 25 INFO cinder.volume.flows.manager.create_volume [None req-6666f7d1-e3a2-45d5-902f-823873b46914 a6c93e002e314822a0fe523306b1f118 2ab59d6cfec34493aec4737408b4316c - - - -] Volume f80d7feb-48aa-4b5a-83a8-1274a2b8c644: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_f80d7feb-48aa-4b5a-83a8-1274a2b8c644', 'volume_size': 1}
2025-01-13 12:40:13.511 25 INFO cinder.volume.drivers.lightos [None req-6666f7d1-e3a2-45d5-902f-823873b46914 a6c93e002e314822a0fe523306b1f118 2ab59d6cfec34493aec4737408b4316c - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f80d7feb-48aa-4b5a-83a8-1274a2b8c644             request.body: {} ssl_verify: False
2025-01-13 12:40:13.520 25 INFO cinder.volume.drivers.lightos [None req-6666f7d1-e3a2-45d5-902f-823873b46914 a6c93e002e314822a0fe523306b1f118 2ab59d6cfec34493aec4737408b4316c - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_f80d7feb-48aa-4b5a-83a8-1274a2b8c644', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:40:13.549 25 INFO cinder.volume.drivers.lightos [None req-6666f7d1-e3a2-45d5-902f-823873b46914 a6c93e002e314822a0fe523306b1f118 2ab59d6cfec34493aec4737408b4316c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/77b283eb-04e6-4c1c-a7fe-b38c61e30312             request.body: {} ssl_verify: False
2025-01-13 12:40:14.301 25 INFO cinder.volume.flows.manager.create_volume [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Volume 6f6246a2-bc9d-4a1f-b010-8261d0577cee: being created as image with specification: {'status': 'creating', 'volume_name': 'vol_6f6246a2-bc9d-4a1f-b010-8261d0577cee', 'volume_size': 1, 'image_id': '4750b270-4234-4361-8332-29002e5eea4e', 'image_location': (None, None), 'image_meta': {'name': 'cirros', 'disk_format': 'qcow2', 'container_format': 'bare', 'visibility': 'public', 'size': 12716032, 'virtual_size': 46137344, 'status': 'active', 'checksum': '443b7623e27ecf03dc9e01ee93f67afe', 'protected': False, 'min_ram': 0, 'min_disk': 0, 'owner': '0eac1ff84c4b4af5a7e389a9fdfa4f07', 'os_hidden': False, 'os_hash_algo': 'sha512', 'os_hash_value': '6513f21e44aa3da349f248188a44bc304a3653a04122d8fb4535423c8e1d14cd6a153f735bb0982e2161b5b5186106570c17a9e58b64dd39390617cd5a350f78', 'id': '4750b270-4234-4361-8332-29002e5eea4e', 'created_at': datetime.datetime(2025, 1, 13, 12, 10, 20, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 1, 13, 12, 10, 20, tzinfo=datetime.timezone.utc), 'tags': [], 'file': '/v2/images/4750b270-4234-4361-8332-29002e5eea4e/file', 'stores': 'file', 'properties': {'owner_specified.openstack.md5': '', 'owner_specified.openstack.sha256': '', 'owner_specified.openstack.object': 'images/cirros'}}, 'image_service': <cinder.image.glance.GlanceImageService object at 0x7fc4f8f98130>}
2025-01-13 12:40:14.566 25 INFO cinder.volume.drivers.lightos [None req-6666f7d1-e3a2-45d5-902f-823873b46914 a6c93e002e314822a0fe523306b1f118 2ab59d6cfec34493aec4737408b4316c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/77b283eb-04e6-4c1c-a7fe-b38c61e30312             request.body: {} ssl_verify: False
2025-01-13 12:40:14.603 25 INFO cinder.volume.flows.manager.create_volume [None req-6666f7d1-e3a2-45d5-902f-823873b46914 a6c93e002e314822a0fe523306b1f118 2ab59d6cfec34493aec4737408b4316c - - - -] Volume vol_f80d7feb-48aa-4b5a-83a8-1274a2b8c644 (f80d7feb-48aa-4b5a-83a8-1274a2b8c644): created successfully
2025-01-13 12:40:14.624 25 INFO cinder.volume.manager [None req-6666f7d1-e3a2-45d5-902f-823873b46914 a6c93e002e314822a0fe523306b1f118 2ab59d6cfec34493aec4737408b4316c - - - -] Created volume successfully.
2025-01-13 12:40:15.446 25 INFO cinder.image.image_utils [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Image download 12.13 MB at 10.59 MB/s
2025-01-13 12:40:16.141 25 INFO cinder.volume.drivers.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_6f6246a2-bc9d-4a1f-b010-8261d0577cee             request.body: {} ssl_verify: False
2025-01-13 12:40:16.160 25 INFO cinder.volume.drivers.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_6f6246a2-bc9d-4a1f-b010-8261d0577cee', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:40:16.186 25 INFO cinder.volume.drivers.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/f6871b24-90a8-4b07-9ac4-8a539cd5147c             request.body: {} ssl_verify: False
2025-01-13 12:40:16.289 25 INFO cinder.volume.drivers.lightos [None req-b10fea86-fa3e-40c3-9caa-f7a1d8ed4928 a6c93e002e314822a0fe523306b1f118 2ab59d6cfec34493aec4737408b4316c - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f80d7feb-48aa-4b5a-83a8-1274a2b8c644             request.body: {} ssl_verify: False
2025-01-13 12:40:16.301 25 INFO cinder.volume.drivers.lightos [None req-b10fea86-fa3e-40c3-9caa-f7a1d8ed4928 a6c93e002e314822a0fe523306b1f118 2ab59d6cfec34493aec4737408b4316c - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/77b283eb-04e6-4c1c-a7fe-b38c61e30312?             request.body:  ssl_verify: False
2025-01-13 12:40:16.332 25 INFO cinder.volume.drivers.lightos [None req-b10fea86-fa3e-40c3-9caa-f7a1d8ed4928 a6c93e002e314822a0fe523306b1f118 2ab59d6cfec34493aec4737408b4316c - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/77b283eb-04e6-4c1c-a7fe-b38c61e30312             request.body: {} ssl_verify: False
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager [None req-b10fea86-fa3e-40c3-9caa-f7a1d8ed4928 a6c93e002e314822a0fe523306b1f118 2ab59d6cfec34493aec4737408b4316c - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager 
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager 
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:16.371 25 ERROR cinder.volume.manager 
2025-01-13 12:40:16.405 25 INFO cinder.volume.manager [None req-b10fea86-fa3e-40c3-9caa-f7a1d8ed4928 a6c93e002e314822a0fe523306b1f118 2ab59d6cfec34493aec4737408b4316c - - - -] Deleted volume successfully.
2025-01-13 12:40:17.205 25 INFO cinder.volume.drivers.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/f6871b24-90a8-4b07-9ac4-8a539cd5147c             request.body: {} ssl_verify: False
2025-01-13 12:40:17.280 25 INFO os_brick.initiator.connectors.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Current host hostNQN nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc and IP(s) are ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', 'fe80::4099:911b:7117:6464'] 
2025-01-13 12:40:17.281 25 INFO cinder.volume.drivers.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Current host hostNQN is nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc and IP(s) are ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', 'fe80::4099:911b:7117:6464']
2025-01-13 12:40:17.282 25 INFO cinder.volume.drivers.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_6f6246a2-bc9d-4a1f-b010-8261d0577cee             request.body: {} ssl_verify: False
2025-01-13 12:40:17.297 25 INFO cinder.volume.drivers.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking update_volume using PUT url: /api/v2/projects/default/volumes/f6871b24-90a8-4b07-9ac4-8a539cd5147c             request.body: {'acl': {'values': ['nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc']}, 'IPAcl': {'values': ['fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', '[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', 'fe80::4099:911b:7117:6464', '[LB_IP_ADDRESS]']}} ssl_verify: False
2025-01-13 12:40:17.322 25 INFO cinder.volume.drivers.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_6f6246a2-bc9d-4a1f-b010-8261d0577cee             request.body: {} ssl_verify: False
2025-01-13 12:40:18.358 25 INFO cinder.volume.drivers.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_6f6246a2-bc9d-4a1f-b010-8261d0577cee             request.body: {} ssl_verify: False
2025-01-13 12:40:18.376 25 INFO cinder.volume.drivers.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_6f6246a2-bc9d-4a1f-b010-8261d0577cee             request.body: {} ssl_verify: False
2025-01-13 12:40:18.390 25 INFO cinder.volume.drivers.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_6f6246a2-bc9d-4a1f-b010-8261d0577cee             request.body: {} ssl_verify: False
2025-01-13 12:40:18.419 25 INFO os_brick.initiator.connectors.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] LIGHTOS: connect_volume called for volume f6871b24-90a8-4b07-9ac4-8a539cd5147c, connection properties: {'lightos_nodes': {'[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}, '[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}, '[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}}, 'uuid': 'f6871b24-90a8-4b07-9ac4-8a539cd5147c', 'subsysnqn': 'nqn.2016-01.com.lightbitslabs:uuid:ed93b30a-10c9-4020-b8d0-0edc696e5120:suffix', 'encrypted': False}
2025-01-13 12:40:18.423 25 INFO os_brick.initiator.connectors.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] LIGHTOS: devpath /dev/nvme0n1 detected for uuid f6871b24-90a8-4b07-9ac4-8a539cd5147c
2025-01-13 12:40:20.521 25 INFO cinder.image.image_utils [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Converted 44.00 MB image at 44.00 MB/s
2025-01-13 12:40:20.524 25 INFO os_brick.initiator.connectors.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] LIGHTOS: devpath /dev/nvme0n1 detected for uuid f6871b24-90a8-4b07-9ac4-8a539cd5147c
2025-01-13 12:40:20.538 25 INFO cinder.volume.drivers.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_6f6246a2-bc9d-4a1f-b010-8261d0577cee             request.body: {} ssl_verify: False
2025-01-13 12:40:20.563 25 INFO cinder.volume.drivers.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking update_volume using PUT url: /api/v2/projects/default/volumes/f6871b24-90a8-4b07-9ac4-8a539cd5147c             request.body: {'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}} ssl_verify: False
2025-01-13 12:40:20.630 25 INFO cinder.volume.drivers.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_6f6246a2-bc9d-4a1f-b010-8261d0577cee             request.body: {} ssl_verify: False
2025-01-13 12:40:20.653 25 INFO cinder.volume.drivers.lightos [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_6f6246a2-bc9d-4a1f-b010-8261d0577cee             request.body: {} ssl_verify: False
2025-01-13 12:40:20.742 25 INFO cinder.volume.flows.manager.create_volume [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Volume vol_6f6246a2-bc9d-4a1f-b010-8261d0577cee (6f6246a2-bc9d-4a1f-b010-8261d0577cee): created successfully
2025-01-13 12:40:20.750 25 INFO cinder.volume.manager [None req-3edee7c5-44ea-4f0a-bc54-0acd89157bbe 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Created volume successfully.
2025-01-13 12:40:22.199 25 INFO cinder.volume.flows.manager.create_volume [None req-f564b434-8f00-4e12-9397-8230b9b5d899 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Volume 43c1a061-fb8b-4e4e-b84b-2029fcd0543d: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_43c1a061-fb8b-4e4e-b84b-2029fcd0543d', 'volume_size': 1}
2025-01-13 12:40:22.199 25 INFO cinder.volume.drivers.lightos [None req-f564b434-8f00-4e12-9397-8230b9b5d899 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_43c1a061-fb8b-4e4e-b84b-2029fcd0543d             request.body: {} ssl_verify: False
2025-01-13 12:40:22.209 25 INFO cinder.volume.drivers.lightos [None req-f564b434-8f00-4e12-9397-8230b9b5d899 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_43c1a061-fb8b-4e4e-b84b-2029fcd0543d', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:40:22.245 25 INFO cinder.volume.drivers.lightos [None req-f564b434-8f00-4e12-9397-8230b9b5d899 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/08d6a2db-c907-444c-823e-bfb96303aba6             request.body: {} ssl_verify: False
2025-01-13 12:40:23.263 25 INFO cinder.volume.drivers.lightos [None req-f564b434-8f00-4e12-9397-8230b9b5d899 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/08d6a2db-c907-444c-823e-bfb96303aba6             request.body: {} ssl_verify: False
2025-01-13 12:40:23.292 25 INFO cinder.volume.flows.manager.create_volume [None req-f564b434-8f00-4e12-9397-8230b9b5d899 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Volume vol_43c1a061-fb8b-4e4e-b84b-2029fcd0543d (43c1a061-fb8b-4e4e-b84b-2029fcd0543d): created successfully
2025-01-13 12:40:23.301 25 INFO cinder.volume.manager [None req-f564b434-8f00-4e12-9397-8230b9b5d899 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Created volume successfully.
2025-01-13 12:40:24.120 25 INFO cinder.volume.flows.manager.create_volume [None req-7d340bd2-8ef5-4836-9c18-2e85241c452b 5a54472c8b7d489d86179d5ccbbb6866 7a25c3f03b284e6a8e53d7d3494c4fd9 - - - -] Volume c16e7edc-1366-4354-a2ee-17f69826e7a4: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_c16e7edc-1366-4354-a2ee-17f69826e7a4', 'volume_size': 1}
2025-01-13 12:40:24.120 25 INFO cinder.volume.drivers.lightos [None req-7d340bd2-8ef5-4836-9c18-2e85241c452b 5a54472c8b7d489d86179d5ccbbb6866 7a25c3f03b284e6a8e53d7d3494c4fd9 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_c16e7edc-1366-4354-a2ee-17f69826e7a4             request.body: {} ssl_verify: False
2025-01-13 12:40:24.139 25 INFO cinder.volume.drivers.lightos [None req-7d340bd2-8ef5-4836-9c18-2e85241c452b 5a54472c8b7d489d86179d5ccbbb6866 7a25c3f03b284e6a8e53d7d3494c4fd9 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_c16e7edc-1366-4354-a2ee-17f69826e7a4', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:40:24.203 25 INFO cinder.volume.drivers.lightos [None req-7d340bd2-8ef5-4836-9c18-2e85241c452b 5a54472c8b7d489d86179d5ccbbb6866 7a25c3f03b284e6a8e53d7d3494c4fd9 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ff86ead0-e529-47a4-9296-e4f2696841d8             request.body: {} ssl_verify: False
2025-01-13 12:40:24.408 25 INFO cinder.volume.drivers.lightos [None req-4b64ce48-ee63-4982-9dac-e97e76575902 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_43c1a061-fb8b-4e4e-b84b-2029fcd0543d             request.body: {} ssl_verify: False
2025-01-13 12:40:24.420 25 INFO cinder.volume.drivers.lightos [None req-4b64ce48-ee63-4982-9dac-e97e76575902 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/08d6a2db-c907-444c-823e-bfb96303aba6?             request.body:  ssl_verify: False
2025-01-13 12:40:24.476 25 INFO cinder.volume.drivers.lightos [None req-4b64ce48-ee63-4982-9dac-e97e76575902 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/08d6a2db-c907-444c-823e-bfb96303aba6             request.body: {} ssl_verify: False
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager [None req-4b64ce48-ee63-4982-9dac-e97e76575902 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager 
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager 
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:24.496 25 ERROR cinder.volume.manager 
2025-01-13 12:40:24.524 25 INFO cinder.volume.manager [None req-4b64ce48-ee63-4982-9dac-e97e76575902 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Deleted volume successfully.
2025-01-13 12:40:25.220 25 INFO cinder.volume.drivers.lightos [None req-7d340bd2-8ef5-4836-9c18-2e85241c452b 5a54472c8b7d489d86179d5ccbbb6866 7a25c3f03b284e6a8e53d7d3494c4fd9 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ff86ead0-e529-47a4-9296-e4f2696841d8             request.body: {} ssl_verify: False
2025-01-13 12:40:25.248 25 INFO cinder.volume.flows.manager.create_volume [None req-7d340bd2-8ef5-4836-9c18-2e85241c452b 5a54472c8b7d489d86179d5ccbbb6866 7a25c3f03b284e6a8e53d7d3494c4fd9 - - - -] Volume vol_c16e7edc-1366-4354-a2ee-17f69826e7a4 (c16e7edc-1366-4354-a2ee-17f69826e7a4): created successfully
2025-01-13 12:40:25.261 25 INFO cinder.volume.manager [None req-7d340bd2-8ef5-4836-9c18-2e85241c452b 5a54472c8b7d489d86179d5ccbbb6866 7a25c3f03b284e6a8e53d7d3494c4fd9 - - - -] Created volume successfully.
2025-01-13 12:40:25.551 25 INFO cinder.volume.drivers.lightos [None req-346b3633-ede9-42d2-bcd7-794d0f76248e 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_6f6246a2-bc9d-4a1f-b010-8261d0577cee             request.body: {} ssl_verify: False
2025-01-13 12:40:25.562 25 INFO cinder.volume.drivers.lightos [None req-346b3633-ede9-42d2-bcd7-794d0f76248e 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/f6871b24-90a8-4b07-9ac4-8a539cd5147c?             request.body:  ssl_verify: False
2025-01-13 12:40:25.585 25 INFO cinder.volume.drivers.lightos [None req-346b3633-ede9-42d2-bcd7-794d0f76248e 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/f6871b24-90a8-4b07-9ac4-8a539cd5147c             request.body: {} ssl_verify: False
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager [None req-346b3633-ede9-42d2-bcd7-794d0f76248e 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager 
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager 
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:25.612 25 ERROR cinder.volume.manager 
2025-01-13 12:40:25.639 25 INFO cinder.volume.manager [None req-346b3633-ede9-42d2-bcd7-794d0f76248e 2aa53eda97484cae9bf6c392a6bb137a e03acbdf896a4f6390bf1ffc52d09a97 - - - -] Deleted volume successfully.
2025-01-13 12:40:26.824 25 INFO cinder.volume.manager [None req-88459501-596b-478a-8890-3e9cc3109857 f7d4c7c79b9b481c836be2a5e6e184a5 2d2842abbce14322ab7604bb111099a1 - - - -] Transfer volume completed successfully.
2025-01-13 12:40:27.835 25 INFO cinder.volume.drivers.lightos [None req-38a7e4dc-d62a-4c0b-9738-3a406c1d0cc7 9a5934f9aecc4b8e8d4e5bd2156e3eb6 e9f8f55608b249d7b1ceef044c904b42 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_c16e7edc-1366-4354-a2ee-17f69826e7a4             request.body: {} ssl_verify: False
2025-01-13 12:40:27.863 25 INFO cinder.volume.drivers.lightos [None req-38a7e4dc-d62a-4c0b-9738-3a406c1d0cc7 9a5934f9aecc4b8e8d4e5bd2156e3eb6 e9f8f55608b249d7b1ceef044c904b42 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/ff86ead0-e529-47a4-9296-e4f2696841d8?             request.body:  ssl_verify: False
2025-01-13 12:40:27.937 25 INFO cinder.volume.drivers.lightos [None req-38a7e4dc-d62a-4c0b-9738-3a406c1d0cc7 9a5934f9aecc4b8e8d4e5bd2156e3eb6 e9f8f55608b249d7b1ceef044c904b42 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ff86ead0-e529-47a4-9296-e4f2696841d8             request.body: {} ssl_verify: False
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager [None req-38a7e4dc-d62a-4c0b-9738-3a406c1d0cc7 9a5934f9aecc4b8e8d4e5bd2156e3eb6 e9f8f55608b249d7b1ceef044c904b42 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager 
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager 
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:27.986 25 ERROR cinder.volume.manager 
2025-01-13 12:40:28.017 25 INFO cinder.volume.manager [None req-38a7e4dc-d62a-4c0b-9738-3a406c1d0cc7 9a5934f9aecc4b8e8d4e5bd2156e3eb6 e9f8f55608b249d7b1ceef044c904b42 - - - -] Deleted volume successfully.
2025-01-13 12:40:29.315 25 INFO cinder.volume.flows.manager.create_volume [None req-b66b9fd8-5598-48eb-862a-2538aebdf7f6 5a54472c8b7d489d86179d5ccbbb6866 7a25c3f03b284e6a8e53d7d3494c4fd9 - - - -] Volume 180579e2-20b0-4daa-84c5-bbaf0f221533: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_180579e2-20b0-4daa-84c5-bbaf0f221533', 'volume_size': 1}
2025-01-13 12:40:29.315 25 INFO cinder.volume.drivers.lightos [None req-b66b9fd8-5598-48eb-862a-2538aebdf7f6 5a54472c8b7d489d86179d5ccbbb6866 7a25c3f03b284e6a8e53d7d3494c4fd9 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_180579e2-20b0-4daa-84c5-bbaf0f221533             request.body: {} ssl_verify: False
2025-01-13 12:40:29.336 25 INFO cinder.volume.drivers.lightos [None req-b66b9fd8-5598-48eb-862a-2538aebdf7f6 5a54472c8b7d489d86179d5ccbbb6866 7a25c3f03b284e6a8e53d7d3494c4fd9 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_180579e2-20b0-4daa-84c5-bbaf0f221533', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:40:29.367 25 INFO cinder.volume.drivers.lightos [None req-b66b9fd8-5598-48eb-862a-2538aebdf7f6 5a54472c8b7d489d86179d5ccbbb6866 7a25c3f03b284e6a8e53d7d3494c4fd9 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/2ffe9209-1415-481a-bba7-05fb6fe21420             request.body: {} ssl_verify: False
2025-01-13 12:40:30.394 25 INFO cinder.volume.drivers.lightos [None req-b66b9fd8-5598-48eb-862a-2538aebdf7f6 5a54472c8b7d489d86179d5ccbbb6866 7a25c3f03b284e6a8e53d7d3494c4fd9 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/2ffe9209-1415-481a-bba7-05fb6fe21420             request.body: {} ssl_verify: False
2025-01-13 12:40:30.431 25 INFO cinder.volume.flows.manager.create_volume [None req-b66b9fd8-5598-48eb-862a-2538aebdf7f6 5a54472c8b7d489d86179d5ccbbb6866 7a25c3f03b284e6a8e53d7d3494c4fd9 - - - -] Volume vol_180579e2-20b0-4daa-84c5-bbaf0f221533 (180579e2-20b0-4daa-84c5-bbaf0f221533): created successfully
2025-01-13 12:40:30.440 25 INFO cinder.volume.manager [None req-b66b9fd8-5598-48eb-862a-2538aebdf7f6 5a54472c8b7d489d86179d5ccbbb6866 7a25c3f03b284e6a8e53d7d3494c4fd9 - - - -] Created volume successfully.
2025-01-13 12:40:31.749 25 INFO cinder.volume.drivers.lightos [None req-fa358424-6982-494d-ace6-ad26bbb1ef40 9a5934f9aecc4b8e8d4e5bd2156e3eb6 e9f8f55608b249d7b1ceef044c904b42 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_180579e2-20b0-4daa-84c5-bbaf0f221533             request.body: {} ssl_verify: False
2025-01-13 12:40:31.761 25 INFO cinder.volume.drivers.lightos [None req-fa358424-6982-494d-ace6-ad26bbb1ef40 9a5934f9aecc4b8e8d4e5bd2156e3eb6 e9f8f55608b249d7b1ceef044c904b42 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/2ffe9209-1415-481a-bba7-05fb6fe21420?             request.body:  ssl_verify: False
2025-01-13 12:40:31.786 25 INFO cinder.volume.drivers.lightos [None req-fa358424-6982-494d-ace6-ad26bbb1ef40 9a5934f9aecc4b8e8d4e5bd2156e3eb6 e9f8f55608b249d7b1ceef044c904b42 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/2ffe9209-1415-481a-bba7-05fb6fe21420             request.body: {} ssl_verify: False
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager [None req-fa358424-6982-494d-ace6-ad26bbb1ef40 9a5934f9aecc4b8e8d4e5bd2156e3eb6 e9f8f55608b249d7b1ceef044c904b42 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager 
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager 
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:31.817 25 ERROR cinder.volume.manager 
2025-01-13 12:40:31.848 25 INFO cinder.volume.manager [None req-fa358424-6982-494d-ace6-ad26bbb1ef40 9a5934f9aecc4b8e8d4e5bd2156e3eb6 e9f8f55608b249d7b1ceef044c904b42 - - - -] Deleted volume successfully.
2025-01-13 12:40:33.618 25 INFO cinder.volume.flows.manager.create_volume [None req-edd79812-bcb2-4d01-bbf1-02d1b9df2bcf a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Volume 6c7214d0-e414-4245-91ad-54525f53570d: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_6c7214d0-e414-4245-91ad-54525f53570d', 'volume_size': 1}
2025-01-13 12:40:33.618 25 INFO cinder.volume.drivers.lightos [None req-edd79812-bcb2-4d01-bbf1-02d1b9df2bcf a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_6c7214d0-e414-4245-91ad-54525f53570d             request.body: {} ssl_verify: False
2025-01-13 12:40:33.629 25 INFO cinder.volume.drivers.lightos [None req-edd79812-bcb2-4d01-bbf1-02d1b9df2bcf a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_6c7214d0-e414-4245-91ad-54525f53570d', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:40:33.659 25 INFO cinder.volume.drivers.lightos [None req-edd79812-bcb2-4d01-bbf1-02d1b9df2bcf a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/03c79b1f-4011-43a3-b0b6-978b83840acc             request.body: {} ssl_verify: False
2025-01-13 12:40:34.681 25 INFO cinder.volume.drivers.lightos [None req-edd79812-bcb2-4d01-bbf1-02d1b9df2bcf a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/03c79b1f-4011-43a3-b0b6-978b83840acc             request.body: {} ssl_verify: False
2025-01-13 12:40:34.730 25 INFO cinder.volume.flows.manager.create_volume [None req-edd79812-bcb2-4d01-bbf1-02d1b9df2bcf a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Volume vol_6c7214d0-e414-4245-91ad-54525f53570d (6c7214d0-e414-4245-91ad-54525f53570d): created successfully
2025-01-13 12:40:34.737 25 INFO cinder.volume.manager [None req-edd79812-bcb2-4d01-bbf1-02d1b9df2bcf a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Created volume successfully.
2025-01-13 12:40:36.094 25 INFO cinder.volume.flows.manager.create_volume [None req-2acbecd7-fc79-4562-b18a-a3b8b3c70429 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Volume e392ac0c-0791-4a8b-a1d4-e75991379f48: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_e392ac0c-0791-4a8b-a1d4-e75991379f48', 'volume_size': 1}
2025-01-13 12:40:36.094 25 INFO cinder.volume.drivers.lightos [None req-2acbecd7-fc79-4562-b18a-a3b8b3c70429 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_e392ac0c-0791-4a8b-a1d4-e75991379f48             request.body: {} ssl_verify: False
2025-01-13 12:40:36.114 25 INFO cinder.volume.drivers.lightos [None req-2acbecd7-fc79-4562-b18a-a3b8b3c70429 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_e392ac0c-0791-4a8b-a1d4-e75991379f48', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:40:36.169 25 INFO cinder.volume.drivers.lightos [None req-2acbecd7-fc79-4562-b18a-a3b8b3c70429 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/42266969-7d67-4d45-82ad-7f3d93c0bb3b             request.body: {} ssl_verify: False
2025-01-13 12:40:37.214 25 INFO cinder.volume.drivers.lightos [None req-2acbecd7-fc79-4562-b18a-a3b8b3c70429 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/42266969-7d67-4d45-82ad-7f3d93c0bb3b             request.body: {} ssl_verify: False
2025-01-13 12:40:37.236 25 INFO cinder.volume.flows.manager.create_volume [None req-d9741adc-33f1-4cc5-84e4-513a721a742f c3aaa16b5495491b835924076d8fcad3 2e9700b3016840d8a10c0fe04e2331a4 - - - -] Volume d137cca3-4236-434a-9e6a-8a0f35ad41b6: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_d137cca3-4236-434a-9e6a-8a0f35ad41b6', 'volume_size': 2}
2025-01-13 12:40:37.236 25 INFO cinder.volume.drivers.lightos [None req-d9741adc-33f1-4cc5-84e4-513a721a742f c3aaa16b5495491b835924076d8fcad3 2e9700b3016840d8a10c0fe04e2331a4 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_d137cca3-4236-434a-9e6a-8a0f35ad41b6             request.body: {} ssl_verify: False
2025-01-13 12:40:37.248 25 INFO cinder.volume.flows.manager.create_volume [None req-2acbecd7-fc79-4562-b18a-a3b8b3c70429 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Volume vol_e392ac0c-0791-4a8b-a1d4-e75991379f48 (e392ac0c-0791-4a8b-a1d4-e75991379f48): created successfully
2025-01-13 12:40:37.252 25 INFO cinder.volume.drivers.lightos [None req-d9741adc-33f1-4cc5-84e4-513a721a742f c3aaa16b5495491b835924076d8fcad3 2e9700b3016840d8a10c0fe04e2331a4 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_d137cca3-4236-434a-9e6a-8a0f35ad41b6', 'size': '2 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:40:37.260 25 INFO cinder.volume.manager [None req-2acbecd7-fc79-4562-b18a-a3b8b3c70429 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Created volume successfully.
2025-01-13 12:40:37.274 25 INFO cinder.volume.drivers.lightos [None req-d9741adc-33f1-4cc5-84e4-513a721a742f c3aaa16b5495491b835924076d8fcad3 2e9700b3016840d8a10c0fe04e2331a4 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/3c0dcf33-bffc-4424-9bed-aa966123d355             request.body: {} ssl_verify: False
2025-01-13 12:40:38.298 25 INFO cinder.volume.drivers.lightos [None req-d9741adc-33f1-4cc5-84e4-513a721a742f c3aaa16b5495491b835924076d8fcad3 2e9700b3016840d8a10c0fe04e2331a4 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/3c0dcf33-bffc-4424-9bed-aa966123d355             request.body: {} ssl_verify: False
2025-01-13 12:40:38.330 25 INFO cinder.volume.flows.manager.create_volume [None req-d9741adc-33f1-4cc5-84e4-513a721a742f c3aaa16b5495491b835924076d8fcad3 2e9700b3016840d8a10c0fe04e2331a4 - - - -] Volume vol_d137cca3-4236-434a-9e6a-8a0f35ad41b6 (d137cca3-4236-434a-9e6a-8a0f35ad41b6): created successfully
2025-01-13 12:40:38.339 25 INFO cinder.volume.manager [None req-d9741adc-33f1-4cc5-84e4-513a721a742f c3aaa16b5495491b835924076d8fcad3 2e9700b3016840d8a10c0fe04e2331a4 - - - -] Created volume successfully.
2025-01-13 12:40:38.553 25 INFO cinder.volume.flows.manager.create_volume [None req-f7047ce9-41db-4939-a278-d429fba681d2 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Volume 82e3e4ca-f393-4e1f-a673-f2389df29dcd: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_82e3e4ca-f393-4e1f-a673-f2389df29dcd', 'volume_size': 1}
2025-01-13 12:40:38.553 25 INFO cinder.volume.drivers.lightos [None req-f7047ce9-41db-4939-a278-d429fba681d2 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_82e3e4ca-f393-4e1f-a673-f2389df29dcd             request.body: {} ssl_verify: False
2025-01-13 12:40:38.563 25 INFO cinder.volume.drivers.lightos [None req-f7047ce9-41db-4939-a278-d429fba681d2 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_82e3e4ca-f393-4e1f-a673-f2389df29dcd', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:40:38.595 25 INFO cinder.volume.drivers.lightos [None req-f7047ce9-41db-4939-a278-d429fba681d2 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/0a179bfb-3030-44ef-9b4f-4b1a8c18a098             request.body: {} ssl_verify: False
2025-01-13 12:40:39.549 25 INFO cinder.volume.drivers.lightos [None req-9cf8f583-64d7-4e76-9ce3-cb510361b08b c3aaa16b5495491b835924076d8fcad3 2e9700b3016840d8a10c0fe04e2331a4 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_d137cca3-4236-434a-9e6a-8a0f35ad41b6             request.body: {} ssl_verify: False
2025-01-13 12:40:39.564 25 INFO cinder.volume.drivers.lightos [None req-9cf8f583-64d7-4e76-9ce3-cb510361b08b c3aaa16b5495491b835924076d8fcad3 2e9700b3016840d8a10c0fe04e2331a4 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/3c0dcf33-bffc-4424-9bed-aa966123d355?             request.body:  ssl_verify: False
2025-01-13 12:40:39.597 25 INFO cinder.volume.drivers.lightos [None req-9cf8f583-64d7-4e76-9ce3-cb510361b08b c3aaa16b5495491b835924076d8fcad3 2e9700b3016840d8a10c0fe04e2331a4 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/3c0dcf33-bffc-4424-9bed-aa966123d355             request.body: {} ssl_verify: False
2025-01-13 12:40:39.622 25 INFO cinder.volume.drivers.lightos [None req-f7047ce9-41db-4939-a278-d429fba681d2 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/0a179bfb-3030-44ef-9b4f-4b1a8c18a098             request.body: {} ssl_verify: False
2025-01-13 12:40:39.662 25 INFO cinder.volume.flows.manager.create_volume [None req-f7047ce9-41db-4939-a278-d429fba681d2 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Volume vol_82e3e4ca-f393-4e1f-a673-f2389df29dcd (82e3e4ca-f393-4e1f-a673-f2389df29dcd): created successfully
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager [None req-9cf8f583-64d7-4e76-9ce3-cb510361b08b c3aaa16b5495491b835924076d8fcad3 2e9700b3016840d8a10c0fe04e2331a4 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager 
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager 
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:39.668 25 ERROR cinder.volume.manager 
2025-01-13 12:40:39.676 25 INFO cinder.volume.manager [None req-f7047ce9-41db-4939-a278-d429fba681d2 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Created volume successfully.
2025-01-13 12:40:39.695 25 INFO cinder.volume.manager [None req-9cf8f583-64d7-4e76-9ce3-cb510361b08b c3aaa16b5495491b835924076d8fcad3 2e9700b3016840d8a10c0fe04e2331a4 - - - -] Deleted volume successfully.
2025-01-13 12:40:43.303 25 INFO cinder.volume.drivers.lightos [None req-b06295ae-7b02-42ea-bc52-fe0116952eef a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_82e3e4ca-f393-4e1f-a673-f2389df29dcd             request.body: {} ssl_verify: False
2025-01-13 12:40:43.320 25 INFO cinder.volume.drivers.lightos [None req-b06295ae-7b02-42ea-bc52-fe0116952eef a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/0a179bfb-3030-44ef-9b4f-4b1a8c18a098?             request.body:  ssl_verify: False
2025-01-13 12:40:43.354 25 INFO cinder.volume.drivers.lightos [None req-b06295ae-7b02-42ea-bc52-fe0116952eef a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/0a179bfb-3030-44ef-9b4f-4b1a8c18a098             request.body: {} ssl_verify: False
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager [None req-b06295ae-7b02-42ea-bc52-fe0116952eef a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager 
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager 
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:43.411 25 ERROR cinder.volume.manager 
2025-01-13 12:40:43.443 25 INFO cinder.volume.manager [None req-b06295ae-7b02-42ea-bc52-fe0116952eef a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Deleted volume successfully.
2025-01-13 12:40:44.553 25 INFO cinder.volume.drivers.lightos [None req-885cae31-e77c-4c95-a46c-c34d3c0b440e a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_e392ac0c-0791-4a8b-a1d4-e75991379f48             request.body: {} ssl_verify: False
2025-01-13 12:40:44.565 25 INFO cinder.volume.drivers.lightos [None req-885cae31-e77c-4c95-a46c-c34d3c0b440e a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/42266969-7d67-4d45-82ad-7f3d93c0bb3b?             request.body:  ssl_verify: False
2025-01-13 12:40:44.595 25 INFO cinder.volume.drivers.lightos [None req-885cae31-e77c-4c95-a46c-c34d3c0b440e a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/42266969-7d67-4d45-82ad-7f3d93c0bb3b             request.body: {} ssl_verify: False
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager [None req-885cae31-e77c-4c95-a46c-c34d3c0b440e a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager 
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager 
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:44.644 25 ERROR cinder.volume.manager 
2025-01-13 12:40:44.678 25 INFO cinder.volume.manager [None req-885cae31-e77c-4c95-a46c-c34d3c0b440e a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Deleted volume successfully.
2025-01-13 12:40:45.774 25 INFO cinder.volume.drivers.lightos [None req-5560e11c-e98e-43d2-9694-9b2327748009 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_6c7214d0-e414-4245-91ad-54525f53570d             request.body: {} ssl_verify: False
2025-01-13 12:40:45.786 25 INFO cinder.volume.drivers.lightos [None req-5560e11c-e98e-43d2-9694-9b2327748009 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/03c79b1f-4011-43a3-b0b6-978b83840acc?             request.body:  ssl_verify: False
2025-01-13 12:40:45.813 25 INFO cinder.volume.drivers.lightos [None req-5560e11c-e98e-43d2-9694-9b2327748009 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/03c79b1f-4011-43a3-b0b6-978b83840acc             request.body: {} ssl_verify: False
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager [None req-5560e11c-e98e-43d2-9694-9b2327748009 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager 
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager 
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:45.834 25 ERROR cinder.volume.manager 
2025-01-13 12:40:45.863 25 INFO cinder.volume.manager [None req-5560e11c-e98e-43d2-9694-9b2327748009 a00ec79294a649d7969d2775c264f1da 22bbf2fcf8af43f3ab563e6f79f321dd - - - -] Deleted volume successfully.
2025-01-13 12:40:50.737 25 INFO cinder.volume.flows.manager.create_volume [None req-11ef9b70-0635-4cb5-9bf5-a02eb943fafa c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Volume e750bb25-f748-44ed-815d-fbc4ffae568a: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_e750bb25-f748-44ed-815d-fbc4ffae568a', 'volume_size': 2}
2025-01-13 12:40:50.737 25 INFO cinder.volume.drivers.lightos [None req-11ef9b70-0635-4cb5-9bf5-a02eb943fafa c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_e750bb25-f748-44ed-815d-fbc4ffae568a             request.body: {} ssl_verify: False
2025-01-13 12:40:50.759 25 INFO cinder.volume.drivers.lightos [None req-11ef9b70-0635-4cb5-9bf5-a02eb943fafa c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_e750bb25-f748-44ed-815d-fbc4ffae568a', 'size': '2 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:40:50.793 25 INFO cinder.volume.drivers.lightos [None req-11ef9b70-0635-4cb5-9bf5-a02eb943fafa c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/18878ba9-ca4b-4524-afb3-e2690171acf9             request.body: {} ssl_verify: False
2025-01-13 12:40:51.833 25 INFO cinder.volume.drivers.lightos [None req-11ef9b70-0635-4cb5-9bf5-a02eb943fafa c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/18878ba9-ca4b-4524-afb3-e2690171acf9             request.body: {} ssl_verify: False
2025-01-13 12:40:51.866 25 INFO cinder.volume.flows.manager.create_volume [None req-11ef9b70-0635-4cb5-9bf5-a02eb943fafa c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Volume vol_e750bb25-f748-44ed-815d-fbc4ffae568a (e750bb25-f748-44ed-815d-fbc4ffae568a): created successfully
2025-01-13 12:40:51.877 25 INFO cinder.volume.manager [None req-11ef9b70-0635-4cb5-9bf5-a02eb943fafa c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Created volume successfully.
2025-01-13 12:40:52.989 25 INFO cinder.volume.drivers.lightos [None req-e5952a71-a432-4667-9784-866990fb4cd0 c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-fbe207ef-9766-4e5f-9f45-0eae1d0456b4             request.body: {} ssl_verify: False
2025-01-13 12:40:53.012 25 INFO cinder.volume.drivers.lightos [None req-e5952a71-a432-4667-9784-866990fb4cd0 c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-fbe207ef-9766-4e5f-9f45-0eae1d0456b4', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_e750bb25-f748-44ed-815d-fbc4ffae568a'} ssl_verify: False
2025-01-13 12:40:53.044 25 INFO cinder.volume.drivers.lightos [None req-e5952a71-a432-4667-9784-866990fb4cd0 c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-fbe207ef-9766-4e5f-9f45-0eae1d0456b4             request.body: {} ssl_verify: False
2025-01-13 12:40:54.126 25 INFO cinder.volume.drivers.lightos [None req-e5952a71-a432-4667-9784-866990fb4cd0 c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-fbe207ef-9766-4e5f-9f45-0eae1d0456b4             request.body: {} ssl_verify: False
2025-01-13 12:40:54.163 25 INFO cinder.volume.manager [None req-e5952a71-a432-4667-9784-866990fb4cd0 c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Create snapshot completed successfully
2025-01-13 12:40:55.141 25 INFO cinder.volume.drivers.lightos [None req-ab96e8b5-48a3-415c-add6-291117b34313 c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-fbe207ef-9766-4e5f-9f45-0eae1d0456b4             request.body: {} ssl_verify: False
2025-01-13 12:40:55.156 25 INFO cinder.volume.drivers.lightos [None req-ab96e8b5-48a3-415c-add6-291117b34313 c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/34d4b13f-15d2-4e9e-89af-b68aaca0d3cb?             request.body:  ssl_verify: False
2025-01-13 12:40:55.184 25 INFO cinder.volume.drivers.lightos [None req-ab96e8b5-48a3-415c-add6-291117b34313 c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/34d4b13f-15d2-4e9e-89af-b68aaca0d3cb             request.body: {} ssl_verify: False
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager [None req-ab96e8b5-48a3-415c-add6-291117b34313 c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager 
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager 
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:55.244 25 ERROR cinder.volume.manager 
2025-01-13 12:40:55.254 25 INFO cinder.volume.manager [None req-ab96e8b5-48a3-415c-add6-291117b34313 c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Delete snapshot completed successfully.
2025-01-13 12:40:56.330 25 INFO cinder.volume.drivers.lightos [None req-81d2072d-3f9b-4e19-b7f2-ceec6df8b97a c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_e750bb25-f748-44ed-815d-fbc4ffae568a             request.body: {} ssl_verify: False
2025-01-13 12:40:56.341 25 INFO cinder.volume.drivers.lightos [None req-81d2072d-3f9b-4e19-b7f2-ceec6df8b97a c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/18878ba9-ca4b-4524-afb3-e2690171acf9?             request.body:  ssl_verify: False
2025-01-13 12:40:56.363 25 INFO cinder.volume.drivers.lightos [None req-81d2072d-3f9b-4e19-b7f2-ceec6df8b97a c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/18878ba9-ca4b-4524-afb3-e2690171acf9             request.body: {} ssl_verify: False
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager [None req-81d2072d-3f9b-4e19-b7f2-ceec6df8b97a c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager 
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager 
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:40:56.401 25 ERROR cinder.volume.manager 
2025-01-13 12:40:56.429 25 INFO cinder.volume.manager [None req-81d2072d-3f9b-4e19-b7f2-ceec6df8b97a c1559d54eea14e6fbd7392e91557db5a ac5c896cd978419f8593203450edc177 - - - -] Deleted volume successfully.
2025-01-13 12:43:34.303 25 INFO cinder.volume.flows.manager.create_volume [None req-919ee124-bb81-4aa0-aaf2-4a78aa0ce1fc 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Volume 89fd3110-2f26-4c87-9a4a-3525fcd0bdbe: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_89fd3110-2f26-4c87-9a4a-3525fcd0bdbe', 'volume_size': 1}
2025-01-13 12:43:34.304 25 INFO cinder.volume.drivers.lightos [None req-919ee124-bb81-4aa0-aaf2-4a78aa0ce1fc 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_89fd3110-2f26-4c87-9a4a-3525fcd0bdbe             request.body: {} ssl_verify: False
2025-01-13 12:43:34.330 25 INFO cinder.volume.drivers.lightos [None req-919ee124-bb81-4aa0-aaf2-4a78aa0ce1fc 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_89fd3110-2f26-4c87-9a4a-3525fcd0bdbe', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:43:34.370 25 INFO cinder.volume.drivers.lightos [None req-919ee124-bb81-4aa0-aaf2-4a78aa0ce1fc 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ff2a0154-e7cb-4b8f-8f40-a26748f2b6d3             request.body: {} ssl_verify: False
2025-01-13 12:43:35.425 25 INFO cinder.volume.drivers.lightos [None req-919ee124-bb81-4aa0-aaf2-4a78aa0ce1fc 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ff2a0154-e7cb-4b8f-8f40-a26748f2b6d3             request.body: {} ssl_verify: False
2025-01-13 12:43:35.463 25 INFO cinder.volume.flows.manager.create_volume [None req-919ee124-bb81-4aa0-aaf2-4a78aa0ce1fc 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Volume vol_89fd3110-2f26-4c87-9a4a-3525fcd0bdbe (89fd3110-2f26-4c87-9a4a-3525fcd0bdbe): created successfully
2025-01-13 12:43:35.476 25 INFO cinder.volume.manager [None req-919ee124-bb81-4aa0-aaf2-4a78aa0ce1fc 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Created volume successfully.
2025-01-13 12:43:36.777 25 INFO cinder.volume.flows.manager.create_volume [None req-341cb6fd-75ec-40a8-bd45-e81ef3f0bf87 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Volume c07928ab-ed7c-4791-ab2c-b41bf58d5cfd: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_c07928ab-ed7c-4791-ab2c-b41bf58d5cfd', 'volume_size': 1}
2025-01-13 12:43:36.778 25 INFO cinder.volume.drivers.lightos [None req-341cb6fd-75ec-40a8-bd45-e81ef3f0bf87 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_c07928ab-ed7c-4791-ab2c-b41bf58d5cfd             request.body: {} ssl_verify: False
2025-01-13 12:43:36.793 25 INFO cinder.volume.drivers.lightos [None req-341cb6fd-75ec-40a8-bd45-e81ef3f0bf87 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_c07928ab-ed7c-4791-ab2c-b41bf58d5cfd', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:43:36.841 25 INFO cinder.volume.drivers.lightos [None req-341cb6fd-75ec-40a8-bd45-e81ef3f0bf87 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/e9763007-8b05-44fe-b7aa-015ea407ddca             request.body: {} ssl_verify: False
2025-01-13 12:43:37.877 25 INFO cinder.volume.drivers.lightos [None req-341cb6fd-75ec-40a8-bd45-e81ef3f0bf87 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/e9763007-8b05-44fe-b7aa-015ea407ddca             request.body: {} ssl_verify: False
2025-01-13 12:43:37.907 25 INFO cinder.volume.flows.manager.create_volume [None req-341cb6fd-75ec-40a8-bd45-e81ef3f0bf87 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Volume vol_c07928ab-ed7c-4791-ab2c-b41bf58d5cfd (c07928ab-ed7c-4791-ab2c-b41bf58d5cfd): created successfully
2025-01-13 12:43:37.926 25 INFO cinder.volume.manager [None req-341cb6fd-75ec-40a8-bd45-e81ef3f0bf87 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Created volume successfully.
2025-01-13 12:43:39.276 25 INFO cinder.volume.flows.manager.create_volume [None req-85c81bda-7b93-4b1b-abe4-a65d8ae8d93b 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Volume de8c23f0-9411-494c-b9dd-a736d8693d29: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_de8c23f0-9411-494c-b9dd-a736d8693d29', 'volume_size': 1}
2025-01-13 12:43:39.276 25 INFO cinder.volume.drivers.lightos [None req-85c81bda-7b93-4b1b-abe4-a65d8ae8d93b 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_de8c23f0-9411-494c-b9dd-a736d8693d29             request.body: {} ssl_verify: False
2025-01-13 12:43:39.294 25 INFO cinder.volume.drivers.lightos [None req-85c81bda-7b93-4b1b-abe4-a65d8ae8d93b 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_de8c23f0-9411-494c-b9dd-a736d8693d29', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:43:39.337 25 INFO cinder.volume.drivers.lightos [None req-85c81bda-7b93-4b1b-abe4-a65d8ae8d93b 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/5e0f2077-ff57-410f-b9d0-b584b5db7b6c             request.body: {} ssl_verify: False
2025-01-13 12:43:40.389 25 INFO cinder.volume.drivers.lightos [None req-85c81bda-7b93-4b1b-abe4-a65d8ae8d93b 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/5e0f2077-ff57-410f-b9d0-b584b5db7b6c             request.body: {} ssl_verify: False
2025-01-13 12:43:40.422 25 INFO cinder.volume.flows.manager.create_volume [None req-85c81bda-7b93-4b1b-abe4-a65d8ae8d93b 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Volume vol_de8c23f0-9411-494c-b9dd-a736d8693d29 (de8c23f0-9411-494c-b9dd-a736d8693d29): created successfully
2025-01-13 12:43:40.430 25 INFO cinder.volume.manager [None req-85c81bda-7b93-4b1b-abe4-a65d8ae8d93b 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Created volume successfully.
2025-01-13 12:43:41.933 25 INFO cinder.volume.flows.manager.create_volume [None req-c41eda01-5607-49c3-b6ad-8c399fc5955f c5acd48339224728be26e0e7bf487d03 0c17a7b027324698b338c8245a35b131 - - - -] Volume 00e506cf-7183-44ef-a898-3fa08857cbfc: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_00e506cf-7183-44ef-a898-3fa08857cbfc', 'volume_size': 1}
2025-01-13 12:43:41.933 25 INFO cinder.volume.drivers.lightos [None req-c41eda01-5607-49c3-b6ad-8c399fc5955f c5acd48339224728be26e0e7bf487d03 0c17a7b027324698b338c8245a35b131 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_00e506cf-7183-44ef-a898-3fa08857cbfc             request.body: {} ssl_verify: False
2025-01-13 12:43:41.945 25 INFO cinder.volume.drivers.lightos [None req-c41eda01-5607-49c3-b6ad-8c399fc5955f c5acd48339224728be26e0e7bf487d03 0c17a7b027324698b338c8245a35b131 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_00e506cf-7183-44ef-a898-3fa08857cbfc', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:43:41.985 25 INFO cinder.volume.drivers.lightos [None req-c41eda01-5607-49c3-b6ad-8c399fc5955f c5acd48339224728be26e0e7bf487d03 0c17a7b027324698b338c8245a35b131 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/9cc369bc-53b9-4cc6-8942-cf79ea53c124             request.body: {} ssl_verify: False
2025-01-13 12:43:43.004 25 INFO cinder.volume.drivers.lightos [None req-c41eda01-5607-49c3-b6ad-8c399fc5955f c5acd48339224728be26e0e7bf487d03 0c17a7b027324698b338c8245a35b131 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/9cc369bc-53b9-4cc6-8942-cf79ea53c124             request.body: {} ssl_verify: False
2025-01-13 12:43:43.042 25 INFO cinder.volume.flows.manager.create_volume [None req-c41eda01-5607-49c3-b6ad-8c399fc5955f c5acd48339224728be26e0e7bf487d03 0c17a7b027324698b338c8245a35b131 - - - -] Volume vol_00e506cf-7183-44ef-a898-3fa08857cbfc (00e506cf-7183-44ef-a898-3fa08857cbfc): created successfully
2025-01-13 12:43:43.056 25 INFO cinder.volume.manager [None req-c41eda01-5607-49c3-b6ad-8c399fc5955f c5acd48339224728be26e0e7bf487d03 0c17a7b027324698b338c8245a35b131 - - - -] Created volume successfully.
2025-01-13 12:43:44.171 25 INFO cinder.volume.drivers.lightos [None req-6ea4b743-ab05-4ae9-ae05-ac5f6e176a5c c5acd48339224728be26e0e7bf487d03 0c17a7b027324698b338c8245a35b131 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_00e506cf-7183-44ef-a898-3fa08857cbfc             request.body: {} ssl_verify: False
2025-01-13 12:43:44.186 25 INFO cinder.volume.drivers.lightos [None req-6ea4b743-ab05-4ae9-ae05-ac5f6e176a5c c5acd48339224728be26e0e7bf487d03 0c17a7b027324698b338c8245a35b131 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/9cc369bc-53b9-4cc6-8942-cf79ea53c124?             request.body:  ssl_verify: False
2025-01-13 12:43:44.215 25 INFO cinder.volume.drivers.lightos [None req-6ea4b743-ab05-4ae9-ae05-ac5f6e176a5c c5acd48339224728be26e0e7bf487d03 0c17a7b027324698b338c8245a35b131 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/9cc369bc-53b9-4cc6-8942-cf79ea53c124             request.body: {} ssl_verify: False
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager [None req-6ea4b743-ab05-4ae9-ae05-ac5f6e176a5c c5acd48339224728be26e0e7bf487d03 0c17a7b027324698b338c8245a35b131 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager 
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager 
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:43:44.255 25 ERROR cinder.volume.manager 
2025-01-13 12:43:44.300 25 INFO cinder.volume.manager [None req-6ea4b743-ab05-4ae9-ae05-ac5f6e176a5c c5acd48339224728be26e0e7bf487d03 0c17a7b027324698b338c8245a35b131 - - - -] Deleted volume successfully.
2025-01-13 12:43:44.308 25 INFO cinder.volume.drivers.lightos [None req-e2441f81-ac2a-4f56-87fa-930c701ba22e 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_de8c23f0-9411-494c-b9dd-a736d8693d29             request.body: {} ssl_verify: False
2025-01-13 12:43:44.322 25 INFO cinder.volume.drivers.lightos [None req-e2441f81-ac2a-4f56-87fa-930c701ba22e 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/5e0f2077-ff57-410f-b9d0-b584b5db7b6c?             request.body:  ssl_verify: False
2025-01-13 12:43:44.354 25 INFO cinder.volume.drivers.lightos [None req-e2441f81-ac2a-4f56-87fa-930c701ba22e 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/5e0f2077-ff57-410f-b9d0-b584b5db7b6c             request.body: {} ssl_verify: False
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager [None req-e2441f81-ac2a-4f56-87fa-930c701ba22e 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager 
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager 
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:43:44.395 25 ERROR cinder.volume.manager 
2025-01-13 12:43:44.433 25 INFO cinder.volume.manager [None req-e2441f81-ac2a-4f56-87fa-930c701ba22e 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Deleted volume successfully.
2025-01-13 12:43:45.550 25 INFO cinder.volume.drivers.lightos [None req-67cd426b-3745-4621-b0b0-f16a2eef3179 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_c07928ab-ed7c-4791-ab2c-b41bf58d5cfd             request.body: {} ssl_verify: False
2025-01-13 12:43:45.561 25 INFO cinder.volume.drivers.lightos [None req-67cd426b-3745-4621-b0b0-f16a2eef3179 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/e9763007-8b05-44fe-b7aa-015ea407ddca?             request.body:  ssl_verify: False
2025-01-13 12:43:45.602 25 INFO cinder.volume.drivers.lightos [None req-67cd426b-3745-4621-b0b0-f16a2eef3179 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/e9763007-8b05-44fe-b7aa-015ea407ddca             request.body: {} ssl_verify: False
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager [None req-67cd426b-3745-4621-b0b0-f16a2eef3179 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager 
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager 
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:43:45.630 25 ERROR cinder.volume.manager 
2025-01-13 12:43:45.661 25 INFO cinder.volume.manager [None req-67cd426b-3745-4621-b0b0-f16a2eef3179 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Deleted volume successfully.
2025-01-13 12:43:46.780 25 INFO cinder.volume.drivers.lightos [None req-d52b49c4-6a71-4bc6-a299-c052a3e5520d 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_89fd3110-2f26-4c87-9a4a-3525fcd0bdbe             request.body: {} ssl_verify: False
2025-01-13 12:43:46.792 25 INFO cinder.volume.drivers.lightos [None req-d52b49c4-6a71-4bc6-a299-c052a3e5520d 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/ff2a0154-e7cb-4b8f-8f40-a26748f2b6d3?             request.body:  ssl_verify: False
2025-01-13 12:43:46.820 25 INFO cinder.volume.drivers.lightos [None req-d52b49c4-6a71-4bc6-a299-c052a3e5520d 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ff2a0154-e7cb-4b8f-8f40-a26748f2b6d3             request.body: {} ssl_verify: False
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager [None req-d52b49c4-6a71-4bc6-a299-c052a3e5520d 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager 
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager 
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:43:46.852 25 ERROR cinder.volume.manager 
2025-01-13 12:43:46.884 25 INFO cinder.volume.manager [None req-d52b49c4-6a71-4bc6-a299-c052a3e5520d 4c8dd230abf543f19cffe8f94d4775bd 6188dd8b2d654f9286e1210346a3702d - - - -] Deleted volume successfully.
2025-01-13 12:43:51.840 25 INFO cinder.volume.flows.manager.create_volume [None req-9758b9db-8cb1-4e73-b931-a4a7d3cbcac5 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Volume 294121b2-2be0-4cbe-8a95-5b6490cd6a86: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_294121b2-2be0-4cbe-8a95-5b6490cd6a86', 'volume_size': 1}
2025-01-13 12:43:51.840 25 INFO cinder.volume.drivers.lightos [None req-9758b9db-8cb1-4e73-b931-a4a7d3cbcac5 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_294121b2-2be0-4cbe-8a95-5b6490cd6a86             request.body: {} ssl_verify: False
2025-01-13 12:43:51.854 25 INFO cinder.volume.drivers.lightos [None req-9758b9db-8cb1-4e73-b931-a4a7d3cbcac5 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_294121b2-2be0-4cbe-8a95-5b6490cd6a86', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:43:51.899 25 INFO cinder.volume.drivers.lightos [None req-9758b9db-8cb1-4e73-b931-a4a7d3cbcac5 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c2f01d72-723e-4c15-a40a-2a307a7e52ca             request.body: {} ssl_verify: False
2025-01-13 12:43:52.943 25 INFO cinder.volume.drivers.lightos [None req-9758b9db-8cb1-4e73-b931-a4a7d3cbcac5 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c2f01d72-723e-4c15-a40a-2a307a7e52ca             request.body: {} ssl_verify: False
2025-01-13 12:43:52.981 25 INFO cinder.volume.flows.manager.create_volume [None req-9758b9db-8cb1-4e73-b931-a4a7d3cbcac5 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Volume vol_294121b2-2be0-4cbe-8a95-5b6490cd6a86 (294121b2-2be0-4cbe-8a95-5b6490cd6a86): created successfully
2025-01-13 12:43:52.994 25 INFO cinder.volume.manager [None req-9758b9db-8cb1-4e73-b931-a4a7d3cbcac5 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Created volume successfully.
2025-01-13 12:43:54.133 25 INFO cinder.volume.drivers.lightos [None req-953259e9-811c-4467-9d3f-27115545fcdb 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-1ceb7b4f-4bcb-47cb-9dfa-812d134ef3f1             request.body: {} ssl_verify: False
2025-01-13 12:43:54.153 25 INFO cinder.volume.drivers.lightos [None req-953259e9-811c-4467-9d3f-27115545fcdb 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-1ceb7b4f-4bcb-47cb-9dfa-812d134ef3f1', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_294121b2-2be0-4cbe-8a95-5b6490cd6a86'} ssl_verify: False
2025-01-13 12:43:54.189 25 INFO cinder.volume.drivers.lightos [None req-953259e9-811c-4467-9d3f-27115545fcdb 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-1ceb7b4f-4bcb-47cb-9dfa-812d134ef3f1             request.body: {} ssl_verify: False
2025-01-13 12:43:55.228 25 INFO cinder.volume.drivers.lightos [None req-953259e9-811c-4467-9d3f-27115545fcdb 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-1ceb7b4f-4bcb-47cb-9dfa-812d134ef3f1             request.body: {} ssl_verify: False
2025-01-13 12:43:55.269 25 INFO cinder.volume.manager [None req-953259e9-811c-4467-9d3f-27115545fcdb 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Create snapshot completed successfully
2025-01-13 12:43:56.932 25 INFO cinder.volume.drivers.lightos [None req-323fb286-6ed4-4b17-b94f-dceb3ebba319 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-1ceb7b4f-4bcb-47cb-9dfa-812d134ef3f1             request.body: {} ssl_verify: False
2025-01-13 12:43:56.958 25 INFO cinder.volume.drivers.lightos [None req-323fb286-6ed4-4b17-b94f-dceb3ebba319 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/6de9add9-8f73-4012-8cab-07d7c581dd80?             request.body:  ssl_verify: False
2025-01-13 12:43:56.992 25 INFO cinder.volume.drivers.lightos [None req-323fb286-6ed4-4b17-b94f-dceb3ebba319 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/6de9add9-8f73-4012-8cab-07d7c581dd80             request.body: {} ssl_verify: False
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager [None req-323fb286-6ed4-4b17-b94f-dceb3ebba319 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager 
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager 
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:43:57.051 25 ERROR cinder.volume.manager 
2025-01-13 12:43:57.066 25 INFO cinder.volume.manager [None req-323fb286-6ed4-4b17-b94f-dceb3ebba319 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Delete snapshot completed successfully.
2025-01-13 12:43:58.141 25 INFO cinder.volume.drivers.lightos [None req-d59a61ed-eace-4b63-90b3-e37166b7dae5 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_294121b2-2be0-4cbe-8a95-5b6490cd6a86             request.body: {} ssl_verify: False
2025-01-13 12:43:58.160 25 INFO cinder.volume.drivers.lightos [None req-d59a61ed-eace-4b63-90b3-e37166b7dae5 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/c2f01d72-723e-4c15-a40a-2a307a7e52ca?             request.body:  ssl_verify: False
2025-01-13 12:43:58.197 25 INFO cinder.volume.drivers.lightos [None req-d59a61ed-eace-4b63-90b3-e37166b7dae5 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c2f01d72-723e-4c15-a40a-2a307a7e52ca             request.body: {} ssl_verify: False
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager [None req-d59a61ed-eace-4b63-90b3-e37166b7dae5 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager 
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager 
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:43:58.237 25 ERROR cinder.volume.manager 
2025-01-13 12:43:58.271 25 INFO cinder.volume.manager [None req-d59a61ed-eace-4b63-90b3-e37166b7dae5 27986ea1920045efa8b69c9645cd35d8 fa42250f1e1d4655baa49a01ae08f7b3 - - - -] Deleted volume successfully.
2025-01-13 12:44:02.997 25 INFO cinder.volume.flows.manager.create_volume [None req-8c774aa0-d0ee-43c8-8d01-5a15021d2a45 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Volume 01d67a10-e18f-4720-afa9-3a55ef44d50c: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_01d67a10-e18f-4720-afa9-3a55ef44d50c', 'volume_size': 1}
2025-01-13 12:44:02.997 25 INFO cinder.volume.drivers.lightos [None req-8c774aa0-d0ee-43c8-8d01-5a15021d2a45 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_01d67a10-e18f-4720-afa9-3a55ef44d50c             request.body: {} ssl_verify: False
2025-01-13 12:44:03.008 25 INFO cinder.volume.drivers.lightos [None req-8c774aa0-d0ee-43c8-8d01-5a15021d2a45 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_01d67a10-e18f-4720-afa9-3a55ef44d50c', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:44:03.031 25 INFO cinder.volume.drivers.lightos [None req-8c774aa0-d0ee-43c8-8d01-5a15021d2a45 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ca52ac78-ee3e-47de-af6c-5a20d26c7836             request.body: {} ssl_verify: False
2025-01-13 12:44:04.056 25 INFO cinder.volume.drivers.lightos [None req-8c774aa0-d0ee-43c8-8d01-5a15021d2a45 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ca52ac78-ee3e-47de-af6c-5a20d26c7836             request.body: {} ssl_verify: False
2025-01-13 12:44:04.096 25 INFO cinder.volume.flows.manager.create_volume [None req-8c774aa0-d0ee-43c8-8d01-5a15021d2a45 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Volume vol_01d67a10-e18f-4720-afa9-3a55ef44d50c (01d67a10-e18f-4720-afa9-3a55ef44d50c): created successfully
2025-01-13 12:44:04.117 25 INFO cinder.volume.manager [None req-8c774aa0-d0ee-43c8-8d01-5a15021d2a45 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Created volume successfully.
2025-01-13 12:44:05.315 25 INFO cinder.volume.drivers.lightos [None req-f96fa3b2-cbb7-4e50-8bd5-96362e35fed1 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-447b5640-cbde-4745-a155-bf24c09a41ad             request.body: {} ssl_verify: False
2025-01-13 12:44:05.331 25 INFO cinder.volume.drivers.lightos [None req-f96fa3b2-cbb7-4e50-8bd5-96362e35fed1 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-447b5640-cbde-4745-a155-bf24c09a41ad', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_01d67a10-e18f-4720-afa9-3a55ef44d50c'} ssl_verify: False
2025-01-13 12:44:05.360 25 INFO cinder.volume.drivers.lightos [None req-f96fa3b2-cbb7-4e50-8bd5-96362e35fed1 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-447b5640-cbde-4745-a155-bf24c09a41ad             request.body: {} ssl_verify: False
2025-01-13 12:44:06.465 25 INFO cinder.volume.drivers.lightos [None req-f96fa3b2-cbb7-4e50-8bd5-96362e35fed1 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-447b5640-cbde-4745-a155-bf24c09a41ad             request.body: {} ssl_verify: False
2025-01-13 12:44:06.506 25 INFO cinder.volume.manager [None req-f96fa3b2-cbb7-4e50-8bd5-96362e35fed1 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Create snapshot completed successfully
2025-01-13 12:44:07.566 25 INFO cinder.volume.drivers.lightos [None req-e0693d09-ab86-47e5-8842-44035eabcf7d ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-73ef60f5-299f-4441-9b0a-c19433cbfd42             request.body: {} ssl_verify: False
2025-01-13 12:44:07.577 25 INFO cinder.volume.drivers.lightos [None req-e0693d09-ab86-47e5-8842-44035eabcf7d ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-73ef60f5-299f-4441-9b0a-c19433cbfd42', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_01d67a10-e18f-4720-afa9-3a55ef44d50c'} ssl_verify: False
2025-01-13 12:44:07.601 25 INFO cinder.volume.drivers.lightos [None req-e0693d09-ab86-47e5-8842-44035eabcf7d ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-73ef60f5-299f-4441-9b0a-c19433cbfd42             request.body: {} ssl_verify: False
2025-01-13 12:44:08.653 25 INFO cinder.volume.drivers.lightos [None req-e0693d09-ab86-47e5-8842-44035eabcf7d ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-73ef60f5-299f-4441-9b0a-c19433cbfd42             request.body: {} ssl_verify: False
2025-01-13 12:44:08.692 25 INFO cinder.volume.manager [None req-e0693d09-ab86-47e5-8842-44035eabcf7d ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Create snapshot completed successfully
2025-01-13 12:44:09.750 25 INFO cinder.volume.drivers.lightos [None req-4b3a2db9-8d05-4396-9bb6-adb579953093 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-447b5640-cbde-4745-a155-bf24c09a41ad             request.body: {} ssl_verify: False
2025-01-13 12:44:09.771 25 INFO cinder.volume.drivers.lightos [None req-4b3a2db9-8d05-4396-9bb6-adb579953093 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/9c95328c-aef9-4aa4-87d9-28646e3c2ecd?             request.body:  ssl_verify: False
2025-01-13 12:44:09.815 25 INFO cinder.volume.drivers.lightos [None req-4b3a2db9-8d05-4396-9bb6-adb579953093 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/9c95328c-aef9-4aa4-87d9-28646e3c2ecd             request.body: {} ssl_verify: False
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager [None req-4b3a2db9-8d05-4396-9bb6-adb579953093 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager 
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager 
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:09.883 25 ERROR cinder.volume.manager 
2025-01-13 12:44:09.895 25 INFO cinder.volume.manager [None req-4b3a2db9-8d05-4396-9bb6-adb579953093 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Delete snapshot completed successfully.
2025-01-13 12:44:09.908 25 INFO cinder.volume.drivers.lightos [None req-4b3a2db9-8d05-4396-9bb6-adb579953093 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-73ef60f5-299f-4441-9b0a-c19433cbfd42             request.body: {} ssl_verify: False
2025-01-13 12:44:09.923 25 INFO cinder.volume.drivers.lightos [None req-4b3a2db9-8d05-4396-9bb6-adb579953093 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/8310c152-b459-405e-99df-cc7cc2406689?             request.body:  ssl_verify: False
2025-01-13 12:44:09.955 25 INFO cinder.volume.drivers.lightos [None req-4b3a2db9-8d05-4396-9bb6-adb579953093 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/8310c152-b459-405e-99df-cc7cc2406689             request.body: {} ssl_verify: False
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager [None req-4b3a2db9-8d05-4396-9bb6-adb579953093 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager 
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager 
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:10.017 25 ERROR cinder.volume.manager 
2025-01-13 12:44:10.031 25 INFO cinder.volume.manager [None req-4b3a2db9-8d05-4396-9bb6-adb579953093 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Delete snapshot completed successfully.
2025-01-13 12:44:10.032 25 INFO cinder.volume.drivers.lightos [None req-4b3a2db9-8d05-4396-9bb6-adb579953093 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_01d67a10-e18f-4720-afa9-3a55ef44d50c             request.body: {} ssl_verify: False
2025-01-13 12:44:10.045 25 INFO cinder.volume.drivers.lightos [None req-4b3a2db9-8d05-4396-9bb6-adb579953093 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/ca52ac78-ee3e-47de-af6c-5a20d26c7836?             request.body:  ssl_verify: False
2025-01-13 12:44:10.074 25 INFO cinder.volume.drivers.lightos [None req-4b3a2db9-8d05-4396-9bb6-adb579953093 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/ca52ac78-ee3e-47de-af6c-5a20d26c7836             request.body: {} ssl_verify: False
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager [None req-4b3a2db9-8d05-4396-9bb6-adb579953093 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager 
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager 
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:10.104 25 ERROR cinder.volume.manager 
2025-01-13 12:44:10.131 25 INFO cinder.volume.manager [None req-4b3a2db9-8d05-4396-9bb6-adb579953093 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Deleted volume successfully.
2025-01-13 12:44:11.304 25 INFO cinder.volume.flows.manager.create_volume [None req-41a9e5b3-d452-4001-9c95-df92c738f126 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Volume d410e41d-5b91-495d-b378-42b231f21827: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_d410e41d-5b91-495d-b378-42b231f21827', 'volume_size': 1}
2025-01-13 12:44:11.305 25 INFO cinder.volume.drivers.lightos [None req-41a9e5b3-d452-4001-9c95-df92c738f126 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_d410e41d-5b91-495d-b378-42b231f21827             request.body: {} ssl_verify: False
2025-01-13 12:44:11.322 25 INFO cinder.volume.drivers.lightos [None req-41a9e5b3-d452-4001-9c95-df92c738f126 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_d410e41d-5b91-495d-b378-42b231f21827', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:44:11.349 25 INFO cinder.volume.drivers.lightos [None req-41a9e5b3-d452-4001-9c95-df92c738f126 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/81f95142-97fc-4251-a52c-268fd8661557             request.body: {} ssl_verify: False
2025-01-13 12:44:12.384 25 INFO cinder.volume.drivers.lightos [None req-41a9e5b3-d452-4001-9c95-df92c738f126 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/81f95142-97fc-4251-a52c-268fd8661557             request.body: {} ssl_verify: False
2025-01-13 12:44:12.413 25 INFO cinder.volume.flows.manager.create_volume [None req-41a9e5b3-d452-4001-9c95-df92c738f126 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Volume vol_d410e41d-5b91-495d-b378-42b231f21827 (d410e41d-5b91-495d-b378-42b231f21827): created successfully
2025-01-13 12:44:12.426 25 INFO cinder.volume.manager [None req-41a9e5b3-d452-4001-9c95-df92c738f126 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Created volume successfully.
2025-01-13 12:44:13.580 25 INFO cinder.volume.drivers.lightos [None req-c15fb4e6-ac39-4e73-882c-f88c3aa59ed4 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-448908c6-829e-48db-a030-225fdfd57843             request.body: {} ssl_verify: False
2025-01-13 12:44:13.590 25 INFO cinder.volume.drivers.lightos [None req-c15fb4e6-ac39-4e73-882c-f88c3aa59ed4 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-448908c6-829e-48db-a030-225fdfd57843', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_d410e41d-5b91-495d-b378-42b231f21827'} ssl_verify: False
2025-01-13 12:44:13.618 25 INFO cinder.volume.drivers.lightos [None req-c15fb4e6-ac39-4e73-882c-f88c3aa59ed4 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-448908c6-829e-48db-a030-225fdfd57843             request.body: {} ssl_verify: False
2025-01-13 12:44:14.655 25 INFO cinder.volume.drivers.lightos [None req-c15fb4e6-ac39-4e73-882c-f88c3aa59ed4 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-448908c6-829e-48db-a030-225fdfd57843             request.body: {} ssl_verify: False
2025-01-13 12:44:14.693 25 INFO cinder.volume.manager [None req-c15fb4e6-ac39-4e73-882c-f88c3aa59ed4 ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Create snapshot completed successfully
2025-01-13 12:44:16.021 25 INFO cinder.volume.flows.manager.create_volume [None req-12d82a91-3f8c-49e0-9481-6ea2e98cf25d ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Volume c23f69a0-a1da-4219-b5c6-cc83dda5b75c: being created as snap with specification: {'status': 'creating', 'volume_name': 'vol_c23f69a0-a1da-4219-b5c6-cc83dda5b75c', 'volume_size': 1, 'snapshot_id': '448908c6-829e-48db-a030-225fdfd57843'}
2025-01-13 12:44:16.027 25 INFO cinder.volume.drivers.lightos [None req-12d82a91-3f8c-49e0-9481-6ea2e98cf25d ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_c23f69a0-a1da-4219-b5c6-cc83dda5b75c             request.body: {} ssl_verify: False
2025-01-13 12:44:16.043 25 INFO cinder.volume.drivers.lightos [None req-12d82a91-3f8c-49e0-9481-6ea2e98cf25d ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_c23f69a0-a1da-4219-b5c6-cc83dda5b75c', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': 'snapshot-448908c6-829e-48db-a030-225fdfd57843'} ssl_verify: False
2025-01-13 12:44:16.079 25 INFO cinder.volume.drivers.lightos [None req-12d82a91-3f8c-49e0-9481-6ea2e98cf25d ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/a4feac3d-79f4-417c-b573-e1ec25c643ef             request.body: {} ssl_verify: False
2025-01-13 12:44:17.128 25 INFO cinder.volume.drivers.lightos [None req-12d82a91-3f8c-49e0-9481-6ea2e98cf25d ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/a4feac3d-79f4-417c-b573-e1ec25c643ef             request.body: {} ssl_verify: False
2025-01-13 12:44:17.174 25 INFO cinder.volume.flows.manager.create_volume [None req-12d82a91-3f8c-49e0-9481-6ea2e98cf25d ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Volume vol_c23f69a0-a1da-4219-b5c6-cc83dda5b75c (c23f69a0-a1da-4219-b5c6-cc83dda5b75c): created successfully
2025-01-13 12:44:17.185 25 INFO cinder.volume.manager [None req-12d82a91-3f8c-49e0-9481-6ea2e98cf25d ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Created volume successfully.
2025-01-13 12:44:18.365 25 INFO cinder.volume.drivers.lightos [None req-7c8896d5-8b3e-4455-88d8-906d91a74bbb ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-448908c6-829e-48db-a030-225fdfd57843             request.body: {} ssl_verify: False
2025-01-13 12:44:18.376 25 INFO cinder.volume.drivers.lightos [None req-7c8896d5-8b3e-4455-88d8-906d91a74bbb ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/2f0e8df7-6030-4194-a735-67c4ed29dd6d?             request.body:  ssl_verify: False
2025-01-13 12:44:18.403 25 INFO cinder.volume.drivers.lightos [None req-7c8896d5-8b3e-4455-88d8-906d91a74bbb ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/2f0e8df7-6030-4194-a735-67c4ed29dd6d             request.body: {} ssl_verify: False
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager [None req-7c8896d5-8b3e-4455-88d8-906d91a74bbb ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager 
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager 
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:18.463 25 ERROR cinder.volume.manager 
2025-01-13 12:44:18.476 25 INFO cinder.volume.manager [None req-7c8896d5-8b3e-4455-88d8-906d91a74bbb ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Delete snapshot completed successfully.
2025-01-13 12:44:18.476 25 INFO cinder.volume.drivers.lightos [None req-7c8896d5-8b3e-4455-88d8-906d91a74bbb ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_d410e41d-5b91-495d-b378-42b231f21827             request.body: {} ssl_verify: False
2025-01-13 12:44:18.489 25 INFO cinder.volume.drivers.lightos [None req-7c8896d5-8b3e-4455-88d8-906d91a74bbb ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/81f95142-97fc-4251-a52c-268fd8661557?             request.body:  ssl_verify: False
2025-01-13 12:44:18.524 25 INFO cinder.volume.drivers.lightos [None req-7c8896d5-8b3e-4455-88d8-906d91a74bbb ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/81f95142-97fc-4251-a52c-268fd8661557             request.body: {} ssl_verify: False
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager [None req-7c8896d5-8b3e-4455-88d8-906d91a74bbb ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager 
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager 
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:18.550 25 ERROR cinder.volume.manager 
2025-01-13 12:44:18.578 25 INFO cinder.volume.manager [None req-7c8896d5-8b3e-4455-88d8-906d91a74bbb ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Deleted volume successfully.
2025-01-13 12:44:19.662 25 INFO cinder.volume.drivers.lightos [None req-75dd8a49-fd04-45e1-8299-68f060109ece ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_c23f69a0-a1da-4219-b5c6-cc83dda5b75c             request.body: {} ssl_verify: False
2025-01-13 12:44:19.674 25 INFO cinder.volume.drivers.lightos [None req-75dd8a49-fd04-45e1-8299-68f060109ece ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/a4feac3d-79f4-417c-b573-e1ec25c643ef?             request.body:  ssl_verify: False
2025-01-13 12:44:19.702 25 INFO cinder.volume.drivers.lightos [None req-75dd8a49-fd04-45e1-8299-68f060109ece ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/a4feac3d-79f4-417c-b573-e1ec25c643ef             request.body: {} ssl_verify: False
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager [None req-75dd8a49-fd04-45e1-8299-68f060109ece ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager 
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager 
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:19.804 25 ERROR cinder.volume.manager 
2025-01-13 12:44:19.835 25 INFO cinder.volume.manager [None req-75dd8a49-fd04-45e1-8299-68f060109ece ff7813c8af2f43479147933d100d4602 d9639f0b16c54efeb9a5cf68d18ffaff - - - -] Deleted volume successfully.
2025-01-13 12:44:27.795 25 INFO cinder.volume.flows.manager.create_volume [None req-a418cd63-21da-4c4b-b249-55f1bbf8819c d7ac8beba8ed447da30121cb0f91d4c3 89435173de04479c8a1064bdb9ea1ef7 - - - -] Volume 85f3bf3c-fc55-46e4-b1e0-96f88382c7f5: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_85f3bf3c-fc55-46e4-b1e0-96f88382c7f5', 'volume_size': 1}
2025-01-13 12:44:27.795 25 INFO cinder.volume.drivers.lightos [None req-a418cd63-21da-4c4b-b249-55f1bbf8819c d7ac8beba8ed447da30121cb0f91d4c3 89435173de04479c8a1064bdb9ea1ef7 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_85f3bf3c-fc55-46e4-b1e0-96f88382c7f5             request.body: {} ssl_verify: False
2025-01-13 12:44:27.806 25 INFO cinder.volume.drivers.lightos [None req-a418cd63-21da-4c4b-b249-55f1bbf8819c d7ac8beba8ed447da30121cb0f91d4c3 89435173de04479c8a1064bdb9ea1ef7 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_85f3bf3c-fc55-46e4-b1e0-96f88382c7f5', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:44:27.839 25 INFO cinder.volume.drivers.lightos [None req-a418cd63-21da-4c4b-b249-55f1bbf8819c d7ac8beba8ed447da30121cb0f91d4c3 89435173de04479c8a1064bdb9ea1ef7 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b52f90a0-9bac-461f-adba-99fd95a0f9a5             request.body: {} ssl_verify: False
2025-01-13 12:44:28.856 25 INFO cinder.volume.drivers.lightos [None req-a418cd63-21da-4c4b-b249-55f1bbf8819c d7ac8beba8ed447da30121cb0f91d4c3 89435173de04479c8a1064bdb9ea1ef7 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b52f90a0-9bac-461f-adba-99fd95a0f9a5             request.body: {} ssl_verify: False
2025-01-13 12:44:28.900 25 INFO cinder.volume.flows.manager.create_volume [None req-a418cd63-21da-4c4b-b249-55f1bbf8819c d7ac8beba8ed447da30121cb0f91d4c3 89435173de04479c8a1064bdb9ea1ef7 - - - -] Volume vol_85f3bf3c-fc55-46e4-b1e0-96f88382c7f5 (85f3bf3c-fc55-46e4-b1e0-96f88382c7f5): created successfully
2025-01-13 12:44:28.911 25 INFO cinder.volume.manager [None req-a418cd63-21da-4c4b-b249-55f1bbf8819c d7ac8beba8ed447da30121cb0f91d4c3 89435173de04479c8a1064bdb9ea1ef7 - - - -] Created volume successfully.
2025-01-13 12:44:30.422 25 INFO cinder.volume.manager [None req-90a715cc-6064-4ead-817a-1e853091b2e2 7b604b34ecb8411f8f2f36ccf80c67c5 bb0e87c8e6f04a4cb6d1e162e8169210 - - - -] Transfer volume completed successfully.
2025-01-13 12:44:31.328 25 INFO cinder.volume.drivers.lightos [None req-0eed5a66-73c9-4bc9-9ecb-fbd99f72080a d628bd0997624154a91c32e028881458 165bbb26326546f698b1b94a3fc3fbf6 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_85f3bf3c-fc55-46e4-b1e0-96f88382c7f5             request.body: {} ssl_verify: False
2025-01-13 12:44:31.339 25 INFO cinder.volume.drivers.lightos [None req-0eed5a66-73c9-4bc9-9ecb-fbd99f72080a d628bd0997624154a91c32e028881458 165bbb26326546f698b1b94a3fc3fbf6 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/b52f90a0-9bac-461f-adba-99fd95a0f9a5?             request.body:  ssl_verify: False
2025-01-13 12:44:31.363 25 INFO cinder.volume.drivers.lightos [None req-0eed5a66-73c9-4bc9-9ecb-fbd99f72080a d628bd0997624154a91c32e028881458 165bbb26326546f698b1b94a3fc3fbf6 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b52f90a0-9bac-461f-adba-99fd95a0f9a5             request.body: {} ssl_verify: False
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager [None req-0eed5a66-73c9-4bc9-9ecb-fbd99f72080a d628bd0997624154a91c32e028881458 165bbb26326546f698b1b94a3fc3fbf6 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager 
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager 
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:31.395 25 ERROR cinder.volume.manager 
2025-01-13 12:44:31.424 25 INFO cinder.volume.manager [None req-0eed5a66-73c9-4bc9-9ecb-fbd99f72080a d628bd0997624154a91c32e028881458 165bbb26326546f698b1b94a3fc3fbf6 - - - -] Deleted volume successfully.
2025-01-13 12:44:32.798 25 INFO cinder.volume.flows.manager.create_volume [None req-06d87e89-6552-4680-bd2a-6f36d3604508 d7ac8beba8ed447da30121cb0f91d4c3 89435173de04479c8a1064bdb9ea1ef7 - - - -] Volume 91415b22-624f-4fff-b90b-257e8602c0b3: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_91415b22-624f-4fff-b90b-257e8602c0b3', 'volume_size': 1}
2025-01-13 12:44:32.799 25 INFO cinder.volume.drivers.lightos [None req-06d87e89-6552-4680-bd2a-6f36d3604508 d7ac8beba8ed447da30121cb0f91d4c3 89435173de04479c8a1064bdb9ea1ef7 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_91415b22-624f-4fff-b90b-257e8602c0b3             request.body: {} ssl_verify: False
2025-01-13 12:44:32.817 25 INFO cinder.volume.drivers.lightos [None req-06d87e89-6552-4680-bd2a-6f36d3604508 d7ac8beba8ed447da30121cb0f91d4c3 89435173de04479c8a1064bdb9ea1ef7 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_91415b22-624f-4fff-b90b-257e8602c0b3', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:44:32.840 25 INFO cinder.volume.drivers.lightos [None req-06d87e89-6552-4680-bd2a-6f36d3604508 d7ac8beba8ed447da30121cb0f91d4c3 89435173de04479c8a1064bdb9ea1ef7 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/f3d91028-961f-4edb-9b4f-1d0aaeefb068             request.body: {} ssl_verify: False
2025-01-13 12:44:33.857 25 INFO cinder.volume.drivers.lightos [None req-06d87e89-6552-4680-bd2a-6f36d3604508 d7ac8beba8ed447da30121cb0f91d4c3 89435173de04479c8a1064bdb9ea1ef7 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/f3d91028-961f-4edb-9b4f-1d0aaeefb068             request.body: {} ssl_verify: False
2025-01-13 12:44:33.887 25 INFO cinder.volume.flows.manager.create_volume [None req-06d87e89-6552-4680-bd2a-6f36d3604508 d7ac8beba8ed447da30121cb0f91d4c3 89435173de04479c8a1064bdb9ea1ef7 - - - -] Volume vol_91415b22-624f-4fff-b90b-257e8602c0b3 (91415b22-624f-4fff-b90b-257e8602c0b3): created successfully
2025-01-13 12:44:33.899 25 INFO cinder.volume.manager [None req-06d87e89-6552-4680-bd2a-6f36d3604508 d7ac8beba8ed447da30121cb0f91d4c3 89435173de04479c8a1064bdb9ea1ef7 - - - -] Created volume successfully.
2025-01-13 12:44:35.294 25 INFO cinder.volume.drivers.lightos [None req-4a11b0ac-09fc-4421-a96b-57519c6f2d35 d628bd0997624154a91c32e028881458 165bbb26326546f698b1b94a3fc3fbf6 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_91415b22-624f-4fff-b90b-257e8602c0b3             request.body: {} ssl_verify: False
2025-01-13 12:44:35.306 25 INFO cinder.volume.drivers.lightos [None req-4a11b0ac-09fc-4421-a96b-57519c6f2d35 d628bd0997624154a91c32e028881458 165bbb26326546f698b1b94a3fc3fbf6 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/f3d91028-961f-4edb-9b4f-1d0aaeefb068?             request.body:  ssl_verify: False
2025-01-13 12:44:35.332 25 INFO cinder.volume.drivers.lightos [None req-4a11b0ac-09fc-4421-a96b-57519c6f2d35 d628bd0997624154a91c32e028881458 165bbb26326546f698b1b94a3fc3fbf6 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/f3d91028-961f-4edb-9b4f-1d0aaeefb068             request.body: {} ssl_verify: False
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager [None req-4a11b0ac-09fc-4421-a96b-57519c6f2d35 d628bd0997624154a91c32e028881458 165bbb26326546f698b1b94a3fc3fbf6 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager 
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager 
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:35.366 25 ERROR cinder.volume.manager 
2025-01-13 12:44:35.405 25 INFO cinder.volume.manager [None req-4a11b0ac-09fc-4421-a96b-57519c6f2d35 d628bd0997624154a91c32e028881458 165bbb26326546f698b1b94a3fc3fbf6 - - - -] Deleted volume successfully.
2025-01-13 12:44:41.466 25 INFO cinder.volume.flows.manager.create_volume [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Volume baee8ae3-e80d-4d14-b068-fbe7cec4ae46: being created as image with specification: {'status': 'creating', 'volume_name': 'vol_baee8ae3-e80d-4d14-b068-fbe7cec4ae46', 'volume_size': 1, 'image_id': '4750b270-4234-4361-8332-29002e5eea4e', 'image_location': (None, None), 'image_meta': {'name': 'cirros', 'disk_format': 'qcow2', 'container_format': 'bare', 'visibility': 'public', 'size': 12716032, 'virtual_size': 46137344, 'status': 'active', 'checksum': '443b7623e27ecf03dc9e01ee93f67afe', 'protected': False, 'min_ram': 0, 'min_disk': 0, 'owner': '0eac1ff84c4b4af5a7e389a9fdfa4f07', 'os_hidden': False, 'os_hash_algo': 'sha512', 'os_hash_value': '6513f21e44aa3da349f248188a44bc304a3653a04122d8fb4535423c8e1d14cd6a153f735bb0982e2161b5b5186106570c17a9e58b64dd39390617cd5a350f78', 'id': '4750b270-4234-4361-8332-29002e5eea4e', 'created_at': datetime.datetime(2025, 1, 13, 12, 10, 20, tzinfo=datetime.timezone.utc), 'updated_at': datetime.datetime(2025, 1, 13, 12, 10, 20, tzinfo=datetime.timezone.utc), 'tags': [], 'file': '/v2/images/4750b270-4234-4361-8332-29002e5eea4e/file', 'stores': 'file', 'properties': {'owner_specified.openstack.md5': '', 'owner_specified.openstack.sha256': '', 'owner_specified.openstack.object': 'images/cirros'}}, 'image_service': <cinder.image.glance.GlanceImageService object at 0x7fc4f904a6b0>}
2025-01-13 12:44:42.607 25 INFO cinder.image.image_utils [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Image download 12.13 MB at 10.64 MB/s
2025-01-13 12:44:43.299 25 INFO cinder.volume.drivers.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_baee8ae3-e80d-4d14-b068-fbe7cec4ae46             request.body: {} ssl_verify: False
2025-01-13 12:44:43.319 25 INFO cinder.volume.drivers.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_baee8ae3-e80d-4d14-b068-fbe7cec4ae46', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:44:43.343 25 INFO cinder.volume.drivers.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/60fe1aee-8843-4d4d-aef9-63016649d3ad             request.body: {} ssl_verify: False
2025-01-13 12:44:44.403 25 INFO cinder.volume.drivers.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/60fe1aee-8843-4d4d-aef9-63016649d3ad             request.body: {} ssl_verify: False
2025-01-13 12:44:44.490 25 INFO os_brick.initiator.connectors.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Current host hostNQN nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc and IP(s) are ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', 'fe80::4099:911b:7117:6464'] 
2025-01-13 12:44:44.491 25 INFO cinder.volume.drivers.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Current host hostNQN is nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc and IP(s) are ['[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', '[LB_IP_ADDRESS]', 'fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', 'fe80::4099:911b:7117:6464']
2025-01-13 12:44:44.492 25 INFO cinder.volume.drivers.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_baee8ae3-e80d-4d14-b068-fbe7cec4ae46             request.body: {} ssl_verify: False
2025-01-13 12:44:44.510 25 INFO cinder.volume.drivers.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking update_volume using PUT url: /api/v2/projects/default/volumes/60fe1aee-8843-4d4d-aef9-63016649d3ad             request.body: {'acl': {'values': ['nqn.2014-08.org.nvmexpress:uuid:cbcdc240-6d34-5946-81ce-be4076933dbc']}, 'IPAcl': {'values': ['fe80::ab8d:86d4:1679:a4f5', '[LB_IP_ADDRESS]', 'fd00::a:13:2c:7', '[LB_IP_ADDRESS]', 'fe80::6317:9ab:2335:3e06', 'fe80::4099:911b:7117:6464', '[LB_IP_ADDRESS]']}} ssl_verify: False
2025-01-13 12:44:44.538 25 INFO cinder.volume.drivers.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_baee8ae3-e80d-4d14-b068-fbe7cec4ae46             request.body: {} ssl_verify: False
2025-01-13 12:44:45.585 25 INFO cinder.volume.drivers.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_baee8ae3-e80d-4d14-b068-fbe7cec4ae46             request.body: {} ssl_verify: False
2025-01-13 12:44:45.601 25 INFO cinder.volume.drivers.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_baee8ae3-e80d-4d14-b068-fbe7cec4ae46             request.body: {} ssl_verify: False
2025-01-13 12:44:45.615 25 INFO cinder.volume.drivers.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_baee8ae3-e80d-4d14-b068-fbe7cec4ae46             request.body: {} ssl_verify: False
2025-01-13 12:44:45.631 25 INFO os_brick.initiator.connectors.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] LIGHTOS: connect_volume called for volume 60fe1aee-8843-4d4d-aef9-63016649d3ad, connection properties: {'lightos_nodes': {'[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}, '[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}, '[LB_IP_ADDRESS]': {'target_portal': '[LB_IP_ADDRESS]', 'target_port': 8009, 'transport_type': 'tcp'}}, 'uuid': '60fe1aee-8843-4d4d-aef9-63016649d3ad', 'subsysnqn': 'nqn.2016-01.com.lightbitslabs:uuid:ed93b30a-10c9-4020-b8d0-0edc696e5120:suffix', 'encrypted': False}
2025-01-13 12:44:45.634 25 INFO os_brick.initiator.connectors.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] LIGHTOS: devpath /dev/nvme0n1 detected for uuid 60fe1aee-8843-4d4d-aef9-63016649d3ad
2025-01-13 12:44:47.687 25 INFO cinder.image.image_utils [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Converted 44.00 MB image at 44.00 MB/s
2025-01-13 12:44:47.691 25 INFO os_brick.initiator.connectors.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] LIGHTOS: devpath /dev/nvme0n1 detected for uuid 60fe1aee-8843-4d4d-aef9-63016649d3ad
2025-01-13 12:44:47.704 25 INFO cinder.volume.drivers.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_baee8ae3-e80d-4d14-b068-fbe7cec4ae46             request.body: {} ssl_verify: False
2025-01-13 12:44:47.731 25 INFO cinder.volume.drivers.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking update_volume using PUT url: /api/v2/projects/default/volumes/60fe1aee-8843-4d4d-aef9-63016649d3ad             request.body: {'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}} ssl_verify: False
2025-01-13 12:44:47.763 25 INFO cinder.volume.drivers.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_baee8ae3-e80d-4d14-b068-fbe7cec4ae46             request.body: {} ssl_verify: False
2025-01-13 12:44:48.800 25 INFO cinder.volume.drivers.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_baee8ae3-e80d-4d14-b068-fbe7cec4ae46             request.body: {} ssl_verify: False
2025-01-13 12:44:48.819 25 INFO cinder.volume.drivers.lightos [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_baee8ae3-e80d-4d14-b068-fbe7cec4ae46             request.body: {} ssl_verify: False
2025-01-13 12:44:48.919 25 INFO cinder.volume.flows.manager.create_volume [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Volume vol_baee8ae3-e80d-4d14-b068-fbe7cec4ae46 (baee8ae3-e80d-4d14-b068-fbe7cec4ae46): created successfully
2025-01-13 12:44:48.928 25 INFO cinder.volume.manager [None req-e771d260-3dc1-4519-8608-602200d9a27d 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Created volume successfully.
2025-01-13 12:44:50.301 25 INFO cinder.volume.flows.manager.create_volume [None req-f17123bb-9a9f-421b-ad9e-c67a94c8a959 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Volume ee1fd841-5437-4dbf-8cf3-47b9ab92ee51: being created as source_vol with specification: {'status': 'creating', 'volume_name': 'vol_ee1fd841-5437-4dbf-8cf3-47b9ab92ee51', 'volume_size': 1, 'source_volid': 'baee8ae3-e80d-4d14-b068-fbe7cec4ae46', 'source_volstatus': 'available'}
2025-01-13 12:44:50.310 25 INFO cinder.volume.drivers.lightos [None req-f17123bb-9a9f-421b-ad9e-c67a94c8a959 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_ee1fd841-5437-4dbf-8cf3-47b9ab92ee51             request.body: {} ssl_verify: False
2025-01-13 12:44:50.324 25 INFO cinder.volume.drivers.lightos [None req-f17123bb-9a9f-421b-ad9e-c67a94c8a959 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'for_clone_ee1fd841-5437-4dbf-8cf3-47b9ab92ee51', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_baee8ae3-e80d-4d14-b068-fbe7cec4ae46'} ssl_verify: False
2025-01-13 12:44:50.358 25 INFO cinder.volume.drivers.lightos [None req-f17123bb-9a9f-421b-ad9e-c67a94c8a959 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_ee1fd841-5437-4dbf-8cf3-47b9ab92ee51             request.body: {} ssl_verify: False
2025-01-13 12:44:51.469 25 INFO cinder.volume.drivers.lightos [None req-f17123bb-9a9f-421b-ad9e-c67a94c8a959 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_ee1fd841-5437-4dbf-8cf3-47b9ab92ee51             request.body: {} ssl_verify: False
2025-01-13 12:44:51.486 25 INFO cinder.volume.drivers.lightos [None req-f17123bb-9a9f-421b-ad9e-c67a94c8a959 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_ee1fd841-5437-4dbf-8cf3-47b9ab92ee51             request.body: {} ssl_verify: False
2025-01-13 12:44:51.501 25 INFO cinder.volume.drivers.lightos [None req-f17123bb-9a9f-421b-ad9e-c67a94c8a959 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_ee1fd841-5437-4dbf-8cf3-47b9ab92ee51', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': 'for_clone_ee1fd841-5437-4dbf-8cf3-47b9ab92ee51'} ssl_verify: False
2025-01-13 12:44:51.531 25 INFO cinder.volume.drivers.lightos [None req-f17123bb-9a9f-421b-ad9e-c67a94c8a959 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/f841815b-7c31-4643-baa6-d65d42d07d09             request.body: {} ssl_verify: False
2025-01-13 12:44:52.559 25 INFO cinder.volume.drivers.lightos [None req-f17123bb-9a9f-421b-ad9e-c67a94c8a959 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/f841815b-7c31-4643-baa6-d65d42d07d09             request.body: {} ssl_verify: False
2025-01-13 12:44:52.576 25 INFO cinder.volume.drivers.lightos [None req-f17123bb-9a9f-421b-ad9e-c67a94c8a959 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_ee1fd841-5437-4dbf-8cf3-47b9ab92ee51             request.body: {} ssl_verify: False
2025-01-13 12:44:52.589 25 INFO cinder.volume.drivers.lightos [None req-f17123bb-9a9f-421b-ad9e-c67a94c8a959 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/85d45c14-7450-45d1-bd94-9bdd9ff47d46?             request.body:  ssl_verify: False
2025-01-13 12:44:52.623 25 INFO cinder.volume.drivers.lightos [None req-f17123bb-9a9f-421b-ad9e-c67a94c8a959 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/85d45c14-7450-45d1-bd94-9bdd9ff47d46             request.body: {} ssl_verify: False
2025-01-13 12:44:52.727 25 INFO cinder.volume.flows.manager.create_volume [None req-f17123bb-9a9f-421b-ad9e-c67a94c8a959 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Volume vol_ee1fd841-5437-4dbf-8cf3-47b9ab92ee51 (ee1fd841-5437-4dbf-8cf3-47b9ab92ee51): created successfully
2025-01-13 12:44:52.736 25 INFO cinder.volume.manager [None req-f17123bb-9a9f-421b-ad9e-c67a94c8a959 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Created volume successfully.
2025-01-13 12:44:53.670 25 INFO cinder.volume.drivers.lightos [None req-a896f8e2-2486-489b-984a-92e41f4044b0 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_ee1fd841-5437-4dbf-8cf3-47b9ab92ee51             request.body: {} ssl_verify: False
2025-01-13 12:44:53.683 25 INFO cinder.volume.drivers.lightos [None req-a896f8e2-2486-489b-984a-92e41f4044b0 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/f841815b-7c31-4643-baa6-d65d42d07d09?             request.body:  ssl_verify: False
2025-01-13 12:44:53.706 25 INFO cinder.volume.drivers.lightos [None req-a896f8e2-2486-489b-984a-92e41f4044b0 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/f841815b-7c31-4643-baa6-d65d42d07d09             request.body: {} ssl_verify: False
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager [None req-a896f8e2-2486-489b-984a-92e41f4044b0 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager 
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager 
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:53.727 25 ERROR cinder.volume.manager 
2025-01-13 12:44:53.754 25 INFO cinder.volume.manager [None req-a896f8e2-2486-489b-984a-92e41f4044b0 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Deleted volume successfully.
2025-01-13 12:44:54.894 25 INFO cinder.volume.drivers.lightos [None req-61a62ed2-7104-4698-8fb4-f0506ddb4f59 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_baee8ae3-e80d-4d14-b068-fbe7cec4ae46             request.body: {} ssl_verify: False
2025-01-13 12:44:54.905 25 INFO cinder.volume.drivers.lightos [None req-61a62ed2-7104-4698-8fb4-f0506ddb4f59 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/60fe1aee-8843-4d4d-aef9-63016649d3ad?             request.body:  ssl_verify: False
2025-01-13 12:44:54.934 25 INFO cinder.volume.drivers.lightos [None req-61a62ed2-7104-4698-8fb4-f0506ddb4f59 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/60fe1aee-8843-4d4d-aef9-63016649d3ad             request.body: {} ssl_verify: False
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager [None req-61a62ed2-7104-4698-8fb4-f0506ddb4f59 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager 
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager 
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:44:54.966 25 ERROR cinder.volume.manager 
2025-01-13 12:44:54.998 25 INFO cinder.volume.manager [None req-61a62ed2-7104-4698-8fb4-f0506ddb4f59 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Deleted volume successfully.
2025-01-13 12:44:56.301 25 INFO cinder.volume.flows.manager.create_volume [None req-6d1be9ba-116a-4a15-ab04-8576ec9cd043 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Volume e1a20e92-d9cf-4a37-988b-fe1e7ef14bff: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_e1a20e92-d9cf-4a37-988b-fe1e7ef14bff', 'volume_size': 1}
2025-01-13 12:44:56.301 25 INFO cinder.volume.drivers.lightos [None req-6d1be9ba-116a-4a15-ab04-8576ec9cd043 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_e1a20e92-d9cf-4a37-988b-fe1e7ef14bff             request.body: {} ssl_verify: False
2025-01-13 12:44:56.314 25 INFO cinder.volume.drivers.lightos [None req-6d1be9ba-116a-4a15-ab04-8576ec9cd043 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_e1a20e92-d9cf-4a37-988b-fe1e7ef14bff', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:44:56.341 25 INFO cinder.volume.drivers.lightos [None req-6d1be9ba-116a-4a15-ab04-8576ec9cd043 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/cb475e2a-cd82-4f9d-9f2f-b94c9abe599d             request.body: {} ssl_verify: False
2025-01-13 12:44:57.413 25 INFO cinder.volume.drivers.lightos [None req-6d1be9ba-116a-4a15-ab04-8576ec9cd043 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/cb475e2a-cd82-4f9d-9f2f-b94c9abe599d             request.body: {} ssl_verify: False
2025-01-13 12:44:57.445 25 INFO cinder.volume.flows.manager.create_volume [None req-6d1be9ba-116a-4a15-ab04-8576ec9cd043 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Volume vol_e1a20e92-d9cf-4a37-988b-fe1e7ef14bff (e1a20e92-d9cf-4a37-988b-fe1e7ef14bff): created successfully
2025-01-13 12:44:57.454 25 INFO cinder.volume.manager [None req-6d1be9ba-116a-4a15-ab04-8576ec9cd043 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Created volume successfully.
2025-01-13 12:44:58.751 25 INFO cinder.volume.flows.manager.create_volume [None req-99382b71-8c5e-48c7-b312-7b65f8027dcf 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Volume a7a7adac-498b-426d-baf6-be112ef8153b: being created as source_vol with specification: {'status': 'creating', 'volume_name': 'vol_a7a7adac-498b-426d-baf6-be112ef8153b', 'volume_size': 2, 'source_volid': 'e1a20e92-d9cf-4a37-988b-fe1e7ef14bff', 'source_volstatus': 'available'}
2025-01-13 12:44:58.761 25 INFO cinder.volume.drivers.lightos [None req-99382b71-8c5e-48c7-b312-7b65f8027dcf 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_a7a7adac-498b-426d-baf6-be112ef8153b             request.body: {} ssl_verify: False
2025-01-13 12:44:58.773 25 INFO cinder.volume.drivers.lightos [None req-99382b71-8c5e-48c7-b312-7b65f8027dcf 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'for_clone_a7a7adac-498b-426d-baf6-be112ef8153b', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_e1a20e92-d9cf-4a37-988b-fe1e7ef14bff'} ssl_verify: False
2025-01-13 12:44:58.803 25 INFO cinder.volume.drivers.lightos [None req-99382b71-8c5e-48c7-b312-7b65f8027dcf 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_a7a7adac-498b-426d-baf6-be112ef8153b             request.body: {} ssl_verify: False
2025-01-13 12:44:59.866 25 INFO cinder.volume.drivers.lightos [None req-99382b71-8c5e-48c7-b312-7b65f8027dcf 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_a7a7adac-498b-426d-baf6-be112ef8153b             request.body: {} ssl_verify: False
2025-01-13 12:44:59.883 25 INFO cinder.volume.drivers.lightos [None req-99382b71-8c5e-48c7-b312-7b65f8027dcf 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_a7a7adac-498b-426d-baf6-be112ef8153b             request.body: {} ssl_verify: False
2025-01-13 12:44:59.897 25 INFO cinder.volume.drivers.lightos [None req-99382b71-8c5e-48c7-b312-7b65f8027dcf 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_a7a7adac-498b-426d-baf6-be112ef8153b', 'size': '2 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': 'for_clone_a7a7adac-498b-426d-baf6-be112ef8153b'} ssl_verify: False
2025-01-13 12:44:59.917 25 INFO cinder.volume.drivers.lightos [None req-99382b71-8c5e-48c7-b312-7b65f8027dcf 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/d306ad9e-7f22-465b-ae5c-236e7a88d8be             request.body: {} ssl_verify: False
2025-01-13 12:45:00.964 25 INFO cinder.volume.drivers.lightos [None req-99382b71-8c5e-48c7-b312-7b65f8027dcf 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/d306ad9e-7f22-465b-ae5c-236e7a88d8be             request.body: {} ssl_verify: False
2025-01-13 12:45:00.986 25 INFO cinder.volume.drivers.lightos [None req-99382b71-8c5e-48c7-b312-7b65f8027dcf 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=for_clone_a7a7adac-498b-426d-baf6-be112ef8153b             request.body: {} ssl_verify: False
2025-01-13 12:45:01.009 25 INFO cinder.volume.drivers.lightos [None req-99382b71-8c5e-48c7-b312-7b65f8027dcf 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/dca30ada-6031-46e4-8b54-45d1f0f2d78c?             request.body:  ssl_verify: False
2025-01-13 12:45:01.043 25 INFO cinder.volume.drivers.lightos [None req-99382b71-8c5e-48c7-b312-7b65f8027dcf 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/dca30ada-6031-46e4-8b54-45d1f0f2d78c             request.body: {} ssl_verify: False
2025-01-13 12:45:01.101 25 INFO cinder.volume.flows.manager.create_volume [None req-99382b71-8c5e-48c7-b312-7b65f8027dcf 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Volume vol_a7a7adac-498b-426d-baf6-be112ef8153b (a7a7adac-498b-426d-baf6-be112ef8153b): created successfully
2025-01-13 12:45:01.111 25 INFO cinder.volume.manager [None req-99382b71-8c5e-48c7-b312-7b65f8027dcf 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Created volume successfully.
2025-01-13 12:45:02.096 25 INFO cinder.volume.drivers.lightos [None req-3937cb61-b76d-43a1-b143-b011ebc68f07 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_a7a7adac-498b-426d-baf6-be112ef8153b             request.body: {} ssl_verify: False
2025-01-13 12:45:02.115 25 INFO cinder.volume.drivers.lightos [None req-3937cb61-b76d-43a1-b143-b011ebc68f07 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/d306ad9e-7f22-465b-ae5c-236e7a88d8be?             request.body:  ssl_verify: False
2025-01-13 12:45:02.180 25 INFO cinder.volume.drivers.lightos [None req-3937cb61-b76d-43a1-b143-b011ebc68f07 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/d306ad9e-7f22-465b-ae5c-236e7a88d8be             request.body: {} ssl_verify: False
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager [None req-3937cb61-b76d-43a1-b143-b011ebc68f07 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager 
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager 
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:45:02.207 25 ERROR cinder.volume.manager 
2025-01-13 12:45:02.238 25 INFO cinder.volume.manager [None req-3937cb61-b76d-43a1-b143-b011ebc68f07 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Deleted volume successfully.
2025-01-13 12:45:03.301 25 INFO cinder.volume.drivers.lightos [None req-a46f0258-4b7f-4e73-bf99-740a4f896da8 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_e1a20e92-d9cf-4a37-988b-fe1e7ef14bff             request.body: {} ssl_verify: False
2025-01-13 12:45:03.326 25 INFO cinder.volume.drivers.lightos [None req-a46f0258-4b7f-4e73-bf99-740a4f896da8 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/cb475e2a-cd82-4f9d-9f2f-b94c9abe599d?             request.body:  ssl_verify: False
2025-01-13 12:45:03.350 25 INFO cinder.volume.drivers.lightos [None req-a46f0258-4b7f-4e73-bf99-740a4f896da8 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/cb475e2a-cd82-4f9d-9f2f-b94c9abe599d             request.body: {} ssl_verify: False
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager [None req-a46f0258-4b7f-4e73-bf99-740a4f896da8 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager 
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager 
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:45:03.385 25 ERROR cinder.volume.manager 
2025-01-13 12:45:03.413 25 INFO cinder.volume.manager [None req-a46f0258-4b7f-4e73-bf99-740a4f896da8 721d544c24ff4cdb908731ee142d932f 88f5820e915446748f3522fe5b6a47ad - - - -] Deleted volume successfully.
2025-01-13 12:45:07.787 25 INFO cinder.volume.flows.manager.create_volume [None req-c9af8c0b-7d1b-4200-ad77-a3980a988986 cc2bcda982bf4074b4a9e909692dfe29 b144d7236d7648bc8835ae47b25b53b0 - - - -] Volume f5d5c73c-79b5-4736-b8c2-6dfeaba62692: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_f5d5c73c-79b5-4736-b8c2-6dfeaba62692', 'volume_size': 1}
2025-01-13 12:45:07.787 25 INFO cinder.volume.drivers.lightos [None req-c9af8c0b-7d1b-4200-ad77-a3980a988986 cc2bcda982bf4074b4a9e909692dfe29 b144d7236d7648bc8835ae47b25b53b0 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f5d5c73c-79b5-4736-b8c2-6dfeaba62692             request.body: {} ssl_verify: False
2025-01-13 12:45:07.806 25 INFO cinder.volume.drivers.lightos [None req-c9af8c0b-7d1b-4200-ad77-a3980a988986 cc2bcda982bf4074b4a9e909692dfe29 b144d7236d7648bc8835ae47b25b53b0 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_f5d5c73c-79b5-4736-b8c2-6dfeaba62692', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:45:07.843 25 INFO cinder.volume.drivers.lightos [None req-c9af8c0b-7d1b-4200-ad77-a3980a988986 cc2bcda982bf4074b4a9e909692dfe29 b144d7236d7648bc8835ae47b25b53b0 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/50039e63-9eb4-4c28-bcd4-1157c604f7e7             request.body: {} ssl_verify: False
2025-01-13 12:45:08.895 25 INFO cinder.volume.drivers.lightos [None req-c9af8c0b-7d1b-4200-ad77-a3980a988986 cc2bcda982bf4074b4a9e909692dfe29 b144d7236d7648bc8835ae47b25b53b0 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/50039e63-9eb4-4c28-bcd4-1157c604f7e7             request.body: {} ssl_verify: False
2025-01-13 12:45:08.929 25 INFO cinder.volume.flows.manager.create_volume [None req-c9af8c0b-7d1b-4200-ad77-a3980a988986 cc2bcda982bf4074b4a9e909692dfe29 b144d7236d7648bc8835ae47b25b53b0 - - - -] Volume vol_f5d5c73c-79b5-4736-b8c2-6dfeaba62692 (f5d5c73c-79b5-4736-b8c2-6dfeaba62692): created successfully
2025-01-13 12:45:08.938 25 INFO cinder.volume.manager [None req-c9af8c0b-7d1b-4200-ad77-a3980a988986 cc2bcda982bf4074b4a9e909692dfe29 b144d7236d7648bc8835ae47b25b53b0 - - - -] Created volume successfully.
2025-01-13 12:45:33.699 25 INFO cinder.volume.drivers.lightos [None req-d236e60a-7e79-4738-8b75-2b8eef8b837d cc2bcda982bf4074b4a9e909692dfe29 b144d7236d7648bc8835ae47b25b53b0 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f5d5c73c-79b5-4736-b8c2-6dfeaba62692             request.body: {} ssl_verify: False
2025-01-13 12:45:33.716 25 INFO cinder.volume.drivers.lightos [None req-d236e60a-7e79-4738-8b75-2b8eef8b837d cc2bcda982bf4074b4a9e909692dfe29 b144d7236d7648bc8835ae47b25b53b0 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/50039e63-9eb4-4c28-bcd4-1157c604f7e7?             request.body:  ssl_verify: False
2025-01-13 12:45:33.741 25 INFO cinder.volume.drivers.lightos [None req-d236e60a-7e79-4738-8b75-2b8eef8b837d cc2bcda982bf4074b4a9e909692dfe29 b144d7236d7648bc8835ae47b25b53b0 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/50039e63-9eb4-4c28-bcd4-1157c604f7e7             request.body: {} ssl_verify: False
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager [None req-d236e60a-7e79-4738-8b75-2b8eef8b837d cc2bcda982bf4074b4a9e909692dfe29 b144d7236d7648bc8835ae47b25b53b0 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager 
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager 
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:45:33.786 25 ERROR cinder.volume.manager 
2025-01-13 12:45:33.817 25 INFO cinder.volume.manager [None req-d236e60a-7e79-4738-8b75-2b8eef8b837d cc2bcda982bf4074b4a9e909692dfe29 b144d7236d7648bc8835ae47b25b53b0 - - - -] Deleted volume successfully.
2025-01-13 12:45:38.755 25 INFO cinder.volume.flows.manager.create_volume [None req-db4c40cf-1c31-4dcb-8080-a3e08a401a6d 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Volume 8d7e6056-b5f3-463d-8b3b-5c5a182fb258: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_8d7e6056-b5f3-463d-8b3b-5c5a182fb258', 'volume_size': 1}
2025-01-13 12:45:38.756 25 INFO cinder.volume.drivers.lightos [None req-db4c40cf-1c31-4dcb-8080-a3e08a401a6d 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_8d7e6056-b5f3-463d-8b3b-5c5a182fb258             request.body: {} ssl_verify: False
2025-01-13 12:45:38.767 25 INFO cinder.volume.drivers.lightos [None req-db4c40cf-1c31-4dcb-8080-a3e08a401a6d 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_8d7e6056-b5f3-463d-8b3b-5c5a182fb258', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:45:38.793 25 INFO cinder.volume.drivers.lightos [None req-db4c40cf-1c31-4dcb-8080-a3e08a401a6d 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/58767934-fbe7-4a12-9aaf-8de40bd80ec5             request.body: {} ssl_verify: False
2025-01-13 12:45:39.818 25 INFO cinder.volume.drivers.lightos [None req-db4c40cf-1c31-4dcb-8080-a3e08a401a6d 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/58767934-fbe7-4a12-9aaf-8de40bd80ec5             request.body: {} ssl_verify: False
2025-01-13 12:45:39.851 25 INFO cinder.volume.flows.manager.create_volume [None req-db4c40cf-1c31-4dcb-8080-a3e08a401a6d 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Volume vol_8d7e6056-b5f3-463d-8b3b-5c5a182fb258 (8d7e6056-b5f3-463d-8b3b-5c5a182fb258): created successfully
2025-01-13 12:45:39.861 25 INFO cinder.volume.manager [None req-db4c40cf-1c31-4dcb-8080-a3e08a401a6d 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Created volume successfully.
2025-01-13 12:45:41.039 25 INFO cinder.volume.drivers.lightos [None req-2a37b9ac-464b-4a09-8123-98bca89d7ffd 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-9c622e3d-726c-4f1f-8802-ba22ddb6545f             request.body: {} ssl_verify: False
2025-01-13 12:45:41.053 25 INFO cinder.volume.drivers.lightos [None req-2a37b9ac-464b-4a09-8123-98bca89d7ffd 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-9c622e3d-726c-4f1f-8802-ba22ddb6545f', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_8d7e6056-b5f3-463d-8b3b-5c5a182fb258'} ssl_verify: False
2025-01-13 12:45:41.098 25 INFO cinder.volume.drivers.lightos [None req-2a37b9ac-464b-4a09-8123-98bca89d7ffd 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-9c622e3d-726c-4f1f-8802-ba22ddb6545f             request.body: {} ssl_verify: False
2025-01-13 12:45:42.161 25 INFO cinder.volume.drivers.lightos [None req-2a37b9ac-464b-4a09-8123-98bca89d7ffd 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-9c622e3d-726c-4f1f-8802-ba22ddb6545f             request.body: {} ssl_verify: False
2025-01-13 12:45:42.204 25 INFO cinder.volume.manager [None req-2a37b9ac-464b-4a09-8123-98bca89d7ffd 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Create snapshot completed successfully
2025-01-13 12:45:43.292 25 INFO cinder.volume.drivers.lightos [None req-f79a5880-fb1c-4033-b352-48ef97b55492 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-fb92f2a7-f2f7-4ece-a4b9-246792b81529             request.body: {} ssl_verify: False
2025-01-13 12:45:43.309 25 INFO cinder.volume.drivers.lightos [None req-f79a5880-fb1c-4033-b352-48ef97b55492 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-fb92f2a7-f2f7-4ece-a4b9-246792b81529', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_8d7e6056-b5f3-463d-8b3b-5c5a182fb258'} ssl_verify: False
2025-01-13 12:45:43.350 25 INFO cinder.volume.drivers.lightos [None req-f79a5880-fb1c-4033-b352-48ef97b55492 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-fb92f2a7-f2f7-4ece-a4b9-246792b81529             request.body: {} ssl_verify: False
2025-01-13 12:45:44.413 25 INFO cinder.volume.drivers.lightos [None req-f79a5880-fb1c-4033-b352-48ef97b55492 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-fb92f2a7-f2f7-4ece-a4b9-246792b81529             request.body: {} ssl_verify: False
2025-01-13 12:45:44.453 25 INFO cinder.volume.manager [None req-f79a5880-fb1c-4033-b352-48ef97b55492 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Create snapshot completed successfully
2025-01-13 12:45:45.551 25 INFO cinder.volume.drivers.lightos [None req-8994b919-5d06-432d-8cc2-38e50eec100a 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-dcd0d46d-0ed5-4ecd-af8f-cac5da030af6             request.body: {} ssl_verify: False
2025-01-13 12:45:45.564 25 INFO cinder.volume.drivers.lightos [None req-8994b919-5d06-432d-8cc2-38e50eec100a 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-dcd0d46d-0ed5-4ecd-af8f-cac5da030af6', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_8d7e6056-b5f3-463d-8b3b-5c5a182fb258'} ssl_verify: False
2025-01-13 12:45:45.588 25 INFO cinder.volume.drivers.lightos [None req-8994b919-5d06-432d-8cc2-38e50eec100a 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-dcd0d46d-0ed5-4ecd-af8f-cac5da030af6             request.body: {} ssl_verify: False
2025-01-13 12:45:46.605 25 INFO cinder.volume.drivers.lightos [None req-8994b919-5d06-432d-8cc2-38e50eec100a 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-dcd0d46d-0ed5-4ecd-af8f-cac5da030af6             request.body: {} ssl_verify: False
2025-01-13 12:45:46.651 25 INFO cinder.volume.manager [None req-8994b919-5d06-432d-8cc2-38e50eec100a 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Create snapshot completed successfully
2025-01-13 12:45:48.407 25 INFO cinder.volume.drivers.lightos [None req-99c2a841-f6f1-407e-b7da-4cf477a6a524 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-dcd0d46d-0ed5-4ecd-af8f-cac5da030af6             request.body: {} ssl_verify: False
2025-01-13 12:45:48.428 25 INFO cinder.volume.drivers.lightos [None req-99c2a841-f6f1-407e-b7da-4cf477a6a524 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/057c6371-7044-47ff-950d-381122343e6e?             request.body:  ssl_verify: False
2025-01-13 12:45:48.458 25 INFO cinder.volume.drivers.lightos [None req-99c2a841-f6f1-407e-b7da-4cf477a6a524 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/057c6371-7044-47ff-950d-381122343e6e             request.body: {} ssl_verify: False
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager [None req-99c2a841-f6f1-407e-b7da-4cf477a6a524 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager 
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager 
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:45:48.511 25 ERROR cinder.volume.manager 
2025-01-13 12:45:48.522 25 INFO cinder.volume.manager [None req-99c2a841-f6f1-407e-b7da-4cf477a6a524 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Delete snapshot completed successfully.
2025-01-13 12:45:49.523 25 INFO cinder.volume.drivers.lightos [None req-78614f24-51dd-4b64-8261-2ebdc91bd605 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-fb92f2a7-f2f7-4ece-a4b9-246792b81529             request.body: {} ssl_verify: False
2025-01-13 12:45:49.540 25 INFO cinder.volume.drivers.lightos [None req-78614f24-51dd-4b64-8261-2ebdc91bd605 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/6795f1b8-9251-4e7f-86fa-106a8c0b9083?             request.body:  ssl_verify: False
2025-01-13 12:45:49.573 25 INFO cinder.volume.drivers.lightos [None req-78614f24-51dd-4b64-8261-2ebdc91bd605 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/6795f1b8-9251-4e7f-86fa-106a8c0b9083             request.body: {} ssl_verify: False
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager [None req-78614f24-51dd-4b64-8261-2ebdc91bd605 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager 
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager 
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:45:49.632 25 ERROR cinder.volume.manager 
2025-01-13 12:45:49.643 25 INFO cinder.volume.manager [None req-78614f24-51dd-4b64-8261-2ebdc91bd605 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Delete snapshot completed successfully.
2025-01-13 12:45:50.640 25 INFO cinder.volume.drivers.lightos [None req-bf74ac9c-4015-4d97-afdd-bee17408f288 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-9c622e3d-726c-4f1f-8802-ba22ddb6545f             request.body: {} ssl_verify: False
2025-01-13 12:45:50.653 25 INFO cinder.volume.drivers.lightos [None req-bf74ac9c-4015-4d97-afdd-bee17408f288 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/e7a89fc5-feb0-4b6e-aa4a-3ab5c9a762f9?             request.body:  ssl_verify: False
2025-01-13 12:45:50.676 25 INFO cinder.volume.drivers.lightos [None req-bf74ac9c-4015-4d97-afdd-bee17408f288 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/e7a89fc5-feb0-4b6e-aa4a-3ab5c9a762f9             request.body: {} ssl_verify: False
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager [None req-bf74ac9c-4015-4d97-afdd-bee17408f288 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager 
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager 
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:45:50.726 25 ERROR cinder.volume.manager 
2025-01-13 12:45:50.739 25 INFO cinder.volume.manager [None req-bf74ac9c-4015-4d97-afdd-bee17408f288 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Delete snapshot completed successfully.
2025-01-13 12:45:51.867 25 INFO cinder.volume.drivers.lightos [None req-8d601f1b-3b6e-4743-a4ac-30c6e5c78e46 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_8d7e6056-b5f3-463d-8b3b-5c5a182fb258             request.body: {} ssl_verify: False
2025-01-13 12:45:51.878 25 INFO cinder.volume.drivers.lightos [None req-8d601f1b-3b6e-4743-a4ac-30c6e5c78e46 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/58767934-fbe7-4a12-9aaf-8de40bd80ec5?             request.body:  ssl_verify: False
2025-01-13 12:45:51.925 25 INFO cinder.volume.drivers.lightos [None req-8d601f1b-3b6e-4743-a4ac-30c6e5c78e46 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/58767934-fbe7-4a12-9aaf-8de40bd80ec5             request.body: {} ssl_verify: False
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager [None req-8d601f1b-3b6e-4743-a4ac-30c6e5c78e46 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager 
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager 
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:45:51.956 25 ERROR cinder.volume.manager 
2025-01-13 12:45:51.990 25 INFO cinder.volume.manager [None req-8d601f1b-3b6e-4743-a4ac-30c6e5c78e46 2c51c7dbb4ef41cd9117e2b4d3683d16 89b25b2a192d4614a3efc2367901968b - - - -] Deleted volume successfully.
2025-01-13 12:46:01.381 25 INFO cinder.volume.flows.manager.create_volume [None req-8ff8af1a-8dda-4f54-84d5-535fd1851d04 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Volume 073900b6-60e2-494a-a1bc-3b3ec3cd05b4: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_073900b6-60e2-494a-a1bc-3b3ec3cd05b4', 'volume_size': 1}
2025-01-13 12:46:01.382 25 INFO cinder.volume.drivers.lightos [None req-8ff8af1a-8dda-4f54-84d5-535fd1851d04 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_073900b6-60e2-494a-a1bc-3b3ec3cd05b4             request.body: {} ssl_verify: False
2025-01-13 12:46:01.405 25 INFO cinder.volume.drivers.lightos [None req-8ff8af1a-8dda-4f54-84d5-535fd1851d04 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_073900b6-60e2-494a-a1bc-3b3ec3cd05b4', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:01.435 25 INFO cinder.volume.flows.manager.create_volume [None req-33d14d19-114b-43a2-8b1b-f87d1251ef9a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Volume 88fbca56-3a84-401a-9673-69eec6e3e255: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_88fbca56-3a84-401a-9673-69eec6e3e255', 'volume_size': 1}
2025-01-13 12:46:01.435 25 INFO cinder.volume.drivers.lightos [None req-33d14d19-114b-43a2-8b1b-f87d1251ef9a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_88fbca56-3a84-401a-9673-69eec6e3e255             request.body: {} ssl_verify: False
2025-01-13 12:46:01.440 25 INFO cinder.volume.drivers.lightos [None req-8ff8af1a-8dda-4f54-84d5-535fd1851d04 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/4f81c46b-3b56-4f25-b066-149a0f39e36e             request.body: {} ssl_verify: False
2025-01-13 12:46:01.453 25 INFO cinder.volume.flows.manager.create_volume [None req-42ce50e2-ee9f-48ed-8097-a05238b887d9 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Volume cbd48f82-3b8d-4eaa-87d7-d4e4c6cbb124: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_cbd48f82-3b8d-4eaa-87d7-d4e4c6cbb124', 'volume_size': 1}
2025-01-13 12:46:01.453 25 INFO cinder.volume.drivers.lightos [None req-42ce50e2-ee9f-48ed-8097-a05238b887d9 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_cbd48f82-3b8d-4eaa-87d7-d4e4c6cbb124             request.body: {} ssl_verify: False
2025-01-13 12:46:01.481 25 INFO cinder.volume.drivers.lightos [None req-33d14d19-114b-43a2-8b1b-f87d1251ef9a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_88fbca56-3a84-401a-9673-69eec6e3e255', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:01.502 25 INFO cinder.volume.flows.manager.create_volume [None req-b2ddd7ce-c7ce-4c79-8df3-5cbc7da0a158 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Volume bca1152d-b945-4b89-95f0-63aaa724dbe3: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_bca1152d-b945-4b89-95f0-63aaa724dbe3', 'volume_size': 1}
2025-01-13 12:46:01.502 25 INFO cinder.volume.drivers.lightos [None req-b2ddd7ce-c7ce-4c79-8df3-5cbc7da0a158 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_bca1152d-b945-4b89-95f0-63aaa724dbe3             request.body: {} ssl_verify: False
2025-01-13 12:46:01.506 25 INFO cinder.volume.drivers.lightos [None req-42ce50e2-ee9f-48ed-8097-a05238b887d9 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_cbd48f82-3b8d-4eaa-87d7-d4e4c6cbb124', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:01.522 25 INFO cinder.volume.drivers.lightos [None req-b2ddd7ce-c7ce-4c79-8df3-5cbc7da0a158 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_bca1152d-b945-4b89-95f0-63aaa724dbe3', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:01.534 25 INFO cinder.volume.drivers.lightos [None req-33d14d19-114b-43a2-8b1b-f87d1251ef9a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/90aeb659-b1f8-45e6-9ec4-2ff4bf3f0905             request.body: {} ssl_verify: False
2025-01-13 12:46:01.595 25 INFO cinder.volume.drivers.lightos [None req-b2ddd7ce-c7ce-4c79-8df3-5cbc7da0a158 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/178f5bd2-ba2a-4794-8d63-f910f99a14eb             request.body: {} ssl_verify: False
2025-01-13 12:46:01.600 25 INFO cinder.volume.drivers.lightos [None req-42ce50e2-ee9f-48ed-8097-a05238b887d9 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/65a515e6-090d-491f-afeb-997ded99f283             request.body: {} ssl_verify: False
2025-01-13 12:46:01.724 25 INFO cinder.volume.flows.manager.create_volume [None req-00fcf4cd-793e-44f2-a13c-d6be4f3454f1 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Volume 9821e286-550c-477a-876e-586466879440: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_9821e286-550c-477a-876e-586466879440', 'volume_size': 1}
2025-01-13 12:46:01.724 25 INFO cinder.volume.drivers.lightos [None req-00fcf4cd-793e-44f2-a13c-d6be4f3454f1 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_9821e286-550c-477a-876e-586466879440             request.body: {} ssl_verify: False
2025-01-13 12:46:01.739 25 INFO cinder.volume.drivers.lightos [None req-00fcf4cd-793e-44f2-a13c-d6be4f3454f1 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_9821e286-550c-477a-876e-586466879440', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:01.777 25 INFO cinder.volume.drivers.lightos [None req-00fcf4cd-793e-44f2-a13c-d6be4f3454f1 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/72170199-fa8e-47f5-8e98-658e75db6e65             request.body: {} ssl_verify: False
2025-01-13 12:46:01.963 25 INFO cinder.volume.flows.manager.create_volume [None req-33148dce-fe15-4c67-8895-22353c18346a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Volume 96f9914b-9f43-415c-bc3b-2c443f14703d: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_96f9914b-9f43-415c-bc3b-2c443f14703d', 'volume_size': 1}
2025-01-13 12:46:01.964 25 INFO cinder.volume.drivers.lightos [None req-33148dce-fe15-4c67-8895-22353c18346a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_96f9914b-9f43-415c-bc3b-2c443f14703d             request.body: {} ssl_verify: False
2025-01-13 12:46:01.976 25 INFO cinder.volume.drivers.lightos [None req-33148dce-fe15-4c67-8895-22353c18346a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_96f9914b-9f43-415c-bc3b-2c443f14703d', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:02.011 25 INFO cinder.volume.drivers.lightos [None req-33148dce-fe15-4c67-8895-22353c18346a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b6672b2b-4e7c-43b3-9ded-9595738480ae             request.body: {} ssl_verify: False
2025-01-13 12:46:02.196 25 INFO cinder.volume.flows.manager.create_volume [None req-cf5ab02e-551c-458f-ae0b-4e7494df844a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Volume 568e9090-7145-488a-93ab-15282130c3e4: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_568e9090-7145-488a-93ab-15282130c3e4', 'volume_size': 1}
2025-01-13 12:46:02.196 25 INFO cinder.volume.drivers.lightos [None req-cf5ab02e-551c-458f-ae0b-4e7494df844a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_568e9090-7145-488a-93ab-15282130c3e4             request.body: {} ssl_verify: False
2025-01-13 12:46:02.208 25 INFO cinder.volume.drivers.lightos [None req-cf5ab02e-551c-458f-ae0b-4e7494df844a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_568e9090-7145-488a-93ab-15282130c3e4', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:02.237 25 INFO cinder.volume.drivers.lightos [None req-cf5ab02e-551c-458f-ae0b-4e7494df844a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/34fdc50d-c884-4182-a604-d1a4bb8032cc             request.body: {} ssl_verify: False
2025-01-13 12:46:02.506 25 INFO cinder.volume.drivers.lightos [None req-8ff8af1a-8dda-4f54-84d5-535fd1851d04 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/4f81c46b-3b56-4f25-b066-149a0f39e36e             request.body: {} ssl_verify: False
2025-01-13 12:46:02.538 25 INFO cinder.volume.flows.manager.create_volume [None req-8ff8af1a-8dda-4f54-84d5-535fd1851d04 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Volume vol_073900b6-60e2-494a-a1bc-3b3ec3cd05b4 (073900b6-60e2-494a-a1bc-3b3ec3cd05b4): created successfully
2025-01-13 12:46:02.547 25 INFO cinder.volume.manager [None req-8ff8af1a-8dda-4f54-84d5-535fd1851d04 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Created volume successfully.
2025-01-13 12:46:02.605 25 INFO cinder.volume.drivers.lightos [None req-33d14d19-114b-43a2-8b1b-f87d1251ef9a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/90aeb659-b1f8-45e6-9ec4-2ff4bf3f0905             request.body: {} ssl_verify: False
2025-01-13 12:46:02.623 25 INFO cinder.volume.drivers.lightos [None req-b2ddd7ce-c7ce-4c79-8df3-5cbc7da0a158 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/178f5bd2-ba2a-4794-8d63-f910f99a14eb             request.body: {} ssl_verify: False
2025-01-13 12:46:02.643 25 INFO cinder.volume.flows.manager.create_volume [None req-33d14d19-114b-43a2-8b1b-f87d1251ef9a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Volume vol_88fbca56-3a84-401a-9673-69eec6e3e255 (88fbca56-3a84-401a-9673-69eec6e3e255): created successfully
2025-01-13 12:46:02.654 25 INFO cinder.volume.drivers.lightos [None req-42ce50e2-ee9f-48ed-8097-a05238b887d9 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/65a515e6-090d-491f-afeb-997ded99f283             request.body: {} ssl_verify: False
2025-01-13 12:46:02.659 25 INFO cinder.volume.manager [None req-33d14d19-114b-43a2-8b1b-f87d1251ef9a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Created volume successfully.
2025-01-13 12:46:02.664 25 INFO cinder.volume.flows.manager.create_volume [None req-b2ddd7ce-c7ce-4c79-8df3-5cbc7da0a158 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Volume vol_bca1152d-b945-4b89-95f0-63aaa724dbe3 (bca1152d-b945-4b89-95f0-63aaa724dbe3): created successfully
2025-01-13 12:46:02.677 25 INFO cinder.volume.manager [None req-b2ddd7ce-c7ce-4c79-8df3-5cbc7da0a158 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Created volume successfully.
2025-01-13 12:46:02.680 25 INFO cinder.volume.flows.manager.create_volume [None req-42ce50e2-ee9f-48ed-8097-a05238b887d9 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Volume vol_cbd48f82-3b8d-4eaa-87d7-d4e4c6cbb124 (cbd48f82-3b8d-4eaa-87d7-d4e4c6cbb124): created successfully
2025-01-13 12:46:02.688 25 INFO cinder.volume.manager [None req-42ce50e2-ee9f-48ed-8097-a05238b887d9 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Created volume successfully.
2025-01-13 12:46:02.798 25 INFO cinder.volume.drivers.lightos [None req-00fcf4cd-793e-44f2-a13c-d6be4f3454f1 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/72170199-fa8e-47f5-8e98-658e75db6e65             request.body: {} ssl_verify: False
2025-01-13 12:46:02.832 25 INFO cinder.volume.flows.manager.create_volume [None req-00fcf4cd-793e-44f2-a13c-d6be4f3454f1 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Volume vol_9821e286-550c-477a-876e-586466879440 (9821e286-550c-477a-876e-586466879440): created successfully
2025-01-13 12:46:02.844 25 INFO cinder.volume.manager [None req-00fcf4cd-793e-44f2-a13c-d6be4f3454f1 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Created volume successfully.
2025-01-13 12:46:03.035 25 INFO cinder.volume.drivers.lightos [None req-33148dce-fe15-4c67-8895-22353c18346a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b6672b2b-4e7c-43b3-9ded-9595738480ae             request.body: {} ssl_verify: False
2025-01-13 12:46:03.071 25 INFO cinder.volume.flows.manager.create_volume [None req-33148dce-fe15-4c67-8895-22353c18346a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Volume vol_96f9914b-9f43-415c-bc3b-2c443f14703d (96f9914b-9f43-415c-bc3b-2c443f14703d): created successfully
2025-01-13 12:46:03.081 25 INFO cinder.volume.manager [None req-33148dce-fe15-4c67-8895-22353c18346a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Created volume successfully.
2025-01-13 12:46:03.257 25 INFO cinder.volume.drivers.lightos [None req-cf5ab02e-551c-458f-ae0b-4e7494df844a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/34fdc50d-c884-4182-a604-d1a4bb8032cc             request.body: {} ssl_verify: False
2025-01-13 12:46:03.300 25 INFO cinder.volume.flows.manager.create_volume [None req-cf5ab02e-551c-458f-ae0b-4e7494df844a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Volume vol_568e9090-7145-488a-93ab-15282130c3e4 (568e9090-7145-488a-93ab-15282130c3e4): created successfully
2025-01-13 12:46:03.309 25 INFO cinder.volume.manager [None req-cf5ab02e-551c-458f-ae0b-4e7494df844a f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Created volume successfully.
2025-01-13 12:46:03.554 25 INFO cinder.volume.drivers.lightos [None req-f0492d63-6635-4710-995d-69141c74beef f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_568e9090-7145-488a-93ab-15282130c3e4             request.body: {} ssl_verify: False
2025-01-13 12:46:03.566 25 INFO cinder.volume.drivers.lightos [None req-f0492d63-6635-4710-995d-69141c74beef f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/34fdc50d-c884-4182-a604-d1a4bb8032cc?             request.body:  ssl_verify: False
2025-01-13 12:46:03.586 25 INFO cinder.volume.drivers.lightos [None req-f0492d63-6635-4710-995d-69141c74beef f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/34fdc50d-c884-4182-a604-d1a4bb8032cc             request.body: {} ssl_verify: False
2025-01-13 12:46:03.626 25 INFO cinder.volume.drivers.lightos [None req-a5beb796-8f66-4fbc-b047-6a6496f3f530 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-45c9b63d-7bbf-4650-ad5d-2168509c6dce             request.body: {} ssl_verify: False
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager [None req-f0492d63-6635-4710-995d-69141c74beef f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager 
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager 
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:03.629 25 ERROR cinder.volume.manager 
2025-01-13 12:46:03.636 25 INFO cinder.volume.drivers.lightos [None req-a5beb796-8f66-4fbc-b047-6a6496f3f530 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-45c9b63d-7bbf-4650-ad5d-2168509c6dce', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_073900b6-60e2-494a-a1bc-3b3ec3cd05b4'} ssl_verify: False
2025-01-13 12:46:03.656 25 INFO cinder.volume.manager [None req-f0492d63-6635-4710-995d-69141c74beef f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Deleted volume successfully.
2025-01-13 12:46:03.663 25 INFO cinder.volume.drivers.lightos [None req-a5beb796-8f66-4fbc-b047-6a6496f3f530 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-45c9b63d-7bbf-4650-ad5d-2168509c6dce             request.body: {} ssl_verify: False
2025-01-13 12:46:03.836 25 INFO cinder.volume.flows.manager.create_volume [None req-1465fd39-c5b0-4afc-8511-39fa1fe0530a 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Volume 1b7ea6bc-892b-4e21-b49f-c2082609ad9e: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_1b7ea6bc-892b-4e21-b49f-c2082609ad9e', 'volume_size': 1}
2025-01-13 12:46:03.837 25 INFO cinder.volume.drivers.lightos [None req-1465fd39-c5b0-4afc-8511-39fa1fe0530a 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_1b7ea6bc-892b-4e21-b49f-c2082609ad9e             request.body: {} ssl_verify: False
2025-01-13 12:46:03.846 25 INFO cinder.volume.drivers.lightos [None req-1465fd39-c5b0-4afc-8511-39fa1fe0530a 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_1b7ea6bc-892b-4e21-b49f-c2082609ad9e', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:03.865 25 INFO cinder.volume.drivers.lightos [None req-1465fd39-c5b0-4afc-8511-39fa1fe0530a 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/bf7aa27f-e948-497b-a01d-22efe406b9ca             request.body: {} ssl_verify: False
2025-01-13 12:46:04.051 25 INFO cinder.volume.flows.manager.create_volume [None req-66abc649-db54-4ef9-b290-cc7cacb0ab29 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Volume 8d85079b-d119-4c53-b527-869b3ac1307c: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_8d85079b-d119-4c53-b527-869b3ac1307c', 'volume_size': 1}
2025-01-13 12:46:04.051 25 INFO cinder.volume.drivers.lightos [None req-66abc649-db54-4ef9-b290-cc7cacb0ab29 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_8d85079b-d119-4c53-b527-869b3ac1307c             request.body: {} ssl_verify: False
2025-01-13 12:46:04.061 25 INFO cinder.volume.drivers.lightos [None req-66abc649-db54-4ef9-b290-cc7cacb0ab29 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_8d85079b-d119-4c53-b527-869b3ac1307c', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:04.081 25 INFO cinder.volume.drivers.lightos [None req-66abc649-db54-4ef9-b290-cc7cacb0ab29 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/78c84ec0-9e6c-4b05-8090-caeaffaddaa3             request.body: {} ssl_verify: False
2025-01-13 12:46:04.290 25 INFO cinder.volume.flows.manager.create_volume [None req-1f37583f-b9ae-47e6-a6e5-ac68c8416b54 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Volume 16103ece-0fd8-4ea0-ac22-643dce6f6050: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_16103ece-0fd8-4ea0-ac22-643dce6f6050', 'volume_size': 1}
2025-01-13 12:46:04.290 25 INFO cinder.volume.drivers.lightos [None req-1f37583f-b9ae-47e6-a6e5-ac68c8416b54 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_16103ece-0fd8-4ea0-ac22-643dce6f6050             request.body: {} ssl_verify: False
2025-01-13 12:46:04.301 25 INFO cinder.volume.drivers.lightos [None req-1f37583f-b9ae-47e6-a6e5-ac68c8416b54 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_16103ece-0fd8-4ea0-ac22-643dce6f6050', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:04.324 25 INFO cinder.volume.drivers.lightos [None req-1f37583f-b9ae-47e6-a6e5-ac68c8416b54 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/25099eae-e6c1-4c01-91b1-c8c169cd0008             request.body: {} ssl_verify: False
2025-01-13 12:46:04.510 25 INFO cinder.volume.flows.manager.create_volume [None req-71373321-64b3-4c32-a127-3397b980771e 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Volume e0aced9e-9ecc-4945-8161-7ca8a598d9f8: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_e0aced9e-9ecc-4945-8161-7ca8a598d9f8', 'volume_size': 1}
2025-01-13 12:46:04.511 25 INFO cinder.volume.drivers.lightos [None req-71373321-64b3-4c32-a127-3397b980771e 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_e0aced9e-9ecc-4945-8161-7ca8a598d9f8             request.body: {} ssl_verify: False
2025-01-13 12:46:04.520 25 INFO cinder.volume.drivers.lightos [None req-71373321-64b3-4c32-a127-3397b980771e 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_e0aced9e-9ecc-4945-8161-7ca8a598d9f8', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:04.543 25 INFO cinder.volume.drivers.lightos [None req-71373321-64b3-4c32-a127-3397b980771e 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/8fd51f4a-0c7f-4f77-b9a6-7592e9d912d1             request.body: {} ssl_verify: False
2025-01-13 12:46:04.704 25 INFO cinder.volume.drivers.lightos [None req-49ca6886-8a05-4d87-b551-8b414ab8deb4 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_96f9914b-9f43-415c-bc3b-2c443f14703d             request.body: {} ssl_verify: False
2025-01-13 12:46:04.719 25 INFO cinder.volume.drivers.lightos [None req-49ca6886-8a05-4d87-b551-8b414ab8deb4 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/b6672b2b-4e7c-43b3-9ded-9595738480ae?             request.body:  ssl_verify: False
2025-01-13 12:46:04.722 25 INFO cinder.volume.drivers.lightos [None req-a5beb796-8f66-4fbc-b047-6a6496f3f530 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-45c9b63d-7bbf-4650-ad5d-2168509c6dce             request.body: {} ssl_verify: False
2025-01-13 12:46:04.767 25 INFO cinder.volume.flows.manager.create_volume [None req-6d44e104-2660-4718-b418-998ec73d2a04 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Volume f15fe75d-5db0-4fe5-9035-44b975108a10: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_f15fe75d-5db0-4fe5-9035-44b975108a10', 'volume_size': 1}
2025-01-13 12:46:04.767 25 INFO cinder.volume.drivers.lightos [None req-6d44e104-2660-4718-b418-998ec73d2a04 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f15fe75d-5db0-4fe5-9035-44b975108a10             request.body: {} ssl_verify: False
2025-01-13 12:46:04.771 25 INFO cinder.volume.drivers.lightos [None req-49ca6886-8a05-4d87-b551-8b414ab8deb4 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b6672b2b-4e7c-43b3-9ded-9595738480ae             request.body: {} ssl_verify: False
2025-01-13 12:46:04.779 25 INFO cinder.volume.manager [None req-a5beb796-8f66-4fbc-b047-6a6496f3f530 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Create snapshot completed successfully
2025-01-13 12:46:04.792 25 INFO cinder.volume.drivers.lightos [None req-6d44e104-2660-4718-b418-998ec73d2a04 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_f15fe75d-5db0-4fe5-9035-44b975108a10', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager [None req-49ca6886-8a05-4d87-b551-8b414ab8deb4 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager 
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager 
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:04.801 25 ERROR cinder.volume.manager 
2025-01-13 12:46:04.813 25 INFO cinder.volume.drivers.lightos [None req-6d44e104-2660-4718-b418-998ec73d2a04 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/834cb9ff-9379-4d51-b2d9-3956ecdae799             request.body: {} ssl_verify: False
2025-01-13 12:46:04.827 25 INFO cinder.volume.manager [None req-49ca6886-8a05-4d87-b551-8b414ab8deb4 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Deleted volume successfully.
2025-01-13 12:46:04.883 25 INFO cinder.volume.drivers.lightos [None req-1465fd39-c5b0-4afc-8511-39fa1fe0530a 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/bf7aa27f-e948-497b-a01d-22efe406b9ca             request.body: {} ssl_verify: False
2025-01-13 12:46:04.911 25 INFO cinder.volume.flows.manager.create_volume [None req-1465fd39-c5b0-4afc-8511-39fa1fe0530a 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Volume vol_1b7ea6bc-892b-4e21-b49f-c2082609ad9e (1b7ea6bc-892b-4e21-b49f-c2082609ad9e): created successfully
2025-01-13 12:46:04.920 25 INFO cinder.volume.manager [None req-1465fd39-c5b0-4afc-8511-39fa1fe0530a 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Created volume successfully.
2025-01-13 12:46:05.097 25 INFO cinder.volume.drivers.lightos [None req-66abc649-db54-4ef9-b290-cc7cacb0ab29 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/78c84ec0-9e6c-4b05-8090-caeaffaddaa3             request.body: {} ssl_verify: False
2025-01-13 12:46:05.126 25 INFO cinder.volume.flows.manager.create_volume [None req-66abc649-db54-4ef9-b290-cc7cacb0ab29 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Volume vol_8d85079b-d119-4c53-b527-869b3ac1307c (8d85079b-d119-4c53-b527-869b3ac1307c): created successfully
2025-01-13 12:46:05.136 25 INFO cinder.volume.manager [None req-66abc649-db54-4ef9-b290-cc7cacb0ab29 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Created volume successfully.
2025-01-13 12:46:05.346 25 INFO cinder.volume.drivers.lightos [None req-1f37583f-b9ae-47e6-a6e5-ac68c8416b54 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/25099eae-e6c1-4c01-91b1-c8c169cd0008             request.body: {} ssl_verify: False
2025-01-13 12:46:05.374 25 INFO cinder.volume.flows.manager.create_volume [None req-1f37583f-b9ae-47e6-a6e5-ac68c8416b54 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Volume vol_16103ece-0fd8-4ea0-ac22-643dce6f6050 (16103ece-0fd8-4ea0-ac22-643dce6f6050): created successfully
2025-01-13 12:46:05.384 25 INFO cinder.volume.manager [None req-1f37583f-b9ae-47e6-a6e5-ac68c8416b54 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Created volume successfully.
2025-01-13 12:46:05.571 25 INFO cinder.volume.drivers.lightos [None req-71373321-64b3-4c32-a127-3397b980771e 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/8fd51f4a-0c7f-4f77-b9a6-7592e9d912d1             request.body: {} ssl_verify: False
2025-01-13 12:46:05.601 25 INFO cinder.volume.flows.manager.create_volume [None req-71373321-64b3-4c32-a127-3397b980771e 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Volume vol_e0aced9e-9ecc-4945-8161-7ca8a598d9f8 (e0aced9e-9ecc-4945-8161-7ca8a598d9f8): created successfully
2025-01-13 12:46:05.609 25 INFO cinder.volume.manager [None req-71373321-64b3-4c32-a127-3397b980771e 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Created volume successfully.
2025-01-13 12:46:05.828 25 INFO cinder.volume.drivers.lightos [None req-6d44e104-2660-4718-b418-998ec73d2a04 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/834cb9ff-9379-4d51-b2d9-3956ecdae799             request.body: {} ssl_verify: False
2025-01-13 12:46:05.859 25 INFO cinder.volume.flows.manager.create_volume [None req-6d44e104-2660-4718-b418-998ec73d2a04 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Volume vol_f15fe75d-5db0-4fe5-9035-44b975108a10 (f15fe75d-5db0-4fe5-9035-44b975108a10): created successfully
2025-01-13 12:46:05.867 25 INFO cinder.volume.manager [None req-6d44e104-2660-4718-b418-998ec73d2a04 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Created volume successfully.
2025-01-13 12:46:05.884 25 INFO cinder.volume.drivers.lightos [None req-2d801b9e-0382-4b6a-8175-2c8897f876c3 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_9821e286-550c-477a-876e-586466879440             request.body: {} ssl_verify: False
2025-01-13 12:46:05.897 25 INFO cinder.volume.drivers.lightos [None req-2d801b9e-0382-4b6a-8175-2c8897f876c3 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/72170199-fa8e-47f5-8e98-658e75db6e65?             request.body:  ssl_verify: False
2025-01-13 12:46:05.919 25 INFO cinder.volume.drivers.lightos [None req-2d801b9e-0382-4b6a-8175-2c8897f876c3 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/72170199-fa8e-47f5-8e98-658e75db6e65             request.body: {} ssl_verify: False
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager [None req-2d801b9e-0382-4b6a-8175-2c8897f876c3 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager 
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager 
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:05.960 25 ERROR cinder.volume.manager 
2025-01-13 12:46:06.000 25 INFO cinder.volume.flows.manager.create_volume [None req-29684444-0c9c-4080-bef8-0d6332280910 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Volume b4cc74f7-5f94-49c4-aad5-3ca603716825: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_b4cc74f7-5f94-49c4-aad5-3ca603716825', 'volume_size': 1}
2025-01-13 12:46:06.001 25 INFO cinder.volume.drivers.lightos [None req-29684444-0c9c-4080-bef8-0d6332280910 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_b4cc74f7-5f94-49c4-aad5-3ca603716825             request.body: {} ssl_verify: False
2025-01-13 12:46:06.013 25 INFO cinder.volume.manager [None req-2d801b9e-0382-4b6a-8175-2c8897f876c3 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Deleted volume successfully.
2025-01-13 12:46:06.015 25 INFO cinder.volume.drivers.lightos [None req-29684444-0c9c-4080-bef8-0d6332280910 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_b4cc74f7-5f94-49c4-aad5-3ca603716825', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:06.053 25 INFO cinder.volume.drivers.lightos [None req-29684444-0c9c-4080-bef8-0d6332280910 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/7b109cf7-822e-4383-8db6-af88a7eb3ff7             request.body: {} ssl_verify: False
2025-01-13 12:46:06.110 25 INFO cinder.volume.drivers.lightos [None req-b141de99-cee2-4887-b300-0254a84ef81b 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_f15fe75d-5db0-4fe5-9035-44b975108a10             request.body: {} ssl_verify: False
2025-01-13 12:46:06.124 25 INFO cinder.volume.drivers.lightos [None req-b141de99-cee2-4887-b300-0254a84ef81b 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/834cb9ff-9379-4d51-b2d9-3956ecdae799?             request.body:  ssl_verify: False
2025-01-13 12:46:06.172 25 INFO cinder.volume.drivers.lightos [None req-b141de99-cee2-4887-b300-0254a84ef81b 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/834cb9ff-9379-4d51-b2d9-3956ecdae799             request.body: {} ssl_verify: False
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager [None req-b141de99-cee2-4887-b300-0254a84ef81b 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager 
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager 
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:06.195 25 ERROR cinder.volume.manager 
2025-01-13 12:46:06.219 25 INFO cinder.volume.manager [None req-b141de99-cee2-4887-b300-0254a84ef81b 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Deleted volume successfully.
2025-01-13 12:46:06.433 25 INFO cinder.volume.flows.manager.create_volume [None req-07916a59-f382-43ea-b1cb-4c9342db0dcb 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Volume 287c592b-1fdb-4c5a-b443-a91e76fa3012: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_287c592b-1fdb-4c5a-b443-a91e76fa3012', 'volume_size': 1}
2025-01-13 12:46:06.433 25 INFO cinder.volume.drivers.lightos [None req-07916a59-f382-43ea-b1cb-4c9342db0dcb 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_287c592b-1fdb-4c5a-b443-a91e76fa3012             request.body: {} ssl_verify: False
2025-01-13 12:46:06.445 25 INFO cinder.volume.drivers.lightos [None req-07916a59-f382-43ea-b1cb-4c9342db0dcb 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_287c592b-1fdb-4c5a-b443-a91e76fa3012', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:06.468 25 INFO cinder.volume.drivers.lightos [None req-07916a59-f382-43ea-b1cb-4c9342db0dcb 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/87b77c74-a626-460e-b9a7-af59125b9f35             request.body: {} ssl_verify: False
2025-01-13 12:46:06.624 25 INFO cinder.volume.flows.manager.create_volume [None req-0f877bbd-079f-4f63-85a8-123a94950f1a 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Volume 7bc1822f-c32a-4216-89e4-dda4538002c1: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_7bc1822f-c32a-4216-89e4-dda4538002c1', 'volume_size': 1}
2025-01-13 12:46:06.625 25 INFO cinder.volume.drivers.lightos [None req-0f877bbd-079f-4f63-85a8-123a94950f1a 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_7bc1822f-c32a-4216-89e4-dda4538002c1             request.body: {} ssl_verify: False
2025-01-13 12:46:06.634 25 INFO cinder.volume.drivers.lightos [None req-0f877bbd-079f-4f63-85a8-123a94950f1a 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_7bc1822f-c32a-4216-89e4-dda4538002c1', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:06.662 25 INFO cinder.volume.drivers.lightos [None req-0f877bbd-079f-4f63-85a8-123a94950f1a 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c8890f52-5dc9-445d-aebf-98eebcf3b721             request.body: {} ssl_verify: False
2025-01-13 12:46:06.855 25 INFO cinder.volume.flows.manager.create_volume [None req-839f8eb4-6a11-48c8-970a-fd8921912740 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Volume cd79f499-469c-47db-8c02-fabf8f31ffda: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_cd79f499-469c-47db-8c02-fabf8f31ffda', 'volume_size': 1}
2025-01-13 12:46:06.856 25 INFO cinder.volume.drivers.lightos [None req-839f8eb4-6a11-48c8-970a-fd8921912740 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_cd79f499-469c-47db-8c02-fabf8f31ffda             request.body: {} ssl_verify: False
2025-01-13 12:46:06.865 25 INFO cinder.volume.drivers.lightos [None req-839f8eb4-6a11-48c8-970a-fd8921912740 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_cd79f499-469c-47db-8c02-fabf8f31ffda', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:06.889 25 INFO cinder.volume.drivers.lightos [None req-839f8eb4-6a11-48c8-970a-fd8921912740 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b83d505e-5a6e-4735-ac69-960e3be66ad6             request.body: {} ssl_verify: False
2025-01-13 12:46:07.039 25 INFO cinder.volume.drivers.lightos [None req-f134b442-9cc9-45c4-9e94-4dfd1a82f5c2 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_bca1152d-b945-4b89-95f0-63aaa724dbe3             request.body: {} ssl_verify: False
2025-01-13 12:46:07.060 25 INFO cinder.volume.drivers.lightos [None req-f134b442-9cc9-45c4-9e94-4dfd1a82f5c2 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/178f5bd2-ba2a-4794-8d63-f910f99a14eb?             request.body:  ssl_verify: False
2025-01-13 12:46:07.085 25 INFO cinder.volume.drivers.lightos [None req-f134b442-9cc9-45c4-9e94-4dfd1a82f5c2 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/178f5bd2-ba2a-4794-8d63-f910f99a14eb             request.body: {} ssl_verify: False
2025-01-13 12:46:07.093 25 INFO cinder.volume.drivers.lightos [None req-29684444-0c9c-4080-bef8-0d6332280910 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/7b109cf7-822e-4383-8db6-af88a7eb3ff7             request.body: {} ssl_verify: False
2025-01-13 12:46:07.107 25 INFO cinder.volume.flows.manager.create_volume [None req-6ea0d44b-0a47-4109-bad5-2bc6b684ad44 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Volume 27c855b0-7475-4094-8b35-499ce0a678fd: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_27c855b0-7475-4094-8b35-499ce0a678fd', 'volume_size': 1}
2025-01-13 12:46:07.108 25 INFO cinder.volume.drivers.lightos [None req-6ea0d44b-0a47-4109-bad5-2bc6b684ad44 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_27c855b0-7475-4094-8b35-499ce0a678fd             request.body: {} ssl_verify: False
2025-01-13 12:46:07.126 25 INFO cinder.volume.drivers.lightos [None req-6ea0d44b-0a47-4109-bad5-2bc6b684ad44 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_27c855b0-7475-4094-8b35-499ce0a678fd', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:07.129 25 INFO cinder.volume.flows.manager.create_volume [None req-29684444-0c9c-4080-bef8-0d6332280910 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Volume vol_b4cc74f7-5f94-49c4-aad5-3ca603716825 (b4cc74f7-5f94-49c4-aad5-3ca603716825): created successfully
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager [None req-f134b442-9cc9-45c4-9e94-4dfd1a82f5c2 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager 
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager 
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:07.137 25 ERROR cinder.volume.manager 
2025-01-13 12:46:07.139 25 INFO cinder.volume.manager [None req-29684444-0c9c-4080-bef8-0d6332280910 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Created volume successfully.
2025-01-13 12:46:07.159 25 INFO cinder.volume.manager [None req-f134b442-9cc9-45c4-9e94-4dfd1a82f5c2 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Deleted volume successfully.
2025-01-13 12:46:07.178 25 INFO cinder.volume.drivers.lightos [None req-6ea0d44b-0a47-4109-bad5-2bc6b684ad44 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/72b931cd-73a9-486f-89eb-43dd748d6423             request.body: {} ssl_verify: False
2025-01-13 12:46:07.287 25 INFO cinder.volume.drivers.lightos [None req-4006b52d-8ca1-4e4a-8e38-5fbfa9c838e8 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_e0aced9e-9ecc-4945-8161-7ca8a598d9f8             request.body: {} ssl_verify: False
2025-01-13 12:46:07.298 25 INFO cinder.volume.drivers.lightos [None req-4006b52d-8ca1-4e4a-8e38-5fbfa9c838e8 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/8fd51f4a-0c7f-4f77-b9a6-7592e9d912d1?             request.body:  ssl_verify: False
2025-01-13 12:46:07.330 25 INFO cinder.volume.drivers.lightos [None req-4006b52d-8ca1-4e4a-8e38-5fbfa9c838e8 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/8fd51f4a-0c7f-4f77-b9a6-7592e9d912d1             request.body: {} ssl_verify: False
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager [None req-4006b52d-8ca1-4e4a-8e38-5fbfa9c838e8 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager 
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager 
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:07.388 25 ERROR cinder.volume.manager 
2025-01-13 12:46:07.417 25 INFO cinder.volume.manager [None req-4006b52d-8ca1-4e4a-8e38-5fbfa9c838e8 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Deleted volume successfully.
2025-01-13 12:46:07.494 25 INFO cinder.volume.drivers.lightos [None req-07916a59-f382-43ea-b1cb-4c9342db0dcb 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/87b77c74-a626-460e-b9a7-af59125b9f35             request.body: {} ssl_verify: False
2025-01-13 12:46:07.526 25 INFO cinder.volume.flows.manager.create_volume [None req-07916a59-f382-43ea-b1cb-4c9342db0dcb 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Volume vol_287c592b-1fdb-4c5a-b443-a91e76fa3012 (287c592b-1fdb-4c5a-b443-a91e76fa3012): created successfully
2025-01-13 12:46:07.534 25 INFO cinder.volume.manager [None req-07916a59-f382-43ea-b1cb-4c9342db0dcb 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Created volume successfully.
2025-01-13 12:46:07.681 25 INFO cinder.volume.drivers.lightos [None req-0f877bbd-079f-4f63-85a8-123a94950f1a 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c8890f52-5dc9-445d-aebf-98eebcf3b721             request.body: {} ssl_verify: False
2025-01-13 12:46:07.723 25 INFO cinder.volume.flows.manager.create_volume [None req-0f877bbd-079f-4f63-85a8-123a94950f1a 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Volume vol_7bc1822f-c32a-4216-89e4-dda4538002c1 (7bc1822f-c32a-4216-89e4-dda4538002c1): created successfully
2025-01-13 12:46:07.741 25 INFO cinder.volume.manager [None req-0f877bbd-079f-4f63-85a8-123a94950f1a 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Created volume successfully.
2025-01-13 12:46:07.913 25 INFO cinder.volume.drivers.lightos [None req-839f8eb4-6a11-48c8-970a-fd8921912740 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b83d505e-5a6e-4735-ac69-960e3be66ad6             request.body: {} ssl_verify: False
2025-01-13 12:46:07.943 25 INFO cinder.volume.flows.manager.create_volume [None req-839f8eb4-6a11-48c8-970a-fd8921912740 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Volume vol_cd79f499-469c-47db-8c02-fabf8f31ffda (cd79f499-469c-47db-8c02-fabf8f31ffda): created successfully
2025-01-13 12:46:07.957 25 INFO cinder.volume.manager [None req-839f8eb4-6a11-48c8-970a-fd8921912740 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Created volume successfully.
2025-01-13 12:46:08.200 25 INFO cinder.volume.drivers.lightos [None req-6ea0d44b-0a47-4109-bad5-2bc6b684ad44 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/72b931cd-73a9-486f-89eb-43dd748d6423             request.body: {} ssl_verify: False
2025-01-13 12:46:08.236 25 INFO cinder.volume.flows.manager.create_volume [None req-6ea0d44b-0a47-4109-bad5-2bc6b684ad44 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Volume vol_27c855b0-7475-4094-8b35-499ce0a678fd (27c855b0-7475-4094-8b35-499ce0a678fd): created successfully
2025-01-13 12:46:08.248 25 INFO cinder.volume.drivers.lightos [None req-5e359a81-acb9-4a75-a1c6-a40b858d3046 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_88fbca56-3a84-401a-9673-69eec6e3e255             request.body: {} ssl_verify: False
2025-01-13 12:46:08.251 25 INFO cinder.volume.manager [None req-6ea0d44b-0a47-4109-bad5-2bc6b684ad44 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Created volume successfully.
2025-01-13 12:46:08.260 25 INFO cinder.volume.drivers.lightos [None req-5e359a81-acb9-4a75-a1c6-a40b858d3046 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/90aeb659-b1f8-45e6-9ec4-2ff4bf3f0905?             request.body:  ssl_verify: False
2025-01-13 12:46:08.285 25 INFO cinder.volume.drivers.lightos [None req-5e359a81-acb9-4a75-a1c6-a40b858d3046 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/90aeb659-b1f8-45e6-9ec4-2ff4bf3f0905             request.body: {} ssl_verify: False
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager [None req-5e359a81-acb9-4a75-a1c6-a40b858d3046 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager 
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager 
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:08.326 25 ERROR cinder.volume.manager 
2025-01-13 12:46:08.364 25 INFO cinder.volume.manager [None req-5e359a81-acb9-4a75-a1c6-a40b858d3046 f494d20b78d241cdbbbe293f59c337d7 74fd3392503a4f0a9e18a77ccf153bef - - - -] Deleted volume successfully.
2025-01-13 12:46:08.434 25 INFO cinder.volume.drivers.lightos [None req-28550459-32ed-4b09-8929-c91e28a6708c 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_16103ece-0fd8-4ea0-ac22-643dce6f6050             request.body: {} ssl_verify: False
2025-01-13 12:46:08.448 25 INFO cinder.volume.drivers.lightos [None req-28550459-32ed-4b09-8929-c91e28a6708c 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/25099eae-e6c1-4c01-91b1-c8c169cd0008?             request.body:  ssl_verify: False
2025-01-13 12:46:08.472 25 INFO cinder.volume.drivers.lightos [None req-28550459-32ed-4b09-8929-c91e28a6708c 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/25099eae-e6c1-4c01-91b1-c8c169cd0008             request.body: {} ssl_verify: False
2025-01-13 12:46:08.478 25 INFO cinder.volume.drivers.lightos [None req-769dff5b-2501-49cf-9572-460686dbf8b3 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_27c855b0-7475-4094-8b35-499ce0a678fd             request.body: {} ssl_verify: False
2025-01-13 12:46:08.496 25 INFO cinder.volume.drivers.lightos [None req-769dff5b-2501-49cf-9572-460686dbf8b3 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/72b931cd-73a9-486f-89eb-43dd748d6423?             request.body:  ssl_verify: False
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager [None req-28550459-32ed-4b09-8929-c91e28a6708c 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager 
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager 
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:08.524 25 ERROR cinder.volume.manager 
2025-01-13 12:46:08.553 25 INFO cinder.volume.manager [None req-28550459-32ed-4b09-8929-c91e28a6708c 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Deleted volume successfully.
2025-01-13 12:46:08.558 25 INFO cinder.volume.drivers.lightos [None req-769dff5b-2501-49cf-9572-460686dbf8b3 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/72b931cd-73a9-486f-89eb-43dd748d6423             request.body: {} ssl_verify: False
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager [None req-769dff5b-2501-49cf-9572-460686dbf8b3 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager 
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager 
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:08.604 25 ERROR cinder.volume.manager 
2025-01-13 12:46:08.640 25 INFO cinder.volume.manager [None req-769dff5b-2501-49cf-9572-460686dbf8b3 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Deleted volume successfully.
2025-01-13 12:46:09.591 25 INFO cinder.volume.drivers.lightos [None req-67e9c30a-91b8-43a1-91db-c0219cc3af98 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_8d85079b-d119-4c53-b527-869b3ac1307c             request.body: {} ssl_verify: False
2025-01-13 12:46:09.607 25 INFO cinder.volume.drivers.lightos [None req-67e9c30a-91b8-43a1-91db-c0219cc3af98 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/78c84ec0-9e6c-4b05-8090-caeaffaddaa3?             request.body:  ssl_verify: False
2025-01-13 12:46:09.622 25 INFO cinder.volume.drivers.lightos [None req-b1f6a9ae-3fa7-423e-b3b7-84c9581fb8bd 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_cd79f499-469c-47db-8c02-fabf8f31ffda             request.body: {} ssl_verify: False
2025-01-13 12:46:09.633 25 INFO cinder.volume.drivers.lightos [None req-b1f6a9ae-3fa7-423e-b3b7-84c9581fb8bd 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/b83d505e-5a6e-4735-ac69-960e3be66ad6?             request.body:  ssl_verify: False
2025-01-13 12:46:09.640 25 INFO cinder.volume.drivers.lightos [None req-67e9c30a-91b8-43a1-91db-c0219cc3af98 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/78c84ec0-9e6c-4b05-8090-caeaffaddaa3             request.body: {} ssl_verify: False
2025-01-13 12:46:09.673 25 INFO cinder.volume.drivers.lightos [None req-b1f6a9ae-3fa7-423e-b3b7-84c9581fb8bd 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b83d505e-5a6e-4735-ac69-960e3be66ad6             request.body: {} ssl_verify: False
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager [None req-67e9c30a-91b8-43a1-91db-c0219cc3af98 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager 
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager 
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:09.725 25 ERROR cinder.volume.manager 
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager [None req-b1f6a9ae-3fa7-423e-b3b7-84c9581fb8bd 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager 
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager 
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:09.735 25 ERROR cinder.volume.manager 
2025-01-13 12:46:09.760 25 INFO cinder.volume.manager [None req-67e9c30a-91b8-43a1-91db-c0219cc3af98 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Deleted volume successfully.
2025-01-13 12:46:09.778 25 INFO cinder.volume.manager [None req-b1f6a9ae-3fa7-423e-b3b7-84c9581fb8bd 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Deleted volume successfully.
2025-01-13 12:46:10.747 25 INFO cinder.volume.drivers.lightos [None req-79bc0dec-b111-416b-823f-a5fb3ee6acf8 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_1b7ea6bc-892b-4e21-b49f-c2082609ad9e             request.body: {} ssl_verify: False
2025-01-13 12:46:10.758 25 INFO cinder.volume.drivers.lightos [None req-79bc0dec-b111-416b-823f-a5fb3ee6acf8 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/bf7aa27f-e948-497b-a01d-22efe406b9ca?             request.body:  ssl_verify: False
2025-01-13 12:46:10.769 25 INFO cinder.volume.drivers.lightos [None req-4277ae79-9199-4b03-a9b3-fb003ccd5553 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_7bc1822f-c32a-4216-89e4-dda4538002c1             request.body: {} ssl_verify: False
2025-01-13 12:46:10.784 25 INFO cinder.volume.drivers.lightos [None req-4277ae79-9199-4b03-a9b3-fb003ccd5553 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/c8890f52-5dc9-445d-aebf-98eebcf3b721?             request.body:  ssl_verify: False
2025-01-13 12:46:10.792 25 INFO cinder.volume.drivers.lightos [None req-79bc0dec-b111-416b-823f-a5fb3ee6acf8 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/bf7aa27f-e948-497b-a01d-22efe406b9ca             request.body: {} ssl_verify: False
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager [None req-79bc0dec-b111-416b-823f-a5fb3ee6acf8 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager 
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager 
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:10.815 25 ERROR cinder.volume.manager 
2025-01-13 12:46:10.847 25 INFO cinder.volume.manager [None req-79bc0dec-b111-416b-823f-a5fb3ee6acf8 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Deleted volume successfully.
2025-01-13 12:46:10.853 25 INFO cinder.volume.drivers.lightos [None req-4277ae79-9199-4b03-a9b3-fb003ccd5553 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/c8890f52-5dc9-445d-aebf-98eebcf3b721             request.body: {} ssl_verify: False
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager [None req-4277ae79-9199-4b03-a9b3-fb003ccd5553 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager 
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager 
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:10.893 25 ERROR cinder.volume.manager 
2025-01-13 12:46:10.922 25 INFO cinder.volume.manager [None req-4277ae79-9199-4b03-a9b3-fb003ccd5553 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Deleted volume successfully.
2025-01-13 12:46:11.907 25 INFO cinder.volume.drivers.lightos [None req-26c950fd-7079-4323-ac8b-b35c1cf6ef99 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_cbd48f82-3b8d-4eaa-87d7-d4e4c6cbb124             request.body: {} ssl_verify: False
2025-01-13 12:46:11.918 25 INFO cinder.volume.drivers.lightos [None req-26c950fd-7079-4323-ac8b-b35c1cf6ef99 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/65a515e6-090d-491f-afeb-997ded99f283?             request.body:  ssl_verify: False
2025-01-13 12:46:11.931 25 INFO cinder.volume.drivers.lightos [None req-53caa01f-b945-4be7-88a8-56cca19aa995 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_287c592b-1fdb-4c5a-b443-a91e76fa3012             request.body: {} ssl_verify: False
2025-01-13 12:46:11.939 25 INFO cinder.volume.drivers.lightos [None req-26c950fd-7079-4323-ac8b-b35c1cf6ef99 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/65a515e6-090d-491f-afeb-997ded99f283             request.body: {} ssl_verify: False
2025-01-13 12:46:11.947 25 INFO cinder.volume.drivers.lightos [None req-53caa01f-b945-4be7-88a8-56cca19aa995 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/87b77c74-a626-460e-b9a7-af59125b9f35?             request.body:  ssl_verify: False
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager [None req-26c950fd-7079-4323-ac8b-b35c1cf6ef99 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager 
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager 
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:11.963 25 ERROR cinder.volume.manager 
2025-01-13 12:46:11.987 25 INFO cinder.volume.drivers.lightos [None req-53caa01f-b945-4be7-88a8-56cca19aa995 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/87b77c74-a626-460e-b9a7-af59125b9f35             request.body: {} ssl_verify: False
2025-01-13 12:46:11.988 25 INFO cinder.volume.manager [None req-26c950fd-7079-4323-ac8b-b35c1cf6ef99 679e8c61f5f940c891705c562d5ad978 f9a66372755f4a74a73deeda3aaed34a - - - -] Deleted volume successfully.
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager [None req-53caa01f-b945-4be7-88a8-56cca19aa995 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager 
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager 
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:12.021 25 ERROR cinder.volume.manager 
2025-01-13 12:46:12.053 25 INFO cinder.volume.manager [None req-53caa01f-b945-4be7-88a8-56cca19aa995 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Deleted volume successfully.
2025-01-13 12:46:13.006 25 INFO cinder.volume.flows.manager.create_volume [None req-8a8b5e63-a4f2-44af-b08b-615650fce916 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Volume 667a5fe7-cdee-4345-83cf-26504680bc7f: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_667a5fe7-cdee-4345-83cf-26504680bc7f', 'volume_size': 1}
2025-01-13 12:46:13.006 25 INFO cinder.volume.drivers.lightos [None req-8a8b5e63-a4f2-44af-b08b-615650fce916 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_667a5fe7-cdee-4345-83cf-26504680bc7f             request.body: {} ssl_verify: False
2025-01-13 12:46:13.029 25 INFO cinder.volume.drivers.lightos [None req-8a8b5e63-a4f2-44af-b08b-615650fce916 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_667a5fe7-cdee-4345-83cf-26504680bc7f', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:13.072 25 INFO cinder.volume.drivers.lightos [None req-8a8b5e63-a4f2-44af-b08b-615650fce916 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b1a03ed6-907b-4f0a-b3a5-9cadcc40e1c5             request.body: {} ssl_verify: False
2025-01-13 12:46:13.095 25 INFO cinder.volume.drivers.lightos [None req-0af05e85-aa26-409a-82e4-9c037a67dd37 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_b4cc74f7-5f94-49c4-aad5-3ca603716825             request.body: {} ssl_verify: False
2025-01-13 12:46:13.127 25 INFO cinder.volume.drivers.lightos [None req-0af05e85-aa26-409a-82e4-9c037a67dd37 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/7b109cf7-822e-4383-8db6-af88a7eb3ff7?             request.body:  ssl_verify: False
2025-01-13 12:46:13.176 25 INFO cinder.volume.drivers.lightos [None req-0af05e85-aa26-409a-82e4-9c037a67dd37 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/7b109cf7-822e-4383-8db6-af88a7eb3ff7             request.body: {} ssl_verify: False
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager [None req-0af05e85-aa26-409a-82e4-9c037a67dd37 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager 
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager 
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:13.218 25 ERROR cinder.volume.manager 
2025-01-13 12:46:13.251 25 INFO cinder.volume.manager [None req-0af05e85-aa26-409a-82e4-9c037a67dd37 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Deleted volume successfully.
2025-01-13 12:46:14.124 25 INFO cinder.volume.drivers.lightos [None req-8a8b5e63-a4f2-44af-b08b-615650fce916 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b1a03ed6-907b-4f0a-b3a5-9cadcc40e1c5             request.body: {} ssl_verify: False
2025-01-13 12:46:14.171 25 INFO cinder.volume.flows.manager.create_volume [None req-8a8b5e63-a4f2-44af-b08b-615650fce916 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Volume vol_667a5fe7-cdee-4345-83cf-26504680bc7f (667a5fe7-cdee-4345-83cf-26504680bc7f): created successfully
2025-01-13 12:46:14.184 25 INFO cinder.volume.manager [None req-8a8b5e63-a4f2-44af-b08b-615650fce916 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Created volume successfully.
2025-01-13 12:46:14.226 25 INFO cinder.volume.drivers.lightos [None req-97164e9b-e907-4723-9431-fcbdf5b51b74 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-45c9b63d-7bbf-4650-ad5d-2168509c6dce             request.body: {} ssl_verify: False
2025-01-13 12:46:14.243 25 INFO cinder.volume.drivers.lightos [None req-97164e9b-e907-4723-9431-fcbdf5b51b74 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/4e55a2a1-cf83-4d8e-b34e-23e55df74f69?             request.body:  ssl_verify: False
2025-01-13 12:46:14.275 25 INFO cinder.volume.drivers.lightos [None req-97164e9b-e907-4723-9431-fcbdf5b51b74 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/4e55a2a1-cf83-4d8e-b34e-23e55df74f69             request.body: {} ssl_verify: False
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager [None req-97164e9b-e907-4723-9431-fcbdf5b51b74 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager 
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager 
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:14.313 25 ERROR cinder.volume.manager 
2025-01-13 12:46:14.332 25 INFO cinder.volume.manager [None req-97164e9b-e907-4723-9431-fcbdf5b51b74 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Delete snapshot completed successfully.
2025-01-13 12:46:15.379 25 INFO cinder.volume.drivers.lightos [None req-9b172f70-04ee-47a5-9394-f3bf56c9bedb 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_073900b6-60e2-494a-a1bc-3b3ec3cd05b4             request.body: {} ssl_verify: False
2025-01-13 12:46:15.392 25 INFO cinder.volume.drivers.lightos [None req-9b172f70-04ee-47a5-9394-f3bf56c9bedb 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/4f81c46b-3b56-4f25-b066-149a0f39e36e?             request.body:  ssl_verify: False
2025-01-13 12:46:15.415 25 INFO cinder.volume.drivers.lightos [None req-9b172f70-04ee-47a5-9394-f3bf56c9bedb 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/4f81c46b-3b56-4f25-b066-149a0f39e36e             request.body: {} ssl_verify: False
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager [None req-9b172f70-04ee-47a5-9394-f3bf56c9bedb 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager 
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager 
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:15.452 25 ERROR cinder.volume.manager 
2025-01-13 12:46:15.490 25 INFO cinder.volume.flows.manager.create_volume [None req-2cc00d53-7c0a-47ba-bbc5-9e5ec329b137 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Volume 50ce387f-cec9-4104-aefd-b8be8e6c7304: being created as raw with specification: {'status': 'creating', 'volume_name': 'vol_50ce387f-cec9-4104-aefd-b8be8e6c7304', 'volume_size': 1}
2025-01-13 12:46:15.490 25 INFO cinder.volume.drivers.lightos [None req-2cc00d53-7c0a-47ba-bbc5-9e5ec329b137 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_50ce387f-cec9-4104-aefd-b8be8e6c7304             request.body: {} ssl_verify: False
2025-01-13 12:46:15.501 25 INFO cinder.volume.drivers.lightos [None req-2cc00d53-7c0a-47ba-bbc5-9e5ec329b137 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking create_volume using POST url: /api/v2/projects/default/volumes             request.body: {'name': 'vol_50ce387f-cec9-4104-aefd-b8be8e6c7304', 'size': '1 gib', 'replicaCount': '3', 'compression': 'False', 'acl': {'values': ['ALLOW_NONE']}, 'IPAcl': {'values': ['ALLOW_NONE']}, 'sourceSnapshotUUID': None, 'sourceSnapshotName': None} ssl_verify: False
2025-01-13 12:46:15.508 25 INFO cinder.volume.manager [None req-9b172f70-04ee-47a5-9394-f3bf56c9bedb 54c90d3dd4eb43129bb241918bd50acb 306331a9269043c58c8b90f35d665fd5 - - - -] Deleted volume successfully.
2025-01-13 12:46:15.527 25 INFO cinder.volume.drivers.lightos [None req-2cc00d53-7c0a-47ba-bbc5-9e5ec329b137 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/a67f148a-6cbf-4de1-ab88-37304375abf3             request.body: {} ssl_verify: False
2025-01-13 12:46:16.552 25 INFO cinder.volume.drivers.lightos [None req-2cc00d53-7c0a-47ba-bbc5-9e5ec329b137 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/a67f148a-6cbf-4de1-ab88-37304375abf3             request.body: {} ssl_verify: False
2025-01-13 12:46:16.599 25 INFO cinder.volume.flows.manager.create_volume [None req-2cc00d53-7c0a-47ba-bbc5-9e5ec329b137 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Volume vol_50ce387f-cec9-4104-aefd-b8be8e6c7304 (50ce387f-cec9-4104-aefd-b8be8e6c7304): created successfully
2025-01-13 12:46:16.618 25 INFO cinder.volume.manager [None req-2cc00d53-7c0a-47ba-bbc5-9e5ec329b137 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Created volume successfully.
2025-01-13 12:46:17.813 25 INFO cinder.volume.drivers.lightos [None req-5e69ecb0-2316-4e83-a7d7-f79f35aaf7a5 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-4f7d4c9c-62a6-48bf-b7cc-6b787bd12221             request.body: {} ssl_verify: False
2025-01-13 12:46:17.823 25 INFO cinder.volume.drivers.lightos [None req-5e69ecb0-2316-4e83-a7d7-f79f35aaf7a5 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking create_snapshot using POST url: /api/v2/projects/default/snapshots             request.body: {'name': 'snapshot-4f7d4c9c-62a6-48bf-b7cc-6b787bd12221', 'sourceVolumeUUID': None, 'sourceVolumeName': 'vol_50ce387f-cec9-4104-aefd-b8be8e6c7304'} ssl_verify: False
2025-01-13 12:46:17.884 25 INFO cinder.volume.drivers.lightos [None req-5e69ecb0-2316-4e83-a7d7-f79f35aaf7a5 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-4f7d4c9c-62a6-48bf-b7cc-6b787bd12221             request.body: {} ssl_verify: False
2025-01-13 12:46:18.928 25 INFO cinder.volume.drivers.lightos [None req-5e69ecb0-2316-4e83-a7d7-f79f35aaf7a5 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-4f7d4c9c-62a6-48bf-b7cc-6b787bd12221             request.body: {} ssl_verify: False
2025-01-13 12:46:18.968 25 INFO cinder.volume.manager [None req-5e69ecb0-2316-4e83-a7d7-f79f35aaf7a5 fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Create snapshot completed successfully
2025-01-13 12:46:19.963 25 INFO cinder.volume.drivers.lightos [None req-95be9a2a-61ff-4357-889e-8fb5493d35de fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking get_snapshot_by_name using GET url: /api/v2/projects/default/snapshots/?Name=snapshot-4f7d4c9c-62a6-48bf-b7cc-6b787bd12221             request.body: {} ssl_verify: False
2025-01-13 12:46:19.978 25 INFO cinder.volume.drivers.lightos [None req-95be9a2a-61ff-4357-889e-8fb5493d35de fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking delete_snapshot using DELETE url: /api/v2/projects/default/snapshots/91b5ee56-bb44-4534-a21d-14da7a519d00?             request.body:  ssl_verify: False
2025-01-13 12:46:20.003 25 INFO cinder.volume.drivers.lightos [None req-95be9a2a-61ff-4357-889e-8fb5493d35de fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking get_snapshot using GET url: /api/v2/projects/default/snapshots/91b5ee56-bb44-4534-a21d-14da7a519d00             request.body: {} ssl_verify: False
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager [None req-95be9a2a-61ff-4357-889e-8fb5493d35de fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Update snapshot usages failed.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager 
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager 
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1374, in delete_snapshot
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:20.047 25 ERROR cinder.volume.manager 
2025-01-13 12:46:20.059 25 INFO cinder.volume.manager [None req-95be9a2a-61ff-4357-889e-8fb5493d35de fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Delete snapshot completed successfully.
2025-01-13 12:46:21.105 25 INFO cinder.volume.drivers.lightos [None req-5fdc5ba0-aab3-4d6e-9a09-ea0d17bc497c fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_50ce387f-cec9-4104-aefd-b8be8e6c7304             request.body: {} ssl_verify: False
2025-01-13 12:46:21.116 25 INFO cinder.volume.drivers.lightos [None req-5fdc5ba0-aab3-4d6e-9a09-ea0d17bc497c fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/a67f148a-6cbf-4de1-ab88-37304375abf3?             request.body:  ssl_verify: False
2025-01-13 12:46:21.137 25 INFO cinder.volume.drivers.lightos [None req-5fdc5ba0-aab3-4d6e-9a09-ea0d17bc497c fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/a67f148a-6cbf-4de1-ab88-37304375abf3             request.body: {} ssl_verify: False
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager [None req-5fdc5ba0-aab3-4d6e-9a09-ea0d17bc497c fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager 
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager 
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:21.176 25 ERROR cinder.volume.manager 
2025-01-13 12:46:21.207 25 INFO cinder.volume.manager [None req-5fdc5ba0-aab3-4d6e-9a09-ea0d17bc497c fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Deleted volume successfully.
2025-01-13 12:46:22.272 25 INFO cinder.volume.drivers.lightos [None req-258aad81-b0f9-4771-a772-c207dd1e94cc fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking get_volume_by_name using GET url: /api/v2/projects/default/volumes/?name=vol_667a5fe7-cdee-4345-83cf-26504680bc7f             request.body: {} ssl_verify: False
2025-01-13 12:46:22.282 25 INFO cinder.volume.drivers.lightos [None req-258aad81-b0f9-4771-a772-c207dd1e94cc fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking delete_volume using DELETE url: /api/v2/projects/default/volumes/b1a03ed6-907b-4f0a-b3a5-9cadcc40e1c5?             request.body:  ssl_verify: False
2025-01-13 12:46:22.307 25 INFO cinder.volume.drivers.lightos [None req-258aad81-b0f9-4771-a772-c207dd1e94cc fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Invoking get_volume using GET url: /api/v2/projects/default/volumes/b1a03ed6-907b-4f0a-b3a5-9cadcc40e1c5             request.body: {} ssl_verify: False
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager [None req-258aad81-b0f9-4771-a772-c207dd1e94cc fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Failed to update usages deleting volume.: sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
[SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
FROM volume_types 
WHERE volume_types.id = %(id_1)s 
 LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
[parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager pymysql.err.ProgrammingError: (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager 
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager The above exception was the direct cause of the following exception:
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager 
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager Traceback (most recent call last):
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/volume/manager.py", line 1040, in delete_volume
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     QUOTAS.add_volume_type_opts(context,
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/quota.py", line 834, in add_volume_type_opts
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     volume_type = db.volume_type_get(context, volume_type_id, True)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/api.py", line 817, in volume_type_get
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     return IMPL.volume_type_get(context, id, inactive, expected_fields)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_db/sqlalchemy/enginefacade.py", line 998, in wrapper
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     return fn(*args, **kwargs)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4846, in volume_type_get
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     return _volume_type_get(
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 185, in wrapper
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     return f(*args, **kwargs)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4798, in _volume_type_get
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     result = _volume_type_get_db_object(
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/cinder/db/sqlalchemy/api.py", line 4775, in _volume_type_get_db_object
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     .first()
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2728, in first
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     return self.limit(1)._iter().first()  # type: ignore
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/query.py", line 2827, in _iter
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2362, in execute
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     return self._execute_internal(
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/session.py", line 2247, in _execute_internal
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     result: Result[Any] = compile_state_cls.orm_execute_statement(
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/orm/context.py", line 293, in orm_execute_statement
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     result = conn.execute(
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1418, in execute
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     return meth(
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/sql/elements.py", line 515, in _execute_on_connection
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     return connection._execute_clauseelement(
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1640, in _execute_clauseelement
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     ret = self._execute_context(
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1846, in _execute_context
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     return self._exec_single_context(
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1986, in _exec_single_context
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     self._handle_dbapi_exception(
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     raise newraise.with_traceback(exc_info[2]) from e
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/base.py", line 1967, in _exec_single_context
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     self.dialect.do_execute(
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/sqlalchemy/engine/default.py", line 941, in do_execute
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     cursor.execute(statement, parameters)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 153, in execute
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     result = self._query(query)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/cursors.py", line 322, in _query
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     conn.query(q)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 563, in query
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     self._affected_rows = self._read_query_result(unbuffered=unbuffered)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 825, in _read_query_result
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     result.read()
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 1199, in read
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     first_packet = self.connection._read_packet()
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/connections.py", line 775, in _read_packet
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     packet.raise_for_error()
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/protocol.py", line 219, in raise_for_error
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     err.raise_mysql_exception(self._data)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager   File "/var/lib/kolla/venv/lib/python3.10/site-packages/pymysql/err.py", line 150, in raise_mysql_exception
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager     raise errorclass(errno, errval)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager sqlalchemy.exc.ProgrammingError: (pymysql.err.ProgrammingError) (1146, "Table 'cinder.volume_type_metadata' doesn't exist")
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager [SQL: SELECT anon_1.volume_types_id AS anon_1_volume_types_id, anon_1.volume_types_name AS anon_1_volume_types_name, anon_1.volume_types_description AS anon_1_volume_types_description, anon_1.volume_types_qos_specs_id AS anon_1_volume_types_qos_specs_id, anon_1.volume_types_is_public AS anon_1_volume_types_is_public, anon_1.volume_types_deleted_at AS anon_1_volume_types_deleted_at, anon_1.volume_types_deleted AS anon_1_volume_types_deleted, anon_1.volume_types_created_at AS anon_1_volume_types_created_at, anon_1.volume_types_updated_at AS anon_1_volume_types_updated_at, volume_type_extra_specs_1.id AS volume_type_extra_specs_1_id, volume_type_extra_specs_1.`key` AS volume_type_extra_specs_1_key, volume_type_extra_specs_1.value AS volume_type_extra_specs_1_value, volume_type_extra_specs_1.volume_type_id AS volume_type_extra_specs_1_volume_type_id, volume_type_extra_specs_1.deleted_at AS volume_type_extra_specs_1_deleted_at, volume_type_extra_specs_1.deleted AS volume_type_extra_specs_1_deleted, volume_type_extra_specs_1.created_at AS volume_type_extra_specs_1_created_at, volume_type_extra_specs_1.updated_at AS volume_type_extra_specs_1_updated_at, volume_type_metadata_1.id AS volume_type_metadata_1_id, volume_type_metadata_1.`key` AS volume_type_metadata_1_key, volume_type_metadata_1.value AS volume_type_metadata_1_value, volume_type_metadata_1.volume_type_id AS volume_type_metadata_1_volume_type_id, volume_type_metadata_1.deleted_at AS volume_type_metadata_1_deleted_at, volume_type_metadata_1.deleted AS volume_type_metadata_1_deleted, volume_type_metadata_1.created_at AS volume_type_metadata_1_created_at, volume_type_metadata_1.updated_at AS volume_type_metadata_1_updated_at 
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager FROM (SELECT volume_types.id AS volume_types_id, volume_types.name AS volume_types_name, volume_types.description AS volume_types_description, volume_types.qos_specs_id AS volume_types_qos_specs_id, volume_types.is_public AS volume_types_is_public, volume_types.deleted_at AS volume_types_deleted_at, volume_types.deleted AS volume_types_deleted, volume_types.created_at AS volume_types_created_at, volume_types.updated_at AS volume_types_updated_at 
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager FROM volume_types 
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager WHERE volume_types.id = %(id_1)s 
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager  LIMIT %(param_1)s) AS anon_1 LEFT OUTER JOIN volume_type_extra_specs AS volume_type_extra_specs_1 ON volume_type_extra_specs_1.volume_type_id = anon_1.volume_types_id AND volume_type_extra_specs_1.deleted = false LEFT OUTER JOIN volume_type_metadata AS volume_type_metadata_1 ON volume_type_metadata_1.volume_type_id = anon_1.volume_types_id AND volume_type_metadata_1.deleted = false]
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager [parameters: {'id_1': '0268b28d-787a-4ba1-bedc-3987f184bb0c', 'param_1': 1}]
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager (Background on this error at: https://sqlalche.me/e/20/f405)
2025-01-13 12:46:22.334 25 ERROR cinder.volume.manager 
2025-01-13 12:46:22.369 25 INFO cinder.volume.manager [None req-258aad81-b0f9-4771-a772-c207dd1e94cc fd948ffa25b642f9847803777b4dd958 1fe2708d7bd748a099cac872267a7016 - - - -] Deleted volume successfully.

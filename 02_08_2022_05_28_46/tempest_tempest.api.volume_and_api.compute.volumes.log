{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.143345s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.016592s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.014070s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.124896s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.013230s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.011987s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.105034s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.052728s] ... ok
{2} tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON.test_compare_volume_stats_values [0.085827s] ... ok
{2} tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON.test_get_capabilities_backend [0.042102s] ... ok
{1} tempest.api.compute.volumes.test_volume_snapshots.VolumesSnapshotsTestJSON.test_volume_snapshot_create_get_list_delete [6.955447s] ... ok
{2} tempest.api.volume.admin.test_group_types.GroupTypesTest.test_group_type_create_list_update_show_delete [0.375506s] ... ok
{2} tempest.api.volume.admin.test_group_types.GroupTypesTest.test_group_type_list_by_optional_params [0.274741s] ... ok
{1} tempest.api.compute.volumes.test_volumes_get.VolumesGetTestJSON.test_volume_create_get_delete [2.848888s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_associate_disassociate_qos [0.434300s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_back_end_consumer [0.127121s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_both_consumer [0.123079s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_front_end_consumer [0.122576s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_get_qos [0.028981s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_list_qos [0.027699s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_set_unset_qos_key [0.157586s] ... ok
{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_boot_from_multiattach_volume [22.095037s] ... ok
{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_list_get_volume_attachments_multiattach [2.638417s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 406, in test_list_get_volume_attachments_multiattach
    servers, volume, attachments = self._create_and_multiattach()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 389, in _create_and_multiattach
    'ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 65322855-3c90-441c-b58a-35d9d76aa834 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2022-08-02T05:31:50Z', 'message': 'Build of instance 65322855-3c90-441c-b58a-35d9d76aa834 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2703, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2040, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 1959, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py", line 12046, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2317, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2526, in _build_and_run_instance\n    compute_utils.notify_about_instance_create(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2477, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.8/contextlib.py", line 113, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2729, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 65322855-3c90-441c-b58a-35d9d76aa834 aborted: Failure prepping block device.\n'}.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-02 08:31:49,152 4953 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.564s
2022-08-02 08:31:49,153 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:31:48 GMT', 'server': 'Apache', 'content-length': '3904', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-4c1d336a-f451-4077-bee0-7f31f5e4110e', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "323fc986cd2f4ff4b3af000a1b333ff9", "name": "tempest-AttachVolumeMultiAttachTest-376354641-project", "password_expires_at": null}, "audit_ids": ["pgihjR6VQP-yPLCJZ6o-pQ"], "expires_at": "2022-08-03T05:31:49.000000Z", "issued_at": "2022-08-02T05:31:49.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "842e4186d1ba4714a1490edb85193e14", "name": "tempest-AttachVolumeMultiAttachTest-376354641"}, "is_domain": false, "roles": [{"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader"}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin"}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member"}], "catalog": [{"endpoints": [{"id": "2573ec8637884f699bb8ed9b3e812834", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "f30c35c99c7a4d0cb93de2e449216df3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "2dfaaa6289594a59a21af64b82409748", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "200e31520f8e4b43ba170ad8ad10c326", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "5ff572e0434e41b2874ef31f59512a50", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "41bd9392edc24a5a807357ca3d32f9df", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "5ce526a93e754a86aca9dfa32488315a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "6bfef8334e624bf79a68e772baf935ab", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "82af88c346b64c188642b601ab6b3200", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "51fd01d218634df0b6183bc005e9aa76", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "40070d3b68ae4835a7519d549bd4a04f", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "4f3f869be4df46a38e0ecfc74a22275a", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "705ce7c2e88a4cd8af1f14bafd5146fa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "670194eee39e4d79ac5ff73786bc25a9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/842e4186d1ba4714a1490edb85193e14", "region": "RegionOne"}, {"id": "b881710677da40d49cc457366924409f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/842e4186d1ba4714a1490edb85193e14", "region": "RegionOne"}], "id": "7c70b3378d2143ceb9d484efac41814a", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "207eb9d98de340309d33a7322ccbe5ce", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/842e4186d1ba4714a1490edb85193e14", "region": "RegionOne"}, {"id": "4790b9735beb442cadf841a0b2340d89", "interface": "internal", "region_id": "RegionOne", "url": "htt
    p://[LB_IP_ADDRESS]:8774/v2/842e4186d1ba4714a1490edb85193e14", "region": "RegionOne"}], "id": "a72baa1e718a4231a650b0e0303ebdcb", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "5436e7e2682f44799f85f3fac5a5f25a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "9bc3c58d06624fa0bb576d21d054b9fa", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "d7f3c26d17514c839c06f670de9a53c1", "type": "placement", "name": "placement"}]}}'
2022-08-02 08:31:49,163 4953 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-02 08:31:49,298 4953 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.133s
2022-08-02 08:31:49,298 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-0", "imageRef": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:31:49 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/65322855-3c90-441c-b58a-35d9d76aa834', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8edca3dd-33b7-4d67-958c-ac73d3b2a1fb', 'x-compute-request-id': 'req-8edca3dd-33b7-4d67-958c-ac73d3b2a1fb', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "65322855-3c90-441c-b58a-35d9d76aa834", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/65322855-3c90-441c-b58a-35d9d76aa834"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/65322855-3c90-441c-b58a-35d9d76aa834"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "3PhHCgwFCuiv"}}'
2022-08-02 08:31:49,831 4953 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.521s
2022-08-02 08:31:49,831 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:31:49 GMT', 'server': 'Apache', 'content-length': '3904', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2e473a6b-4f7e-45d0-9f7b-b247e23c591a', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "323fc986cd2f4ff4b3af000a1b333ff9", "name": "tempest-AttachVolumeMultiAttachTest-376354641-project", "password_expires_at": null}, "audit_ids": ["MJDMVNwgQta5m2xMUlWG9Q"], "expires_at": "2022-08-03T05:31:49.000000Z", "issued_at": "2022-08-02T05:31:49.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "842e4186d1ba4714a1490edb85193e14", "name": "tempest-AttachVolumeMultiAttachTest-376354641"}, "is_domain": false, "roles": [{"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader"}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin"}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member"}], "catalog": [{"endpoints": [{"id": "2573ec8637884f699bb8ed9b3e812834", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "Reg
    ionOne"}, {"id": "f30c35c99c7a4d0cb93de2e449216df3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "2dfaaa6289594a59a21af64b82409748", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "200e31520f8e4b43ba170ad8ad10c326", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "5ff572e0434e41b2874ef31f59512a50", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "41bd9392edc24a5a807357ca3d32f9df", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "5ce526a93e754a86aca9dfa32488315a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "6bfef8334e624bf79a68e772baf935ab", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "82af88c346b64c188642b601ab6b3200", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "51fd01d218634df0b6183bc005e9aa76", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "40070d3b68ae4835a7519d549bd4a04f", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "4f3f869be4df46a38e0ecfc74a22275a", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "705ce7c2e88a4cd8af1f14bafd5146fa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "670194eee39e4d79ac5ff73786bc25a9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/842e4186d1ba4714a1490edb85193e14", "region": "RegionOne"}, {"id": "b881710677da40d49cc457366924409f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/842e4186d1ba4714a1490edb85193e14", "region": "RegionOne"}], "id": "7c70b3378d2143ceb9d484efac41814a", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "207eb9d98de340309d33a7322ccbe5ce", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/842e4186d1ba4714a1490edb85193e14", "region": "RegionOne"}, {"id": "4790b9735beb442cadf841a0b2340d89", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/842e4186d1ba4714a1490edb85193e14", "region": "RegionOne"}], "id": "a72baa1e718a4231a650b0e0303ebdcb", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "5436e7e2682f44799f85f3fac5a5f25a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "9bc3c58d06624fa0bb576d21d054b9fa", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "d7f3c26d17514c839c06f670de9a53c1", "type": "placement", "name": "placement"}]}}'
2022-08-02 08:31:49,840 4953 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-02 08:31:49,969 4953 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.128s
2022-08-02 08:31:49,970 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-1", "imageRef": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:31:49 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/7e269f1f-2b69-4116-968e-ff212ea314ff', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Versio
    n,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-cd5c6ab4-696d-420c-83ed-77b4924d2db7', 'x-compute-request-id': 'req-cd5c6ab4-696d-420c-83ed-77b4924d2db7', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "7e269f1f-2b69-4116-968e-ff212ea314ff", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/7e269f1f-2b69-4116-968e-ff212ea314ff"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/7e269f1f-2b69-4116-968e-ff212ea314ff"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "YYAn6NKX9BmN"}}'
2022-08-02 08:31:50,074 4953 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/65322855-3c90-441c-b58a-35d9d76aa834 0.100s
2022-08-02 08:31:50,075 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:31:49 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1760', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5f0b1498-45b4-4986-bbf1-188f37228f0d', 'x-compute-request-id': 'req-5f0b1498-45b4-4986-bbf1-188f37228f0d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/65322855-3c90-441c-b58a-35d9d76aa834'}
        Body: b'{"server": {"id": "65322855-3c90-441c-b58a-35d9d76aa834", "name": "multiattach-server-0", "status": "BUILD", "tenant_id": "842e4186d1ba4714a1490edb85193e14", "user_id": "323fc986cd2f4ff4b3af000a1b333ff9", "metadata": {}, "hostId": "47a08ec0f77c325822f45e702fbd363118004d95ce0d784a7720e6b4", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-02T05:31:49Z", "updated": "2022-08-02T05:31:49Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/65322855-3c90-441c-b58a-35d9d76aa834"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/65322855-3c90-441c-b58a-35d9d76aa834"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": "rack05-server76", "OS-EXT-SRV-ATTR:instance_name": "instance-00000682", "OS-EXT-SRV-ATTR:hypervisor_hostname": "rack05-server76", "OS-EXT-SRV-ATTR:reservation_id": "r-rhtnrge7", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "UP", "locked": false, "description": null, "tags": []}}'
2022-08-02 08:31:51,205 4953 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/65322855-3c90-441c-b58a-35d9d76aa834 0.115s
2022-08-02 08:31:51,205 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02
     Aug 2022 05:31:51 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '5023', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-64c45ecc-64c8-46ba-8747-12114ba3ae8f', 'x-compute-request-id': 'req-64c45ecc-64c8-46ba-8747-12114ba3ae8f', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/65322855-3c90-441c-b58a-35d9d76aa834'}
        Body: b'{"server": {"id": "65322855-3c90-441c-b58a-35d9d76aa834", "name": "multiattach-server-0", "status": "ERROR", "tenant_id": "842e4186d1ba4714a1490edb85193e14", "user_id": "323fc986cd2f4ff4b3af000a1b333ff9", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-02T05:31:49Z", "updated": "2022-08-02T05:31:50Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/65322855-3c90-441c-b58a-35d9d76aa834"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/65322855-3c90-441c-b58a-35d9d76aa834"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-02T05:31:50Z", "message": "Build of instance 65322855-3c90-441c-b58a-35d9d76aa834 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2703, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2040, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 1959, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py\\", line 12046, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2317, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2526, in _build_and_run_instance\\n    compute_utils.notify_about_instance_create(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/e
    xcutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2477, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.8/contextlib.py\\", line 113, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manage
2022-08-02 08:31:51,219 4953 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 1 second wait

{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_resize_server_with_multiattached_volume ... SKIPPED: Resize not available.
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_reset_snapshot_status [0.225227s] ... ok
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_create_group_from_group_snapshot [12.217883s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_creating [3.564496s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_deleting [3.567219s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_error [3.547793s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_error_deleting [3.589922s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_update_snapshot_status [0.222229s] ... ok
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_delete_group_snapshots_following_updated_volumes [16.249370s] ... ok
{2} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_delete_message [1.858872s] ... ok
{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_snapshot_volume_backed_multiattach [26.246566s] ... ok
{2} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_list_show_messages [1.577462s] ... ok
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_group_snapshot_create_show_list_delete [8.992137s] ... ok
{2} tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_list_hosts [0.193318s] ... ok
{2} tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_show_host [0.252797s] ... ok
{2} setUpClass (tempest.api.volume.admin.test_volume_manage.VolumeManageAdminTest) ... SKIPPED: Manage volume tests are disabled
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_disable_log_reason_with_no_reason [0.018860s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_disable_service_with_invalid_binary [0.027509s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_enable_service_with_invalid_host [0.028580s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_freeze_host_with_invalid_host [0.033328s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_thaw_host_with_invalid_host [0.030216s] ... ok
{0} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list [0.088088s] ... ok
{0} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_param_limit [0.084796s] ... ok
{0} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_param_offset_and_limit [0.172038s] ... ok
{0} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_detail_param_limit [0.082972s] ... ok
{0} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_detail_param_offset_and_limit [0.166488s] ... ok
{0} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_details [0.085355s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_spec_create_get_delete [0.204092s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_specs_list [0.105413s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_specs_update [0.279563s] ... ok
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsV319Test.test_reset_group_snapshot_status [8.357721s] ... ok
{1} setUpClass (tempest.api.volume.admin.test_multi_backend.VolumeMultiBackendTest) ... SKIPPED: Cinder multi-backend feature disabled
{0} tempest.api.volume.admin.test_encrypted_volumes_extend.EncryptedVolumesExtendAttachedTest.test_extend_attached_encrypted_volume_luksv1 ... SKIPPED: Attached encrypted volume extend is disabled.
{1} tempest.api.volume.admin.test_volume_pools.VolumePoolsAdminTestsJSON.test_get_pools_without_details [0.251498s] ... ok
{0} tempest.api.volume.admin.test_group_type_specs.GroupTypeSpecsTest.test_group_type_specs_create_show_update_list_delete [0.592216s] ... ok
{1} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_show_default_quota [0.267315s] ... ok
{1} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_update_default_quota [1.437370s] ... ok
{2} tempest.api.volume.admin.test_volumes_list.VolumesListAdminTestJSON.test_volume_list_param_tenant [1.774460s] ... ok
{1} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_host_name [0.028953s] ... ok
{1} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_service_and_host_name [0.030458s] ... ok
{1} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_service_binary_name [0.025435s] ... ok
{1} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_volume_host_name [2.758873s] ... ok
{1} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_list_services [0.027572s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsTest.test_group_create_show_list_delete [8.268941s] ... ok
{1} tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_gigabytes_snapshots [0.514989s] ... ok
{1} tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_snapshots [0.103773s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsTest.test_group_update [9.329802s] ... ok
{2} tempest.api.volume.test_image_metadata.VolumesImageMetadata.test_update_show_delete_image_metadata [0.241215s] ... ok
{1} tempest.api.volume.admin.test_volume_type_access.VolumeTypesAccessTest.test_volume_type_access_list [0.282489s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_invalid_body [0.017231s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_none_body [0.017343s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_nonexistent_type_id [0.057874s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_delete_nonexistent_volume_type_id [0.037299s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_get_nonexistent_extra_spec_name [0.037613s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_get_nonexistent_volume_type_id [0.026470s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_list_nonexistent_volume_type_id [0.026103s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_multiple_extra_spec [0.017501s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_no_body [0.017530s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_none_extra_spec_id [0.056651s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_nonexistent_extra_spec_id [0.061724s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_nonexistent_type_id [0.056093s] ... ok
{2} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_get_list_accept_volume_transfer [4.024433s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsV314Test.test_create_group_from_group [10.764857s] ... ok
{2} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_list_delete_volume_transfer [2.799820s] ... ok
{1} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_force_detach_volume [3.728934s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/admin/test_volumes_actions.py", line 83, in test_force_detach_volume
    server_id = self.create_server()['id']

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 889af141-0dd1-4811-a3ed-0bf9d90acb94 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2022-08-02T05:33:28Z', 'message': 'Build of instance 889af141-0dd1-4811-a3ed-0bf9d90acb94 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2703, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2040, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 1959, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py", line 12046, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2317, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2526, in _build_and_run_instance\n    compute_utils.notify_about_instance_create(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2477, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.8/contextlib.py", line 113, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2729, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 889af141-0dd1-4811-a3ed-0bf9d90acb94 aborted: Failure prepping block device.\n'}. Server boot request ID: req-71d83331-6a26-42cc-b076-18f7030b0470.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-02 08:33:27,105 4954 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 201 POST http://controller:5000/v3/auth/tokens 0.562s
2022-08-02 08:33:27,106 4954 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:26 GMT', 'server': 'Apache', 'content-length': '3886', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-c024b7ed-ed70-4b63-85f1-739b3c913552', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "6f03c769e821476f8b3a0b38192e2e05", "name": "tempest-VolumesActionsTest-326761467-project", "password_expires_at": null}, "audit_ids": ["ZjaDoI9lT52KIP7-Pvd70w"], "expires_at": "2022-08-03T05:33:27.000000Z", "issued_at": "2022-08-02T05:33:27.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "4ef579563ff144d782d8a8c3b3f4283c", "name": "tempest-VolumesActionsTest-326761467"}, "is_domain": false, "roles": [{"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader"}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin"}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member"}], "catalog": [{"endpoints": [{"id": "2573ec8637884f699bb8ed9b3e812834", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "f30c35c99c7a4d0cb93de2e449216df3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "2dfaaa6289594a59a21af64b82409748", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "200e31520f8e4b43ba170ad8ad10c326", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "5ff572e0434e41b2874ef31f59512a50", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "41bd9392edc24a5a807357ca3d32f9df", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "5ce526a93e754a86aca9dfa32488315a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "6bfef8334e624bf79a68e772baf935ab", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "82af88c346b64c188642b601ab6b3200", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "51fd01d218634df0b6183bc005e9aa76", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "40070d3b68ae4835a7519d549bd4a04f", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "4f3f869be4df46a38e0ecfc74a22275a", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "705ce7c2e88a4cd8af1f14bafd5146fa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "670194eee39e4d79ac5ff73786bc25a9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/4ef579563ff144d782d8a8c3b3f4283c", "region": "RegionOne"}, {"id": "b881710677da40d49cc457366924409f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/4ef579563ff144d782d8a8c3b3f4283c", "region": "RegionOne"}], "id": "7c70b3378d2143ceb9d484efac41814a", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "207eb9d98de340309d33a7322ccbe5ce", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/4ef579563ff144d782d8a8c3b3f4283c", "region": "RegionOne"}, {"id": "4790b9735beb442cadf841a0b2340d89", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/4ef579563ff144d782d8
    a8c3b3f4283c", "region": "RegionOne"}], "id": "a72baa1e718a4231a650b0e0303ebdcb", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "5436e7e2682f44799f85f3fac5a5f25a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "9bc3c58d06624fa0bb576d21d054b9fa", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "d7f3c26d17514c839c06f670de9a53c1", "type": "placement", "name": "placement"}]}}'
2022-08-02 08:33:27,115 4954 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_force_detach_volume) Found network None available for tenant
2022-08-02 08:33:27,553 4954 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.437s
2022-08-02 08:33:27,554 4954 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-584557886", "imageRef": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:27 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-71d83331-6a26-42cc-b076-18f7030b0470', 'x-compute-request-id': 'req-71d83331-6a26-42cc-b076-18f7030b0470', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "889af141-0dd1-4811-a3ed-0bf9d90acb94", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "fBbZSGpi9YAL"}}'
2022-08-02 08:33:27,632 4954 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94 0.073s
2022-08-02 08:33:27,633 4954 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:27 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1321', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-4c811c1b-9819-4c5b-950d-8497bf4171c6', 'x-compute-request-id': 'req-4c811c1b-9819-4c5b-950d-8497bf4171c6', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94'}
        Body: b'{"server": {"id": "889af141-0dd1-4811-a3ed-0bf9d90acb94", "name": "tempest-VolumesActionsTest-instance-584557886", "status": "BUILD", "tenant_id": "4ef579563ff144d782d8a8c3b3f4283c", "user_id": "6f03c769e821476f8b3a0b38192e2e05", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:33:27Z", "updated": "2022-08-02T05:33:27Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94"}, {"rel": "bookmark", "href": "http://192.16
    8.16.202:8774/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-02 08:33:28,734 4954 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94 0.087s
2022-08-02 08:33:28,734 4954 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:28 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1424', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-25e228d6-240b-4886-9620-12e81265608f', 'x-compute-request-id': 'req-25e228d6-240b-4886-9620-12e81265608f', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94'}
        Body: b'{"server": {"id": "889af141-0dd1-4811-a3ed-0bf9d90acb94", "name": "tempest-VolumesActionsTest-instance-584557886", "status": "BUILD", "tenant_id": "4ef579563ff144d782d8a8c3b3f4283c", "user_id": "6f03c769e821476f8b3a0b38192e2e05", "metadata": {}, "hostId": "0ee2ffb3be17746294a26d8f55f04f7bf09145c7eb63fab4445ab6f6", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:33:27Z", "updated": "2022-08-02T05:33:28Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": "rack05-server76", "OS-EXT-SRV-ATTR:instance_name": "instance-00000685", "OS-EXT-SRV-ATTR:hypervisor_hostname": "rack05-server76", "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-02 08:33:28,745 4954 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-02 08:33:29,843 4954 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94 0.096s
2022-08-02 08:33:29,844 4954 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:29 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4675', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1a91328f-8546-44bc-a776-c1057f0f6b59', 'x-compute-request-id': 'req-1a91328f-8546-44bc-a776-c1057f0f6b59', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d9
    0acb94'}
        Body: b'{"server": {"id": "889af141-0dd1-4811-a3ed-0bf9d90acb94", "name": "tempest-VolumesActionsTest-instance-584557886", "status": "ERROR", "tenant_id": "4ef579563ff144d782d8a8c3b3f4283c", "user_id": "6f03c769e821476f8b3a0b38192e2e05", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:33:27Z", "updated": "2022-08-02T05:33:28Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-02T05:33:28Z", "message": "Build of instance 889af141-0dd1-4811-a3ed-0bf9d90acb94 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2703, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2040, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 1959, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py\\", line 12046, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2317, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2526, in _build_and_run_instance\\n    compute_utils.notify_about_instance_create(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2477, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.8/contextlib.py\\", line 113, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site
    -packages/nova/compute/
2022-08-02 08:33:29,854 4954 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-02 08:33:30,223 4954 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94 0.368s
2022-08-02 08:33:30,223 4954 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:29 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-df9113e8-b60e-4427-a8d6-545e1524ec2d', 'x-compute-request-id': 'req-df9113e8-b60e-4427-a8d6-545e1524ec2d', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94'}
        Body: b''
2022-08-02 08:33:30,260 4954 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94 0.035s
2022-08-02 08:33:30,260 4954 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:30 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-08b82891-5c60-4ba6-b6f8-0e243faf385b', 'x-compute-request-id': 'req-08b82891-5c60-4ba6-b6f8-0e243faf385b', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 889af141-0dd1-4811-a3ed-0bf9d90acb94 could not be found."}}'

{0} tempest.api.volume.admin.test_groups.GroupsV320Test.test_reset_group_status [3.213931s] ... ok
{1} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_attaching [2.844258s] ... ok
{0} setUpClass (tempest.api.volume.admin.test_snapshot_manage.SnapshotManageAdminTest) ... SKIPPED: Manage snapshot tests are disabled
{2} tempest.api.volume.test_volumes_extend.VolumesExtendAttachedTest.test_extend_attached_volume [3.872064s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 187, in test_extend_attached_volume
    self._test_extend_attached_volume(volume)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 117, in _test_extend_attached_volume
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server cb28d343-45a5-49ba-8f17-24e6bc1a0bc3 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2022-08-02T05:33:33Z', 'message': 'Build of instance cb28d343-45a5-49ba-8f17-24e6bc1a0bc3 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2703, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2040, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 1959, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py", line 12046, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2317, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2526, in _build_and_run_instance\n    compute_utils.notify_about_instance_create(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2477, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.8/contextlib.py", line 113, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2729, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance cb28d343-45a5-49ba-8f17-24e6bc1a0bc3 aborted: Failure prepping block device.\n'}. Server boot request ID: req-0ec2fbe9-c3b9-47fe-80e4-6738884e4594.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-02 08:33:31,016 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920/volumes 0.488s
2022-08-02 08:33:31,016 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesExtendAttachedTest-Volume-813803892"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:30 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '891', 'x-compute-request-id': 'req-3f405f4b-42d2-44d3-ab86-bb17ea23d720', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-3f405f4b-42d2-44d3-ab86-bb17ea23d720', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920/volumes'}
        Body: b'{"volume": {"id": "7414bd2b-1f38-42d2-8d58-b2592ea927a9", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-02T05:33:30.957827", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-813803892", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9"}], "user_id": "db298d9de8a448cd8814e29f2d841ca4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null}}'
2022-08-02 08:33:31,077 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9 0.049s
2022-08-02 08:33:31,078 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:31 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1070', 'x-compute-request-id': 'req-0819025d-2af3-47ce-9537-5be2e9510cce', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-0819025d-2af3-47ce-9537-5be2e9510cce', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9'}
        Body: b'{"volume": {"id": "7414bd2b-1f38-42d2-8d58-b2592ea927a9", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-02T05:33:30.000000", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-813803892", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9"}], "user_id": "db298d9de8a448cd8814e29f2d841ca4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-host-attr:host": null, "os-vol-tenant-attr:tenant_id": "18550b7f8a234d6daacce9274e9ef920", "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": 
    null}}'
2022-08-02 08:33:32,132 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9 0.041s
2022-08-02 08:33:32,133 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:32 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1129', 'x-compute-request-id': 'req-0a66e2d5-de96-492e-bca7-8387b3095abb', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-0a66e2d5-de96-492e-bca7-8387b3095abb', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9'}
        Body: b'{"volume": {"id": "7414bd2b-1f38-42d2-8d58-b2592ea927a9", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-08-02T05:33:30.000000", "updated_at": "2022-08-02T05:33:31.000000", "name": "tempest-VolumesExtendAttachedTest-Volume-813803892", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9"}], "user_id": "db298d9de8a448cd8814e29f2d841ca4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-host-attr:host": "rack03-server59@LIGHTOSsetykm#setykm", "os-vol-tenant-attr:tenant_id": "18550b7f8a234d6daacce9274e9ef920", "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null}}'
2022-08-02 08:33:32,145 4955 INFO     [tempest.common.waiters] volume 7414bd2b-1f38-42d2-8d58-b2592ea927a9 reached available after waiting for 1.145643 seconds
2022-08-02 08:33:32,654 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 201 POST http://controller:5000/v3/auth/tokens 0.504s
2022-08-02 08:33:32,655 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:32 GMT', 'server': 'Apache', 'content-length': '3900', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0a0271c6-46bf-42f7-b68c-c7d3d0afd726', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "db298d9de8a448cd8814e29f2d841ca4", "name": "tempest-VolumesExtendAttachedTest-939371701-project", "password_expires_at": null}, "audit_ids": ["OoaGq8cRQua9f02bIFkqaA"], "expires_at": "2022-08-03T05:33:32.000000Z", "issued_at": "2022-08-02T05:33:32.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "18550b7f8a234d6daacce9274e9ef920", "name": "tempest-VolumesExtendAttachedTest-939371701"}, "is_domain": false, "roles": [{"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin"}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader"}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member"}], "catalog": [{"endpoints": [{"id": "2573ec8637884f699bb8ed9b3e812834", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "f30c35c99c7a4d0cb93de2e449216df3", "interf
    ace": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "2dfaaa6289594a59a21af64b82409748", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "200e31520f8e4b43ba170ad8ad10c326", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "5ff572e0434e41b2874ef31f59512a50", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "41bd9392edc24a5a807357ca3d32f9df", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "5ce526a93e754a86aca9dfa32488315a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "6bfef8334e624bf79a68e772baf935ab", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "82af88c346b64c188642b601ab6b3200", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "51fd01d218634df0b6183bc005e9aa76", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "40070d3b68ae4835a7519d549bd4a04f", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "4f3f869be4df46a38e0ecfc74a22275a", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "705ce7c2e88a4cd8af1f14bafd5146fa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "670194eee39e4d79ac5ff73786bc25a9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920", "region": "RegionOne"}, {"id": "b881710677da40d49cc457366924409f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920", "region": "RegionOne"}], "id": "7c70b3378d2143ceb9d484efac41814a", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "207eb9d98de340309d33a7322ccbe5ce", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/18550b7f8a234d6daacce9274e9ef920", "region": "RegionOne"}, {"id": "4790b9735beb442cadf841a0b2340d89", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/18550b7f8a234d6daacce9274e9ef920", "region": "RegionOne"}], "id": "a72baa1e718a4231a650b0e0303ebdcb", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "5436e7e2682f44799f85f3fac5a5f25a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "9bc3c58d06624fa0bb576d21d054b9fa", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "d7f3c26d17514c839c06f670de9a53c1", "type": "placement", "name": "placement"}]}}'
2022-08-02 08:33:32,666 4955 INFO     [tempest.lib.common.fixed_network] (VolumesExtendAttachedTest:test_extend_attached_volume) Found network None available for tenant
2022-08-02 08:33:32,907 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.238s
2022-08-02 08:33:32,907 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesExtendAttachedTest-instance-1788367597", "imageRef": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:32 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0ec2fbe9-c3b9-47fe-80e4-6738884e4594', 'x-compute-request-id': 
    'req-0ec2fbe9-c3b9-47fe-80e4-6738884e4594', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "cb28d343-45a5-49ba-8f17-24e6bc1a0bc3", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "4QxWaCnrfVSh"}}'
2022-08-02 08:33:32,985 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3 0.073s
2022-08-02 08:33:32,986 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:32 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1329', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a374453d-fddb-4687-bed8-0a22852a9fe7', 'x-compute-request-id': 'req-a374453d-fddb-4687-bed8-0a22852a9fe7', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3'}
        Body: b'{"server": {"id": "cb28d343-45a5-49ba-8f17-24e6bc1a0bc3", "name": "tempest-VolumesExtendAttachedTest-instance-1788367597", "status": "BUILD", "tenant_id": "18550b7f8a234d6daacce9274e9ef920", "user_id": "db298d9de8a448cd8814e29f2d841ca4", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:33:32Z", "updated": "2022-08-02T05:33:32Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-02 08:33:34,091 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3 0.090s
2022-08-02 08:33:34,092 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:34 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4683', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-fdcfe6ef-d855-45cc-aa9f-16bea784d35b', 'x-compute-request-id': 'req-fdcfe6ef-d855-45cc-aa9f-16bea784d35b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3'}
        Body: b'{"server": {"id": "cb28d343-45a5-49ba-8f17-24e6bc1a0bc3", "name": "tempest-VolumesExtendAttachedTest-instance-1788367597
    ", "status": "ERROR", "tenant_id": "18550b7f8a234d6daacce9274e9ef920", "user_id": "db298d9de8a448cd8814e29f2d841ca4", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:33:32Z", "updated": "2022-08-02T05:33:33Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-02T05:33:33Z", "message": "Build of instance cb28d343-45a5-49ba-8f17-24e6bc1a0bc3 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2703, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2040, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 1959, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py\\", line 12046, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2317, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2526, in _build_and_run_instance\\n    compute_utils.notify_about_instance_create(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2477, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.8/contextlib.py\\", line 113, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/
2022-08-02 08:33:34,108 4955 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after
     2 second wait
2022-08-02 08:33:34,361 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3 0.253s
2022-08-02 08:33:34,362 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:34 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8cb70a41-67aa-4b7b-a642-6fc7c46fadae', 'x-compute-request-id': 'req-8cb70a41-67aa-4b7b-a642-6fc7c46fadae', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3'}
        Body: b''
2022-08-02 08:33:34,394 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3 0.031s
2022-08-02 08:33:34,395 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:34 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-639d6829-2cb7-46a8-949c-a9d20c3f9e49', 'x-compute-request-id': 'req-639d6829-2cb7-46a8-949c-a9d20c3f9e49', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance cb28d343-45a5-49ba-8f17-24e6bc1a0bc3 could not be found."}}'

{1} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_creating [2.650169s] ... ok
{1} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_error [2.615603s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_delete_quota [0.708560s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_list_default_quotas [0.099477s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_list_quotas [0.112479s] ... ok
{1} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_maintenance [3.722488s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage [2.995920s] ... ok
{1} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_reset_status [2.971762s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage_after_volume_transfer [3.935208s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_show_quota_usage [0.131316s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_update_all_quota_resources_for_tenant [0.515302s] ... ok
{1} tempest.api.volume.test_availability_zone.AvailabilityZoneTestJSON.test_get_availability_zone_list [0.123986s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_quota_volume_gigabytes [0.397908s] ... ok
{1} tempest.api.volume.test_volume_absolute_limits.AbsoluteLimitsTests.test_get_volume_absolute_limits [0.124504s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_quota_volumes [0.390181s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_volume_extend_gigabytes_quota_deviation [0.340996s] ... ok
{2} tempest.api.volume.test_volumes_extend.VolumesExtendTest.test_volume_extend [17.920959s] ... ok
{0} setUpClass (tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithMigrationTest) ... SKIPPED: Cinder multi-backend feature disabled
{2} tempest.api.volume.test_volumes_extend.VolumesExtendTest.test_volume_extend_when_volume_has_snapshot [5.026362s] ... ok
{0} tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithoutMigrationTest.test_available_volume_retype [3.179688s] ... ok
{1} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_delete_cascade [8.481016s] ... ok
{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_create_get_delete [0.178804s] ... ok
{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_encryption_create_get_update_delete [0.419580s] ... ok
{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_list [0.047364s] ... ok
{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_update [0.275598s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete [5.604989s] ... ok
{1} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_from_snapshot_cascade_delete [7.462495s] ... ok
{0} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_volume_type_encryption_nonexistent_type_id [0.230123s] ... ok
{0} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_empty_name [0.014182s] ... ok
{0} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_repeated_name [0.066852s] ... ok
{0} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_delete_nonexistent_type_id [0.021292s] ... ok
{0} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_get_nonexistent_type_id [0.021224s] ... ok
{0} tempest.api.volume.test_extensions.ExtensionsTestJSON.test_list_extensions [0.133100s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_as_clone [8.832208s] ... ok
{1} tempest.api.volume.test_volume_metadata.VolumesMetadataTest.test_crud_volume_metadata [0.334054s] ... ok
{1} tempest.api.volume.test_volume_metadata.VolumesMetadataTest.test_update_show_volume_metadata_item [0.230101s] ... ok
{0} tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON.test_crud_snapshot_metadata [0.314389s] ... ok
{0} tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON.test_update_show_snapshot_metadata_item [0.254929s] ... ok
{0} tempest.api.volume.test_versions.VersionsTest.test_list_versions [0.014033s] ... ok
{0} tempest.api.volume.test_versions.VersionsTest.test_show_version [0.200709s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_from_image [18.145334s] ... ok
{1} tempest.api.volume.test_volumes_clone.VolumesCloneTest.test_create_from_bootable_volume [17.002627s] ... ok
{0} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_get_list_accept_volume_transfer [5.136966s] ... ok
{1} tempest.api.volume.test_volumes_clone.VolumesCloneTest.test_create_from_volume [5.041226s] ... ok
{0} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_list_delete_volume_transfer [3.901895s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list [0.058577s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_by_name [0.050728s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_by_name [0.071432s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_pagination [0.300353s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_with_multiple_params [0.141997s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_pagination [0.237165s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_param_display_name_and_status [0.052418s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_display_name_and_status [0.070673s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_marker [0.073368s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_metadata [0.077238s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_details [0.070329s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_param_metadata [0.064202s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_availability_zone [0.106870s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_bootable [0.116002s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_status [0.107983s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_availability_zone [0.075359s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_bootable [0.070823s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_status [0.072829s] ... ok
{0} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_attach_detach_volume_to_instance [3.502095s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 45, in test_attach_detach_volume_to_instance
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 500c69a2-5f01-4727-8ba1-2930e6455315 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2022-08-02T05:34:58Z', 'message': 'Build of instance 500c69a2-5f01-4727-8ba1-2930e6455315 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2703, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2040, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 1959, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py", line 12046, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2317, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2526, in _build_and_run_instance\n    compute_utils.notify_about_instance_create(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2477, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.8/contextlib.py", line 113, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2729, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 500c69a2-5f01-4727-8ba1-2930e6455315 aborted: Failure prepping block device.\n'}. Server boot request ID: req-683f67bf-91e5-43e1-8023-57c608705174.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-02 08:34:56,121 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://controller:5000/v3/auth/tokens 0.578s
2022-08-02 08:34:56,122 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:55 GMT', 'server': 'Apache', 'content-length': '3888', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-bc9352f4-6e72-482b-a979-617683f8cf0c', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "ca5f34b0199c4564bb21074684e72ba7", "name": "tempest-VolumesActionsTest-1359311714-project", "password_expires_at": null}, "audit_ids": ["vLJjwNsrQmGu70JFU8WzWQ"], "expires_at": "2022-08-03T05:34:56.000000Z", "issued_at": "2022-08-02T05:34:56.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "b89139528abc4ab18eb9c45ecdb6a0a2", "name": "tempest-VolumesActionsTest-1359311714"}, "is_domain": false, "roles": [{"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader"}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin"}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member"}], "catalog": [{"endpoints": [{"id": "2573ec8637884f699bb8ed9b3e812834", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "f30c35c99c7a4d0cb93de2e449216df3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "2dfaaa6289594a59a21af64b82409748", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "200e31520f8e4b43ba170ad8ad10c326", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "5ff572e0434e41b2874ef31f59512a50", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "41bd9392edc24a5a807357ca3d32f9df", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "5ce526a93e754a86aca9dfa32488315a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "6bfef8334e624bf79a68e772baf935ab", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "82af88c346b64c188642b601ab6b3200", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "51fd01d218634df0b6183bc005e9aa76", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "40070d3b68ae4835a7519d549bd4a04f", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "4f3f869be4df46a38e0ecfc74a22275a", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "705ce7c2e88a4cd8af1f14bafd5146fa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "670194eee39e4d79ac5ff73786bc25a9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/b89139528abc4ab18eb9c45ecdb6a0a2", "region": "RegionOne"}, {"id": "b881710677da40d49cc457366924409f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/b89139528abc4ab18eb9c45ecdb6a0a2", "region": "RegionOne"}], "id": "7c70b3378d2143ceb9d484efac41814a", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "207eb9d98de340309d33a7322ccbe5ce", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/b89139528abc4ab18eb9c45ecdb6a0a2", "region": "RegionOne"}, {"id": "4790b9735beb442cadf841a0b2340d89", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/b8913
    9528abc4ab18eb9c45ecdb6a0a2", "region": "RegionOne"}], "id": "a72baa1e718a4231a650b0e0303ebdcb", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "5436e7e2682f44799f85f3fac5a5f25a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "9bc3c58d06624fa0bb576d21d054b9fa", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "d7f3c26d17514c839c06f670de9a53c1", "type": "placement", "name": "placement"}]}}'
2022-08-02 08:34:56,123 4953 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-02 08:34:56,237 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:35357/v3/projects 0.114s
2022-08-02 08:34:56,238 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesActionsTest-110604613-desc", "domain_id": "default", "name": "tempest-VolumesActionsTest-110604613"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:56 GMT', 'server': 'Apache', 'content-length': '371', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b16d5949-90b8-45ac-9d84-663bc75aca65', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects'}
        Body: b'{"project": {"id": "83f31bed173f4df0a73604f5ef92e848", "name": "tempest-VolumesActionsTest-110604613", "domain_id": "default", "description": "tempest-VolumesActionsTest-110604613-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/projects/83f31bed173f4df0a73604f5ef92e848"}}}\n'
2022-08-02 08:34:56,815 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:35357/v3/users 0.575s
2022-08-02 08:34:56,815 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesActionsTest-110604613-project-admin", "password": "Q4+Q=0bXkB935ls", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:56 GMT', 'server': 'Apache', 'content-length': '292', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-40de5f47-9652-407b-b3e2-e390ba703c1f', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/users'}
        Body: b'{"user": {"id": "f2d1e90e00d24eef9aa2603b7ea885a7", "name": "tempest-VolumesActionsTest-110604613-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/users/f2d1e90e00d24eef9aa2603b7ea885a7"}}}\n'
2022-08-02 08:34:56,849 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.032s
2022-08-02 08:34:56,849 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:56 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0651f14e-4a07-436c-97e1-1aecbd02905c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c089
    8b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:34:56,900 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/83f31bed173f4df0a73604f5ef92e848/users/f2d1e90e00d24eef9aa2603b7ea885a7/roles/b92be1244ec44ced8f7b29792e37b29c 0.049s
2022-08-02 08:34:56,900 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:56 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-eb288573-b425-41d9-ac8f-10fc876405dc', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/83f31bed173f4df0a73604f5ef92e848/users/f2d1e90e00d24eef9aa2603b7ea885a7/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:34:56,982 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.081s
2022-08-02 08:34:56,983 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:56 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-eeaba27c-df04-4379-bd96-14d395fc2689', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:34:57,020 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/f2d1e90e00d24eef9aa2603b7ea885a7/roles/b92be1244ec44ced8f7b29792e37b29c 0.036s
2022-08-02 08:34:57,021 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:56 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2b
    3af2ef-0c73-4b28-81f3-1a5bfe170d0c', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/f2d1e90e00d24eef9aa2603b7ea885a7/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:34:57,104 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.081s
2022-08-02 08:34:57,104 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:57 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-46ff4e11-2f8a-44b9-85d9-492975b5bebb', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:34:57,144 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/83f31bed173f4df0a73604f5ef92e848/users/f2d1e90e00d24eef9aa2603b7ea885a7/roles/b92be1244ec44ced8f7b29792e37b29c 0.038s
2022-08-02 08:34:57,144 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:57 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7a364776-f99e-4b59-b552-a532f11cef0f', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/83f31bed173f4df0a73604f5ef92e848/users/f2d1e90e00d24eef9aa2603b7ea885a7/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:34:57,226 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.080s
2022-08-02 08:34:57,226 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:57 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-5ea48ac3-afde-40ce-b289-0a9030557a60', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853a
    e340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:34:57,265 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/83f31bed173f4df0a73604f5ef92e848/users/f2d1e90e00d24eef9aa2603b7ea885a7/roles/b92be1244ec44ced8f7b29792e37b29c 0.038s
2022-08-02 08:34:57,266 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:57 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-9cbce95d-e973-4eea-9f99-839a56e74fd4', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/83f31bed173f4df0a73604f5ef92e848/users/f2d1e90e00d24eef9aa2603b7ea885a7/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:34:57,267 4953 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user f2d1e90e00d24eef9aa2603b7ea885a7 is created with scope project and roles: ['admin', 'admin']
2022-08-02 08:34:57,267 4953 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesActionsTest-110604613-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '83f31bed173f4df0a73604f5ef92e848', 'project_name': 'tempest-VolumesActionsTest-110604613', 'tenant_id': '83f31bed173f4df0a73604f5ef92e848', 'tenant_name': 'tempest-VolumesActionsTest-110604613', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'f2d1e90e00d24eef9aa2603b7ea885a7', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-02 08:34:57,275 4953 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_attach_detach_volume_to_instance) Found network None available for tenant
2022-08-02 08:34:57,526 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.249s
2022-08-02 08:34:57,527 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-579097637", "imageRef": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:57 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-683f67bf-91e5-43e1-8023-57c608705174', 'x-compute-request-id': 'req-683f67bf-91e5-43e1-8023-57c608705174', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "500c69a2-5f01-4727-8ba1-2930e6455315", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/500c69a2-5f01-4727-8ba1-2930e6455315"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "27BXfcFbfuS7"}}'
20
    22-08-02 08:34:57,612 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315 0.080s
2022-08-02 08:34:57,612 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:57 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1321', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-fabb8e30-21e1-4fbd-9d62-7fccc67a4b9a', 'x-compute-request-id': 'req-fabb8e30-21e1-4fbd-9d62-7fccc67a4b9a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315'}
        Body: b'{"server": {"id": "500c69a2-5f01-4727-8ba1-2930e6455315", "name": "tempest-VolumesActionsTest-instance-579097637", "status": "BUILD", "tenant_id": "b89139528abc4ab18eb9c45ecdb6a0a2", "user_id": "ca5f34b0199c4564bb21074684e72ba7", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:34:57Z", "updated": "2022-08-02T05:34:57Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/500c69a2-5f01-4727-8ba1-2930e6455315"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-02 08:34:58,729 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315 0.102s
2022-08-02 08:34:58,730 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:58 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4675', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-98f06f87-2fc0-4066-8f02-7b7eb4c5f808', 'x-compute-request-id': 'req-98f06f87-2fc0-4066-8f02-7b7eb4c5f808', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315'}
        Body: b'{"server": {"id": "500c69a2-5f01-4727-8ba1-2930e6455315", "name": "tempest-VolumesActionsTest-instance-579097637", "status": "ERROR", "tenant_id": "b89139528abc4ab18eb9c45ecdb6a0a2", "user_id": "ca5f34b0199c4564bb21074684e72ba7", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:34:57Z", "updated": "2022-08-02T05:34:58Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://192.16
    8.16.202:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/500c69a2-5f01-4727-8ba1-2930e6455315"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-02T05:34:58Z", "message": "Build of instance 500c69a2-5f01-4727-8ba1-2930e6455315 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2703, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2040, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 1959, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py\\", line 12046, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2317, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2526, in _build_and_run_instance\\n    compute_utils.notify_about_instance_create(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2477, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.8/contextlib.py\\", line 113, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/
2022-08-02 08:34:58,742 4953 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2022-08-02 08:34:58,999 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315 0.256s
2022-08-02 08:34:59,000 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:58 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'com
    pute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-874cbdff-6ace-40fc-94f3-e3b5f1810f1d', 'x-compute-request-id': 'req-874cbdff-6ace-40fc-94f3-e3b5f1810f1d', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315'}
        Body: b''
2022-08-02 08:34:59,034 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315 0.033s
2022-08-02 08:34:59,035 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:59 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-078c23ab-9942-4ba9-9b87-cd77cc9d7e77', 'x-compute-request-id': 'req-078c23ab-9942-4ba9-9b87-cd77cc9d7e77', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 500c69a2-5f01-4727-8ba1-2930e6455315 could not be found."}}'

{0} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_get_volume_attachment [2.297857s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 81, in test_get_volume_attachment
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 82b7a126-fb0a-4f90-ae0e-c036561a4a0e failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2022-08-02T05:35:00Z', 'message': 'Build of instance 82b7a126-fb0a-4f90-ae0e-c036561a4a0e aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2703, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2040, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 1959, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py", line 12046, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2317, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2526, in _build_and_run_instance\n    compute_utils.notify_about_instance_create(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2477, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.8/contextlib.py", line 113, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2729, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 82b7a126-fb0a-4f90-ae0e-c036561a4a0e aborted: Failure prepping block device.\n'}. Server boot request ID: req-47cc917b-547d-473d-9544-5b34ff4fd7c3.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-02 08:34:59,623 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 201 POST http://controller:5000/v3/auth/tokens 0.576s
2022-08-02 08:34:59,624 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:59 GMT', 'server': 'Apache', 'content-length': '3888', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-1bf7f45c-c7a4-4ad1-9b83-0b27f8e96d25', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "ca5f34b0199c4564bb21074684e72ba7", "name": "tempest-VolumesActionsTest-1359311714-project", "password_expires_at": null}, "audit_ids": ["a_3DsdtgQN-l6uCmoWsmxg"], "expires_at": "2022-08-03T05:34:59.000000Z", "issued_at": "2022-08-02T05:34:59.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "b89139528abc4ab18eb9c45ecdb6a0a2", "name": "tempest-VolumesActionsTest-1359311714"}, "is_domain": false, "roles": [{"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader"}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin"}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member"}], "catalog": [{"endpoints": [{"id": "2573ec8637884f699bb8ed9b3e812834", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "f30c35c99c7a4d0cb93de2e449216df3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "2dfaaa6289594a59a21af64b82409748", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "200e31520f8e4b43ba170ad8ad10c326", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "5ff572e0434e41b2874ef31f59512a50", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "41bd9392edc24a5a807357ca3d32f9df", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "5ce526a93e754a86aca9dfa32488315a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "6bfef8334e624bf79a68e772baf935ab", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "82af88c346b64c188642b601ab6b3200", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "51fd01d218634df0b6183bc005e9aa76", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "40070d3b68ae4835a7519d549bd4a04f", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "4f3f869be4df46a38e0ecfc74a22275a", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "705ce7c2e88a4cd8af1f14bafd5146fa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "670194eee39e4d79ac5ff73786bc25a9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/b89139528abc4ab18eb9c45ecdb6a0a2", "region": "RegionOne"}, {"id": "b881710677da40d49cc457366924409f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/b89139528abc4ab18eb9c45ecdb6a0a2", "region": "RegionOne"}], "id": "7c70b3378d2143ceb9d484efac41814a", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "207eb9d98de340309d33a7322ccbe5ce", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/b89139528abc4ab18eb9c45ecdb6a0a2", "region": "RegionOne"}, {"id": "4790b9735beb442cadf841a0b2340d89", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/b89139528abc4ab1
    8eb9c45ecdb6a0a2", "region": "RegionOne"}], "id": "a72baa1e718a4231a650b0e0303ebdcb", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "5436e7e2682f44799f85f3fac5a5f25a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "9bc3c58d06624fa0bb576d21d054b9fa", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "d7f3c26d17514c839c06f670de9a53c1", "type": "placement", "name": "placement"}]}}'
2022-08-02 08:34:59,636 4953 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_get_volume_attachment) Found network None available for tenant
2022-08-02 08:34:59,868 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.230s
2022-08-02 08:34:59,869 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-479719553", "imageRef": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:59 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-47cc917b-547d-473d-9544-5b34ff4fd7c3', 'x-compute-request-id': 'req-47cc917b-547d-473d-9544-5b34ff4fd7c3', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "82b7a126-fb0a-4f90-ae0e-c036561a4a0e", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "kRyHU6itgCu6"}}'
2022-08-02 08:34:59,937 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e 0.063s
2022-08-02 08:34:59,937 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:59 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1321', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d181d50c-f82a-48c1-922e-00d7dec2ecb7', 'x-compute-request-id': 'req-d181d50c-f82a-48c1-922e-00d7dec2ecb7', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e'}
        Body: b'{"server": {"id": "82b7a126-fb0a-4f90-ae0e-c036561a4a0e", "name": "tempest-VolumesActionsTest-instance-479719553", "status": "BUILD", "tenant_id": "b89139528abc4ab18eb9c45ecdb6a0a2", "user_id": "ca5f34b0199c4564bb21074684e72ba7", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:34:59Z", "updated": "2022-08-02T05:34:59Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e"}, {"rel": "bookmark", "href": "htt
    p://[LB_IP_ADDRESS]:8774/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-02 08:35:01,043 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e 0.092s
2022-08-02 08:35:01,044 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:00 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4675', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0adccb58-84c1-455d-bffa-304ebb40049c', 'x-compute-request-id': 'req-0adccb58-84c1-455d-bffa-304ebb40049c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e'}
        Body: b'{"server": {"id": "82b7a126-fb0a-4f90-ae0e-c036561a4a0e", "name": "tempest-VolumesActionsTest-instance-479719553", "status": "ERROR", "tenant_id": "b89139528abc4ab18eb9c45ecdb6a0a2", "user_id": "ca5f34b0199c4564bb21074684e72ba7", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:34:59Z", "updated": "2022-08-02T05:35:00Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-02T05:35:00Z", "message": "Build of instance 82b7a126-fb0a-4f90-ae0e-c036561a4a0e aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2703, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2040, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 1959, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py\\", line 12046, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid
    ,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2317, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2526, in _build_and_run_instance\\n    compute_utils.notify_about_instance_create(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2477, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.8/contextlib.py\\", line 113, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/
2022-08-02 08:35:01,057 4953 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 2 second wait
2022-08-02 08:35:01,305 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e 0.247s
2022-08-02 08:35:01,305 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1fec31c6-d663-4f60-b25d-d8a3a4e56f87', 'x-compute-request-id': 'req-1fec31c6-d663-4f60-b25d-d8a3a4e56f87', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e'}
        Body: b''
2022-08-02 08:35:01,336 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e 0.030s
2022-08-02 08:35:01,337 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-424bcaf8-a94b-4d67-88c9-ff165f6009f2', 'x-compute-request-id': 'req-424bcaf8-a94b-4d67-88c9-ff165f6009f2', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 82b7a126-fb0a-4f90-ae0e-c036561a4a0e could not be found."}}'

{0} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_reserve_unreserve_volume [0.199951s] ... ok
{0} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_bootable [0.206610s] ... ok
{0} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_readonly_update [0.208607s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit [0.036532s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit_equals_infinite [0.094701s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit_equals_zero [0.026478s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_marker [0.072922s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_offset [0.036704s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_created_at_asc [0.036619s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_created_at_desc [0.037707s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_id_asc [0.036857s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_id_desc [0.037303s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_name_asc [0.038462s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_attach_volumes_with_nonexistent_volume_id [3.422122s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_negative.py", line 179, in test_attach_volumes_with_nonexistent_volume_id
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 1f5f73d0-515d-4009-801a-33bd126216e0 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2022-08-02T05:35:05Z', 'message': 'Build of instance 1f5f73d0-515d-4009-801a-33bd126216e0 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2703, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2040, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 1959, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py", line 12046, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2317, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2526, in _build_and_run_instance\n    compute_utils.notify_about_instance_create(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2477, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.8/contextlib.py", line 113, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2729, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 1f5f73d0-515d-4009-801a-33bd126216e0 aborted: Failure prepping block device.\n'}. Server boot request ID: req-2f29ceb8-3d45-42a5-b6c5-43155fa4cb4a.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-02 08:35:03,547 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://controller:5000/v3/auth/tokens 0.510s
2022-08-02 08:35:03,547 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:03 GMT', 'server': 'Apache', 'content-length': '3884', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0d957405-f48f-466b-a76d-43b0077af856', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "cd7ce744ca204981bc0b7149206a06fc", "name": "tempest-VolumesNegativeTest-1228947-project", "password_expires_at": null}, "audit_ids": ["kGF9Wy-4SLK2KwHrnILsbw"], "expires_at": "2022-08-03T05:35:03.000000Z", "issued_at": "2022-08-02T05:35:03.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "9a741c6b0622447d95be6f868a68c343", "name": "tempest-VolumesNegativeTest-1228947"}, "is_domain": false, "roles": [{"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader"}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin"}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member"}], "catalog": [{"endpoints": [{"id": "2573ec8637884f699bb8ed9b3e812834", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "f30c35c99c7a4d0cb93de2e449216df3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "2dfaaa6289594a59a21af64b82409748", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "200e31520f8e4b43ba170ad8ad10c326", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "5ff572e0434e41b2874ef31f59512a50", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "41bd9392edc24a5a807357ca3d32f9df", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "5ce526a93e754a86aca9dfa32488315a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "6bfef8334e624bf79a68e772baf935ab", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "82af88c346b64c188642b601ab6b3200", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "51fd01d218634df0b6183bc005e9aa76", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "40070d3b68ae4835a7519d549bd4a04f", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "4f3f869be4df46a38e0ecfc74a22275a", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "705ce7c2e88a4cd8af1f14bafd5146fa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "670194eee39e4d79ac5ff73786bc25a9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/9a741c6b0622447d95be6f868a68c343", "region": "RegionOne"}, {"id": "b881710677da40d49cc457366924409f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/9a741c6b0622447d95be6f868a68c343", "region": "RegionOne"}], "id": "7c70b3378d2143ceb9d484efac41814a", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "207eb9d98de340309d33a7322ccbe5ce", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/9a741c6b0622447d95be6f868a68c343", "region": "RegionOne"}, {"id": "4790b9735beb442cadf841a0b2340d89", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2
    /9a741c6b0622447d95be6f868a68c343", "region": "RegionOne"}], "id": "a72baa1e718a4231a650b0e0303ebdcb", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "5436e7e2682f44799f85f3fac5a5f25a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "9bc3c58d06624fa0bb576d21d054b9fa", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "d7f3c26d17514c839c06f670de9a53c1", "type": "placement", "name": "placement"}]}}'
2022-08-02 08:35:03,548 4955 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-02 08:35:03,661 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:35357/v3/projects 0.112s
2022-08-02 08:35:03,662 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesNegativeTest-1516774246-desc", "domain_id": "default", "name": "tempest-VolumesNegativeTest-1516774246"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:03 GMT', 'server': 'Apache', 'content-length': '375', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b3781794-3333-4b7b-a739-4eb51780cc3c', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects'}
        Body: b'{"project": {"id": "ab5f4178264046719a03483cc94dba6a", "name": "tempest-VolumesNegativeTest-1516774246", "domain_id": "default", "description": "tempest-VolumesNegativeTest-1516774246-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/projects/ab5f4178264046719a03483cc94dba6a"}}}\n'
2022-08-02 08:35:04,240 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:35357/v3/users 0.576s
2022-08-02 08:35:04,240 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesNegativeTest-1516774246-project-admin", "password": "O0*qXZ+n%+0s7Wb", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:03 GMT', 'server': 'Apache', 'content-length': '294', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-fea71394-351c-47b4-9444-4317618b6d9c', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/users'}
        Body: b'{"user": {"id": "719d6ec0623548f1a224b72bfc7514be", "name": "tempest-VolumesNegativeTest-1516774246-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/users/719d6ec0623548f1a224b72bfc7514be"}}}\n'
2022-08-02 08:35:04,276 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.035s
2022-08-02 08:35:04,277 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-6a45f9a9-0d89-4c26-82df-790d4870f305', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self":
     "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:35:04,332 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/ab5f4178264046719a03483cc94dba6a/users/719d6ec0623548f1a224b72bfc7514be/roles/b92be1244ec44ced8f7b29792e37b29c 0.054s
2022-08-02 08:35:04,333 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-332df17e-856c-48f7-803b-96943961e0c3', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/ab5f4178264046719a03483cc94dba6a/users/719d6ec0623548f1a224b72bfc7514be/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:35:04,423 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.089s
2022-08-02 08:35:04,424 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3f916f8f-7652-44a5-943b-2cc09ad6ae88', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:35:04,460 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/719d6ec0623548f1a224b72bfc7514be/roles/b92be1244ec44ced8f7b29792e37b29c 0.036s
2022-08-02 08:35:04,461 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT',
     'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-4e00eca5-9cb0-4037-8a73-5e8c923cffc1', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/719d6ec0623548f1a224b72bfc7514be/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:35:04,544 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.082s
2022-08-02 08:35:04,545 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-109bd323-9cc0-4c1a-9f87-8c49acdadca6', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:35:04,582 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/ab5f4178264046719a03483cc94dba6a/users/719d6ec0623548f1a224b72bfc7514be/roles/b92be1244ec44ced8f7b29792e37b29c 0.036s
2022-08-02 08:35:04,583 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b8933621-4155-499d-99a0-06248112c9fc', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/ab5f4178264046719a03483cc94dba6a/users/719d6ec0623548f1a224b72bfc7514be/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:35:04,663 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.079s
2022-08-02 08:35:04,664 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-d5c3799e-5a18-43d2-810e-5cea774aa22a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, 
    "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:35:04,698 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/ab5f4178264046719a03483cc94dba6a/users/719d6ec0623548f1a224b72bfc7514be/roles/b92be1244ec44ced8f7b29792e37b29c 0.033s
2022-08-02 08:35:04,698 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-9b7ef2d6-8cc0-4e96-b592-cc92398185fa', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/ab5f4178264046719a03483cc94dba6a/users/719d6ec0623548f1a224b72bfc7514be/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:35:04,699 4955 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 719d6ec0623548f1a224b72bfc7514be is created with scope project and roles: ['admin', 'admin']
2022-08-02 08:35:04,699 4955 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesNegativeTest-1516774246-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': 'ab5f4178264046719a03483cc94dba6a', 'project_name': 'tempest-VolumesNegativeTest-1516774246', 'tenant_id': 'ab5f4178264046719a03483cc94dba6a', 'tenant_name': 'tempest-VolumesNegativeTest-1516774246', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '719d6ec0623548f1a224b72bfc7514be', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-02 08:35:04,711 4955 INFO     [tempest.lib.common.fixed_network] (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id) Found network None available for tenant
2022-08-02 08:35:04,960 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.249s
2022-08-02 08:35:04,961 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesNegativeTest-instance-1010280973", "imageRef": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-2f29ceb8-3d45-42a5-b6c5-43155fa4cb4a', 'x-compute-request-id': 'req-2f29ceb8-3d45-42a5-b6c5-43155fa4cb4a', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "1f5f73d0-515d-4009-801a-33bd126216e0", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/1
    f5f73d0-515d-4009-801a-33bd126216e0"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "o4pyaHahtEYP"}}'
2022-08-02 08:35:05,031 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0 0.065s
2022-08-02 08:35:05,032 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1323', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f7593a09-7239-4c10-8ace-501fdf5dd98b', 'x-compute-request-id': 'req-f7593a09-7239-4c10-8ace-501fdf5dd98b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0'}
        Body: b'{"server": {"id": "1f5f73d0-515d-4009-801a-33bd126216e0", "name": "tempest-VolumesNegativeTest-instance-1010280973", "status": "BUILD", "tenant_id": "9a741c6b0622447d95be6f868a68c343", "user_id": "cd7ce744ca204981bc0b7149206a06fc", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:35:04Z", "updated": "2022-08-02T05:35:04Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/1f5f73d0-515d-4009-801a-33bd126216e0"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-02 08:35:06,136 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0 0.091s
2022-08-02 08:35:06,137 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:06 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4677', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d5a9ae43-ecb3-454c-99a6-4ec825294130', 'x-compute-request-id': 'req-d5a9ae43-ecb3-454c-99a6-4ec825294130', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0'}
        Body: b'{"server": {"id": "1f5f73d0-515d-4009-801a-33bd126216e0", "name": "tempest-VolumesNegativeTest-instance-1010280973", "status": "ERROR", "tenant_id": "9a741c6b0622447d95be6f868a68c343", "user_id": "cd7ce744ca204981bc0b7149206a06fc", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "
    created": "2022-08-02T05:35:04Z", "updated": "2022-08-02T05:35:05Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/1f5f73d0-515d-4009-801a-33bd126216e0"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-02T05:35:05Z", "message": "Build of instance 1f5f73d0-515d-4009-801a-33bd126216e0 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2703, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2040, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 1959, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py\\", line 12046, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2317, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2526, in _build_and_run_instance\\n    compute_utils.notify_about_instance_create(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2477, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.8/contextlib.py\\", line 113, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/comput
2022-08-02 08:35:06,150 4955 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2022-08-02 08:35:06,418 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0 0.268s
2022-08-02 08:35:06,419 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', '
    X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:06 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-32bce7e1-2395-40a1-a478-90e2e7a41985', 'x-compute-request-id': 'req-32bce7e1-2395-40a1-a478-90e2e7a41985', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0'}
        Body: b''
2022-08-02 08:35:06,451 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0 0.031s
2022-08-02 08:35:06,452 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:06 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-dc330641-046b-4ce5-b8cf-2eaad2b638fc', 'x-compute-request-id': 'req-dc330641-046b-4ce5-b8cf-2eaad2b638fc', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 1f5f73d0-515d-4009-801a-33bd126216e0 could not be found."}}'

{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_name_desc [0.037671s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshots_list_details_with_params [0.113373s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshots_list_with_params [0.121754s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_from_deactivated_image [0.499993s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_from_image_with_decreasing_size [0.375850s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.016978s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_snapshot_id [0.028960s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_source_volid [0.029962s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_volume_type [0.030717s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_negative [0.015315s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.014925s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.014954s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.028345s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.013161s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_detach_volumes_with_invalid_volume_id [0.028735s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_get_invalid_volume_id [0.027626s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.013535s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_detail_with_invalid_status [0.063765s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_detail_with_nonexistent_name [0.063562s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_with_invalid_status [0.047732s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_with_nonexistent_name [0.053600s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_reserve_volume_with_negative_volume_status [0.125129s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_reserve_volume_with_nonexistent_volume_id [0.025769s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_unreserve_volume_with_nonexistent_volume_id [0.027557s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_empty_volume_id [0.012550s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_invalid_volume_id [0.026233s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_nonexistent_volume_id [0.026617s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.027566s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_None_size [0.014680s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_non_number_size [0.015067s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_nonexistent_volume_id [0.028344s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_size_smaller_than_original_size [0.015710s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_without_passing_volume_id [0.026517s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.028106s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_with_nonexistent_volume_id [0.127282s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_without_passing_volume_id [0.027346s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshot_invalid_param_limit [0.015820s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_marker [0.025835s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_sort [0.017160s] ... ok
{0} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_upload [14.895041s] ... ok
{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_delete_with_volume_in_use [3.635474s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 48, in test_snapshot_create_delete_with_volume_in_use
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 77ff5b5c-9362-476b-bb98-1ed4fb85ef46 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2022-08-02T05:35:18Z', 'message': 'Build of instance 77ff5b5c-9362-476b-bb98-1ed4fb85ef46 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2703, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2040, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 1959, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py", line 12046, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2317, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2526, in _build_and_run_instance\n    compute_utils.notify_about_instance_create(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2477, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.8/contextlib.py", line 113, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2729, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 77ff5b5c-9362-476b-bb98-1ed4fb85ef46 aborted: Failure prepping block device.\n'}. Server boot request ID: req-fec98d14-8ddb-4497-9bb7-15b28db3c392.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-02 08:35:15,718 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://controller:5000/v3/auth/tokens 0.552s
2022-08-02 08:35:15,719 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:15 GMT', 'server': 'Apache', 'content-length': '3896', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-66b275a5-d8fd-49a7-9b18-0b4e06d9386b', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "5d8cadd7dfd243bd972cbd3ce3fdf3a9", "name": "tempest-VolumesSnapshotTestJSON-625569801-project", "password_expires_at": null}, "audit_ids": ["rPgJq0G2SGqccITGczTIWA"], "expires_at": "2022-08-03T05:35:15.000000Z", "issued_at": "2022-08-02T05:35:15.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "92d876d6c9624a61ae2d920e024cd445", "name": "tempest-VolumesSnapshotTestJSON-625569801"}, "is_domain": false, "roles": [{"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin"}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader"}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member"}], "catalog": [{"endpoints": [{"id": "2573ec8637884f699bb8ed9b3e812834", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "f30c35c99c7a4d0cb93de2e449216df3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "2dfaaa6289594a59a21af64b82409748", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "200e31520f8e4b43ba170ad8ad10c326", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "5ff572e0434e41b2874ef31f59512a50", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "41bd9392edc24a5a807357ca3d32f9df", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "5ce526a93e754a86aca9dfa32488315a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "6bfef8334e624bf79a68e772baf935ab", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "82af88c346b64c188642b601ab6b3200", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "51fd01d218634df0b6183bc005e9aa76", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "40070d3b68ae4835a7519d549bd4a04f", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "4f3f869be4df46a38e0ecfc74a22275a", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "705ce7c2e88a4cd8af1f14bafd5146fa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "670194eee39e4d79ac5ff73786bc25a9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445", "region": "RegionOne"}, {"id": "b881710677da40d49cc457366924409f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445", "region": "RegionOne"}], "id": "7c70b3378d2143ceb9d484efac41814a", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "207eb9d98de340309d33a7322ccbe5ce", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/92d876d6c9624a61ae2d920e024cd445", "region": "RegionOne"}, {"id": "4790b9735beb442cadf841a0b2340d89", "interface": "internal", "region_id": "RegionOne", "url": "http://192.16
    8.16.202:8774/v2/92d876d6c9624a61ae2d920e024cd445", "region": "RegionOne"}], "id": "a72baa1e718a4231a650b0e0303ebdcb", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "5436e7e2682f44799f85f3fac5a5f25a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "9bc3c58d06624fa0bb576d21d054b9fa", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "d7f3c26d17514c839c06f670de9a53c1", "type": "placement", "name": "placement"}]}}'
2022-08-02 08:35:15,720 4955 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-02 08:35:15,816 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:35357/v3/projects 0.095s
2022-08-02 08:35:15,816 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesSnapshotTestJSON-1897253083-desc", "domain_id": "default", "name": "tempest-VolumesSnapshotTestJSON-1897253083"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:15 GMT', 'server': 'Apache', 'content-length': '383', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-c8cc481d-5490-4bf7-af5b-d1e4933b3ce6', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects'}
        Body: b'{"project": {"id": "c83e18e7fdac400785d37883d4d7e425", "name": "tempest-VolumesSnapshotTestJSON-1897253083", "domain_id": "default", "description": "tempest-VolumesSnapshotTestJSON-1897253083-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/projects/c83e18e7fdac400785d37883d4d7e425"}}}\n'
2022-08-02 08:35:16,388 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:35357/v3/users 0.570s
2022-08-02 08:35:16,388 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesSnapshotTestJSON-1897253083-project-admin", "password": "Y3!qwsSfjbw4*h8", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:15 GMT', 'server': 'Apache', 'content-length': '298', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-598cc685-89fa-497f-8de0-f9918b91d80c', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/users'}
        Body: b'{"user": {"id": "5a3f3b3e8f2d4e998809300a00cbc4e4", "name": "tempest-VolumesSnapshotTestJSON-1897253083-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/users/5a3f3b3e8f2d4e998809300a00cbc4e4"}}}\n'
2022-08-02 08:35:16,421 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.031s
2022-08-02 08:35:16,422 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:16 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-dfe85a2b-09a1-48f4-a5d9-f3f545ea66a2', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "
    description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:35:16,477 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/c83e18e7fdac400785d37883d4d7e425/users/5a3f3b3e8f2d4e998809300a00cbc4e4/roles/b92be1244ec44ced8f7b29792e37b29c 0.054s
2022-08-02 08:35:16,477 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:16 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-de807763-6020-4e06-a804-0d9009e561ff', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/c83e18e7fdac400785d37883d4d7e425/users/5a3f3b3e8f2d4e998809300a00cbc4e4/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:35:16,577 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.098s
2022-08-02 08:35:16,577 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:16 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-4052a4f0-4a82-40e3-ada4-47dd21f8b1a4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:35:16,613 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/5a3f3b3e8f2d4e998809300a00cbc4e4/roles/b92be1244ec44ced8f7b29792e37b29c 0.035s
2022-08-02 08:35:16,614 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
 
       Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:16 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-a05bc712-a537-4e8d-a654-89fc6086e2d0', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/5a3f3b3e8f2d4e998809300a00cbc4e4/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:35:16,694 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.079s
2022-08-02 08:35:16,695 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:16 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-077fb930-a6dd-46f3-a7ca-02e3c33abb6a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:35:16,731 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/c83e18e7fdac400785d37883d4d7e425/users/5a3f3b3e8f2d4e998809300a00cbc4e4/roles/b92be1244ec44ced8f7b29792e37b29c 0.035s
2022-08-02 08:35:16,732 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:16 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-68ba1c95-8cd1-4049-9282-13ec5b3f1980', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/c83e18e7fdac400785d37883d4d7e425/users/5a3f3b3e8f2d4e998809300a00cbc4e4/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:35:16,808 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.075s
2022-08-02 08:35:16,809 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:16 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8f753833-7a6a-44aa-a903-0aa6764d371b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c668
    53ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:35:16,846 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/c83e18e7fdac400785d37883d4d7e425/users/5a3f3b3e8f2d4e998809300a00cbc4e4/roles/b92be1244ec44ced8f7b29792e37b29c 0.036s
2022-08-02 08:35:16,847 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:16 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-251c404e-2913-492f-b083-513843fce4ad', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/c83e18e7fdac400785d37883d4d7e425/users/5a3f3b3e8f2d4e998809300a00cbc4e4/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:35:16,847 4955 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 5a3f3b3e8f2d4e998809300a00cbc4e4 is created with scope project and roles: ['admin', 'admin']
2022-08-02 08:35:16,848 4955 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesSnapshotTestJSON-1897253083-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': 'c83e18e7fdac400785d37883d4d7e425', 'project_name': 'tempest-VolumesSnapshotTestJSON-1897253083', 'tenant_id': 'c83e18e7fdac400785d37883d4d7e425', 'tenant_name': 'tempest-VolumesSnapshotTestJSON-1897253083', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '5a3f3b3e8f2d4e998809300a00cbc4e4', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-02 08:35:16,857 4955 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use) Found network None available for tenant
2022-08-02 08:35:17,096 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.238s
2022-08-02 08:35:17,097 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-226181456", "imageRef": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:16 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-fec98d14-8ddb-4497-9bb7-15b28db3c392', 'x-compute-request-id': 'req-fec98d14-8ddb-4497-9bb7-15b28db3c392', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "77ff5b5c-9362-476b-bb98-1ed4fb85ef46", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/77
    ff5b5c-9362-476b-bb98-1ed4fb85ef46"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "pMARSRzsF4Zv"}}'
2022-08-02 08:35:17,172 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46 0.070s
2022-08-02 08:35:17,173 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:17 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b34c42ff-365e-4169-b010-96ad2a3ea053', 'x-compute-request-id': 'req-b34c42ff-365e-4169-b010-96ad2a3ea053', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46'}
        Body: b'{"server": {"id": "77ff5b5c-9362-476b-bb98-1ed4fb85ef46", "name": "tempest-VolumesSnapshotTestJSON-instance-226181456", "status": "BUILD", "tenant_id": "92d876d6c9624a61ae2d920e024cd445", "user_id": "5d8cadd7dfd243bd972cbd3ce3fdf3a9", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:35:17Z", "updated": "2022-08-02T05:35:17Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-02 08:35:18,284 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46 0.096s
2022-08-02 08:35:18,284 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:18 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4680', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-df8c93ce-b21b-489d-9c34-01002153f2d4', 'x-compute-request-id': 'req-df8c93ce-b21b-489d-9c34-01002153f2d4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46'}
        Body: b'{"server": {"id": "77ff5b5c-9362-476b-bb98-1ed4fb85ef46", "name": "tempest-VolumesSnapshotTestJSON-instance-226181456", "status": "ERROR", "tenant_id": "92d876d6c9624a61ae2d920e024cd445", "user_id": "5d8cadd7dfd243bd972cbd3ce3fdf3a9", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780
    d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:35:17Z", "updated": "2022-08-02T05:35:18Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-02T05:35:18Z", "message": "Build of instance 77ff5b5c-9362-476b-bb98-1ed4fb85ef46 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2703, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2040, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 1959, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py\\", line 12046, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2317, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2526, in _build_and_run_instance\\n    compute_utils.notify_about_instance_create(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2477, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.8/contextlib.py\\", line 113, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/com
2022-08-02 08:35:18,295 4955 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2022-08-02 08:35:18,709 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46 0.414s
2022-08-02 08:35:18,710 4955 DEBUG    [t
    empest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:18 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ab3126d3-3028-4a28-9a3d-3722e5ef767a', 'x-compute-request-id': 'req-ab3126d3-3028-4a28-9a3d-3722e5ef767a', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46'}
        Body: b''
2022-08-02 08:35:18,743 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46 0.031s
2022-08-02 08:35:18,743 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:18 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-31aaaacb-21b6-4ff6-842b-5892a6f8ae97', 'x-compute-request-id': 'req-31aaaacb-21b6-4ff6-842b-5892a6f8ae97', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 77ff5b5c-9362-476b-bb98-1ed4fb85ef46 could not be found."}}'

{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_volume_from_snapshot_decreasing_size [4.875554s] ... ok
{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_get_list_update_delete [3.563689s] ... ok
{0} tempest.api.volume.test_volumes_clone_negative.VolumesCloneNegativeTest.test_create_from_volume_decreasing_size [1.662079s] ... ok
{0} tempest.api.volume.test_volumes_get.VolumesSummaryTest.test_show_volume_summary [0.140088s] ... ok
{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_offline_delete_online [4.571697s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 83, in test_snapshot_create_offline_delete_online
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server c6b2ee74-376b-4061-9ce9-f7494918262d failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2022-08-02T05:35:26Z', 'message': 'Build of instance c6b2ee74-376b-4061-9ce9-f7494918262d aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2703, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2040, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 1959, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py", line 12046, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2317, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2526, in _build_and_run_instance\n    compute_utils.notify_about_instance_create(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2477, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.8/contextlib.py", line 113, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2729, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance c6b2ee74-376b-4061-9ce9-f7494918262d aborted: Failure prepping block device.\n'}. Server boot request ID: req-866bbfc5-af98-4af3-89b8-b9252e30e3d5.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-02 08:35:22,477 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445/snapshots 0.163s
2022-08-02 08:35:22,478 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "bc87c607-e353-4956-86da-65c56c06719e", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1074026613"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:22 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '310', 'x-compute-request-id': 'req-619595aa-7b7a-4a53-80d2-9a4e17c77e65', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-619595aa-7b7a-4a53-80d2-9a4e17c77e65', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445/snapshots'}
        Body: b'{"snapshot": {"id": "6aa105eb-732e-45dd-afab-d84ee5eb9fad", "created_at": "2022-08-02T05:35:22.425908", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1074026613", "description": null, "volume_id": "bc87c607-e353-4956-86da-65c56c06719e", "status": "creating", "size": 1, "metadata": {}}}'
2022-08-02 08:35:22,509 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445/snapshots/6aa105eb-732e-45dd-afab-d84ee5eb9fad 0.026s
2022-08-02 08:35:22,510 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:22 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '442', 'x-compute-request-id': 'req-1be8819e-a39c-4357-9d10-6850ab8b999d', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-1be8819e-a39c-4357-9d10-6850ab8b999d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445/snapshots/6aa105eb-732e-45dd-afab-d84ee5eb9fad'}
        Body: b'{"snapshot": {"id": "6aa105eb-732e-45dd-afab-d84ee5eb9fad", "created_at": "2022-08-02T05:35:22.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1074026613", "description": null, "volume_id": "bc87c607-e353-4956-86da-65c56c06719e", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "92d876d6c9624a61ae2d920e024cd445", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-02 08:35:23,543 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445/snapshots/6aa105eb-732e-45dd-afab-d84ee5eb9fad 0.027s
2022-08-02 08:35:23,543 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:23 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '442', 'x-compute-request-id': 'req-67b2d445-00ac-45b5-a098-31f4c9361afe', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-67b2d445-00ac-45b5-a098-31f4c9361afe', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445/snapshots/6aa105eb-732e-45dd-afab-d84ee5eb9fad'}
        Body: b'{"snapshot": {"id": "6aa105eb-732e-45dd-afab-d84ee5eb9fad", "created_at": "2022-08-02T05:35:22.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON
    -Snapshot-1074026613", "description": null, "volume_id": "bc87c607-e353-4956-86da-65c56c06719e", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "92d876d6c9624a61ae2d920e024cd445", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-02 08:35:24,575 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445/snapshots/6aa105eb-732e-45dd-afab-d84ee5eb9fad 0.025s
2022-08-02 08:35:24,576 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:24 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '469', 'x-compute-request-id': 'req-17cf82a6-f5b0-450d-97fb-be2a5c3edca8', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-17cf82a6-f5b0-450d-97fb-be2a5c3edca8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445/snapshots/6aa105eb-732e-45dd-afab-d84ee5eb9fad'}
        Body: b'{"snapshot": {"id": "6aa105eb-732e-45dd-afab-d84ee5eb9fad", "created_at": "2022-08-02T05:35:22.000000", "updated_at": "2022-08-02T05:35:23.000000", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1074026613", "description": null, "volume_id": "bc87c607-e353-4956-86da-65c56c06719e", "status": "available", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "92d876d6c9624a61ae2d920e024cd445", "os-extended-snapshot-attributes:progress": "100%"}}'
2022-08-02 08:35:24,581 4955 INFO     [tempest.common.waiters] snapshot 6aa105eb-732e-45dd-afab-d84ee5eb9fad reached available after waiting for 2.581137 seconds
2022-08-02 08:35:25,160 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 201 POST http://controller:5000/v3/auth/tokens 0.569s
2022-08-02 08:35:25,160 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:24 GMT', 'server': 'Apache', 'content-length': '3896', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-1087a675-92c5-40cd-90db-ef05a3535488', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "5d8cadd7dfd243bd972cbd3ce3fdf3a9", "name": "tempest-VolumesSnapshotTestJSON-625569801-project", "password_expires_at": null}, "audit_ids": ["NsbQjy-DQfi9Qyw4puff1g"], "expires_at": "2022-08-03T05:35:25.000000Z", "issued_at": "2022-08-02T05:35:25.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "92d876d6c9624a61ae2d920e024cd445", "name": "tempest-VolumesSnapshotTestJSON-625569801"}, "is_domain": false, "roles": [{"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader"}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin"}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member"}], "catalog": [{"endpoints": [{"id": "2573ec8637884f699bb8ed9b3e812834", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "f30c35c99c7a4d0cb93de2e449216df3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "2dfaaa6289594a59a21af64b82409748", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "200e31520f8e4b43ba170ad8ad10c326", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "5ff572e0434e41b2874ef31f59512a50", "i
    nterface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "41bd9392edc24a5a807357ca3d32f9df", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "5ce526a93e754a86aca9dfa32488315a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "6bfef8334e624bf79a68e772baf935ab", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "82af88c346b64c188642b601ab6b3200", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "51fd01d218634df0b6183bc005e9aa76", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "40070d3b68ae4835a7519d549bd4a04f", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "4f3f869be4df46a38e0ecfc74a22275a", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "705ce7c2e88a4cd8af1f14bafd5146fa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "670194eee39e4d79ac5ff73786bc25a9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445", "region": "RegionOne"}, {"id": "b881710677da40d49cc457366924409f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445", "region": "RegionOne"}], "id": "7c70b3378d2143ceb9d484efac41814a", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "207eb9d98de340309d33a7322ccbe5ce", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/92d876d6c9624a61ae2d920e024cd445", "region": "RegionOne"}, {"id": "4790b9735beb442cadf841a0b2340d89", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/92d876d6c9624a61ae2d920e024cd445", "region": "RegionOne"}], "id": "a72baa1e718a4231a650b0e0303ebdcb", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "5436e7e2682f44799f85f3fac5a5f25a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "9bc3c58d06624fa0bb576d21d054b9fa", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "d7f3c26d17514c839c06f670de9a53c1", "type": "placement", "name": "placement"}]}}'
2022-08-02 08:35:25,171 4955 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online) Found network None available for tenant
2022-08-02 08:35:25,401 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.228s
2022-08-02 08:35:25,402 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-1106519200", "imageRef": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:25 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-866bbfc5-af98-4af3-89b8-b9252e30e3d5', 'x-compute-request-id': 'req-866bbfc5-af98-4af3-89b8-b9252e30e3d5', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "c6b2ee74-376b-4061-9ce9-f7494918262d", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d"}, {"rel"
    : "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c6b2ee74-376b-4061-9ce9-f7494918262d"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "RrXfnNj94ajg"}}'
2022-08-02 08:35:25,480 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d 0.073s
2022-08-02 08:35:25,480 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:25 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1327', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3edfbfbb-d365-4826-a205-e5b4ca7421a5', 'x-compute-request-id': 'req-3edfbfbb-d365-4826-a205-e5b4ca7421a5', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d'}
        Body: b'{"server": {"id": "c6b2ee74-376b-4061-9ce9-f7494918262d", "name": "tempest-VolumesSnapshotTestJSON-instance-1106519200", "status": "BUILD", "tenant_id": "92d876d6c9624a61ae2d920e024cd445", "user_id": "5d8cadd7dfd243bd972cbd3ce3fdf3a9", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:35:25Z", "updated": "2022-08-02T05:35:25Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c6b2ee74-376b-4061-9ce9-f7494918262d"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-02 08:35:26,587 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d 0.092s
2022-08-02 08:35:26,588 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:26 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4681', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-eb83aaa8-7cd3-4929-97ff-3d07c5712502', 'x-compute-request-id': 'req-eb83aaa8-7cd3-4929-97ff-3d07c5712502', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d'}
        Body: b'{"server": {"id": "c6b2ee74-376b-4061-9ce9-f7494918262d", "name": "tempest-VolumesSnapshotTestJSON-instance-1106519200", "status": "ERROR", "tenant_id": "92d876d6c9624a61ae2d920e024cd445", "user_id": "5d8cadd7dfd243bd972cbd3ce3fdf3a9", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel
    ": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:35:25Z", "updated": "2022-08-02T05:35:26Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c6b2ee74-376b-4061-9ce9-f7494918262d"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-02T05:35:26Z", "message": "Build of instance c6b2ee74-376b-4061-9ce9-f7494918262d aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2703, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2040, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 1959, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py\\", line 12046, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2317, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2526, in _build_and_run_instance\\n    compute_utils.notify_about_instance_create(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2477, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.8/contextlib.py\\", line 113, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/co
2022-08-02 08:35:26,602 4955 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2022-08-02 08:35:26,849 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d 0.247s
2022-08-02 08:35:26,849 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Con
    tent-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:26 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-bb7d7385-6f6c-4f80-b3a8-bc2491852e89', 'x-compute-request-id': 'req-bb7d7385-6f6c-4f80-b3a8-bc2491852e89', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d'}
        Body: b''
2022-08-02 08:35:26,882 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d 0.031s
2022-08-02 08:35:26,883 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:26 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c40748d8-d2bd-4086-a3b8-bfd6b83906ec', 'x-compute-request-id': 'req-c40748d8-d2bd-4086-a3b8-bfd6b83906ec', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance c6b2ee74-376b-4061-9ce9-f7494918262d could not be found."}}'

{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot [7.455121s] ... ok
{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot_no_size [8.422601s] ... ok

==============================
Failed 8 tests - output below:
==============================

tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_list_get_volume_attachments_multiattach[id-8d5853f7-56e7-4988-9b0c-48cea3c7049a]
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 406, in test_list_get_volume_attachments_multiattach
    servers, volume, attachments = self._create_and_multiattach()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 389, in _create_and_multiattach
    'ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 65322855-3c90-441c-b58a-35d9d76aa834 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2022-08-02T05:31:50Z', 'message': 'Build of instance 65322855-3c90-441c-b58a-35d9d76aa834 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2703, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2040, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 1959, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py", line 12046, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2317, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2526, in _build_and_run_instance\n    compute_utils.notify_about_instance_create(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2477, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.8/contextlib.py", line 113, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2729, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 65322855-3c90-441c-b58a-35d9d76aa834 aborted: Failure prepping block device.\n'}.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-02 08:31:49,152 4953 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.564s
2022-08-02 08:31:49,153 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:31:48 GMT', 'server': 'Apache', 'content-length': '3904', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-4c1d336a-f451-4077-bee0-7f31f5e4110e', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "323fc986cd2f4ff4b3af000a1b333ff9", "name": "tempest-AttachVolumeMultiAttachTest-376354641-project", "password_expires_at": null}, "audit_ids": ["pgihjR6VQP-yPLCJZ6o-pQ"], "expires_at": "2022-08-03T05:31:49.000000Z", "issued_at": "2022-08-02T05:31:49.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "842e4186d1ba4714a1490edb85193e14", "name": "tempest-AttachVolumeMultiAttachTest-376354641"}, "is_domain": false, "roles": [{"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader"}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin"}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member"}], "catalog": [{"endpoints": [{"id": "2573ec8637884f699bb8ed9b3e812834", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "f30c35c99c7a4d0cb93de2e449216df3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "2dfaaa6289594a59a21af64b82409748", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "200e31520f8e4b43ba170ad8ad10c326", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "5ff572e0434e41b2874ef31f59512a50", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "41bd9392edc24a5a807357ca3d32f9df", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "5ce526a93e754a86aca9dfa32488315a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "6bfef8334e624bf79a68e772baf935ab", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "82af88c346b64c188642b601ab6b3200", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "51fd01d218634df0b6183bc005e9aa76", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "40070d3b68ae4835a7519d549bd4a04f", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "4f3f869be4df46a38e0ecfc74a22275a", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "705ce7c2e88a4cd8af1f14bafd5146fa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "670194eee39e4d79ac5ff73786bc25a9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/842e4186d1ba4714a1490edb85193e14", "region": "RegionOne"}, {"id": "b881710677da40d49cc457366924409f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/842e4186d1ba4714a1490edb85193e14", "region": "RegionOne"}], "id": "7c70b3378d2143ceb9d484efac41814a", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "207eb9d98de340309d33a7322ccbe5ce", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/842e4186d1ba4714a1490edb85193e14", "region": "RegionOne"}, {"id": "4790b9735beb442cadf841a0b2340d89", "interface": "internal", "region_id": "RegionOne", "url": "htt
    p://[LB_IP_ADDRESS]:8774/v2/842e4186d1ba4714a1490edb85193e14", "region": "RegionOne"}], "id": "a72baa1e718a4231a650b0e0303ebdcb", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "5436e7e2682f44799f85f3fac5a5f25a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "9bc3c58d06624fa0bb576d21d054b9fa", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "d7f3c26d17514c839c06f670de9a53c1", "type": "placement", "name": "placement"}]}}'
2022-08-02 08:31:49,163 4953 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-02 08:31:49,298 4953 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.133s
2022-08-02 08:31:49,298 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-0", "imageRef": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:31:49 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/65322855-3c90-441c-b58a-35d9d76aa834', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8edca3dd-33b7-4d67-958c-ac73d3b2a1fb', 'x-compute-request-id': 'req-8edca3dd-33b7-4d67-958c-ac73d3b2a1fb', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "65322855-3c90-441c-b58a-35d9d76aa834", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/65322855-3c90-441c-b58a-35d9d76aa834"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/65322855-3c90-441c-b58a-35d9d76aa834"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "3PhHCgwFCuiv"}}'
2022-08-02 08:31:49,831 4953 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.521s
2022-08-02 08:31:49,831 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:31:49 GMT', 'server': 'Apache', 'content-length': '3904', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2e473a6b-4f7e-45d0-9f7b-b247e23c591a', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "323fc986cd2f4ff4b3af000a1b333ff9", "name": "tempest-AttachVolumeMultiAttachTest-376354641-project", "password_expires_at": null}, "audit_ids": ["MJDMVNwgQta5m2xMUlWG9Q"], "expires_at": "2022-08-03T05:31:49.000000Z", "issued_at": "2022-08-02T05:31:49.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "842e4186d1ba4714a1490edb85193e14", "name": "tempest-AttachVolumeMultiAttachTest-376354641"}, "is_domain": false, "roles": [{"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader"}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin"}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member"}], "catalog": [{"endpoints": [{"id": "2573ec8637884f699bb8ed9b3e812834", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "Reg
    ionOne"}, {"id": "f30c35c99c7a4d0cb93de2e449216df3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "2dfaaa6289594a59a21af64b82409748", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "200e31520f8e4b43ba170ad8ad10c326", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "5ff572e0434e41b2874ef31f59512a50", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "41bd9392edc24a5a807357ca3d32f9df", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "5ce526a93e754a86aca9dfa32488315a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "6bfef8334e624bf79a68e772baf935ab", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "82af88c346b64c188642b601ab6b3200", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "51fd01d218634df0b6183bc005e9aa76", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "40070d3b68ae4835a7519d549bd4a04f", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "4f3f869be4df46a38e0ecfc74a22275a", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "705ce7c2e88a4cd8af1f14bafd5146fa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "670194eee39e4d79ac5ff73786bc25a9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/842e4186d1ba4714a1490edb85193e14", "region": "RegionOne"}, {"id": "b881710677da40d49cc457366924409f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/842e4186d1ba4714a1490edb85193e14", "region": "RegionOne"}], "id": "7c70b3378d2143ceb9d484efac41814a", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "207eb9d98de340309d33a7322ccbe5ce", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/842e4186d1ba4714a1490edb85193e14", "region": "RegionOne"}, {"id": "4790b9735beb442cadf841a0b2340d89", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/842e4186d1ba4714a1490edb85193e14", "region": "RegionOne"}], "id": "a72baa1e718a4231a650b0e0303ebdcb", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "5436e7e2682f44799f85f3fac5a5f25a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "9bc3c58d06624fa0bb576d21d054b9fa", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "d7f3c26d17514c839c06f670de9a53c1", "type": "placement", "name": "placement"}]}}'
2022-08-02 08:31:49,840 4953 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-02 08:31:49,969 4953 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.128s
2022-08-02 08:31:49,970 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-1", "imageRef": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:31:49 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/7e269f1f-2b69-4116-968e-ff212ea314ff', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Versio
    n,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-cd5c6ab4-696d-420c-83ed-77b4924d2db7', 'x-compute-request-id': 'req-cd5c6ab4-696d-420c-83ed-77b4924d2db7', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "7e269f1f-2b69-4116-968e-ff212ea314ff", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/7e269f1f-2b69-4116-968e-ff212ea314ff"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/7e269f1f-2b69-4116-968e-ff212ea314ff"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "YYAn6NKX9BmN"}}'
2022-08-02 08:31:50,074 4953 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/65322855-3c90-441c-b58a-35d9d76aa834 0.100s
2022-08-02 08:31:50,075 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:31:49 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1760', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5f0b1498-45b4-4986-bbf1-188f37228f0d', 'x-compute-request-id': 'req-5f0b1498-45b4-4986-bbf1-188f37228f0d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/65322855-3c90-441c-b58a-35d9d76aa834'}
        Body: b'{"server": {"id": "65322855-3c90-441c-b58a-35d9d76aa834", "name": "multiattach-server-0", "status": "BUILD", "tenant_id": "842e4186d1ba4714a1490edb85193e14", "user_id": "323fc986cd2f4ff4b3af000a1b333ff9", "metadata": {}, "hostId": "47a08ec0f77c325822f45e702fbd363118004d95ce0d784a7720e6b4", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-02T05:31:49Z", "updated": "2022-08-02T05:31:49Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/65322855-3c90-441c-b58a-35d9d76aa834"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/65322855-3c90-441c-b58a-35d9d76aa834"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": "rack05-server76", "OS-EXT-SRV-ATTR:instance_name": "instance-00000682", "OS-EXT-SRV-ATTR:hypervisor_hostname": "rack05-server76", "OS-EXT-SRV-ATTR:reservation_id": "r-rhtnrge7", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "UP", "locked": false, "description": null, "tags": []}}'
2022-08-02 08:31:51,205 4953 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/65322855-3c90-441c-b58a-35d9d76aa834 0.115s
2022-08-02 08:31:51,205 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02
     Aug 2022 05:31:51 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '5023', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-64c45ecc-64c8-46ba-8747-12114ba3ae8f', 'x-compute-request-id': 'req-64c45ecc-64c8-46ba-8747-12114ba3ae8f', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/65322855-3c90-441c-b58a-35d9d76aa834'}
        Body: b'{"server": {"id": "65322855-3c90-441c-b58a-35d9d76aa834", "name": "multiattach-server-0", "status": "ERROR", "tenant_id": "842e4186d1ba4714a1490edb85193e14", "user_id": "323fc986cd2f4ff4b3af000a1b333ff9", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-02T05:31:49Z", "updated": "2022-08-02T05:31:50Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/65322855-3c90-441c-b58a-35d9d76aa834"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/65322855-3c90-441c-b58a-35d9d76aa834"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-02T05:31:50Z", "message": "Build of instance 65322855-3c90-441c-b58a-35d9d76aa834 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2703, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2040, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 1959, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py\\", line 12046, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2317, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2526, in _build_and_run_instance\\n    compute_utils.notify_about_instance_create(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/e
    xcutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2477, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.8/contextlib.py\\", line 113, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manage
2022-08-02 08:31:51,219 4953 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 1 second wait


tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_force_detach_volume[compute,id-d38285d9-929d-478f-96a5-00e66a115b81]
------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/admin/test_volumes_actions.py", line 83, in test_force_detach_volume
    server_id = self.create_server()['id']

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 889af141-0dd1-4811-a3ed-0bf9d90acb94 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2022-08-02T05:33:28Z', 'message': 'Build of instance 889af141-0dd1-4811-a3ed-0bf9d90acb94 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2703, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2040, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 1959, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py", line 12046, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2317, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2526, in _build_and_run_instance\n    compute_utils.notify_about_instance_create(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2477, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.8/contextlib.py", line 113, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2729, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 889af141-0dd1-4811-a3ed-0bf9d90acb94 aborted: Failure prepping block device.\n'}. Server boot request ID: req-71d83331-6a26-42cc-b076-18f7030b0470.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-02 08:33:27,105 4954 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 201 POST http://controller:5000/v3/auth/tokens 0.562s
2022-08-02 08:33:27,106 4954 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:26 GMT', 'server': 'Apache', 'content-length': '3886', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-c024b7ed-ed70-4b63-85f1-739b3c913552', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "6f03c769e821476f8b3a0b38192e2e05", "name": "tempest-VolumesActionsTest-326761467-project", "password_expires_at": null}, "audit_ids": ["ZjaDoI9lT52KIP7-Pvd70w"], "expires_at": "2022-08-03T05:33:27.000000Z", "issued_at": "2022-08-02T05:33:27.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "4ef579563ff144d782d8a8c3b3f4283c", "name": "tempest-VolumesActionsTest-326761467"}, "is_domain": false, "roles": [{"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader"}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin"}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member"}], "catalog": [{"endpoints": [{"id": "2573ec8637884f699bb8ed9b3e812834", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "f30c35c99c7a4d0cb93de2e449216df3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "2dfaaa6289594a59a21af64b82409748", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "200e31520f8e4b43ba170ad8ad10c326", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "5ff572e0434e41b2874ef31f59512a50", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "41bd9392edc24a5a807357ca3d32f9df", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "5ce526a93e754a86aca9dfa32488315a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "6bfef8334e624bf79a68e772baf935ab", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "82af88c346b64c188642b601ab6b3200", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "51fd01d218634df0b6183bc005e9aa76", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "40070d3b68ae4835a7519d549bd4a04f", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "4f3f869be4df46a38e0ecfc74a22275a", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "705ce7c2e88a4cd8af1f14bafd5146fa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "670194eee39e4d79ac5ff73786bc25a9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/4ef579563ff144d782d8a8c3b3f4283c", "region": "RegionOne"}, {"id": "b881710677da40d49cc457366924409f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/4ef579563ff144d782d8a8c3b3f4283c", "region": "RegionOne"}], "id": "7c70b3378d2143ceb9d484efac41814a", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "207eb9d98de340309d33a7322ccbe5ce", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/4ef579563ff144d782d8a8c3b3f4283c", "region": "RegionOne"}, {"id": "4790b9735beb442cadf841a0b2340d89", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/4ef579563ff144d782d8
    a8c3b3f4283c", "region": "RegionOne"}], "id": "a72baa1e718a4231a650b0e0303ebdcb", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "5436e7e2682f44799f85f3fac5a5f25a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "9bc3c58d06624fa0bb576d21d054b9fa", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "d7f3c26d17514c839c06f670de9a53c1", "type": "placement", "name": "placement"}]}}'
2022-08-02 08:33:27,115 4954 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_force_detach_volume) Found network None available for tenant
2022-08-02 08:33:27,553 4954 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.437s
2022-08-02 08:33:27,554 4954 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-584557886", "imageRef": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:27 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-71d83331-6a26-42cc-b076-18f7030b0470', 'x-compute-request-id': 'req-71d83331-6a26-42cc-b076-18f7030b0470', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "889af141-0dd1-4811-a3ed-0bf9d90acb94", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "fBbZSGpi9YAL"}}'
2022-08-02 08:33:27,632 4954 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94 0.073s
2022-08-02 08:33:27,633 4954 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:27 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1321', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-4c811c1b-9819-4c5b-950d-8497bf4171c6', 'x-compute-request-id': 'req-4c811c1b-9819-4c5b-950d-8497bf4171c6', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94'}
        Body: b'{"server": {"id": "889af141-0dd1-4811-a3ed-0bf9d90acb94", "name": "tempest-VolumesActionsTest-instance-584557886", "status": "BUILD", "tenant_id": "4ef579563ff144d782d8a8c3b3f4283c", "user_id": "6f03c769e821476f8b3a0b38192e2e05", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:33:27Z", "updated": "2022-08-02T05:33:27Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94"}, {"rel": "bookmark", "href": "http://192.16
    8.16.202:8774/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-02 08:33:28,734 4954 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94 0.087s
2022-08-02 08:33:28,734 4954 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:28 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1424', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-25e228d6-240b-4886-9620-12e81265608f', 'x-compute-request-id': 'req-25e228d6-240b-4886-9620-12e81265608f', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94'}
        Body: b'{"server": {"id": "889af141-0dd1-4811-a3ed-0bf9d90acb94", "name": "tempest-VolumesActionsTest-instance-584557886", "status": "BUILD", "tenant_id": "4ef579563ff144d782d8a8c3b3f4283c", "user_id": "6f03c769e821476f8b3a0b38192e2e05", "metadata": {}, "hostId": "0ee2ffb3be17746294a26d8f55f04f7bf09145c7eb63fab4445ab6f6", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:33:27Z", "updated": "2022-08-02T05:33:28Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": "rack05-server76", "OS-EXT-SRV-ATTR:instance_name": "instance-00000685", "OS-EXT-SRV-ATTR:hypervisor_hostname": "rack05-server76", "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-02 08:33:28,745 4954 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-02 08:33:29,843 4954 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94 0.096s
2022-08-02 08:33:29,844 4954 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:29 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4675', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1a91328f-8546-44bc-a776-c1057f0f6b59', 'x-compute-request-id': 'req-1a91328f-8546-44bc-a776-c1057f0f6b59', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d9
    0acb94'}
        Body: b'{"server": {"id": "889af141-0dd1-4811-a3ed-0bf9d90acb94", "name": "tempest-VolumesActionsTest-instance-584557886", "status": "ERROR", "tenant_id": "4ef579563ff144d782d8a8c3b3f4283c", "user_id": "6f03c769e821476f8b3a0b38192e2e05", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:33:27Z", "updated": "2022-08-02T05:33:28Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-02T05:33:28Z", "message": "Build of instance 889af141-0dd1-4811-a3ed-0bf9d90acb94 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2703, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2040, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 1959, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py\\", line 12046, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2317, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2526, in _build_and_run_instance\\n    compute_utils.notify_about_instance_create(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2477, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.8/contextlib.py\\", line 113, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site
    -packages/nova/compute/
2022-08-02 08:33:29,854 4954 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-02 08:33:30,223 4954 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94 0.368s
2022-08-02 08:33:30,223 4954 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:29 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-df9113e8-b60e-4427-a8d6-545e1524ec2d', 'x-compute-request-id': 'req-df9113e8-b60e-4427-a8d6-545e1524ec2d', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94'}
        Body: b''
2022-08-02 08:33:30,260 4954 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94 0.035s
2022-08-02 08:33:30,260 4954 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:30 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-08b82891-5c60-4ba6-b6f8-0e243faf385b', 'x-compute-request-id': 'req-08b82891-5c60-4ba6-b6f8-0e243faf385b', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/889af141-0dd1-4811-a3ed-0bf9d90acb94'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 889af141-0dd1-4811-a3ed-0bf9d90acb94 could not be found."}}'


tempest.api.volume.test_volumes_extend.VolumesExtendAttachedTest.test_extend_attached_volume[compute,id-301f5a30-1c6f-4ea0-be1a-91fd28d44354]
---------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 187, in test_extend_attached_volume
    self._test_extend_attached_volume(volume)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 117, in _test_extend_attached_volume
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server cb28d343-45a5-49ba-8f17-24e6bc1a0bc3 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2022-08-02T05:33:33Z', 'message': 'Build of instance cb28d343-45a5-49ba-8f17-24e6bc1a0bc3 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2703, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2040, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 1959, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py", line 12046, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2317, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2526, in _build_and_run_instance\n    compute_utils.notify_about_instance_create(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2477, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.8/contextlib.py", line 113, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2729, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance cb28d343-45a5-49ba-8f17-24e6bc1a0bc3 aborted: Failure prepping block device.\n'}. Server boot request ID: req-0ec2fbe9-c3b9-47fe-80e4-6738884e4594.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-02 08:33:31,016 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920/volumes 0.488s
2022-08-02 08:33:31,016 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesExtendAttachedTest-Volume-813803892"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:30 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '891', 'x-compute-request-id': 'req-3f405f4b-42d2-44d3-ab86-bb17ea23d720', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-3f405f4b-42d2-44d3-ab86-bb17ea23d720', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920/volumes'}
        Body: b'{"volume": {"id": "7414bd2b-1f38-42d2-8d58-b2592ea927a9", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-02T05:33:30.957827", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-813803892", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9"}], "user_id": "db298d9de8a448cd8814e29f2d841ca4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null}}'
2022-08-02 08:33:31,077 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9 0.049s
2022-08-02 08:33:31,078 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:31 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1070', 'x-compute-request-id': 'req-0819025d-2af3-47ce-9537-5be2e9510cce', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-0819025d-2af3-47ce-9537-5be2e9510cce', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9'}
        Body: b'{"volume": {"id": "7414bd2b-1f38-42d2-8d58-b2592ea927a9", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-02T05:33:30.000000", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-813803892", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9"}], "user_id": "db298d9de8a448cd8814e29f2d841ca4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-host-attr:host": null, "os-vol-tenant-attr:tenant_id": "18550b7f8a234d6daacce9274e9ef920", "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": 
    null}}'
2022-08-02 08:33:32,132 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9 0.041s
2022-08-02 08:33:32,133 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:32 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1129', 'x-compute-request-id': 'req-0a66e2d5-de96-492e-bca7-8387b3095abb', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-0a66e2d5-de96-492e-bca7-8387b3095abb', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9'}
        Body: b'{"volume": {"id": "7414bd2b-1f38-42d2-8d58-b2592ea927a9", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-08-02T05:33:30.000000", "updated_at": "2022-08-02T05:33:31.000000", "name": "tempest-VolumesExtendAttachedTest-Volume-813803892", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/18550b7f8a234d6daacce9274e9ef920/volumes/7414bd2b-1f38-42d2-8d58-b2592ea927a9"}], "user_id": "db298d9de8a448cd8814e29f2d841ca4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-host-attr:host": "rack03-server59@LIGHTOSsetykm#setykm", "os-vol-tenant-attr:tenant_id": "18550b7f8a234d6daacce9274e9ef920", "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null}}'
2022-08-02 08:33:32,145 4955 INFO     [tempest.common.waiters] volume 7414bd2b-1f38-42d2-8d58-b2592ea927a9 reached available after waiting for 1.145643 seconds
2022-08-02 08:33:32,654 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 201 POST http://controller:5000/v3/auth/tokens 0.504s
2022-08-02 08:33:32,655 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:32 GMT', 'server': 'Apache', 'content-length': '3900', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0a0271c6-46bf-42f7-b68c-c7d3d0afd726', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "db298d9de8a448cd8814e29f2d841ca4", "name": "tempest-VolumesExtendAttachedTest-939371701-project", "password_expires_at": null}, "audit_ids": ["OoaGq8cRQua9f02bIFkqaA"], "expires_at": "2022-08-03T05:33:32.000000Z", "issued_at": "2022-08-02T05:33:32.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "18550b7f8a234d6daacce9274e9ef920", "name": "tempest-VolumesExtendAttachedTest-939371701"}, "is_domain": false, "roles": [{"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin"}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader"}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member"}], "catalog": [{"endpoints": [{"id": "2573ec8637884f699bb8ed9b3e812834", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "f30c35c99c7a4d0cb93de2e449216df3", "interf
    ace": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "2dfaaa6289594a59a21af64b82409748", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "200e31520f8e4b43ba170ad8ad10c326", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "5ff572e0434e41b2874ef31f59512a50", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "41bd9392edc24a5a807357ca3d32f9df", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "5ce526a93e754a86aca9dfa32488315a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "6bfef8334e624bf79a68e772baf935ab", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "82af88c346b64c188642b601ab6b3200", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "51fd01d218634df0b6183bc005e9aa76", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "40070d3b68ae4835a7519d549bd4a04f", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "4f3f869be4df46a38e0ecfc74a22275a", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "705ce7c2e88a4cd8af1f14bafd5146fa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "670194eee39e4d79ac5ff73786bc25a9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920", "region": "RegionOne"}, {"id": "b881710677da40d49cc457366924409f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/18550b7f8a234d6daacce9274e9ef920", "region": "RegionOne"}], "id": "7c70b3378d2143ceb9d484efac41814a", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "207eb9d98de340309d33a7322ccbe5ce", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/18550b7f8a234d6daacce9274e9ef920", "region": "RegionOne"}, {"id": "4790b9735beb442cadf841a0b2340d89", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/18550b7f8a234d6daacce9274e9ef920", "region": "RegionOne"}], "id": "a72baa1e718a4231a650b0e0303ebdcb", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "5436e7e2682f44799f85f3fac5a5f25a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "9bc3c58d06624fa0bb576d21d054b9fa", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "d7f3c26d17514c839c06f670de9a53c1", "type": "placement", "name": "placement"}]}}'
2022-08-02 08:33:32,666 4955 INFO     [tempest.lib.common.fixed_network] (VolumesExtendAttachedTest:test_extend_attached_volume) Found network None available for tenant
2022-08-02 08:33:32,907 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.238s
2022-08-02 08:33:32,907 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesExtendAttachedTest-instance-1788367597", "imageRef": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:32 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0ec2fbe9-c3b9-47fe-80e4-6738884e4594', 'x-compute-request-id': 
    'req-0ec2fbe9-c3b9-47fe-80e4-6738884e4594', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "cb28d343-45a5-49ba-8f17-24e6bc1a0bc3", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "4QxWaCnrfVSh"}}'
2022-08-02 08:33:32,985 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3 0.073s
2022-08-02 08:33:32,986 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:32 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1329', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a374453d-fddb-4687-bed8-0a22852a9fe7', 'x-compute-request-id': 'req-a374453d-fddb-4687-bed8-0a22852a9fe7', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3'}
        Body: b'{"server": {"id": "cb28d343-45a5-49ba-8f17-24e6bc1a0bc3", "name": "tempest-VolumesExtendAttachedTest-instance-1788367597", "status": "BUILD", "tenant_id": "18550b7f8a234d6daacce9274e9ef920", "user_id": "db298d9de8a448cd8814e29f2d841ca4", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:33:32Z", "updated": "2022-08-02T05:33:32Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-02 08:33:34,091 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3 0.090s
2022-08-02 08:33:34,092 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:34 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4683', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-fdcfe6ef-d855-45cc-aa9f-16bea784d35b', 'x-compute-request-id': 'req-fdcfe6ef-d855-45cc-aa9f-16bea784d35b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3'}
        Body: b'{"server": {"id": "cb28d343-45a5-49ba-8f17-24e6bc1a0bc3", "name": "tempest-VolumesExtendAttachedTest-instance-1788367597
    ", "status": "ERROR", "tenant_id": "18550b7f8a234d6daacce9274e9ef920", "user_id": "db298d9de8a448cd8814e29f2d841ca4", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:33:32Z", "updated": "2022-08-02T05:33:33Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-02T05:33:33Z", "message": "Build of instance cb28d343-45a5-49ba-8f17-24e6bc1a0bc3 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2703, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2040, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 1959, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py\\", line 12046, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2317, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2526, in _build_and_run_instance\\n    compute_utils.notify_about_instance_create(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2477, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.8/contextlib.py\\", line 113, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/
2022-08-02 08:33:34,108 4955 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after
     2 second wait
2022-08-02 08:33:34,361 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3 0.253s
2022-08-02 08:33:34,362 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:34 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8cb70a41-67aa-4b7b-a642-6fc7c46fadae', 'x-compute-request-id': 'req-8cb70a41-67aa-4b7b-a642-6fc7c46fadae', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3'}
        Body: b''
2022-08-02 08:33:34,394 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3 0.031s
2022-08-02 08:33:34,395 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:33:34 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-639d6829-2cb7-46a8-949c-a9d20c3f9e49', 'x-compute-request-id': 'req-639d6829-2cb7-46a8-949c-a9d20c3f9e49', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cb28d343-45a5-49ba-8f17-24e6bc1a0bc3'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance cb28d343-45a5-49ba-8f17-24e6bc1a0bc3 could not be found."}}'


tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_attach_detach_volume_to_instance[compute,id-fff42874-7db5-4487-a8e1-ddda5fb5288d,smoke]
-------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 45, in test_attach_detach_volume_to_instance
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 500c69a2-5f01-4727-8ba1-2930e6455315 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2022-08-02T05:34:58Z', 'message': 'Build of instance 500c69a2-5f01-4727-8ba1-2930e6455315 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2703, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2040, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 1959, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py", line 12046, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2317, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2526, in _build_and_run_instance\n    compute_utils.notify_about_instance_create(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2477, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.8/contextlib.py", line 113, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2729, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 500c69a2-5f01-4727-8ba1-2930e6455315 aborted: Failure prepping block device.\n'}. Server boot request ID: req-683f67bf-91e5-43e1-8023-57c608705174.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-02 08:34:56,121 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://controller:5000/v3/auth/tokens 0.578s
2022-08-02 08:34:56,122 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:55 GMT', 'server': 'Apache', 'content-length': '3888', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-bc9352f4-6e72-482b-a979-617683f8cf0c', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "ca5f34b0199c4564bb21074684e72ba7", "name": "tempest-VolumesActionsTest-1359311714-project", "password_expires_at": null}, "audit_ids": ["vLJjwNsrQmGu70JFU8WzWQ"], "expires_at": "2022-08-03T05:34:56.000000Z", "issued_at": "2022-08-02T05:34:56.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "b89139528abc4ab18eb9c45ecdb6a0a2", "name": "tempest-VolumesActionsTest-1359311714"}, "is_domain": false, "roles": [{"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader"}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin"}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member"}], "catalog": [{"endpoints": [{"id": "2573ec8637884f699bb8ed9b3e812834", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "f30c35c99c7a4d0cb93de2e449216df3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "2dfaaa6289594a59a21af64b82409748", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "200e31520f8e4b43ba170ad8ad10c326", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "5ff572e0434e41b2874ef31f59512a50", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "41bd9392edc24a5a807357ca3d32f9df", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "5ce526a93e754a86aca9dfa32488315a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "6bfef8334e624bf79a68e772baf935ab", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "82af88c346b64c188642b601ab6b3200", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "51fd01d218634df0b6183bc005e9aa76", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "40070d3b68ae4835a7519d549bd4a04f", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "4f3f869be4df46a38e0ecfc74a22275a", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "705ce7c2e88a4cd8af1f14bafd5146fa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "670194eee39e4d79ac5ff73786bc25a9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/b89139528abc4ab18eb9c45ecdb6a0a2", "region": "RegionOne"}, {"id": "b881710677da40d49cc457366924409f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/b89139528abc4ab18eb9c45ecdb6a0a2", "region": "RegionOne"}], "id": "7c70b3378d2143ceb9d484efac41814a", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "207eb9d98de340309d33a7322ccbe5ce", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/b89139528abc4ab18eb9c45ecdb6a0a2", "region": "RegionOne"}, {"id": "4790b9735beb442cadf841a0b2340d89", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/b8913
    9528abc4ab18eb9c45ecdb6a0a2", "region": "RegionOne"}], "id": "a72baa1e718a4231a650b0e0303ebdcb", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "5436e7e2682f44799f85f3fac5a5f25a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "9bc3c58d06624fa0bb576d21d054b9fa", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "d7f3c26d17514c839c06f670de9a53c1", "type": "placement", "name": "placement"}]}}'
2022-08-02 08:34:56,123 4953 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-02 08:34:56,237 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:35357/v3/projects 0.114s
2022-08-02 08:34:56,238 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesActionsTest-110604613-desc", "domain_id": "default", "name": "tempest-VolumesActionsTest-110604613"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:56 GMT', 'server': 'Apache', 'content-length': '371', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b16d5949-90b8-45ac-9d84-663bc75aca65', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects'}
        Body: b'{"project": {"id": "83f31bed173f4df0a73604f5ef92e848", "name": "tempest-VolumesActionsTest-110604613", "domain_id": "default", "description": "tempest-VolumesActionsTest-110604613-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/projects/83f31bed173f4df0a73604f5ef92e848"}}}\n'
2022-08-02 08:34:56,815 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:35357/v3/users 0.575s
2022-08-02 08:34:56,815 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesActionsTest-110604613-project-admin", "password": "Q4+Q=0bXkB935ls", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:56 GMT', 'server': 'Apache', 'content-length': '292', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-40de5f47-9652-407b-b3e2-e390ba703c1f', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/users'}
        Body: b'{"user": {"id": "f2d1e90e00d24eef9aa2603b7ea885a7", "name": "tempest-VolumesActionsTest-110604613-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/users/f2d1e90e00d24eef9aa2603b7ea885a7"}}}\n'
2022-08-02 08:34:56,849 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.032s
2022-08-02 08:34:56,849 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:56 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0651f14e-4a07-436c-97e1-1aecbd02905c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c089
    8b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:34:56,900 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/83f31bed173f4df0a73604f5ef92e848/users/f2d1e90e00d24eef9aa2603b7ea885a7/roles/b92be1244ec44ced8f7b29792e37b29c 0.049s
2022-08-02 08:34:56,900 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:56 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-eb288573-b425-41d9-ac8f-10fc876405dc', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/83f31bed173f4df0a73604f5ef92e848/users/f2d1e90e00d24eef9aa2603b7ea885a7/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:34:56,982 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.081s
2022-08-02 08:34:56,983 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:56 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-eeaba27c-df04-4379-bd96-14d395fc2689', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:34:57,020 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/f2d1e90e00d24eef9aa2603b7ea885a7/roles/b92be1244ec44ced8f7b29792e37b29c 0.036s
2022-08-02 08:34:57,021 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:56 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2b
    3af2ef-0c73-4b28-81f3-1a5bfe170d0c', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/f2d1e90e00d24eef9aa2603b7ea885a7/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:34:57,104 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.081s
2022-08-02 08:34:57,104 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:57 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-46ff4e11-2f8a-44b9-85d9-492975b5bebb', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:34:57,144 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/83f31bed173f4df0a73604f5ef92e848/users/f2d1e90e00d24eef9aa2603b7ea885a7/roles/b92be1244ec44ced8f7b29792e37b29c 0.038s
2022-08-02 08:34:57,144 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:57 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7a364776-f99e-4b59-b552-a532f11cef0f', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/83f31bed173f4df0a73604f5ef92e848/users/f2d1e90e00d24eef9aa2603b7ea885a7/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:34:57,226 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.080s
2022-08-02 08:34:57,226 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:57 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-5ea48ac3-afde-40ce-b289-0a9030557a60', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853a
    e340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:34:57,265 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/83f31bed173f4df0a73604f5ef92e848/users/f2d1e90e00d24eef9aa2603b7ea885a7/roles/b92be1244ec44ced8f7b29792e37b29c 0.038s
2022-08-02 08:34:57,266 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:57 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-9cbce95d-e973-4eea-9f99-839a56e74fd4', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/83f31bed173f4df0a73604f5ef92e848/users/f2d1e90e00d24eef9aa2603b7ea885a7/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:34:57,267 4953 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user f2d1e90e00d24eef9aa2603b7ea885a7 is created with scope project and roles: ['admin', 'admin']
2022-08-02 08:34:57,267 4953 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesActionsTest-110604613-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '83f31bed173f4df0a73604f5ef92e848', 'project_name': 'tempest-VolumesActionsTest-110604613', 'tenant_id': '83f31bed173f4df0a73604f5ef92e848', 'tenant_name': 'tempest-VolumesActionsTest-110604613', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'f2d1e90e00d24eef9aa2603b7ea885a7', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-02 08:34:57,275 4953 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_attach_detach_volume_to_instance) Found network None available for tenant
2022-08-02 08:34:57,526 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.249s
2022-08-02 08:34:57,527 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-579097637", "imageRef": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:57 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-683f67bf-91e5-43e1-8023-57c608705174', 'x-compute-request-id': 'req-683f67bf-91e5-43e1-8023-57c608705174', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "500c69a2-5f01-4727-8ba1-2930e6455315", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/500c69a2-5f01-4727-8ba1-2930e6455315"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "27BXfcFbfuS7"}}'
20
    22-08-02 08:34:57,612 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315 0.080s
2022-08-02 08:34:57,612 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:57 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1321', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-fabb8e30-21e1-4fbd-9d62-7fccc67a4b9a', 'x-compute-request-id': 'req-fabb8e30-21e1-4fbd-9d62-7fccc67a4b9a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315'}
        Body: b'{"server": {"id": "500c69a2-5f01-4727-8ba1-2930e6455315", "name": "tempest-VolumesActionsTest-instance-579097637", "status": "BUILD", "tenant_id": "b89139528abc4ab18eb9c45ecdb6a0a2", "user_id": "ca5f34b0199c4564bb21074684e72ba7", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:34:57Z", "updated": "2022-08-02T05:34:57Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/500c69a2-5f01-4727-8ba1-2930e6455315"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-02 08:34:58,729 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315 0.102s
2022-08-02 08:34:58,730 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:58 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4675', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-98f06f87-2fc0-4066-8f02-7b7eb4c5f808', 'x-compute-request-id': 'req-98f06f87-2fc0-4066-8f02-7b7eb4c5f808', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315'}
        Body: b'{"server": {"id": "500c69a2-5f01-4727-8ba1-2930e6455315", "name": "tempest-VolumesActionsTest-instance-579097637", "status": "ERROR", "tenant_id": "b89139528abc4ab18eb9c45ecdb6a0a2", "user_id": "ca5f34b0199c4564bb21074684e72ba7", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:34:57Z", "updated": "2022-08-02T05:34:58Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://192.16
    8.16.202:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/500c69a2-5f01-4727-8ba1-2930e6455315"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-02T05:34:58Z", "message": "Build of instance 500c69a2-5f01-4727-8ba1-2930e6455315 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2703, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2040, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 1959, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py\\", line 12046, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2317, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2526, in _build_and_run_instance\\n    compute_utils.notify_about_instance_create(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2477, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.8/contextlib.py\\", line 113, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/
2022-08-02 08:34:58,742 4953 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2022-08-02 08:34:58,999 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315 0.256s
2022-08-02 08:34:59,000 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:58 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'com
    pute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-874cbdff-6ace-40fc-94f3-e3b5f1810f1d', 'x-compute-request-id': 'req-874cbdff-6ace-40fc-94f3-e3b5f1810f1d', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315'}
        Body: b''
2022-08-02 08:34:59,034 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315 0.033s
2022-08-02 08:34:59,035 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:59 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-078c23ab-9942-4ba9-9b87-cd77cc9d7e77', 'x-compute-request-id': 'req-078c23ab-9942-4ba9-9b87-cd77cc9d7e77', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/500c69a2-5f01-4727-8ba1-2930e6455315'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 500c69a2-5f01-4727-8ba1-2930e6455315 could not be found."}}'


tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_get_volume_attachment[compute,id-9516a2c8-9135-488c-8dd6-5677a7e5f371]
--------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 81, in test_get_volume_attachment
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 82b7a126-fb0a-4f90-ae0e-c036561a4a0e failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2022-08-02T05:35:00Z', 'message': 'Build of instance 82b7a126-fb0a-4f90-ae0e-c036561a4a0e aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2703, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2040, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 1959, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py", line 12046, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2317, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2526, in _build_and_run_instance\n    compute_utils.notify_about_instance_create(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2477, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.8/contextlib.py", line 113, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2729, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 82b7a126-fb0a-4f90-ae0e-c036561a4a0e aborted: Failure prepping block device.\n'}. Server boot request ID: req-47cc917b-547d-473d-9544-5b34ff4fd7c3.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-02 08:34:59,623 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 201 POST http://controller:5000/v3/auth/tokens 0.576s
2022-08-02 08:34:59,624 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:59 GMT', 'server': 'Apache', 'content-length': '3888', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-1bf7f45c-c7a4-4ad1-9b83-0b27f8e96d25', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "ca5f34b0199c4564bb21074684e72ba7", "name": "tempest-VolumesActionsTest-1359311714-project", "password_expires_at": null}, "audit_ids": ["a_3DsdtgQN-l6uCmoWsmxg"], "expires_at": "2022-08-03T05:34:59.000000Z", "issued_at": "2022-08-02T05:34:59.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "b89139528abc4ab18eb9c45ecdb6a0a2", "name": "tempest-VolumesActionsTest-1359311714"}, "is_domain": false, "roles": [{"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader"}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin"}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member"}], "catalog": [{"endpoints": [{"id": "2573ec8637884f699bb8ed9b3e812834", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "f30c35c99c7a4d0cb93de2e449216df3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "2dfaaa6289594a59a21af64b82409748", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "200e31520f8e4b43ba170ad8ad10c326", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "5ff572e0434e41b2874ef31f59512a50", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "41bd9392edc24a5a807357ca3d32f9df", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "5ce526a93e754a86aca9dfa32488315a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "6bfef8334e624bf79a68e772baf935ab", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "82af88c346b64c188642b601ab6b3200", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "51fd01d218634df0b6183bc005e9aa76", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "40070d3b68ae4835a7519d549bd4a04f", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "4f3f869be4df46a38e0ecfc74a22275a", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "705ce7c2e88a4cd8af1f14bafd5146fa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "670194eee39e4d79ac5ff73786bc25a9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/b89139528abc4ab18eb9c45ecdb6a0a2", "region": "RegionOne"}, {"id": "b881710677da40d49cc457366924409f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/b89139528abc4ab18eb9c45ecdb6a0a2", "region": "RegionOne"}], "id": "7c70b3378d2143ceb9d484efac41814a", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "207eb9d98de340309d33a7322ccbe5ce", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/b89139528abc4ab18eb9c45ecdb6a0a2", "region": "RegionOne"}, {"id": "4790b9735beb442cadf841a0b2340d89", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/b89139528abc4ab1
    8eb9c45ecdb6a0a2", "region": "RegionOne"}], "id": "a72baa1e718a4231a650b0e0303ebdcb", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "5436e7e2682f44799f85f3fac5a5f25a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "9bc3c58d06624fa0bb576d21d054b9fa", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "d7f3c26d17514c839c06f670de9a53c1", "type": "placement", "name": "placement"}]}}'
2022-08-02 08:34:59,636 4953 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_get_volume_attachment) Found network None available for tenant
2022-08-02 08:34:59,868 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.230s
2022-08-02 08:34:59,869 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-479719553", "imageRef": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:59 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-47cc917b-547d-473d-9544-5b34ff4fd7c3', 'x-compute-request-id': 'req-47cc917b-547d-473d-9544-5b34ff4fd7c3', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "82b7a126-fb0a-4f90-ae0e-c036561a4a0e", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "kRyHU6itgCu6"}}'
2022-08-02 08:34:59,937 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e 0.063s
2022-08-02 08:34:59,937 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:34:59 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1321', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d181d50c-f82a-48c1-922e-00d7dec2ecb7', 'x-compute-request-id': 'req-d181d50c-f82a-48c1-922e-00d7dec2ecb7', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e'}
        Body: b'{"server": {"id": "82b7a126-fb0a-4f90-ae0e-c036561a4a0e", "name": "tempest-VolumesActionsTest-instance-479719553", "status": "BUILD", "tenant_id": "b89139528abc4ab18eb9c45ecdb6a0a2", "user_id": "ca5f34b0199c4564bb21074684e72ba7", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:34:59Z", "updated": "2022-08-02T05:34:59Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e"}, {"rel": "bookmark", "href": "htt
    p://[LB_IP_ADDRESS]:8774/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-02 08:35:01,043 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e 0.092s
2022-08-02 08:35:01,044 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:00 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4675', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0adccb58-84c1-455d-bffa-304ebb40049c', 'x-compute-request-id': 'req-0adccb58-84c1-455d-bffa-304ebb40049c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e'}
        Body: b'{"server": {"id": "82b7a126-fb0a-4f90-ae0e-c036561a4a0e", "name": "tempest-VolumesActionsTest-instance-479719553", "status": "ERROR", "tenant_id": "b89139528abc4ab18eb9c45ecdb6a0a2", "user_id": "ca5f34b0199c4564bb21074684e72ba7", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:34:59Z", "updated": "2022-08-02T05:35:00Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-02T05:35:00Z", "message": "Build of instance 82b7a126-fb0a-4f90-ae0e-c036561a4a0e aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2703, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2040, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 1959, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py\\", line 12046, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid
    ,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2317, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2526, in _build_and_run_instance\\n    compute_utils.notify_about_instance_create(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2477, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.8/contextlib.py\\", line 113, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/
2022-08-02 08:35:01,057 4953 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 2 second wait
2022-08-02 08:35:01,305 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e 0.247s
2022-08-02 08:35:01,305 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1fec31c6-d663-4f60-b25d-d8a3a4e56f87', 'x-compute-request-id': 'req-1fec31c6-d663-4f60-b25d-d8a3a4e56f87', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e'}
        Body: b''
2022-08-02 08:35:01,336 4953 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e 0.030s
2022-08-02 08:35:01,337 4953 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-424bcaf8-a94b-4d67-88c9-ff165f6009f2', 'x-compute-request-id': 'req-424bcaf8-a94b-4d67-88c9-ff165f6009f2', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/82b7a126-fb0a-4f90-ae0e-c036561a4a0e'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 82b7a126-fb0a-4f90-ae0e-c036561a4a0e could not be found."}}'


tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_attach_volumes_with_nonexistent_volume_id[compute,id-f5e56b0a-5d02-43c1-a2a7-c9b792c2e3f6,negative]
---------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_negative.py", line 179, in test_attach_volumes_with_nonexistent_volume_id
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 1f5f73d0-515d-4009-801a-33bd126216e0 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2022-08-02T05:35:05Z', 'message': 'Build of instance 1f5f73d0-515d-4009-801a-33bd126216e0 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2703, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2040, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 1959, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py", line 12046, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2317, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2526, in _build_and_run_instance\n    compute_utils.notify_about_instance_create(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2477, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.8/contextlib.py", line 113, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2729, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 1f5f73d0-515d-4009-801a-33bd126216e0 aborted: Failure prepping block device.\n'}. Server boot request ID: req-2f29ceb8-3d45-42a5-b6c5-43155fa4cb4a.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-02 08:35:03,547 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://controller:5000/v3/auth/tokens 0.510s
2022-08-02 08:35:03,547 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:03 GMT', 'server': 'Apache', 'content-length': '3884', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0d957405-f48f-466b-a76d-43b0077af856', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "cd7ce744ca204981bc0b7149206a06fc", "name": "tempest-VolumesNegativeTest-1228947-project", "password_expires_at": null}, "audit_ids": ["kGF9Wy-4SLK2KwHrnILsbw"], "expires_at": "2022-08-03T05:35:03.000000Z", "issued_at": "2022-08-02T05:35:03.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "9a741c6b0622447d95be6f868a68c343", "name": "tempest-VolumesNegativeTest-1228947"}, "is_domain": false, "roles": [{"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader"}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin"}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member"}], "catalog": [{"endpoints": [{"id": "2573ec8637884f699bb8ed9b3e812834", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "f30c35c99c7a4d0cb93de2e449216df3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "2dfaaa6289594a59a21af64b82409748", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "200e31520f8e4b43ba170ad8ad10c326", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "5ff572e0434e41b2874ef31f59512a50", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "41bd9392edc24a5a807357ca3d32f9df", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "5ce526a93e754a86aca9dfa32488315a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "6bfef8334e624bf79a68e772baf935ab", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "82af88c346b64c188642b601ab6b3200", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "51fd01d218634df0b6183bc005e9aa76", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "40070d3b68ae4835a7519d549bd4a04f", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "4f3f869be4df46a38e0ecfc74a22275a", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "705ce7c2e88a4cd8af1f14bafd5146fa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "670194eee39e4d79ac5ff73786bc25a9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/9a741c6b0622447d95be6f868a68c343", "region": "RegionOne"}, {"id": "b881710677da40d49cc457366924409f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/9a741c6b0622447d95be6f868a68c343", "region": "RegionOne"}], "id": "7c70b3378d2143ceb9d484efac41814a", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "207eb9d98de340309d33a7322ccbe5ce", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/9a741c6b0622447d95be6f868a68c343", "region": "RegionOne"}, {"id": "4790b9735beb442cadf841a0b2340d89", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2
    /9a741c6b0622447d95be6f868a68c343", "region": "RegionOne"}], "id": "a72baa1e718a4231a650b0e0303ebdcb", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "5436e7e2682f44799f85f3fac5a5f25a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "9bc3c58d06624fa0bb576d21d054b9fa", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "d7f3c26d17514c839c06f670de9a53c1", "type": "placement", "name": "placement"}]}}'
2022-08-02 08:35:03,548 4955 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-02 08:35:03,661 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:35357/v3/projects 0.112s
2022-08-02 08:35:03,662 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesNegativeTest-1516774246-desc", "domain_id": "default", "name": "tempest-VolumesNegativeTest-1516774246"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:03 GMT', 'server': 'Apache', 'content-length': '375', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b3781794-3333-4b7b-a739-4eb51780cc3c', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects'}
        Body: b'{"project": {"id": "ab5f4178264046719a03483cc94dba6a", "name": "tempest-VolumesNegativeTest-1516774246", "domain_id": "default", "description": "tempest-VolumesNegativeTest-1516774246-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/projects/ab5f4178264046719a03483cc94dba6a"}}}\n'
2022-08-02 08:35:04,240 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:35357/v3/users 0.576s
2022-08-02 08:35:04,240 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesNegativeTest-1516774246-project-admin", "password": "O0*qXZ+n%+0s7Wb", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:03 GMT', 'server': 'Apache', 'content-length': '294', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-fea71394-351c-47b4-9444-4317618b6d9c', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/users'}
        Body: b'{"user": {"id": "719d6ec0623548f1a224b72bfc7514be", "name": "tempest-VolumesNegativeTest-1516774246-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/users/719d6ec0623548f1a224b72bfc7514be"}}}\n'
2022-08-02 08:35:04,276 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.035s
2022-08-02 08:35:04,277 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-6a45f9a9-0d89-4c26-82df-790d4870f305', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self":
     "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:35:04,332 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/ab5f4178264046719a03483cc94dba6a/users/719d6ec0623548f1a224b72bfc7514be/roles/b92be1244ec44ced8f7b29792e37b29c 0.054s
2022-08-02 08:35:04,333 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-332df17e-856c-48f7-803b-96943961e0c3', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/ab5f4178264046719a03483cc94dba6a/users/719d6ec0623548f1a224b72bfc7514be/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:35:04,423 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.089s
2022-08-02 08:35:04,424 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3f916f8f-7652-44a5-943b-2cc09ad6ae88', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:35:04,460 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/719d6ec0623548f1a224b72bfc7514be/roles/b92be1244ec44ced8f7b29792e37b29c 0.036s
2022-08-02 08:35:04,461 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT',
     'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-4e00eca5-9cb0-4037-8a73-5e8c923cffc1', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/719d6ec0623548f1a224b72bfc7514be/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:35:04,544 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.082s
2022-08-02 08:35:04,545 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-109bd323-9cc0-4c1a-9f87-8c49acdadca6', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:35:04,582 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/ab5f4178264046719a03483cc94dba6a/users/719d6ec0623548f1a224b72bfc7514be/roles/b92be1244ec44ced8f7b29792e37b29c 0.036s
2022-08-02 08:35:04,583 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b8933621-4155-499d-99a0-06248112c9fc', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/ab5f4178264046719a03483cc94dba6a/users/719d6ec0623548f1a224b72bfc7514be/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:35:04,663 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.079s
2022-08-02 08:35:04,664 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-d5c3799e-5a18-43d2-810e-5cea774aa22a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, 
    "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:35:04,698 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/ab5f4178264046719a03483cc94dba6a/users/719d6ec0623548f1a224b72bfc7514be/roles/b92be1244ec44ced8f7b29792e37b29c 0.033s
2022-08-02 08:35:04,698 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-9b7ef2d6-8cc0-4e96-b592-cc92398185fa', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/ab5f4178264046719a03483cc94dba6a/users/719d6ec0623548f1a224b72bfc7514be/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:35:04,699 4955 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 719d6ec0623548f1a224b72bfc7514be is created with scope project and roles: ['admin', 'admin']
2022-08-02 08:35:04,699 4955 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesNegativeTest-1516774246-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': 'ab5f4178264046719a03483cc94dba6a', 'project_name': 'tempest-VolumesNegativeTest-1516774246', 'tenant_id': 'ab5f4178264046719a03483cc94dba6a', 'tenant_name': 'tempest-VolumesNegativeTest-1516774246', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '719d6ec0623548f1a224b72bfc7514be', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-02 08:35:04,711 4955 INFO     [tempest.lib.common.fixed_network] (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id) Found network None available for tenant
2022-08-02 08:35:04,960 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.249s
2022-08-02 08:35:04,961 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesNegativeTest-instance-1010280973", "imageRef": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-2f29ceb8-3d45-42a5-b6c5-43155fa4cb4a', 'x-compute-request-id': 'req-2f29ceb8-3d45-42a5-b6c5-43155fa4cb4a', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "1f5f73d0-515d-4009-801a-33bd126216e0", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/1
    f5f73d0-515d-4009-801a-33bd126216e0"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "o4pyaHahtEYP"}}'
2022-08-02 08:35:05,031 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0 0.065s
2022-08-02 08:35:05,032 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:04 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1323', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f7593a09-7239-4c10-8ace-501fdf5dd98b', 'x-compute-request-id': 'req-f7593a09-7239-4c10-8ace-501fdf5dd98b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0'}
        Body: b'{"server": {"id": "1f5f73d0-515d-4009-801a-33bd126216e0", "name": "tempest-VolumesNegativeTest-instance-1010280973", "status": "BUILD", "tenant_id": "9a741c6b0622447d95be6f868a68c343", "user_id": "cd7ce744ca204981bc0b7149206a06fc", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:35:04Z", "updated": "2022-08-02T05:35:04Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/1f5f73d0-515d-4009-801a-33bd126216e0"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-02 08:35:06,136 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0 0.091s
2022-08-02 08:35:06,137 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:06 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4677', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d5a9ae43-ecb3-454c-99a6-4ec825294130', 'x-compute-request-id': 'req-d5a9ae43-ecb3-454c-99a6-4ec825294130', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0'}
        Body: b'{"server": {"id": "1f5f73d0-515d-4009-801a-33bd126216e0", "name": "tempest-VolumesNegativeTest-instance-1010280973", "status": "ERROR", "tenant_id": "9a741c6b0622447d95be6f868a68c343", "user_id": "cd7ce744ca204981bc0b7149206a06fc", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "
    created": "2022-08-02T05:35:04Z", "updated": "2022-08-02T05:35:05Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/1f5f73d0-515d-4009-801a-33bd126216e0"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-02T05:35:05Z", "message": "Build of instance 1f5f73d0-515d-4009-801a-33bd126216e0 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2703, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2040, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 1959, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py\\", line 12046, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2317, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2526, in _build_and_run_instance\\n    compute_utils.notify_about_instance_create(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2477, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.8/contextlib.py\\", line 113, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/comput
2022-08-02 08:35:06,150 4955 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2022-08-02 08:35:06,418 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0 0.268s
2022-08-02 08:35:06,419 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', '
    X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:06 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-32bce7e1-2395-40a1-a478-90e2e7a41985', 'x-compute-request-id': 'req-32bce7e1-2395-40a1-a478-90e2e7a41985', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0'}
        Body: b''
2022-08-02 08:35:06,451 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0 0.031s
2022-08-02 08:35:06,452 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:06 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-dc330641-046b-4ce5-b8cf-2eaad2b638fc', 'x-compute-request-id': 'req-dc330641-046b-4ce5-b8cf-2eaad2b638fc', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/1f5f73d0-515d-4009-801a-33bd126216e0'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 1f5f73d0-515d-4009-801a-33bd126216e0 could not be found."}}'


tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_delete_with_volume_in_use[compute,id-8567b54c-4455-446d-a1cf-651ddeaa3ff2]
-----------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 48, in test_snapshot_create_delete_with_volume_in_use
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 77ff5b5c-9362-476b-bb98-1ed4fb85ef46 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2022-08-02T05:35:18Z', 'message': 'Build of instance 77ff5b5c-9362-476b-bb98-1ed4fb85ef46 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2703, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2040, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 1959, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py", line 12046, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2317, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2526, in _build_and_run_instance\n    compute_utils.notify_about_instance_create(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2477, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.8/contextlib.py", line 113, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2729, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 77ff5b5c-9362-476b-bb98-1ed4fb85ef46 aborted: Failure prepping block device.\n'}. Server boot request ID: req-fec98d14-8ddb-4497-9bb7-15b28db3c392.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-02 08:35:15,718 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://controller:5000/v3/auth/tokens 0.552s
2022-08-02 08:35:15,719 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:15 GMT', 'server': 'Apache', 'content-length': '3896', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-66b275a5-d8fd-49a7-9b18-0b4e06d9386b', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "5d8cadd7dfd243bd972cbd3ce3fdf3a9", "name": "tempest-VolumesSnapshotTestJSON-625569801-project", "password_expires_at": null}, "audit_ids": ["rPgJq0G2SGqccITGczTIWA"], "expires_at": "2022-08-03T05:35:15.000000Z", "issued_at": "2022-08-02T05:35:15.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "92d876d6c9624a61ae2d920e024cd445", "name": "tempest-VolumesSnapshotTestJSON-625569801"}, "is_domain": false, "roles": [{"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin"}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader"}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member"}], "catalog": [{"endpoints": [{"id": "2573ec8637884f699bb8ed9b3e812834", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "f30c35c99c7a4d0cb93de2e449216df3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "2dfaaa6289594a59a21af64b82409748", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "200e31520f8e4b43ba170ad8ad10c326", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "5ff572e0434e41b2874ef31f59512a50", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "41bd9392edc24a5a807357ca3d32f9df", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "5ce526a93e754a86aca9dfa32488315a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "6bfef8334e624bf79a68e772baf935ab", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "82af88c346b64c188642b601ab6b3200", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "51fd01d218634df0b6183bc005e9aa76", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "40070d3b68ae4835a7519d549bd4a04f", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "4f3f869be4df46a38e0ecfc74a22275a", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "705ce7c2e88a4cd8af1f14bafd5146fa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "670194eee39e4d79ac5ff73786bc25a9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445", "region": "RegionOne"}, {"id": "b881710677da40d49cc457366924409f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445", "region": "RegionOne"}], "id": "7c70b3378d2143ceb9d484efac41814a", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "207eb9d98de340309d33a7322ccbe5ce", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/92d876d6c9624a61ae2d920e024cd445", "region": "RegionOne"}, {"id": "4790b9735beb442cadf841a0b2340d89", "interface": "internal", "region_id": "RegionOne", "url": "http://192.16
    8.16.202:8774/v2/92d876d6c9624a61ae2d920e024cd445", "region": "RegionOne"}], "id": "a72baa1e718a4231a650b0e0303ebdcb", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "5436e7e2682f44799f85f3fac5a5f25a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "9bc3c58d06624fa0bb576d21d054b9fa", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "d7f3c26d17514c839c06f670de9a53c1", "type": "placement", "name": "placement"}]}}'
2022-08-02 08:35:15,720 4955 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-02 08:35:15,816 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:35357/v3/projects 0.095s
2022-08-02 08:35:15,816 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesSnapshotTestJSON-1897253083-desc", "domain_id": "default", "name": "tempest-VolumesSnapshotTestJSON-1897253083"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:15 GMT', 'server': 'Apache', 'content-length': '383', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-c8cc481d-5490-4bf7-af5b-d1e4933b3ce6', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects'}
        Body: b'{"project": {"id": "c83e18e7fdac400785d37883d4d7e425", "name": "tempest-VolumesSnapshotTestJSON-1897253083", "domain_id": "default", "description": "tempest-VolumesSnapshotTestJSON-1897253083-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/projects/c83e18e7fdac400785d37883d4d7e425"}}}\n'
2022-08-02 08:35:16,388 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:35357/v3/users 0.570s
2022-08-02 08:35:16,388 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesSnapshotTestJSON-1897253083-project-admin", "password": "Y3!qwsSfjbw4*h8", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:15 GMT', 'server': 'Apache', 'content-length': '298', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-598cc685-89fa-497f-8de0-f9918b91d80c', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/users'}
        Body: b'{"user": {"id": "5a3f3b3e8f2d4e998809300a00cbc4e4", "name": "tempest-VolumesSnapshotTestJSON-1897253083-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/users/5a3f3b3e8f2d4e998809300a00cbc4e4"}}}\n'
2022-08-02 08:35:16,421 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.031s
2022-08-02 08:35:16,422 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:16 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-dfe85a2b-09a1-48f4-a5d9-f3f545ea66a2', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "
    description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:35:16,477 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/c83e18e7fdac400785d37883d4d7e425/users/5a3f3b3e8f2d4e998809300a00cbc4e4/roles/b92be1244ec44ced8f7b29792e37b29c 0.054s
2022-08-02 08:35:16,477 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:16 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-de807763-6020-4e06-a804-0d9009e561ff', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/c83e18e7fdac400785d37883d4d7e425/users/5a3f3b3e8f2d4e998809300a00cbc4e4/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:35:16,577 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.098s
2022-08-02 08:35:16,577 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:16 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-4052a4f0-4a82-40e3-ada4-47dd21f8b1a4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:35:16,613 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/5a3f3b3e8f2d4e998809300a00cbc4e4/roles/b92be1244ec44ced8f7b29792e37b29c 0.035s
2022-08-02 08:35:16,614 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
 
       Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:16 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-a05bc712-a537-4e8d-a654-89fc6086e2d0', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/5a3f3b3e8f2d4e998809300a00cbc4e4/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:35:16,694 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.079s
2022-08-02 08:35:16,695 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:16 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-077fb930-a6dd-46f3-a7ca-02e3c33abb6a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:35:16,731 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/c83e18e7fdac400785d37883d4d7e425/users/5a3f3b3e8f2d4e998809300a00cbc4e4/roles/b92be1244ec44ced8f7b29792e37b29c 0.035s
2022-08-02 08:35:16,732 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:16 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-68ba1c95-8cd1-4049-9282-13ec5b3f1980', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/c83e18e7fdac400785d37883d4d7e425/users/5a3f3b3e8f2d4e998809300a00cbc4e4/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:35:16,808 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.075s
2022-08-02 08:35:16,809 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:16 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8f753833-7a6a-44aa-a903-0aa6764d371b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "35861c0898b84fcb8026f2340915128e", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/35861c0898b84fcb8026f2340915128e"}}, {"id": "96215fdb7dc64c668
    53ae340e4e1bbee", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/96215fdb7dc64c66853ae340e4e1bbee"}}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/b92be1244ec44ced8f7b29792e37b29c"}}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/c10a32a4f8a54319a5967e1f1d6a3fb3"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-08-02 08:35:16,846 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/c83e18e7fdac400785d37883d4d7e425/users/5a3f3b3e8f2d4e998809300a00cbc4e4/roles/b92be1244ec44ced8f7b29792e37b29c 0.036s
2022-08-02 08:35:16,847 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:16 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-251c404e-2913-492f-b083-513843fce4ad', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/c83e18e7fdac400785d37883d4d7e425/users/5a3f3b3e8f2d4e998809300a00cbc4e4/roles/b92be1244ec44ced8f7b29792e37b29c'}
        Body: b''
2022-08-02 08:35:16,847 4955 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 5a3f3b3e8f2d4e998809300a00cbc4e4 is created with scope project and roles: ['admin', 'admin']
2022-08-02 08:35:16,848 4955 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesSnapshotTestJSON-1897253083-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': 'c83e18e7fdac400785d37883d4d7e425', 'project_name': 'tempest-VolumesSnapshotTestJSON-1897253083', 'tenant_id': 'c83e18e7fdac400785d37883d4d7e425', 'tenant_name': 'tempest-VolumesSnapshotTestJSON-1897253083', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '5a3f3b3e8f2d4e998809300a00cbc4e4', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-02 08:35:16,857 4955 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use) Found network None available for tenant
2022-08-02 08:35:17,096 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.238s
2022-08-02 08:35:17,097 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-226181456", "imageRef": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:16 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-fec98d14-8ddb-4497-9bb7-15b28db3c392', 'x-compute-request-id': 'req-fec98d14-8ddb-4497-9bb7-15b28db3c392', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "77ff5b5c-9362-476b-bb98-1ed4fb85ef46", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/77
    ff5b5c-9362-476b-bb98-1ed4fb85ef46"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "pMARSRzsF4Zv"}}'
2022-08-02 08:35:17,172 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46 0.070s
2022-08-02 08:35:17,173 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:17 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b34c42ff-365e-4169-b010-96ad2a3ea053', 'x-compute-request-id': 'req-b34c42ff-365e-4169-b010-96ad2a3ea053', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46'}
        Body: b'{"server": {"id": "77ff5b5c-9362-476b-bb98-1ed4fb85ef46", "name": "tempest-VolumesSnapshotTestJSON-instance-226181456", "status": "BUILD", "tenant_id": "92d876d6c9624a61ae2d920e024cd445", "user_id": "5d8cadd7dfd243bd972cbd3ce3fdf3a9", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:35:17Z", "updated": "2022-08-02T05:35:17Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-02 08:35:18,284 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46 0.096s
2022-08-02 08:35:18,284 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:18 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4680', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-df8c93ce-b21b-489d-9c34-01002153f2d4', 'x-compute-request-id': 'req-df8c93ce-b21b-489d-9c34-01002153f2d4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46'}
        Body: b'{"server": {"id": "77ff5b5c-9362-476b-bb98-1ed4fb85ef46", "name": "tempest-VolumesSnapshotTestJSON-instance-226181456", "status": "ERROR", "tenant_id": "92d876d6c9624a61ae2d920e024cd445", "user_id": "5d8cadd7dfd243bd972cbd3ce3fdf3a9", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780
    d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:35:17Z", "updated": "2022-08-02T05:35:18Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-02T05:35:18Z", "message": "Build of instance 77ff5b5c-9362-476b-bb98-1ed4fb85ef46 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2703, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2040, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 1959, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py\\", line 12046, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2317, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2526, in _build_and_run_instance\\n    compute_utils.notify_about_instance_create(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2477, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.8/contextlib.py\\", line 113, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/com
2022-08-02 08:35:18,295 4955 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2022-08-02 08:35:18,709 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46 0.414s
2022-08-02 08:35:18,710 4955 DEBUG    [t
    empest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:18 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ab3126d3-3028-4a28-9a3d-3722e5ef767a', 'x-compute-request-id': 'req-ab3126d3-3028-4a28-9a3d-3722e5ef767a', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46'}
        Body: b''
2022-08-02 08:35:18,743 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46 0.031s
2022-08-02 08:35:18,743 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:18 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-31aaaacb-21b6-4ff6-842b-5892a6f8ae97', 'x-compute-request-id': 'req-31aaaacb-21b6-4ff6-842b-5892a6f8ae97', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/77ff5b5c-9362-476b-bb98-1ed4fb85ef46'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 77ff5b5c-9362-476b-bb98-1ed4fb85ef46 could not be found."}}'


tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_offline_delete_online[compute,id-5210a1de-85a0-11e6-bb21-641c676a5d61]
-------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 83, in test_snapshot_create_offline_delete_online
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server c6b2ee74-376b-4061-9ce9-f7494918262d failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2022-08-02T05:35:26Z', 'message': 'Build of instance c6b2ee74-376b-4061-9ce9-f7494918262d aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2703, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2040, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 1959, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py", line 12046, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2317, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2526, in _build_and_run_instance\n    compute_utils.notify_about_instance_create(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2477, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.8/contextlib.py", line 113, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py", line 2729, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance c6b2ee74-376b-4061-9ce9-f7494918262d aborted: Failure prepping block device.\n'}. Server boot request ID: req-866bbfc5-af98-4af3-89b8-b9252e30e3d5.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-02 08:35:22,477 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445/snapshots 0.163s
2022-08-02 08:35:22,478 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "bc87c607-e353-4956-86da-65c56c06719e", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1074026613"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:22 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '310', 'x-compute-request-id': 'req-619595aa-7b7a-4a53-80d2-9a4e17c77e65', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-619595aa-7b7a-4a53-80d2-9a4e17c77e65', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445/snapshots'}
        Body: b'{"snapshot": {"id": "6aa105eb-732e-45dd-afab-d84ee5eb9fad", "created_at": "2022-08-02T05:35:22.425908", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1074026613", "description": null, "volume_id": "bc87c607-e353-4956-86da-65c56c06719e", "status": "creating", "size": 1, "metadata": {}}}'
2022-08-02 08:35:22,509 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445/snapshots/6aa105eb-732e-45dd-afab-d84ee5eb9fad 0.026s
2022-08-02 08:35:22,510 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:22 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '442', 'x-compute-request-id': 'req-1be8819e-a39c-4357-9d10-6850ab8b999d', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-1be8819e-a39c-4357-9d10-6850ab8b999d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445/snapshots/6aa105eb-732e-45dd-afab-d84ee5eb9fad'}
        Body: b'{"snapshot": {"id": "6aa105eb-732e-45dd-afab-d84ee5eb9fad", "created_at": "2022-08-02T05:35:22.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1074026613", "description": null, "volume_id": "bc87c607-e353-4956-86da-65c56c06719e", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "92d876d6c9624a61ae2d920e024cd445", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-02 08:35:23,543 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445/snapshots/6aa105eb-732e-45dd-afab-d84ee5eb9fad 0.027s
2022-08-02 08:35:23,543 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:23 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '442', 'x-compute-request-id': 'req-67b2d445-00ac-45b5-a098-31f4c9361afe', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-67b2d445-00ac-45b5-a098-31f4c9361afe', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445/snapshots/6aa105eb-732e-45dd-afab-d84ee5eb9fad'}
        Body: b'{"snapshot": {"id": "6aa105eb-732e-45dd-afab-d84ee5eb9fad", "created_at": "2022-08-02T05:35:22.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON
    -Snapshot-1074026613", "description": null, "volume_id": "bc87c607-e353-4956-86da-65c56c06719e", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "92d876d6c9624a61ae2d920e024cd445", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-02 08:35:24,575 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445/snapshots/6aa105eb-732e-45dd-afab-d84ee5eb9fad 0.025s
2022-08-02 08:35:24,576 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:24 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '469', 'x-compute-request-id': 'req-17cf82a6-f5b0-450d-97fb-be2a5c3edca8', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-17cf82a6-f5b0-450d-97fb-be2a5c3edca8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445/snapshots/6aa105eb-732e-45dd-afab-d84ee5eb9fad'}
        Body: b'{"snapshot": {"id": "6aa105eb-732e-45dd-afab-d84ee5eb9fad", "created_at": "2022-08-02T05:35:22.000000", "updated_at": "2022-08-02T05:35:23.000000", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1074026613", "description": null, "volume_id": "bc87c607-e353-4956-86da-65c56c06719e", "status": "available", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "92d876d6c9624a61ae2d920e024cd445", "os-extended-snapshot-attributes:progress": "100%"}}'
2022-08-02 08:35:24,581 4955 INFO     [tempest.common.waiters] snapshot 6aa105eb-732e-45dd-afab-d84ee5eb9fad reached available after waiting for 2.581137 seconds
2022-08-02 08:35:25,160 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 201 POST http://controller:5000/v3/auth/tokens 0.569s
2022-08-02 08:35:25,160 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:24 GMT', 'server': 'Apache', 'content-length': '3896', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-1087a675-92c5-40cd-90db-ef05a3535488', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "5d8cadd7dfd243bd972cbd3ce3fdf3a9", "name": "tempest-VolumesSnapshotTestJSON-625569801-project", "password_expires_at": null}, "audit_ids": ["NsbQjy-DQfi9Qyw4puff1g"], "expires_at": "2022-08-03T05:35:25.000000Z", "issued_at": "2022-08-02T05:35:25.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "92d876d6c9624a61ae2d920e024cd445", "name": "tempest-VolumesSnapshotTestJSON-625569801"}, "is_domain": false, "roles": [{"id": "96215fdb7dc64c66853ae340e4e1bbee", "name": "reader"}, {"id": "b92be1244ec44ced8f7b29792e37b29c", "name": "admin"}, {"id": "c10a32a4f8a54319a5967e1f1d6a3fb3", "name": "member"}], "catalog": [{"endpoints": [{"id": "2573ec8637884f699bb8ed9b3e812834", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "f30c35c99c7a4d0cb93de2e449216df3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "2dfaaa6289594a59a21af64b82409748", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "200e31520f8e4b43ba170ad8ad10c326", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "5ff572e0434e41b2874ef31f59512a50", "i
    nterface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "41bd9392edc24a5a807357ca3d32f9df", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "5ce526a93e754a86aca9dfa32488315a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "6bfef8334e624bf79a68e772baf935ab", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "82af88c346b64c188642b601ab6b3200", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "51fd01d218634df0b6183bc005e9aa76", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "40070d3b68ae4835a7519d549bd4a04f", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "4f3f869be4df46a38e0ecfc74a22275a", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "705ce7c2e88a4cd8af1f14bafd5146fa", "type": "image", "name": "glance"}, {"endpoints": [{"id": "670194eee39e4d79ac5ff73786bc25a9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445", "region": "RegionOne"}, {"id": "b881710677da40d49cc457366924409f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/92d876d6c9624a61ae2d920e024cd445", "region": "RegionOne"}], "id": "7c70b3378d2143ceb9d484efac41814a", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "207eb9d98de340309d33a7322ccbe5ce", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/92d876d6c9624a61ae2d920e024cd445", "region": "RegionOne"}, {"id": "4790b9735beb442cadf841a0b2340d89", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/92d876d6c9624a61ae2d920e024cd445", "region": "RegionOne"}], "id": "a72baa1e718a4231a650b0e0303ebdcb", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "5436e7e2682f44799f85f3fac5a5f25a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "9bc3c58d06624fa0bb576d21d054b9fa", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "d7f3c26d17514c839c06f670de9a53c1", "type": "placement", "name": "placement"}]}}'
2022-08-02 08:35:25,171 4955 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online) Found network None available for tenant
2022-08-02 08:35:25,401 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.228s
2022-08-02 08:35:25,402 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-1106519200", "imageRef": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:25 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-866bbfc5-af98-4af3-89b8-b9252e30e3d5', 'x-compute-request-id': 'req-866bbfc5-af98-4af3-89b8-b9252e30e3d5', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "c6b2ee74-376b-4061-9ce9-f7494918262d", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d"}, {"rel"
    : "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c6b2ee74-376b-4061-9ce9-f7494918262d"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "RrXfnNj94ajg"}}'
2022-08-02 08:35:25,480 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d 0.073s
2022-08-02 08:35:25,480 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:25 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1327', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3edfbfbb-d365-4826-a205-e5b4ca7421a5', 'x-compute-request-id': 'req-3edfbfbb-d365-4826-a205-e5b4ca7421a5', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d'}
        Body: b'{"server": {"id": "c6b2ee74-376b-4061-9ce9-f7494918262d", "name": "tempest-VolumesSnapshotTestJSON-instance-1106519200", "status": "BUILD", "tenant_id": "92d876d6c9624a61ae2d920e024cd445", "user_id": "5d8cadd7dfd243bd972cbd3ce3fdf3a9", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:35:25Z", "updated": "2022-08-02T05:35:25Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c6b2ee74-376b-4061-9ce9-f7494918262d"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-02 08:35:26,587 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d 0.092s
2022-08-02 08:35:26,588 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:26 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4681', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-eb83aaa8-7cd3-4929-97ff-3d07c5712502', 'x-compute-request-id': 'req-eb83aaa8-7cd3-4929-97ff-3d07c5712502', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d'}
        Body: b'{"server": {"id": "c6b2ee74-376b-4061-9ce9-f7494918262d", "name": "tempest-VolumesSnapshotTestJSON-instance-1106519200", "status": "ERROR", "tenant_id": "92d876d6c9624a61ae2d920e024cd445", "user_id": "5d8cadd7dfd243bd972cbd3ce3fdf3a9", "metadata": {}, "hostId": "", "image": {"id": "47ba6e9c-0cd1-4e7c-bb96-2b780d326b22", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/47ba6e9c-0cd1-4e7c-bb96-2b780d326b22"}]}, "flavor": {"id": "0", "links": [{"rel
    ": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-02T05:35:25Z", "updated": "2022-08-02T05:35:26Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c6b2ee74-376b-4061-9ce9-f7494918262d"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-02T05:35:26Z", "message": "Build of instance c6b2ee74-376b-4061-9ce9-f7494918262d aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2703, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2040, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 1959, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/libvirt/driver.py\\", line 12046, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2317, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2526, in _build_and_run_instance\\n    compute_utils.notify_about_instance_create(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/compute/manager.py\\", line 2477, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.8/contextlib.py\\", line 113, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/co
2022-08-02 08:35:26,602 4955 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2022-08-02 08:35:26,849 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d 0.247s
2022-08-02 08:35:26,849 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Con
    tent-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:26 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-bb7d7385-6f6c-4f80-b3a8-bc2491852e89', 'x-compute-request-id': 'req-bb7d7385-6f6c-4f80-b3a8-bc2491852e89', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d'}
        Body: b''
2022-08-02 08:35:26,882 4955 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d 0.031s
2022-08-02 08:35:26,883 4955 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 02 Aug 2022 05:35:26 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c40748d8-d2bd-4086-a3b8-bfd6b83906ec', 'x-compute-request-id': 'req-c40748d8-d2bd-4086-a3b8-bfd6b83906ec', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6b2ee74-376b-4061-9ce9-f7494918262d'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance c6b2ee74-376b-4061-9ce9-f7494918262d could not be found."}}'



======
Totals
======
Ran: 219 tests in 256.2894 sec.
 - Passed: 205
 - Skipped: 6
 - Expected Fail: 0
 - Unexpected Success: 0
 - Failed: 8
Sum of execute time for each test: 380.4160 sec.

==============
Worker Balance
==============
 - Worker 0 (53 tests) => 0:04:00.270159
 - Worker 1 (63 tests) => 0:03:52.464274
 - Worker 2 (103 tests) => 0:04:16.289350

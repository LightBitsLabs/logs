{0} tempest.api.compute.volumes.test_volume_snapshots.VolumesSnapshotsTestJSON.test_volume_snapshot_create_get_list_delete [5.784283s] ... ok
{0} tempest.api.compute.volumes.test_volumes_get.VolumesGetTestJSON.test_volume_create_get_delete [2.729817s] ... ok
{1} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_boot_from_multiattach_volume [13.865853s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 454, in test_boot_from_multiattach_volume
    self._boot_from_multiattach_volume()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 443, in _boot_from_multiattach_volume
    image_id='', block_device_mapping_v2=bdm, wait_until='ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/base.py", line 272, in create_test_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 9dd51baa-44d7-4273-b419-aa8833cf41c2 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-03-29T10:33:59Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-03-29 13:33:47,099 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 202 POST http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes 0.503s
2022-03-29 13:33:47,099 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"multiattach": true, "size": 1, "display_name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:46 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '854', 'x-compute-request-id': 'req-d3197a90-e2b1-4659-9ed6-87baed5603fc', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-d3197a90-e2b1-4659-9ed6-87baed5603fc', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.031621", "updated_at": null, "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null}}'
2022-03-29 13:33:47,158 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.047s
2022-03-29 13:33:47,159 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:47 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1033', 'x-compute-request-id': 'req-55fe9b5d-e696-4e51-8341-be9eb891582f', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-55fe9b5d-e696-4e51-8341-be9eb891582f', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.000000", "updated_at": null, "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": null, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:48,211 20959 INFO     [temp
    est.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.042s
2022-03-29 13:33:48,211 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:48 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1091', 'x-compute-request-id': 'req-cb0400cd-8fad-40b3-adc8-64ef75e36721', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-cb0400cd-8fad-40b3-adc8-64ef75e36721', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.000000", "updated_at": "2022-03-29T10:33:47.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:49,264 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.043s
2022-03-29 13:33:49,265 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:49 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1152', 'x-compute-request-id': 'req-76da3b51-f51c-479d-9b4a-261eeab8c8b8', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-76da3b51-f51c-479d-9b4a-261eeab8c8b8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.000000", "updated_at": "2022-03-29T10:33:48.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"sign
    ature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:50,317 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.042s
2022-03-29 13:33:50,318 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:50 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1152', 'x-compute-request-id': 'req-9c8e010b-d8eb-4cb0-9830-107ba013a082', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-9c8e010b-d8eb-4cb0-9830-107ba013a082', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.000000", "updated_at": "2022-03-29T10:33:48.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:51,369 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.041s
2022-03-29 13:33:51,370 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:51 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1152', 'x-compute-request-id': 'req-c719867f-ef7f-4162-a071-4c9f6ae39190', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-c719867f-ef7f-4162-a071-4c9f6ae39190', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.000000", "updated_at": "2022-03-29T10:33:48.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314
    e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:52,422 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.042s
2022-03-29 13:33:52,422 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:52 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1152', 'x-compute-request-id': 'req-50907052-2508-4d12-b739-9203aadea982', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-50907052-2508-4d12-b739-9203aadea982', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.000000", "updated_at": "2022-03-29T10:33:48.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:53,483 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.050s
2022-03-29 13:33:53,483 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:53 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1152', 'x-compute-request-id': 'req-ba451073-0c9a-4bdc-b86d-d25da5fa36ad', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-ba451073-0c9a-4bdc-b86d-d25da5fa36ad', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.000000", "updated_at": "2022-03-29T10:33:48.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "
    href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:54,535 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.041s
2022-03-29 13:33:54,535 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1152', 'x-compute-request-id': 'req-9833e65a-0b7d-4f26-bce4-bfd28b3e5fc4', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-9833e65a-0b7d-4f26-bce4-bfd28b3e5fc4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.000000", "updated_at": "2022-03-29T10:33:48.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:55,585 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.039s
2022-03-29 13:33:55,585 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:55 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1152', 'x-compute-request-id': 'req-f402ff9d-ee4f-42e6-abd2-c8a8f99e4227', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-f402ff9d-ee4f-42e6-abd2-c8a8f99e4227', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "downloading", "size": 1, "availability_zone": "nova", "created
    _at": "2022-03-29T10:33:47.000000", "updated_at": "2022-03-29T10:33:48.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:56,640 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.044s
2022-03-29 13:33:56,640 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:56 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1508', 'x-compute-request-id': 'req-c206e73f-c91c-4362-9702-c0759118c4d3', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-c206e73f-c91c-4362-9702-c0759118c4d3', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.000000", "updated_at": "2022-03-29T10:33:56.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "true", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False", "owner_specified.openstack.md5": "", "owner_specified.openstack.sha256": "", "owner_specified.openstack.object": "images/cirros", "image_id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "image_name": "cirros", "checksum": "443b7623e27ecf03dc9e01ee93f67afe", "container_format": "bare", "disk_format": "qcow2", "min_disk": "0", "min_ram": "0", "size": "12716032"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:56,650 20959 INFO     [tempest.common.waiters] volume 9a7f201f-7443-4d2b-8612-4b4bf7802822 reached available after waiting for 9.650019 seconds
2022-03-29 13:33:57,233 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 201 POST http://controller:5000/v3/auth/tokens 0.576s
2022-03-29 13:33:57,234 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Bo
    dy: <omitted>
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:56 GMT', 'server': 'Apache', 'content-length': '3906', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8493de4c-99a2-4551-b6ba-6ad7d4604f50', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "078317f5cc314e599e0a3aec57db17f4", "name": "tempest-AttachVolumeMultiAttachTest-1947723082-project", "password_expires_at": null}, "audit_ids": ["wHVbAw4GQy2IUpNPbpGSzg"], "expires_at": "2022-03-30T10:33:57.000000Z", "issued_at": "2022-03-29T10:33:57.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "aa10417f827d48748fce1c9aff3e52a1", "name": "tempest-AttachVolumeMultiAttachTest-1947723082"}, "is_domain": false, "roles": [{"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0
    292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-03-29 13:33:57,234 20959 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-03-29 13:33:57,342 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 201 POST http://[LB_IP_ADDRESS]:35357/v3/projects 0.106s
2022-03-29 13:33:57,342 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-AttachVolumeMultiAttachTest-544861758-desc", "domain_id": "default", "name": "tempest-AttachVolumeMultiAttachTest-544861758"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:57 GMT', 'server': 'Apache', 'content-length': '389', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-892d214a-3b74-41ed-aa71-623f1d1bdcb9', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects'}
        Body: b'{"project": {"id": "acc1d72138d24292bfce9598a0437bc3", "name": "tempest-AttachVolumeMultiAttachTest-544861758", "domain_id": "default", "description": "tempest-AttachVolumeMultiAttachTest-544861758-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/projects/acc1d72138d24292bfce9598a0437bc3"}}}\n'
2022-03-29 13:33:57,926 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 201 POST http://[LB_IP_ADDRESS]:35357/v3/users 0.583s
2022-03-29 13:33:57,926 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-AttachVolumeMultiAttachTest-544861758-project-admin", "password": "A9^0lHJybO%2tRV", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:57 GMT', 'server': 'Apache', 'content-length': '301', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-c41df0b5-2c88-4072-8a6a-bb12a6765d73', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/users'}
        Body: b'{"user": {"id": "c3eb281748f84053a3e126a1972168ae", "name": "tempest-AttachVolumeMultiAttachTest-544861758-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/users/c3eb281748f84053a3e126a1972168ae"}}}\n'
2022-03-29 13:33:57,975 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.047s
2022-03-29 13:33:57,975 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:57 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-83f32477-eb5e-4b7f-9928-42f9f6b23509', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}
    }, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-03-29 13:33:58,060 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/acc1d72138d24292bfce9598a0437bc3/users/c3eb281748f84053a3e126a1972168ae/roles/98b47d94b3e541b2804787a80c29845f 0.084s
2022-03-29 13:33:58,060 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:57 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-46193ccf-78a3-4aa0-85f6-3bf72c2a4127', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/acc1d72138d24292bfce9598a0437bc3/users/c3eb281748f84053a3e126a1972168ae/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-03-29 13:33:58,140 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.079s
2022-03-29 13:33:58,141 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:58 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b9f6a0e6-79a4-4a39-877b-4f80e4171e68', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-03-29 13:33:58,176 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/c3eb281748f84053a3e126a1972168ae/roles/98b47d94b3e541b2804787a80c29845f 0.035s
2022-03-29 13:33:58,177 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:58 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7729cf9a-d9ee-48ce-8c25-f7a53a18e93a', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/c3eb281748f84053a3e126a1972168ae/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
20
    22-03-29 13:33:58,265 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.087s
2022-03-29 13:33:58,265 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:58 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-47df299d-4b5f-4afd-82f9-0066dd61f5f3', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-03-29 13:33:58,301 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/acc1d72138d24292bfce9598a0437bc3/users/c3eb281748f84053a3e126a1972168ae/roles/98b47d94b3e541b2804787a80c29845f 0.035s
2022-03-29 13:33:58,301 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:58 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-62da0e5c-a135-4948-a533-454c40b94952', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/acc1d72138d24292bfce9598a0437bc3/users/c3eb281748f84053a3e126a1972168ae/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-03-29 13:33:58,392 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.090s
2022-03-29 13:33:58,392 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:58 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-f83d0347-f93d-4c45-ad30-2a04f7a0fffa', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b4
    7d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-03-29 13:33:58,427 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/acc1d72138d24292bfce9598a0437bc3/users/c3eb281748f84053a3e126a1972168ae/roles/98b47d94b3e541b2804787a80c29845f 0.033s
2022-03-29 13:33:58,427 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:58 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e055aab5-52c9-4270-a4d1-3a718569eaf9', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/acc1d72138d24292bfce9598a0437bc3/users/c3eb281748f84053a3e126a1972168ae/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-03-29 13:33:58,428 20959 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user c3eb281748f84053a3e126a1972168ae is created with scope project and roles: ['admin', 'admin']
2022-03-29 13:33:58,428 20959 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-AttachVolumeMultiAttachTest-544861758-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': 'acc1d72138d24292bfce9598a0437bc3', 'project_name': 'tempest-AttachVolumeMultiAttachTest-544861758', 'tenant_id': 'acc1d72138d24292bfce9598a0437bc3', 'tenant_name': 'tempest-AttachVolumeMultiAttachTest-544861758', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'c3eb281748f84053a3e126a1972168ae', 'system': None}, Network: None, Subnet: None, Router: None
2022-03-29 13:33:58,436 20959 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume) Found network None available for tenant
2022-03-29 13:33:58,726 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.289s
2022-03-29 13:33:58,727 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-AttachVolumeMultiAttachTest-server-1508709381", "imageRef": "", "flavorRef": "0", "block_device_mapping_v2": [{"uuid": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "source_type": "volume", "destination_type": "volume", "boot_index": 0, "delete_on_termination": false}], "networks": "none"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:58 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d84f599b-18a4-4a11-b4ca-54fbeb541fae', 'x-compute-request-id': 'req-d84f599b-18a4-4a11-b4ca-54fbeb541fae', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "9dd51baa-44d7-4273-b419-aa8833cf41c2", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "def
    ault"}], "adminPass": "b7CV5AfBk5f4"}}'
2022-03-29 13:33:58,802 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2 0.072s
2022-03-29 13:33:58,803 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:58 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1571', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7ae790d5-2b39-4133-9882-46edac134f78', 'x-compute-request-id': 'req-7ae790d5-2b39-4133-9882-46edac134f78', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2'}
        Body: b'{"server": {"id": "9dd51baa-44d7-4273-b419-aa8833cf41c2", "name": "tempest-AttachVolumeMultiAttachTest-server-1508709381", "status": "BUILD", "tenant_id": "aa10417f827d48748fce1c9aff3e52a1", "user_id": "078317f5cc314e599e0a3aec57db17f4", "metadata": {}, "hostId": "", "image": "", "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-03-29T10:33:58Z", "updated": "2022-03-29T10:33:58Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-ddrbwnim", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "tempest-attachvolumemultiattachtest-server-1508709381", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "", "locked": false, "description": null, "tags": []}}'
2022-03-29 13:33:59,919 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2 0.103s
2022-03-29 13:33:59,919 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:59 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4243', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-e568136f-a12a-45b7-a382-f293f0eef0be', 'x-compute-request-id': 'req-e568136f-a12a-45b7-a382-f293f0eef0be', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2'}
        Body: b'{"server": {"id": "9dd51baa-44d7-4273-b419-aa8833cf41c2", "name": "tempest-AttachVolumeMultiAttachTest-server-1508709381", "status": "ERROR", "tenant_id": "aa10417f827d48748fce1c9aff3e52a1", "user_id": "078317f5cc314e599e0a3aec57db17f4", "metadata": {}, "hostId": "", "image": "", "flavor": {"vcpus": 2, "ram": 1024
    , "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-03-29T10:33:58Z", "updated": "2022-03-29T10:33:59Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-03-29T10:33:59Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000027", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-ddrbwnim", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "tempest-attachvolumemultiattachtest-server-1508709381", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EX
2022-03-29 13:33:59,931 20959 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2022-03-29 13:34:00,419 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 204 DELETE http://[LB_IP_ADDRESS]:8
    774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2 0.487s
2022-03-29 13:34:00,419 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:59 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1aee4fa8-0180-4d73-90eb-638edab73589', 'x-compute-request-id': 'req-1aee4fa8-0180-4d73-90eb-638edab73589', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2'}
        Body: b''
2022-03-29 13:34:00,458 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2 0.037s
2022-03-29 13:34:00,458 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:00 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-76222d9a-35f1-4751-b25a-fd3b4b20d667', 'x-compute-request-id': 'req-76222d9a-35f1-4751-b25a-fd3b4b20d667', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 9dd51baa-44d7-4273-b419-aa8833cf41c2 could not be found."}}'

{2} tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_attach_attached_volume_to_different_server [14.221314s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume_negative.py", line 69, in test_attach_attached_volume_to_different_server
    server1 = self.create_test_server(wait_until='ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/base.py", line 272, in create_test_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 61fcc121-1a6a-44c2-9ceb-2e4e00a58367 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-03-29T10:33:58Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-03-29 13:33:47,128 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 201 POST http://controller:5000/v3/auth/tokens 0.514s
2022-03-29 13:33:47,129 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:46 GMT', 'server': 'Apache', 'content-length': '3900', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-15f7c75b-197c-4c6f-b182-6c79f7f4eab4', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "a55294d3a7194d6cac58a2445ecd459f", "name": "tempest-AttachVolumeNegativeTest-1859929722-project", "password_expires_at": null}, "audit_ids": ["k9y3vv5LSKSTO183UvUpEA"], "expires_at": "2022-03-30T10:33:47.000000Z", "issued_at": "2022-03-29T10:33:47.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "4d02ed4eb6294e68baf421a2e3ef5763", "name": "tempest-AttachVolumeNegativeTest-1859929722"}, "is_domain": false, "roles": [{"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/4d02ed4eb6294e68baf421a2e3ef5763", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/4d02ed4eb6294e68baf421a2e3ef5763", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/4d02ed4eb6294e68baf421a2e3ef5763", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", 
    "url": "http://[LB_IP_ADDRESS]:8776/v3/4d02ed4eb6294e68baf421a2e3ef5763", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-03-29 13:33:47,129 20960 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-03-29 13:33:47,219 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 201 POST http://[LB_IP_ADDRESS]:35357/v3/projects 0.089s
2022-03-29 13:33:47,219 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-AttachVolumeNegativeTest-1739414416-desc", "domain_id": "default", "name": "tempest-AttachVolumeNegativeTest-1739414416"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:47 GMT', 'server': 'Apache', 'content-length': '385', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-5e743bbb-9333-41fe-970a-2d023a3bdade', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects'}
        Body: b'{"project": {"id": "bf087717263f47a3a53c62e098bfe1e1", "name": "tempest-AttachVolumeNegativeTest-1739414416", "domain_id": "default", "description": "tempest-AttachVolumeNegativeTest-1739414416-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/projects/bf087717263f47a3a53c62e098bfe1e1"}}}\n'
2022-03-29 13:33:47,836 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 201 POST http://[LB_IP_ADDRESS]:35357/v3/users 0.615s
2022-03-29 13:33:47,836 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-AttachVolumeNegativeTest-1739414416-project-admin", "password": "X1!Phwnj!RVWtW~", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:47 GMT', 'server': 'Apache', 'content-length': '299', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-74626afd-87b2-4fad-9666-c5d7ef84e8d3', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/users'}
        Body: b'{"user": {"id": "948c25f186e24907b073dae4271c29be", "name": "tempest-AttachVolumeNegativeTest-1739414416-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/users/948c25f186e24907b073dae4271c29be"}}}\n'
2022-03-29 13:33:47,868 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.031s
2022-03-29 13:33:47,868 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:47 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-91a4e6ee-f2b3-47fd-8240-bdf26c3d8e3f', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "read
    er", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-03-29 13:33:47,918 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/bf087717263f47a3a53c62e098bfe1e1/users/948c25f186e24907b073dae4271c29be/roles/98b47d94b3e541b2804787a80c29845f 0.048s
2022-03-29 13:33:47,918 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:47 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-306ad193-589b-4ce6-a9c6-e0502f4bd470', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/bf087717263f47a3a53c62e098bfe1e1/users/948c25f186e24907b073dae4271c29be/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-03-29 13:33:47,998 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.079s
2022-03-29 13:33:47,998 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:47 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-1b978146-9c22-4d39-a5de-69ce2861989c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-03-29 13:33:48,037 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/948c25f186e24907b073dae4271c29be/roles/98b47d94b3e541b2804787a80c29845f 0.038s
2022-03-29 13:33:48,037 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-To
    ken': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:47 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-36ee525a-f3b0-4953-9215-1225e0645b49', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/948c25f186e24907b073dae4271c29be/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-03-29 13:33:48,121 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.082s
2022-03-29 13:33:48,121 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:48 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ae64ffaf-33b5-473b-b010-88f8f057f78b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-03-29 13:33:48,159 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/bf087717263f47a3a53c62e098bfe1e1/users/948c25f186e24907b073dae4271c29be/roles/98b47d94b3e541b2804787a80c29845f 0.037s
2022-03-29 13:33:48,159 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:48 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-fcef00f2-ed97-4d95-ad7d-1d5ac5f18a54', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/bf087717263f47a3a53c62e098bfe1e1/users/948c25f186e24907b073dae4271c29be/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-03-29 13:33:48,243 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.083s
2022-03-29 13:33:48,244 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:48 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-6ca23108-79f9-4006-9795-71366fb9eaea', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/ro
    les/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-03-29 13:33:48,280 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/bf087717263f47a3a53c62e098bfe1e1/users/948c25f186e24907b073dae4271c29be/roles/98b47d94b3e541b2804787a80c29845f 0.036s
2022-03-29 13:33:48,281 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:48 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-933a4a87-245c-4460-8bc1-83da5c64127c', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/bf087717263f47a3a53c62e098bfe1e1/users/948c25f186e24907b073dae4271c29be/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-03-29 13:33:48,281 20960 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 948c25f186e24907b073dae4271c29be is created with scope project and roles: ['admin', 'admin']
2022-03-29 13:33:48,282 20960 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-AttachVolumeNegativeTest-1739414416-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': 'bf087717263f47a3a53c62e098bfe1e1', 'project_name': 'tempest-AttachVolumeNegativeTest-1739414416', 'tenant_id': 'bf087717263f47a3a53c62e098bfe1e1', 'tenant_name': 'tempest-AttachVolumeNegativeTest-1739414416', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '948c25f186e24907b073dae4271c29be', 'system': None}, Network: None, Subnet: None, Router: None
2022-03-29 13:33:48,289 20960 INFO     [tempest.lib.common.fixed_network] (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server) Found network None available for tenant
2022-03-29 13:33:48,886 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.595s
2022-03-29 13:33:48,887 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-AttachVolumeNegativeTest-server-584655384", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:48 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-eaea8af9-d3f3-4ac8-aaaf-61ee97f4763c', 'x-compute-request-id': 'req-eaea8af9-d3f3-4ac8-aaaf-61ee97f4763c', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "links": [{
    "rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "87PFcBrGPdBs"}}'
2022-03-29 13:33:48,982 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.090s
2022-03-29 13:33:48,982 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:48 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3f4737ba-3072-471f-a876-2a6958243c6a', 'x-compute-request-id': 'req-3f4737ba-3072-471f-a876-2a6958243c6a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:48Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:50,068 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.074s
2022-03-29 13:33:50,068 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:49 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b241fc2d-6921-4507-b716-16bd96b61c9c', 'x-compute-request-id': 'req-b241fc2d-6921-4507-b716-16bd96b61c9c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", 
    "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:50Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:51,170 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.091s
2022-03-29 13:33:51,171 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:51 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8714dfab-2d65-4836-819e-dc7c6421844d', 'x-compute-request-id': 'req-8714dfab-2d65-4836-819e-dc7c6421844d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:51Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:52,266 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.084s
2022-03-29 13:33:52,266 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:52 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-req
    uest-id': 'req-17dc1b87-4ce0-485d-ad6d-23eac92d6427', 'x-compute-request-id': 'req-17dc1b87-4ce0-485d-ad6d-23eac92d6427', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:52Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:53,361 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.084s
2022-03-29 13:33:53,362 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:53 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-2473c14b-f6a7-4ab1-95c3-35c14ccc798b', 'x-compute-request-id': 'req-2473c14b-f6a7-4ab1-95c3-35c14ccc798b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:53Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:54,461 20960 INFO     [tempest.lib.common.rest_client] Req
    uest (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.088s
2022-03-29 13:33:54,461 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a7d1e70a-4621-4538-956d-8cfc34e3f370', 'x-compute-request-id': 'req-a7d1e70a-4621-4538-956d-8cfc34e3f370', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:54Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:55,542 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.070s
2022-03-29 13:33:55,543 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:55 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f64cf226-31f4-447b-a31b-7420b00d38a1', 'x-compute-request-id': 'req-f64cf226-31f4-447b-a31b-7420b00d38a1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:55Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61
    fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:56,647 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.093s
2022-03-29 13:33:56,647 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:56 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-32a71948-150f-4b08-9d72-923fc1cfd6ce', 'x-compute-request-id': 'req-32a71948-150f-4b08-9d72-923fc1cfd6ce', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:56Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:57,752 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.093s
2022-03-29 13:33:57,752 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:57 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-37b87f4b-698c-4cd8-8f87-51a27a89384e', 'x-compute-request-id': 'req-37b87f4b-698c-4cd8-8f87-51a27a89384e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest
    -AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:57Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:58,855 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.091s
2022-03-29 13:33:58,855 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:58 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-4e7eabe8-9898-47b6-8c4e-f56e331b190b', 'x-compute-request-id': 'req-4e7eabe8-9898-47b6-8c4e-f56e331b190b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:58Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:59,969 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.103s
2022-03-29 13:33:59,969 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Respo
    nse - Headers: {'date': 'Tue, 29 Mar 2022 10:33:59 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '3919', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a6997707-e7c7-4ab3-b5eb-de7340efbe6b', 'x-compute-request-id': 'req-a6997707-e7c7-4ab3-b5eb-de7340efbe6b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "ERROR", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:58Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-03-29T10:33:58Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost
    : No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000026", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:59,979 20960 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 11 second wait
2022-03-29 13:34:00,789 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.808s
2022-03-29 13:34:00,789 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:59 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-57c298be-1c69-4275-9403-8bc8855cc026', 'x-compute-request-id': 'req-57c298be-1c69-4275-9403-8bc8855cc026', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b''
2022-03-29 13:34:00,823 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.033s
2022-03-29 13:34:00,823 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:00 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-94753b6e-de16-48c7-9aef-18ea193720ed', 'x-compute-request-id': 'req-94753b6e-de16-48c7-9aef-18ea193720ed', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 61fcc121-1a6a-44c2-9ceb-2e4e00a58367 could not be found."}}'

{1} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_list_get_volume_attachments_multiattach [2.680793s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 406, in test_list_get_volume_attachments_multiattach
    servers, volume, attachments = self._create_and_multiattach()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 389, in _create_and_multiattach
    'ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 50483767-09cd-4c17-b2c1-cb4f4db43120 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-03-29T10:34:01Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-03-29 13:34:01,035 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.561s
2022-03-29 13:34:01,035 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:00 GMT', 'server': 'Apache', 'content-length': '3906', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-5da657a5-8ead-4553-9b2d-4beb939842f3', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "078317f5cc314e599e0a3aec57db17f4", "name": "tempest-AttachVolumeMultiAttachTest-1947723082-project", "password_expires_at": null}, "audit_ids": ["rRMb3WB2Sh-F7u5Bymb9EA"], "expires_at": "2022-03-30T10:34:00.000000Z", "issued_at": "2022-03-29T10:34:00.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "aa10417f827d48748fce1c9aff3e52a1", "name": "tempest-AttachVolumeMultiAttachTest-1947723082"}, "is_domain": false, "roles": [{"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "Region
    One", "url": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-03-29 13:34:01,044 20959 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-03-29 13:34:01,187 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.141s
2022-03-29 13:34:01,187 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-0", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/50483767-09cd-4c17-b2c1-cb4f4db43120', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b3fc3393-273b-43da-b891-1a0bcdafbf19', 'x-compute-request-id': 'req-b3fc3393-273b-43da-b891-1a0bcdafbf19', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "50483767-09cd-4c17-b2c1-cb4f4db43120", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/50483767-09cd-4c17-b2c1-cb4f4db43120"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/50483767-09cd-4c17-b2c1-cb4f4db43120"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "VLR9wv7LpqYW"}}'
2022-03-29 13:34:01,777 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.582s
2022-03-29 13:34:01,777 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:01 GMT', 'server': 'Apache', 'content-length': '3906', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2c4c0b23-299b-48c9-88a2-8af47037e5f7', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "078317f5cc314e599e0a3aec57db17f4", "name": "tempest-AttachVolumeMultiAttachTest-1947723082-project", "password_expires_at": null}, "audit_ids": ["kIJe7Ih7SWi8f9_BXKit6A"], "expires_at": "2022-03-30T10:34:01.000000Z", "issued_at": "2022-03-29T10:34:01.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "aa10417f827d48748fce1c9aff3e52a1", "name": "tempest-AttachVolumeMultiAttachTest-1947723082"}, "is_domain": false, "roles": [{"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region"
    : "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-03-29 13:34:01,786 20959 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-03-29 13:34:01,921 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.134s
2022-03-29 13:34:01,921 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-1", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/1aea9de2-df67-45bf-9eed-4209e70b58ba', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenSt
    ack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6f27fc12-3e5e-4f60-8b3b-ffdb47f94edc', 'x-compute-request-id': 'req-6f27fc12-3e5e-4f60-8b3b-ffdb47f94edc', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "1aea9de2-df67-45bf-9eed-4209e70b58ba", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/1aea9de2-df67-45bf-9eed-4209e70b58ba"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/1aea9de2-df67-45bf-9eed-4209e70b58ba"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "CkbchK2dZy6g"}}'
2022-03-29 13:34:02,017 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/50483767-09cd-4c17-b2c1-cb4f4db43120 0.092s
2022-03-29 13:34:02,017 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4257', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ab6386f7-350f-4ff6-953c-deaf7403979d', 'x-compute-request-id': 'req-ab6386f7-350f-4ff6-953c-deaf7403979d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/50483767-09cd-4c17-b2c1-cb4f4db43120'}
        Body: b'{"server": {"id": "50483767-09cd-4c17-b2c1-cb4f4db43120", "name": "multiattach-server-0", "status": "ERROR", "tenant_id": "aa10417f827d48748fce1c9aff3e52a1", "user_id": "078317f5cc314e599e0a3aec57db17f4", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-03-29T10:34:01Z", "updated": "2022-03-29T10:34:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/50483767-09cd-4c17-b2c1-cb4f4db43120"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/50483767-09cd-4c17-b2c1-cb4f4db43120"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-03-29T10:34:01Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 
    689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000028", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-51x2jcby", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-
2022-03-29 13:34:03,134 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/50483767-09cd-4c17-b2c1-cb4f4db43120 0.103s
2022-03-29 13:34:03,134 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:03 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4257', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-668f8499-3bae-4555-be5a-ef0a3ed2ab9c', 'x-compute-request-id': 'req-668f8499-3bae-4555-be5a-ef0a3ed2ab9c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/50483767-09cd-4c17-b2c1-cb4f4db43120'}
        Body: b'{"server": {"id": "50483767-09cd-4c17-b2c1-cb4f4db43120", "name": "multiattach-server-0", "status": "ERROR", "tenant_id": "aa10417f827d48748fce1c9aff3e52a1", "user_id": "078317f5cc314e599e0a3aec57db17f4", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-03-29T10:34:01Z", "updated": "2022-03-29T10:34:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/50483767-09cd-4c17-b2c1-cb4f4db43120"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/50483767-09cd-4c17-b2c1-cb4f4db43120"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-03-29T10:34:01Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, 
    in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000028", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-51x2jcby", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-

{1} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_resize_server_with_multiattached_volume ... SKIPPED: Resize not available.
{2} tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_attach_attached_volume_to_same_server [2.360365s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume_negative.py", line 57, in test_attach_attached_volume_to_same_server
    server = self.create_test_server(wait_until='ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/base.py", line 272, in create_test_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 3f9877f1-cbd5-41b2-a94d-09f046bb8edf failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-03-29T10:34:02Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-03-29 13:34:01,408 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 201 POST http://controller:5000/v3/auth/tokens 0.570s
2022-03-29 13:34:01,409 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:00 GMT', 'server': 'Apache', 'content-length': '3900', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-45c37273-806b-4686-acaf-5929bbd0ede4', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "a55294d3a7194d6cac58a2445ecd459f", "name": "tempest-AttachVolumeNegativeTest-1859929722-project", "password_expires_at": null}, "audit_ids": ["OL3_08dTTDu4sW_mctDa3A"], "expires_at": "2022-03-30T10:34:01.000000Z", "issued_at": "2022-03-29T10:34:01.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "4d02ed4eb6294e68baf421a2e3ef5763", "name": "tempest-AttachVolumeNegativeTest-1859929722"}, "is_domain": false, "roles": [{"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/4d02ed4eb6294e68baf421a2e3ef5763", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/4d02ed4eb6294e68baf421a2e3ef5763", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/4d02ed4eb6294e68baf421a2e3ef5763", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url"
    : "http://[LB_IP_ADDRESS]:8776/v3/4d02ed4eb6294e68baf421a2e3ef5763", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-03-29 13:34:01,418 20960 INFO     [tempest.lib.common.fixed_network] (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server) Found network None available for tenant
2022-03-29 13:34:01,676 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.256s
2022-03-29 13:34:01,676 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-AttachVolumeNegativeTest-server-1202389749", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-efc8ef3f-1fe8-43dd-ad65-6e945ef79239', 'x-compute-request-id': 'req-efc8ef3f-1fe8-43dd-ad65-6e945ef79239', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "3f9877f1-cbd5-41b2-a94d-09f046bb8edf", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "c3bDBQKLMiGQ"}}'
2022-03-29 13:34:01,768 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf 0.088s
2022-03-29 13:34:01,768 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8f142a76-7714-46c8-b4ee-5306ed06f1c5', 'x-compute-request-id': 'req-8f142a76-7714-46c8-b4ee-5306ed06f1c5', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf'}
        Body: b'{"server": {"id": "3f9877f1-cbd5-41b2-a94d-09f046bb8edf", "name": "tempest-AttachVolumeNegativeTest-server-1202389749", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:34:01Z", "updated": "2022-03-29T10:34:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "hre
    f": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:34:02,873 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf 0.093s
2022-03-29 13:34:02,873 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:02 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '3920', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d4cbc259-3804-4ea2-9872-192c3277a3b9', 'x-compute-request-id': 'req-d4cbc259-3804-4ea2-9872-192c3277a3b9', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf'}
        Body: b'{"server": {"id": "3f9877f1-cbd5-41b2-a94d-09f046bb8edf", "name": "tempest-AttachVolumeNegativeTest-server-1202389749", "status": "ERROR", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:34:01Z", "updated": "2022-03-29T10:34:02Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-03-29T10:34:02Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/p
    ython3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000029", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:34:02,883 20960 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2022-03-29 13:34:03,153 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf 0.269s
2022-03-29 13:34:03,154 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:02 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-38f81c25-0854-46e0-b07c-b39b4d6ab06c', 'x-compute-request-id': 'req-38f81c25-0854-46e0-b07c-b39b4d6ab06c', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf'}
        Body: b''
2022-03-29 13:34:03,190 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf 0.035s
2022-03-29 13:34:03,190 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:03 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0b5ab550-b616-4102-8003-9fdb7884f939', 'x-compute-request-id': 'req-0b5ab550-b616-4102-8003-9fdb7884f939', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 3f9877f1-cbd5-41b2-a94d-09f046bb8edf could not be found."}}'

{0} tempest.api.volume.admin.test_encrypted_volumes_extend.EncryptedVolumesExtendAttachedTest.test_extend_attached_encrypted_volume_luksv1 ... SKIPPED: Attached encrypted volume extend is disabled.
{0} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_create_group_from_group_snapshot [12.049643s] ... ok
{0} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_delete_group_snapshots_following_updated_volumes [17.048367s] ... ok
{0} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_group_snapshot_create_show_list_delete [8.775933s] ... ok
{0} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsV319Test.test_reset_group_snapshot_status ... SKIPPED: Skipped until bug: https://launchpad.net/bugs/1770179 is resolved.
{0} tempest.api.volume.admin.test_groups.GroupsTest.test_group_create_show_list_delete [8.192834s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsTest.test_group_update [10.219408s] ... ok
{0} setUpClass (tempest.api.volume.admin.test_multi_backend.VolumeMultiBackendTest) ... SKIPPED: Cinder multi-backend feature disabled
{0} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_reset_snapshot_status [0.283946s] ... ok
{0} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_creating [3.531743s] ... ok
{0} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_deleting [3.509411s] ... ok
{0} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_error [3.520062s] ... ok
{0} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_error_deleting [3.516014s] ... ok
{0} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_update_snapshot_status [0.217751s] ... ok
{0} setUpClass (tempest.api.volume.admin.test_volume_manage.VolumeManageAdminTest) ... SKIPPED: Manage volume tests are disabled
{0} tempest.api.volume.admin.test_volume_pools.VolumePoolsAdminTestsJSON.test_get_pools_without_details [0.151967s] ... ok
{0} tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithoutMigrationTest.test_available_volume_retype [4.085028s] ... ok
{0} tempest.api.volume.admin.test_volume_type_access.VolumeTypesAccessTest.test_volume_type_access_list [0.332850s] ... ok
{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_create_get_delete [0.175638s] ... ok
{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_encryption_create_get_update_delete [0.372220s] ... ok
{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_list [0.038986s] ... ok
{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_update [0.200888s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_spec_create_get_delete [0.180728s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_specs_list [0.100493s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_specs_update [0.238718s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_invalid_body [0.018754s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_none_body [0.017258s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_nonexistent_type_id [0.041497s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_delete_nonexistent_volume_type_id [0.022638s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_get_nonexistent_extra_spec_name [0.026386s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_get_nonexistent_volume_type_id [0.023808s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_list_nonexistent_volume_type_id [0.024010s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_multiple_extra_spec [0.017152s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_no_body [0.017444s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_none_extra_spec_id [0.044424s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_nonexistent_extra_spec_id [0.043447s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_nonexistent_type_id [0.042072s] ... ok
{0} tempest.api.volume.test_extensions.ExtensionsTestJSON.test_list_extensions [0.125996s] ... ok
{0} tempest.api.volume.test_image_metadata.VolumesImageMetadata.test_update_show_delete_image_metadata [0.233195s] ... ok
{0} tempest.api.volume.test_volume_metadata.VolumesMetadataTest.test_crud_volume_metadata [0.312549s] ... ok
{0} tempest.api.volume.test_volume_metadata.VolumesMetadataTest.test_update_show_volume_metadata_item [0.211180s] ... ok
{0} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_get_list_accept_volume_transfer [5.138923s] ... ok
{0} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_list_delete_volume_transfer [3.796919s] ... ok
{1} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_snapshot_volume_backed_multiattach [179.792177s] ... ok
{2} tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_delete_attached_volume [182.014660s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list [0.047233s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_by_name [0.043802s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_by_name [0.058386s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_pagination [0.275188s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_with_multiple_params [0.118235s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_pagination [0.198987s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_param_display_name_and_status [0.042344s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_display_name_and_status [0.059073s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_marker [0.066938s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_metadata [0.064832s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list [0.072979s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_details [0.056770s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_param_metadata [0.046152s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_param_limit [0.074184s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_availability_zone [0.090219s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_param_offset_and_limit [0.144554s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_bootable [0.090320s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_detail_param_limit [0.075650s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_status [0.085213s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_availability_zone [0.065708s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_detail_param_offset_and_limit [0.145122s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_bootable [0.061311s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_details [0.077003s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_status [0.060929s] ... ok
{1} tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON.test_compare_volume_stats_values [0.076373s] ... ok
{1} tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON.test_get_capabilities_backend [0.038168s] ... ok
{1} tempest.api.volume.admin.test_group_type_specs.GroupTypeSpecsTest.test_group_type_specs_create_show_update_list_delete [0.479142s] ... ok
{1} tempest.api.volume.admin.test_group_types.GroupTypesTest.test_group_type_create_list_update_show [0.311535s] ... ok
{1} tempest.api.volume.admin.test_groups.GroupsV314Test.test_create_group_from_group [9.449250s] ... ok
{1} tempest.api.volume.admin.test_groups.GroupsV320Test.test_reset_group_status [3.029469s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.130803s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.012493s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.011352s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.046552s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.009683s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.010160s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.047505s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.050334s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_associate_disassociate_qos [0.510771s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_back_end_consumer [0.134706s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_both_consumer [0.137492s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_front_end_consumer [0.134738s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_get_qos [0.026364s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_list_qos [0.028607s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_set_unset_qos_key [0.157657s] ... ok
{2} setUpClass (tempest.api.volume.admin.test_snapshot_manage.SnapshotManageAdminTest) ... SKIPPED: Manage snapshot tests are disabled
{2} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_show_default_quota [0.197582s] ... ok
{2} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_update_default_quota [1.022284s] ... ok
{2} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_delete_quota [0.492276s] ... ok
{2} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_list_default_quotas [0.063879s] ... ok
{2} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_list_quotas [0.071763s] ... ok
{2} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage [3.896895s] ... ok
{2} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage_after_volume_transfer [4.569748s] ... ok
{2} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_show_quota_usage [0.089283s] ... ok
{2} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_update_all_quota_resources_for_tenant [0.374721s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_disable_log_reason_with_no_reason [0.019192s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_disable_service_with_invalid_binary [0.030527s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_enable_service_with_invalid_host [0.028076s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_freeze_host_with_invalid_host [0.033178s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_thaw_host_with_invalid_host [0.029276s] ... ok
{2} tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_gigabytes_snapshots [0.417598s] ... ok
{2} tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_snapshots [0.096776s] ... ok
{2} tempest.api.volume.admin.test_volumes_list.VolumesListAdminTestJSON.test_volume_list_param_tenant [2.679503s] ... ok
{2} tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON.test_crud_snapshot_metadata [0.316352s] ... ok
{2} tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON.test_update_show_snapshot_metadata_item [0.261666s] ... ok
{2} tempest.api.volume.test_versions.VersionsTest.test_list_versions [0.013233s] ... ok
{2} tempest.api.volume.test_versions.VersionsTest.test_show_version [0.128451s] ... ok
{2} tempest.api.volume.test_volume_absolute_limits.AbsoluteLimitsTests.test_get_volume_absolute_limits [0.092489s] ... ok
{2} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_delete_cascade [8.301544s] ... ok
{2} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_from_snapshot_cascade_delete [8.366266s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_attach_volumes_with_nonexistent_volume_id [157.908518s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_from_deactivated_image [0.466236s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_from_image_with_decreasing_size [0.350973s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.020677s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_snapshot_id [0.025937s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_source_volid [0.025936s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_volume_type [0.029959s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_negative [0.014791s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.014957s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.014674s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.027683s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.013820s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_detach_volumes_with_invalid_volume_id [0.027171s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_get_invalid_volume_id [0.030122s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.012192s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_detail_with_invalid_status [0.052745s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_detail_with_nonexistent_name [0.049673s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_with_invalid_status [0.043692s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_with_nonexistent_name [0.045911s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_reserve_volume_with_negative_volume_status [0.138154s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_reserve_volume_with_nonexistent_volume_id [0.026174s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_unreserve_volume_with_nonexistent_volume_id [0.028206s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_empty_volume_id [0.016156s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_invalid_volume_id [0.026555s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_nonexistent_volume_id [0.024413s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.025246s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_None_size [0.014459s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_non_number_size [0.014537s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_nonexistent_volume_id [0.027946s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_size_smaller_than_original_size [0.013991s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_without_passing_volume_id [0.029148s] ... ok
{0} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.027126s] ... ok
{2} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_get_list_accept_volume_transfer [4.881924s] ... ok
{2} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_list_delete_volume_transfer [3.765965s] ... ok
{2} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_attach_detach_volume_to_instance [167.217009s] ... ok
{2} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_get_volume_attachment [119.290135s] ... ok
{2} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_reserve_unreserve_volume [0.191774s] ... ok
{2} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_bootable [0.183384s] ... ok
{2} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_readonly_update [0.216731s] ... ok
{2} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_upload [18.206172s] ... ok
{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_delete_with_volume_in_use [352.929401s] ... ok
{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_get_list_update_delete [3.514824s] ... ok
{2} tempest.api.volume.test_volumes_extend.VolumesExtendAttachedTest.test_extend_attached_volume [213.406574s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete [7.616187s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_as_clone [10.944861s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_from_image [14.933987s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesSummaryTest.test_show_volume_summary [0.655516s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit [0.030274s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit_equals_infinite [0.067480s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit_equals_zero [0.025408s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_marker [0.070913s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_offset [0.029683s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_created_at_asc [0.033584s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_created_at_desc [0.029964s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_id_asc [0.030418s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_id_desc [0.033034s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_name_asc [0.031939s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_name_desc [0.029907s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshots_list_details_with_params [0.103231s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshots_list_with_params [0.104243s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_with_nonexistent_volume_id [0.191278s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_without_passing_volume_id [0.035059s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshot_invalid_param_limit [0.015477s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_marker [0.030694s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_sort [0.016757s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_volume_from_snapshot_decreasing_size [4.774370s] ... ok
{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_offline_delete_online [355.505003s] ... ok
{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot [8.523550s] ... ok
{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot_no_size [8.277730s] ... ok
{1} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_delete_message [] ... inprogress

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/lib/common/rest_client.py", line 982, in validate_response
    format_checker=FORMAT_CHECKER)

      File "/usr/local/lib/python3.6/site-packages/jsonschema/validators.py", line 934, in validate
    raise error


==============================
Failed 4 tests - output below:
==============================

tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_boot_from_multiattach_volume[id-65e33aa2-185b-44c8-b22e-e524973ed625]
-----------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 454, in test_boot_from_multiattach_volume
    self._boot_from_multiattach_volume()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 443, in _boot_from_multiattach_volume
    image_id='', block_device_mapping_v2=bdm, wait_until='ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/base.py", line 272, in create_test_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 9dd51baa-44d7-4273-b419-aa8833cf41c2 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-03-29T10:33:59Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-03-29 13:33:47,099 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 202 POST http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes 0.503s
2022-03-29 13:33:47,099 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"multiattach": true, "size": 1, "display_name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:46 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '854', 'x-compute-request-id': 'req-d3197a90-e2b1-4659-9ed6-87baed5603fc', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-d3197a90-e2b1-4659-9ed6-87baed5603fc', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.031621", "updated_at": null, "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null}}'
2022-03-29 13:33:47,158 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.047s
2022-03-29 13:33:47,159 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:47 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1033', 'x-compute-request-id': 'req-55fe9b5d-e696-4e51-8341-be9eb891582f', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-55fe9b5d-e696-4e51-8341-be9eb891582f', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.000000", "updated_at": null, "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": null, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:48,211 20959 INFO     [temp
    est.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.042s
2022-03-29 13:33:48,211 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:48 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1091', 'x-compute-request-id': 'req-cb0400cd-8fad-40b3-adc8-64ef75e36721', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-cb0400cd-8fad-40b3-adc8-64ef75e36721', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.000000", "updated_at": "2022-03-29T10:33:47.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:49,264 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.043s
2022-03-29 13:33:49,265 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:49 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1152', 'x-compute-request-id': 'req-76da3b51-f51c-479d-9b4a-261eeab8c8b8', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-76da3b51-f51c-479d-9b4a-261eeab8c8b8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.000000", "updated_at": "2022-03-29T10:33:48.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"sign
    ature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:50,317 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.042s
2022-03-29 13:33:50,318 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:50 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1152', 'x-compute-request-id': 'req-9c8e010b-d8eb-4cb0-9830-107ba013a082', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-9c8e010b-d8eb-4cb0-9830-107ba013a082', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.000000", "updated_at": "2022-03-29T10:33:48.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:51,369 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.041s
2022-03-29 13:33:51,370 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:51 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1152', 'x-compute-request-id': 'req-c719867f-ef7f-4162-a071-4c9f6ae39190', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-c719867f-ef7f-4162-a071-4c9f6ae39190', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.000000", "updated_at": "2022-03-29T10:33:48.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314
    e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:52,422 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.042s
2022-03-29 13:33:52,422 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:52 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1152', 'x-compute-request-id': 'req-50907052-2508-4d12-b739-9203aadea982', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-50907052-2508-4d12-b739-9203aadea982', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.000000", "updated_at": "2022-03-29T10:33:48.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:53,483 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.050s
2022-03-29 13:33:53,483 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:53 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1152', 'x-compute-request-id': 'req-ba451073-0c9a-4bdc-b86d-d25da5fa36ad', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-ba451073-0c9a-4bdc-b86d-d25da5fa36ad', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.000000", "updated_at": "2022-03-29T10:33:48.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "
    href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:54,535 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.041s
2022-03-29 13:33:54,535 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1152', 'x-compute-request-id': 'req-9833e65a-0b7d-4f26-bce4-bfd28b3e5fc4', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-9833e65a-0b7d-4f26-bce4-bfd28b3e5fc4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.000000", "updated_at": "2022-03-29T10:33:48.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:55,585 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.039s
2022-03-29 13:33:55,585 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:55 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1152', 'x-compute-request-id': 'req-f402ff9d-ee4f-42e6-abd2-c8a8f99e4227', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-f402ff9d-ee4f-42e6-abd2-c8a8f99e4227', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "downloading", "size": 1, "availability_zone": "nova", "created
    _at": "2022-03-29T10:33:47.000000", "updated_at": "2022-03-29T10:33:48.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:56,640 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822 0.044s
2022-03-29 13:33:56,640 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:56 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1508', 'x-compute-request-id': 'req-c206e73f-c91c-4362-9702-c0759118c4d3', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-c206e73f-c91c-4362-9702-c0759118c4d3', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822'}
        Body: b'{"volume": {"id": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-03-29T10:33:47.000000", "updated_at": "2022-03-29T10:33:56.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-1686239108", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/aa10417f827d48748fce1c9aff3e52a1/volumes/9a7f201f-7443-4d2b-8612-4b4bf7802822"}], "user_id": "078317f5cc314e599e0a3aec57db17f4", "bootable": "true", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False", "owner_specified.openstack.md5": "", "owner_specified.openstack.sha256": "", "owner_specified.openstack.object": "images/cirros", "image_id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "image_name": "cirros", "checksum": "443b7623e27ecf03dc9e01ee93f67afe", "container_format": "bare", "disk_format": "qcow2", "min_disk": "0", "min_ram": "0", "size": "12716032"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "aa10417f827d48748fce1c9aff3e52a1"}}'
2022-03-29 13:33:56,650 20959 INFO     [tempest.common.waiters] volume 9a7f201f-7443-4d2b-8612-4b4bf7802822 reached available after waiting for 9.650019 seconds
2022-03-29 13:33:57,233 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 201 POST http://controller:5000/v3/auth/tokens 0.576s
2022-03-29 13:33:57,234 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Bo
    dy: <omitted>
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:56 GMT', 'server': 'Apache', 'content-length': '3906', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8493de4c-99a2-4551-b6ba-6ad7d4604f50', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "078317f5cc314e599e0a3aec57db17f4", "name": "tempest-AttachVolumeMultiAttachTest-1947723082-project", "password_expires_at": null}, "audit_ids": ["wHVbAw4GQy2IUpNPbpGSzg"], "expires_at": "2022-03-30T10:33:57.000000Z", "issued_at": "2022-03-29T10:33:57.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "aa10417f827d48748fce1c9aff3e52a1", "name": "tempest-AttachVolumeMultiAttachTest-1947723082"}, "is_domain": false, "roles": [{"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0
    292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-03-29 13:33:57,234 20959 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-03-29 13:33:57,342 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 201 POST http://[LB_IP_ADDRESS]:35357/v3/projects 0.106s
2022-03-29 13:33:57,342 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-AttachVolumeMultiAttachTest-544861758-desc", "domain_id": "default", "name": "tempest-AttachVolumeMultiAttachTest-544861758"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:57 GMT', 'server': 'Apache', 'content-length': '389', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-892d214a-3b74-41ed-aa71-623f1d1bdcb9', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects'}
        Body: b'{"project": {"id": "acc1d72138d24292bfce9598a0437bc3", "name": "tempest-AttachVolumeMultiAttachTest-544861758", "domain_id": "default", "description": "tempest-AttachVolumeMultiAttachTest-544861758-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/projects/acc1d72138d24292bfce9598a0437bc3"}}}\n'
2022-03-29 13:33:57,926 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 201 POST http://[LB_IP_ADDRESS]:35357/v3/users 0.583s
2022-03-29 13:33:57,926 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-AttachVolumeMultiAttachTest-544861758-project-admin", "password": "A9^0lHJybO%2tRV", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:57 GMT', 'server': 'Apache', 'content-length': '301', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-c41df0b5-2c88-4072-8a6a-bb12a6765d73', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/users'}
        Body: b'{"user": {"id": "c3eb281748f84053a3e126a1972168ae", "name": "tempest-AttachVolumeMultiAttachTest-544861758-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/users/c3eb281748f84053a3e126a1972168ae"}}}\n'
2022-03-29 13:33:57,975 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.047s
2022-03-29 13:33:57,975 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:57 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-83f32477-eb5e-4b7f-9928-42f9f6b23509', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}
    }, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-03-29 13:33:58,060 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/acc1d72138d24292bfce9598a0437bc3/users/c3eb281748f84053a3e126a1972168ae/roles/98b47d94b3e541b2804787a80c29845f 0.084s
2022-03-29 13:33:58,060 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:57 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-46193ccf-78a3-4aa0-85f6-3bf72c2a4127', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/acc1d72138d24292bfce9598a0437bc3/users/c3eb281748f84053a3e126a1972168ae/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-03-29 13:33:58,140 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.079s
2022-03-29 13:33:58,141 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:58 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b9f6a0e6-79a4-4a39-877b-4f80e4171e68', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-03-29 13:33:58,176 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/c3eb281748f84053a3e126a1972168ae/roles/98b47d94b3e541b2804787a80c29845f 0.035s
2022-03-29 13:33:58,177 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:58 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7729cf9a-d9ee-48ce-8c25-f7a53a18e93a', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/c3eb281748f84053a3e126a1972168ae/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
20
    22-03-29 13:33:58,265 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.087s
2022-03-29 13:33:58,265 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:58 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-47df299d-4b5f-4afd-82f9-0066dd61f5f3', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-03-29 13:33:58,301 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/acc1d72138d24292bfce9598a0437bc3/users/c3eb281748f84053a3e126a1972168ae/roles/98b47d94b3e541b2804787a80c29845f 0.035s
2022-03-29 13:33:58,301 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:58 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-62da0e5c-a135-4948-a533-454c40b94952', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/acc1d72138d24292bfce9598a0437bc3/users/c3eb281748f84053a3e126a1972168ae/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-03-29 13:33:58,392 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.090s
2022-03-29 13:33:58,392 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:58 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-f83d0347-f93d-4c45-ad30-2a04f7a0fffa', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b4
    7d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-03-29 13:33:58,427 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/acc1d72138d24292bfce9598a0437bc3/users/c3eb281748f84053a3e126a1972168ae/roles/98b47d94b3e541b2804787a80c29845f 0.033s
2022-03-29 13:33:58,427 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:58 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e055aab5-52c9-4270-a4d1-3a718569eaf9', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/acc1d72138d24292bfce9598a0437bc3/users/c3eb281748f84053a3e126a1972168ae/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-03-29 13:33:58,428 20959 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user c3eb281748f84053a3e126a1972168ae is created with scope project and roles: ['admin', 'admin']
2022-03-29 13:33:58,428 20959 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-AttachVolumeMultiAttachTest-544861758-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': 'acc1d72138d24292bfce9598a0437bc3', 'project_name': 'tempest-AttachVolumeMultiAttachTest-544861758', 'tenant_id': 'acc1d72138d24292bfce9598a0437bc3', 'tenant_name': 'tempest-AttachVolumeMultiAttachTest-544861758', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'c3eb281748f84053a3e126a1972168ae', 'system': None}, Network: None, Subnet: None, Router: None
2022-03-29 13:33:58,436 20959 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume) Found network None available for tenant
2022-03-29 13:33:58,726 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.289s
2022-03-29 13:33:58,727 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-AttachVolumeMultiAttachTest-server-1508709381", "imageRef": "", "flavorRef": "0", "block_device_mapping_v2": [{"uuid": "9a7f201f-7443-4d2b-8612-4b4bf7802822", "source_type": "volume", "destination_type": "volume", "boot_index": 0, "delete_on_termination": false}], "networks": "none"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:58 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d84f599b-18a4-4a11-b4ca-54fbeb541fae', 'x-compute-request-id': 'req-d84f599b-18a4-4a11-b4ca-54fbeb541fae', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "9dd51baa-44d7-4273-b419-aa8833cf41c2", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "def
    ault"}], "adminPass": "b7CV5AfBk5f4"}}'
2022-03-29 13:33:58,802 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2 0.072s
2022-03-29 13:33:58,803 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:58 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1571', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7ae790d5-2b39-4133-9882-46edac134f78', 'x-compute-request-id': 'req-7ae790d5-2b39-4133-9882-46edac134f78', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2'}
        Body: b'{"server": {"id": "9dd51baa-44d7-4273-b419-aa8833cf41c2", "name": "tempest-AttachVolumeMultiAttachTest-server-1508709381", "status": "BUILD", "tenant_id": "aa10417f827d48748fce1c9aff3e52a1", "user_id": "078317f5cc314e599e0a3aec57db17f4", "metadata": {}, "hostId": "", "image": "", "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-03-29T10:33:58Z", "updated": "2022-03-29T10:33:58Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-ddrbwnim", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "tempest-attachvolumemultiattachtest-server-1508709381", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "", "locked": false, "description": null, "tags": []}}'
2022-03-29 13:33:59,919 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2 0.103s
2022-03-29 13:33:59,919 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:59 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4243', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-e568136f-a12a-45b7-a382-f293f0eef0be', 'x-compute-request-id': 'req-e568136f-a12a-45b7-a382-f293f0eef0be', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2'}
        Body: b'{"server": {"id": "9dd51baa-44d7-4273-b419-aa8833cf41c2", "name": "tempest-AttachVolumeMultiAttachTest-server-1508709381", "status": "ERROR", "tenant_id": "aa10417f827d48748fce1c9aff3e52a1", "user_id": "078317f5cc314e599e0a3aec57db17f4", "metadata": {}, "hostId": "", "image": "", "flavor": {"vcpus": 2, "ram": 1024
    , "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-03-29T10:33:58Z", "updated": "2022-03-29T10:33:59Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-03-29T10:33:59Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000027", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-ddrbwnim", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "tempest-attachvolumemultiattachtest-server-1508709381", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EX
2022-03-29 13:33:59,931 20959 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2022-03-29 13:34:00,419 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 204 DELETE http://[LB_IP_ADDRESS]:8
    774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2 0.487s
2022-03-29 13:34:00,419 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:59 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1aee4fa8-0180-4d73-90eb-638edab73589', 'x-compute-request-id': 'req-1aee4fa8-0180-4d73-90eb-638edab73589', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2'}
        Body: b''
2022-03-29 13:34:00,458 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2 0.037s
2022-03-29 13:34:00,458 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:00 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-76222d9a-35f1-4751-b25a-fd3b4b20d667', 'x-compute-request-id': 'req-76222d9a-35f1-4751-b25a-fd3b4b20d667', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9dd51baa-44d7-4273-b419-aa8833cf41c2'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 9dd51baa-44d7-4273-b419-aa8833cf41c2 could not be found."}}'


tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_attach_attached_volume_to_different_server[id-ee37a796-2afb-11e7-bc0f-fa163e65f5ce,negative]
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume_negative.py", line 69, in test_attach_attached_volume_to_different_server
    server1 = self.create_test_server(wait_until='ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/base.py", line 272, in create_test_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 61fcc121-1a6a-44c2-9ceb-2e4e00a58367 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-03-29T10:33:58Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-03-29 13:33:47,128 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 201 POST http://controller:5000/v3/auth/tokens 0.514s
2022-03-29 13:33:47,129 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:46 GMT', 'server': 'Apache', 'content-length': '3900', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-15f7c75b-197c-4c6f-b182-6c79f7f4eab4', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "a55294d3a7194d6cac58a2445ecd459f", "name": "tempest-AttachVolumeNegativeTest-1859929722-project", "password_expires_at": null}, "audit_ids": ["k9y3vv5LSKSTO183UvUpEA"], "expires_at": "2022-03-30T10:33:47.000000Z", "issued_at": "2022-03-29T10:33:47.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "4d02ed4eb6294e68baf421a2e3ef5763", "name": "tempest-AttachVolumeNegativeTest-1859929722"}, "is_domain": false, "roles": [{"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/4d02ed4eb6294e68baf421a2e3ef5763", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/4d02ed4eb6294e68baf421a2e3ef5763", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/4d02ed4eb6294e68baf421a2e3ef5763", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", 
    "url": "http://[LB_IP_ADDRESS]:8776/v3/4d02ed4eb6294e68baf421a2e3ef5763", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-03-29 13:33:47,129 20960 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-03-29 13:33:47,219 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 201 POST http://[LB_IP_ADDRESS]:35357/v3/projects 0.089s
2022-03-29 13:33:47,219 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-AttachVolumeNegativeTest-1739414416-desc", "domain_id": "default", "name": "tempest-AttachVolumeNegativeTest-1739414416"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:47 GMT', 'server': 'Apache', 'content-length': '385', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-5e743bbb-9333-41fe-970a-2d023a3bdade', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects'}
        Body: b'{"project": {"id": "bf087717263f47a3a53c62e098bfe1e1", "name": "tempest-AttachVolumeNegativeTest-1739414416", "domain_id": "default", "description": "tempest-AttachVolumeNegativeTest-1739414416-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/projects/bf087717263f47a3a53c62e098bfe1e1"}}}\n'
2022-03-29 13:33:47,836 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 201 POST http://[LB_IP_ADDRESS]:35357/v3/users 0.615s
2022-03-29 13:33:47,836 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-AttachVolumeNegativeTest-1739414416-project-admin", "password": "X1!Phwnj!RVWtW~", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:47 GMT', 'server': 'Apache', 'content-length': '299', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-74626afd-87b2-4fad-9666-c5d7ef84e8d3', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/users'}
        Body: b'{"user": {"id": "948c25f186e24907b073dae4271c29be", "name": "tempest-AttachVolumeNegativeTest-1739414416-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/users/948c25f186e24907b073dae4271c29be"}}}\n'
2022-03-29 13:33:47,868 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.031s
2022-03-29 13:33:47,868 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:47 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-91a4e6ee-f2b3-47fd-8240-bdf26c3d8e3f', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "read
    er", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-03-29 13:33:47,918 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/bf087717263f47a3a53c62e098bfe1e1/users/948c25f186e24907b073dae4271c29be/roles/98b47d94b3e541b2804787a80c29845f 0.048s
2022-03-29 13:33:47,918 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:47 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-306ad193-589b-4ce6-a9c6-e0502f4bd470', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/bf087717263f47a3a53c62e098bfe1e1/users/948c25f186e24907b073dae4271c29be/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-03-29 13:33:47,998 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.079s
2022-03-29 13:33:47,998 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:47 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-1b978146-9c22-4d39-a5de-69ce2861989c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-03-29 13:33:48,037 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/948c25f186e24907b073dae4271c29be/roles/98b47d94b3e541b2804787a80c29845f 0.038s
2022-03-29 13:33:48,037 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-To
    ken': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:47 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-36ee525a-f3b0-4953-9215-1225e0645b49', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/948c25f186e24907b073dae4271c29be/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-03-29 13:33:48,121 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.082s
2022-03-29 13:33:48,121 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:48 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ae64ffaf-33b5-473b-b010-88f8f057f78b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-03-29 13:33:48,159 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/bf087717263f47a3a53c62e098bfe1e1/users/948c25f186e24907b073dae4271c29be/roles/98b47d94b3e541b2804787a80c29845f 0.037s
2022-03-29 13:33:48,159 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:48 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-fcef00f2-ed97-4d95-ad7d-1d5ac5f18a54', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/bf087717263f47a3a53c62e098bfe1e1/users/948c25f186e24907b073dae4271c29be/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-03-29 13:33:48,243 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.083s
2022-03-29 13:33:48,244 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:48 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-6ca23108-79f9-4006-9795-71366fb9eaea', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/ro
    les/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-03-29 13:33:48,280 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/bf087717263f47a3a53c62e098bfe1e1/users/948c25f186e24907b073dae4271c29be/roles/98b47d94b3e541b2804787a80c29845f 0.036s
2022-03-29 13:33:48,281 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:48 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-933a4a87-245c-4460-8bc1-83da5c64127c', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/bf087717263f47a3a53c62e098bfe1e1/users/948c25f186e24907b073dae4271c29be/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-03-29 13:33:48,281 20960 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 948c25f186e24907b073dae4271c29be is created with scope project and roles: ['admin', 'admin']
2022-03-29 13:33:48,282 20960 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-AttachVolumeNegativeTest-1739414416-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': 'bf087717263f47a3a53c62e098bfe1e1', 'project_name': 'tempest-AttachVolumeNegativeTest-1739414416', 'tenant_id': 'bf087717263f47a3a53c62e098bfe1e1', 'tenant_name': 'tempest-AttachVolumeNegativeTest-1739414416', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '948c25f186e24907b073dae4271c29be', 'system': None}, Network: None, Subnet: None, Router: None
2022-03-29 13:33:48,289 20960 INFO     [tempest.lib.common.fixed_network] (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server) Found network None available for tenant
2022-03-29 13:33:48,886 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.595s
2022-03-29 13:33:48,887 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-AttachVolumeNegativeTest-server-584655384", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:48 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-eaea8af9-d3f3-4ac8-aaaf-61ee97f4763c', 'x-compute-request-id': 'req-eaea8af9-d3f3-4ac8-aaaf-61ee97f4763c', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "links": [{
    "rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "87PFcBrGPdBs"}}'
2022-03-29 13:33:48,982 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.090s
2022-03-29 13:33:48,982 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:48 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3f4737ba-3072-471f-a876-2a6958243c6a', 'x-compute-request-id': 'req-3f4737ba-3072-471f-a876-2a6958243c6a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:48Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:50,068 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.074s
2022-03-29 13:33:50,068 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:49 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b241fc2d-6921-4507-b716-16bd96b61c9c', 'x-compute-request-id': 'req-b241fc2d-6921-4507-b716-16bd96b61c9c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", 
    "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:50Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:51,170 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.091s
2022-03-29 13:33:51,171 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:51 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8714dfab-2d65-4836-819e-dc7c6421844d', 'x-compute-request-id': 'req-8714dfab-2d65-4836-819e-dc7c6421844d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:51Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:52,266 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.084s
2022-03-29 13:33:52,266 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:52 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-req
    uest-id': 'req-17dc1b87-4ce0-485d-ad6d-23eac92d6427', 'x-compute-request-id': 'req-17dc1b87-4ce0-485d-ad6d-23eac92d6427', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:52Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:53,361 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.084s
2022-03-29 13:33:53,362 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:53 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-2473c14b-f6a7-4ab1-95c3-35c14ccc798b', 'x-compute-request-id': 'req-2473c14b-f6a7-4ab1-95c3-35c14ccc798b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:53Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:54,461 20960 INFO     [tempest.lib.common.rest_client] Req
    uest (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.088s
2022-03-29 13:33:54,461 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a7d1e70a-4621-4538-956d-8cfc34e3f370', 'x-compute-request-id': 'req-a7d1e70a-4621-4538-956d-8cfc34e3f370', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:54Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:55,542 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.070s
2022-03-29 13:33:55,543 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:55 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f64cf226-31f4-447b-a31b-7420b00d38a1', 'x-compute-request-id': 'req-f64cf226-31f4-447b-a31b-7420b00d38a1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:55Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61
    fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:56,647 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.093s
2022-03-29 13:33:56,647 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:56 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-32a71948-150f-4b08-9d72-923fc1cfd6ce', 'x-compute-request-id': 'req-32a71948-150f-4b08-9d72-923fc1cfd6ce', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:56Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:57,752 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.093s
2022-03-29 13:33:57,752 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:57 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-37b87f4b-698c-4cd8-8f87-51a27a89384e', 'x-compute-request-id': 'req-37b87f4b-698c-4cd8-8f87-51a27a89384e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest
    -AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:57Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:58,855 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.091s
2022-03-29 13:33:58,855 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:58 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-4e7eabe8-9898-47b6-8c4e-f56e331b190b', 'x-compute-request-id': 'req-4e7eabe8-9898-47b6-8c4e-f56e331b190b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:58Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:59,969 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.103s
2022-03-29 13:33:59,969 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Respo
    nse - Headers: {'date': 'Tue, 29 Mar 2022 10:33:59 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '3919', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a6997707-e7c7-4ab3-b5eb-de7340efbe6b', 'x-compute-request-id': 'req-a6997707-e7c7-4ab3-b5eb-de7340efbe6b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"server": {"id": "61fcc121-1a6a-44c2-9ceb-2e4e00a58367", "name": "tempest-AttachVolumeNegativeTest-server-584655384", "status": "ERROR", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:33:48Z", "updated": "2022-03-29T10:33:58Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-03-29T10:33:58Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost
    : No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000026", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:33:59,979 20960 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 11 second wait
2022-03-29 13:34:00,789 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.808s
2022-03-29 13:34:00,789 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:33:59 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-57c298be-1c69-4275-9403-8bc8855cc026', 'x-compute-request-id': 'req-57c298be-1c69-4275-9403-8bc8855cc026', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b''
2022-03-29 13:34:00,823 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367 0.033s
2022-03-29 13:34:00,823 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:00 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-94753b6e-de16-48c7-9aef-18ea193720ed', 'x-compute-request-id': 'req-94753b6e-de16-48c7-9aef-18ea193720ed', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61fcc121-1a6a-44c2-9ceb-2e4e00a58367'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 61fcc121-1a6a-44c2-9ceb-2e4e00a58367 could not be found."}}'


tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_list_get_volume_attachments_multiattach[id-8d5853f7-56e7-4988-9b0c-48cea3c7049a]
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 406, in test_list_get_volume_attachments_multiattach
    servers, volume, attachments = self._create_and_multiattach()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 389, in _create_and_multiattach
    'ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 50483767-09cd-4c17-b2c1-cb4f4db43120 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-03-29T10:34:01Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-03-29 13:34:01,035 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.561s
2022-03-29 13:34:01,035 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:00 GMT', 'server': 'Apache', 'content-length': '3906', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-5da657a5-8ead-4553-9b2d-4beb939842f3', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "078317f5cc314e599e0a3aec57db17f4", "name": "tempest-AttachVolumeMultiAttachTest-1947723082-project", "password_expires_at": null}, "audit_ids": ["rRMb3WB2Sh-F7u5Bymb9EA"], "expires_at": "2022-03-30T10:34:00.000000Z", "issued_at": "2022-03-29T10:34:00.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "aa10417f827d48748fce1c9aff3e52a1", "name": "tempest-AttachVolumeMultiAttachTest-1947723082"}, "is_domain": false, "roles": [{"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "Region
    One", "url": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-03-29 13:34:01,044 20959 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-03-29 13:34:01,187 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.141s
2022-03-29 13:34:01,187 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-0", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/50483767-09cd-4c17-b2c1-cb4f4db43120', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b3fc3393-273b-43da-b891-1a0bcdafbf19', 'x-compute-request-id': 'req-b3fc3393-273b-43da-b891-1a0bcdafbf19', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "50483767-09cd-4c17-b2c1-cb4f4db43120", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/50483767-09cd-4c17-b2c1-cb4f4db43120"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/50483767-09cd-4c17-b2c1-cb4f4db43120"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "VLR9wv7LpqYW"}}'
2022-03-29 13:34:01,777 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.582s
2022-03-29 13:34:01,777 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:01 GMT', 'server': 'Apache', 'content-length': '3906', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2c4c0b23-299b-48c9-88a2-8af47037e5f7', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "078317f5cc314e599e0a3aec57db17f4", "name": "tempest-AttachVolumeMultiAttachTest-1947723082-project", "password_expires_at": null}, "audit_ids": ["kIJe7Ih7SWi8f9_BXKit6A"], "expires_at": "2022-03-30T10:34:01.000000Z", "issued_at": "2022-03-29T10:34:01.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "aa10417f827d48748fce1c9aff3e52a1", "name": "tempest-AttachVolumeMultiAttachTest-1947723082"}, "is_domain": false, "roles": [{"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region"
    : "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/aa10417f827d48748fce1c9aff3e52a1", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-03-29 13:34:01,786 20959 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-03-29 13:34:01,921 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.134s
2022-03-29 13:34:01,921 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-1", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/1aea9de2-df67-45bf-9eed-4209e70b58ba', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenSt
    ack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6f27fc12-3e5e-4f60-8b3b-ffdb47f94edc', 'x-compute-request-id': 'req-6f27fc12-3e5e-4f60-8b3b-ffdb47f94edc', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "1aea9de2-df67-45bf-9eed-4209e70b58ba", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/1aea9de2-df67-45bf-9eed-4209e70b58ba"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/1aea9de2-df67-45bf-9eed-4209e70b58ba"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "CkbchK2dZy6g"}}'
2022-03-29 13:34:02,017 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/50483767-09cd-4c17-b2c1-cb4f4db43120 0.092s
2022-03-29 13:34:02,017 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4257', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ab6386f7-350f-4ff6-953c-deaf7403979d', 'x-compute-request-id': 'req-ab6386f7-350f-4ff6-953c-deaf7403979d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/50483767-09cd-4c17-b2c1-cb4f4db43120'}
        Body: b'{"server": {"id": "50483767-09cd-4c17-b2c1-cb4f4db43120", "name": "multiattach-server-0", "status": "ERROR", "tenant_id": "aa10417f827d48748fce1c9aff3e52a1", "user_id": "078317f5cc314e599e0a3aec57db17f4", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-03-29T10:34:01Z", "updated": "2022-03-29T10:34:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/50483767-09cd-4c17-b2c1-cb4f4db43120"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/50483767-09cd-4c17-b2c1-cb4f4db43120"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-03-29T10:34:01Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 
    689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000028", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-51x2jcby", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-
2022-03-29 13:34:03,134 20959 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/50483767-09cd-4c17-b2c1-cb4f4db43120 0.103s
2022-03-29 13:34:03,134 20959 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:03 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4257', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-668f8499-3bae-4555-be5a-ef0a3ed2ab9c', 'x-compute-request-id': 'req-668f8499-3bae-4555-be5a-ef0a3ed2ab9c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/50483767-09cd-4c17-b2c1-cb4f4db43120'}
        Body: b'{"server": {"id": "50483767-09cd-4c17-b2c1-cb4f4db43120", "name": "multiattach-server-0", "status": "ERROR", "tenant_id": "aa10417f827d48748fce1c9aff3e52a1", "user_id": "078317f5cc314e599e0a3aec57db17f4", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-03-29T10:34:01Z", "updated": "2022-03-29T10:34:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/50483767-09cd-4c17-b2c1-cb4f4db43120"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/50483767-09cd-4c17-b2c1-cb4f4db43120"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-03-29T10:34:01Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, 
    in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000028", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-51x2jcby", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-


tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_attach_attached_volume_to_same_server[id-aab919e2-d992-4cbb-a4ed-745c2475398c,negative]
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume_negative.py", line 57, in test_attach_attached_volume_to_same_server
    server = self.create_test_server(wait_until='ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/base.py", line 272, in create_test_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 3f9877f1-cbd5-41b2-a94d-09f046bb8edf failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-03-29T10:34:02Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-03-29 13:34:01,408 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 201 POST http://controller:5000/v3/auth/tokens 0.570s
2022-03-29 13:34:01,409 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:00 GMT', 'server': 'Apache', 'content-length': '3900', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-45c37273-806b-4686-acaf-5929bbd0ede4', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "a55294d3a7194d6cac58a2445ecd459f", "name": "tempest-AttachVolumeNegativeTest-1859929722-project", "password_expires_at": null}, "audit_ids": ["OL3_08dTTDu4sW_mctDa3A"], "expires_at": "2022-03-30T10:34:01.000000Z", "issued_at": "2022-03-29T10:34:01.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "4d02ed4eb6294e68baf421a2e3ef5763", "name": "tempest-AttachVolumeNegativeTest-1859929722"}, "is_domain": false, "roles": [{"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/4d02ed4eb6294e68baf421a2e3ef5763", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/4d02ed4eb6294e68baf421a2e3ef5763", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/4d02ed4eb6294e68baf421a2e3ef5763", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url"
    : "http://[LB_IP_ADDRESS]:8776/v3/4d02ed4eb6294e68baf421a2e3ef5763", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-03-29 13:34:01,418 20960 INFO     [tempest.lib.common.fixed_network] (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server) Found network None available for tenant
2022-03-29 13:34:01,676 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.256s
2022-03-29 13:34:01,676 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-AttachVolumeNegativeTest-server-1202389749", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-efc8ef3f-1fe8-43dd-ad65-6e945ef79239', 'x-compute-request-id': 'req-efc8ef3f-1fe8-43dd-ad65-6e945ef79239', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "3f9877f1-cbd5-41b2-a94d-09f046bb8edf", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "c3bDBQKLMiGQ"}}'
2022-03-29 13:34:01,768 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf 0.088s
2022-03-29 13:34:01,768 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8f142a76-7714-46c8-b4ee-5306ed06f1c5', 'x-compute-request-id': 'req-8f142a76-7714-46c8-b4ee-5306ed06f1c5', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf'}
        Body: b'{"server": {"id": "3f9877f1-cbd5-41b2-a94d-09f046bb8edf", "name": "tempest-AttachVolumeNegativeTest-server-1202389749", "status": "BUILD", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:34:01Z", "updated": "2022-03-29T10:34:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "hre
    f": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:34:02,873 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf 0.093s
2022-03-29 13:34:02,873 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:02 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '3920', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d4cbc259-3804-4ea2-9872-192c3277a3b9', 'x-compute-request-id': 'req-d4cbc259-3804-4ea2-9872-192c3277a3b9', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf'}
        Body: b'{"server": {"id": "3f9877f1-cbd5-41b2-a94d-09f046bb8edf", "name": "tempest-AttachVolumeNegativeTest-server-1202389749", "status": "ERROR", "tenant_id": "4d02ed4eb6294e68baf421a2e3ef5763", "user_id": "a55294d3a7194d6cac58a2445ecd459f", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-03-29T10:34:01Z", "updated": "2022-03-29T10:34:02Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-03-29T10:34:02Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/p
    ython3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000029", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-03-29 13:34:02,883 20960 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2022-03-29 13:34:03,153 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf 0.269s
2022-03-29 13:34:03,154 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:02 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-38f81c25-0854-46e0-b07c-b39b4d6ab06c', 'x-compute-request-id': 'req-38f81c25-0854-46e0-b07c-b39b4d6ab06c', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf'}
        Body: b''
2022-03-29 13:34:03,190 20960 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf 0.035s
2022-03-29 13:34:03,190 20960 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 29 Mar 2022 10:34:03 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0b5ab550-b616-4102-8003-9fdb7884f939', 'x-compute-request-id': 'req-0b5ab550-b616-4102-8003-9fdb7884f939', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3f9877f1-cbd5-41b2-a94d-09f046bb8edf'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 3f9877f1-cbd5-41b2-a94d-09f046bb8edf could not be found."}}'



======
Totals
======
Ran: 192 tests in 1112.9332 sec.
 - Passed: 181
 - Skipped: 6
 - Expected Fail: 0
 - Unexpected Success: 0
 - Failed: 4
Sum of execute time for each test: 1994.4297 sec.

==============
Worker Balance
==============
 - Worker 0 (100 tests) => 0:18:32.858818
 - Worker 1 (17 tests) => N/A
 - Worker 2 (75 tests) => 0:16:23.775577

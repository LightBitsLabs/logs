{1} tempest.api.compute.volumes.test_volumes_get.VolumesGetTestJSON.test_volume_create_get_delete [1.922099s] ... ok
{2} tempest.api.compute.volumes.test_volume_snapshots.VolumesSnapshotsTestJSON.test_volume_snapshot_create_get_list_delete [6.629067s] ... ok
{2} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list [0.070842s] ... ok
{2} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_param_limit [0.080490s] ... ok
{2} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_param_offset_and_limit [0.150340s] ... ok
{2} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_detail_param_limit [0.067448s] ... ok
{2} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_detail_param_offset_and_limit [0.155355s] ... ok
{2} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_details [0.072709s] ... ok
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_create_group_from_group_snapshot [12.047092s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.158605s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.016686s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.016786s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.055904s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.012609s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.012525s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.056197s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.056746s] ... ok
{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_boot_from_multiattach_volume [20.920348s] ... ok
{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_list_get_volume_attachments_multiattach [2.483378s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 406, in test_list_get_volume_attachments_multiattach
    servers, volume, attachments = self._create_and_multiattach()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 389, in _create_and_multiattach
    'ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server f865840f-40dc-46f2-aec3-db58ff4b78f1 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:49:54Z', 'message': 'Build of instance f865840f-40dc-46f2-aec3-db58ff4b78f1 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance f865840f-40dc-46f2-aec3-db58ff4b78f1 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:49:52,569 14831 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.462s
2022-08-16 13:49:52,569 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:49:52 GMT', 'server': 'Apache', 'content-length': '3905', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-4ee25272-a5d5-4772-8fa2-38d3d2a7b683', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "a52e91675d354c34bd9ebf8967b2a6d1", "name": "tempest-AttachVolumeMultiAttachTest-1444998973-project", "password_expires_at": null}, "audit_ids": ["QRCXzks3SC2_oqxjdjRc2A"], "expires_at": "2022-08-17T10:49:52.000000Z", "issued_at": "2022-08-16T10:49:52.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "e6bedc3d44eb4223a9642f9e629e83c7", "name": "tempest-AttachVolumeMultiAttachTest-1444998973"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/e6bedc3d44eb4223a9642f9e629e83c7", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/e6bedc3d44eb4223a9642f9e629e83c7", "regi
    on": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/e6bedc3d44eb4223a9642f9e629e83c7", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/e6bedc3d44eb4223a9642f9e629e83c7", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:49:52,578 14831 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-16 13:49:52,732 14831 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.153s
2022-08-16 13:49:52,732 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-0", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:49:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7459dafe-b102-4242-a86b-31eaf84301ca', 'x-compute-request-id': 'req-7459dafe-b102-4242-a86b-31eaf84301ca', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "f865840f-40dc-46f2-aec3-db58ff4b78f1", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "9F29w6pqAWkT"}}'
2022-08-16 13:49:53,206 14831 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.465s
2022-08-16 13:49:53,207 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:49:52 GMT', 'server': 'Apache', 'content-length': '3905', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7161cd8b-e839-45a3-bcb4-2944dfff3a2a', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "a52e91675d354c34bd9ebf8967b2a6d1", "name": "tempest-AttachVolumeMultiAttachTest-1444998973-project", "password_expires_at": null}, "audit_ids": ["sC0_IZQCQ_ajtju5jbOSKw"], "expires_at": "2022-08-17T10:49:53.000000Z", "issued_at": "2022-08-16T10:49:53.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "e6bedc3d44eb4223a9642f9e629e83c7", "name": "tempest-AttachVolumeMultiAttachTest-1444998973"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region":
     "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/e6bedc3d44eb4223a9642f9e629e83c7", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/e6bedc3d44eb4223a9642f9e629e83c7", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/e6bedc3d44eb4223a9642f9e629e83c7", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/e6bedc3d44eb4223a9642f9e629e83c7", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:49:53,215 14831 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-16 13:49:53,351 14831 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.135s
2022-08-16 13:49:53,352 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-1", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:49:53 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/763bb3e8-2a83-4def-88d3-0602b997c07e', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStac
    k-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5a860b7a-d31b-4fe9-8d35-3413b3b53125', 'x-compute-request-id': 'req-5a860b7a-d31b-4fe9-8d35-3413b3b53125', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "763bb3e8-2a83-4def-88d3-0602b997c07e", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/763bb3e8-2a83-4def-88d3-0602b997c07e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/763bb3e8-2a83-4def-88d3-0602b997c07e"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "CXw9oWhc5sYa"}}'
2022-08-16 13:49:53,461 14831 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1 0.106s
2022-08-16 13:49:53,461 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:49:53 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1760', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-71813298-8580-40ae-b973-e2a836c4f4a6', 'x-compute-request-id': 'req-71813298-8580-40ae-b973-e2a836c4f4a6', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1'}
        Body: b'{"server": {"id": "f865840f-40dc-46f2-aec3-db58ff4b78f1", "name": "multiattach-server-0", "status": "BUILD", "tenant_id": "e6bedc3d44eb4223a9642f9e629e83c7", "user_id": "a52e91675d354c34bd9ebf8967b2a6d1", "metadata": {}, "hostId": "c216044b6e49e63d2e847339550a9d6f25187c36e00f276c3036c1e2", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-16T10:49:52Z", "updated": "2022-08-16T10:49:53Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": "rack05-server62", "OS-EXT-SRV-ATTR:instance_name": "instance-0000009c", "OS-EXT-SRV-ATTR:hypervisor_hostname": "rack05-server62", "OS-EXT-SRV-ATTR:reservation_id": "r-kh08s7sh", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "UP", "locked": false, "description": null, "tags": []}}'
2022-08-16 13:49:54,569 14831 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1 0.094s
2022-08-16 13:49:54,569 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {
    'date': 'Tue, 16 Aug 2022 10:49:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '5040', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6d4c115f-a5a7-4ef1-b8ae-94590b4b1af2', 'x-compute-request-id': 'req-6d4c115f-a5a7-4ef1-b8ae-94590b4b1af2', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1'}
        Body: b'{"server": {"id": "f865840f-40dc-46f2-aec3-db58ff4b78f1", "name": "multiattach-server-0", "status": "ERROR", "tenant_id": "e6bedc3d44eb4223a9642f9e629e83c7", "user_id": "a52e91675d354c34bd9ebf8967b2a6d1", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-16T10:49:52Z", "updated": "2022-08-16T10:49:54Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:49:54Z", "message": "Build of instance f865840f-40dc-46f2-aec3-db58ff4b78f1 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.
    10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/no
2022-08-16 13:49:54,581 14831 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 1 second wait

{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_resize_server_with_multiattached_volume ... SKIPPED: Resize not available.
{2} tempest.api.volume.admin.test_group_types.GroupTypesTest.test_group_type_create_list_update_show [0.334293s] ... ok
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_delete_group_snapshots_following_updated_volumes [17.379663s] ... ok
{2} tempest.api.volume.admin.test_groups.GroupsV314Test.test_create_group_from_group [8.372963s] ... ok
{2} setUpClass (tempest.api.volume.admin.test_snapshot_manage.SnapshotManageAdminTest) ... SKIPPED: Manage snapshot tests are disabled
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_group_snapshot_create_show_list_delete [7.698493s] ... ok
{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_snapshot_volume_backed_multiattach [21.813538s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_reset_snapshot_status [0.395889s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_creating [3.556583s] ... ok
{1} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_associate_disassociate_qos [0.403032s] ... ok
{1} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_back_end_consumer [0.132581s] ... ok
{1} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_both_consumer [0.139016s] ... ok
{1} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_front_end_consumer [0.121836s] ... ok
{1} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_get_qos [0.026413s] ... ok
{1} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_list_qos [0.027013s] ... ok
{1} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_set_unset_qos_key [0.164533s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_deleting [3.523388s] ... ok
{0} tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON.test_compare_volume_stats_values [0.086491s] ... ok
{0} tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON.test_get_capabilities_backend [0.038473s] ... ok
{1} tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_list_hosts [0.207780s] ... ok
{1} tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_show_host [0.200531s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_error [3.546724s] ... ok
{0} tempest.api.volume.admin.test_encrypted_volumes_extend.EncryptedVolumesExtendAttachedTest.test_extend_attached_encrypted_volume_luksv1 ... SKIPPED: Attached encrypted volume extend is disabled.
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_error_deleting [3.614930s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_update_snapshot_status [0.234031s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_delete_quota [0.336600s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_list_default_quotas [0.053222s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_list_quotas [0.050748s] ... ok
{0} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsV319Test.test_reset_group_snapshot_status ... SKIPPED: Skipped until bug: https://launchpad.net/bugs/1770179 is resolved.
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage [2.795538s] ... ok
{0} tempest.api.volume.admin.test_group_type_specs.GroupTypeSpecsTest.test_group_type_specs_create_show_update_list_delete [0.429062s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage_after_volume_transfer [3.749997s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_show_quota_usage [0.071584s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_update_all_quota_resources_for_tenant [0.336164s] ... ok
{2} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_delete_message [1.775497s] ... ok
{2} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_list_show_messages [1.485968s] ... ok
{2} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_show_default_quota [0.218540s] ... ok
{2} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_update_default_quota [0.823487s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_quota_volume_gigabytes [0.254440s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_quota_volumes [0.232874s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_volume_extend_gigabytes_quota_deviation [0.186108s] ... ok
{1} setUpClass (tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithMigrationTest) ... SKIPPED: Cinder multi-backend feature disabled
{0} tempest.api.volume.admin.test_groups.GroupsTest.test_group_create_show_list_delete [7.001604s] ... ok
{1} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_disable_log_reason_with_no_reason [0.022806s] ... ok
{1} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_disable_service_with_invalid_binary [0.041844s] ... ok
{1} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_enable_service_with_invalid_host [0.027630s] ... ok
{1} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_freeze_host_with_invalid_host [0.031225s] ... ok
{1} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_thaw_host_with_invalid_host [0.032259s] ... ok
{2} tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithoutMigrationTest.test_available_volume_retype [3.007632s] ... ok
{2} tempest.api.volume.test_extensions.ExtensionsTestJSON.test_list_extensions [0.166906s] ... ok
{1} tempest.api.volume.admin.test_volume_type_access.VolumeTypesAccessTest.test_volume_type_access_list [0.357114s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsTest.test_group_update [9.138672s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_spec_create_get_delete [0.177814s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_specs_list [0.089859s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_specs_update [0.249007s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsV320Test.test_reset_group_status [2.932578s] ... ok
{0} setUpClass (tempest.api.volume.admin.test_multi_backend.VolumeMultiBackendTest) ... SKIPPED: Cinder multi-backend feature disabled
{0} setUpClass (tempest.api.volume.admin.test_volume_manage.VolumeManageAdminTest) ... SKIPPED: Manage volume tests are disabled
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_volume_type_encryption_nonexistent_type_id [0.198745s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_empty_name [0.017977s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_repeated_name [0.078598s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_delete_nonexistent_type_id [0.022214s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_get_nonexistent_type_id [0.021074s] ... ok
{0} tempest.api.volume.admin.test_volume_pools.VolumePoolsAdminTestsJSON.test_get_pools_without_details [0.185408s] ... ok
{2} tempest.api.volume.test_image_metadata.VolumesImageMetadata.test_update_show_delete_image_metadata [0.262792s] ... ok
{0} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_host_name [0.034125s] ... ok
{0} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_service_and_host_name [0.033510s] ... ok
{0} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_service_binary_name [0.032410s] ... ok
{2} tempest.api.volume.test_versions.VersionsTest.test_list_versions [0.014640s] ... ok
{2} tempest.api.volume.test_versions.VersionsTest.test_show_version [0.189867s] ... ok
{0} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_volume_host_name [1.612646s] ... ok
{0} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_list_services [0.031420s] ... ok
{1} tempest.api.volume.admin.test_volumes_list.VolumesListAdminTestJSON.test_volume_list_param_tenant [1.665540s] ... ok
{2} tempest.api.volume.test_volume_absolute_limits.AbsoluteLimitsTests.test_get_volume_absolute_limits [0.065886s] ... ok
{0} tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_gigabytes_snapshots [0.306570s] ... ok
{0} tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_snapshots [0.068776s] ... ok
{1} tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON.test_crud_snapshot_metadata [0.314104s] ... ok
{1} tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON.test_update_show_snapshot_metadata_item [0.256834s] ... ok
{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_create_get_delete [0.214866s] ... ok
{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_encryption_create_get_update_delete [0.331687s] ... ok
{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_list [0.034421s] ... ok
{0} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_update [0.150838s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_invalid_body [0.020432s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_none_body [0.020225s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_nonexistent_type_id [0.043329s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_delete_nonexistent_volume_type_id [0.025832s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_get_nonexistent_extra_spec_name [0.036310s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_get_nonexistent_volume_type_id [0.023871s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_list_nonexistent_volume_type_id [0.024807s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_multiple_extra_spec [0.017317s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_no_body [0.018104s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_none_extra_spec_id [0.037821s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_nonexistent_extra_spec_id [0.046186s] ... ok
{0} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_nonexistent_type_id [0.044402s] ... ok
{2} tempest.api.volume.test_volumes_clone.VolumesCloneTest.test_create_from_bootable_volume [14.712898s] ... ok
{1} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_get_list_accept_volume_transfer [3.698967s] ... ok
{2} tempest.api.volume.test_volumes_clone.VolumesCloneTest.test_create_from_volume [4.844359s] ... ok
{1} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_list_delete_volume_transfer [3.773483s] ... ok
{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_force_detach_volume [3.553725s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/admin/test_volumes_actions.py", line 83, in test_force_detach_volume
    server_id = self.create_server()['id']

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 3b78a208-1524-48cb-b0b2-df0d5569f9ec failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:51:46Z', 'message': 'Build of instance 3b78a208-1524-48cb-b0b2-df0d5569f9ec aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 3b78a208-1524-48cb-b0b2-df0d5569f9ec aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:51:44,158 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 201 POST http://controller:5000/v3/auth/tokens 0.485s
2022-08-16 13:51:44,158 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:43 GMT', 'server': 'Apache', 'content-length': '3885', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-12f1eef2-c401-403a-8018-0f5c7fe5160b', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "37d4e203dfbf4ceaa5a27e956954837f", "name": "tempest-VolumesActionsTest-963756262-project", "password_expires_at": null}, "audit_ids": ["1sbM8igWRMSfa-tJZnARVg"], "expires_at": "2022-08-17T10:51:44.000000Z", "issued_at": "2022-08-16T10:51:44.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "410d83c18f924cc3a1c2c4e91d2a4913", "name": "tempest-VolumesActionsTest-963756262"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/410d83c18f924cc3a1c2c4e91d2a4913", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/410d83c18f924cc3a1c2c4e91d2a4913", "region": "RegionOne"}], "id": "d30e368ce4ac4d16817446
    9113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/410d83c18f924cc3a1c2c4e91d2a4913", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/410d83c18f924cc3a1c2c4e91d2a4913", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:51:44,166 14831 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_force_detach_volume) Found network None available for tenant
2022-08-16 13:51:44,602 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.435s
2022-08-16 13:51:44,602 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-995686083", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:44 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a5fb516a-33d2-4506-b037-5483afb7e17b', 'x-compute-request-id': 'req-a5fb516a-33d2-4506-b037-5483afb7e17b', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "3b78a208-1524-48cb-b0b2-df0d5569f9ec", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "oCokNwR66UCz"}}'
2022-08-16 13:51:44,689 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec 0.083s
2022-08-16 13:51:44,689 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:44 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1321', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d01fff55-343b-4406-a9ba-512e1c256ebd', 'x-compute-request-id': 'req-d01fff55-343b-4406-a9ba-512e1c256ebd', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec'}
        Body: b'{"server": {"id": "3b78a208-1524-48cb-b0b2-df0d5569f9ec", "name": "tempest-VolumesActionsTest-instance-995686083", "status": "BUILD", "tenant_id": "410d83c18f924cc3a1c2c4e91d2a4913", "user_id": "37d4e203dfbf4ceaa5a27e956954837f", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:51:44Z", "updated": "2022-08-16T10:51:44Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec"}, {"rel": "bookmark", "href": "http://
    [LB_IP_ADDRESS]:8774/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:51:45,794 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec 0.093s
2022-08-16 13:51:45,795 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1334', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-73d2d0b1-bd3f-430e-ae9d-3369ac045dac', 'x-compute-request-id': 'req-73d2d0b1-bd3f-430e-ae9d-3369ac045dac', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec'}
        Body: b'{"server": {"id": "3b78a208-1524-48cb-b0b2-df0d5569f9ec", "name": "tempest-VolumesActionsTest-instance-995686083", "status": "BUILD", "tenant_id": "410d83c18f924cc3a1c2c4e91d2a4913", "user_id": "37d4e203dfbf4ceaa5a27e956954837f", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:51:44Z", "updated": "2022-08-16T10:51:45Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-0000009f", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:51:45,805 14831 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/None" after 1 second wait
2022-08-16 13:51:46,907 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec 0.101s
2022-08-16 13:51:46,908 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4692', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-4a5bff9e-382e-4c39-8f5f-430d7dcb7803', 'x-compute-request-id': 'req-4a5bff9e-382e-4c39-8f5f-430d7dcb7803', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec'}
        Body: b'{"server": {"id": "3b78a208-1524-48cb-b0b2-df0d5569f9ec", "n
    ame": "tempest-VolumesActionsTest-instance-995686083", "status": "ERROR", "tenant_id": "410d83c18f924cc3a1c2c4e91d2a4913", "user_id": "37d4e203dfbf4ceaa5a27e956954837f", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:51:44Z", "updated": "2022-08-16T10:51:46Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:51:46Z", "message": "Build of instance 3b78a208-1524-48cb-b0b2-df0d5569f9ec aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packa
2022-08-16 13:51:46,918 14831 INFO     [tempest.common.waiter
    s] State transition "BUILD/None" ==> "ERROR/None" after 2 second wait
2022-08-16 13:51:47,180 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec 0.262s
2022-08-16 13:51:47,181 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a14af968-3a23-495d-b4f7-87b4dd0aefb9', 'x-compute-request-id': 'req-a14af968-3a23-495d-b4f7-87b4dd0aefb9', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec'}
        Body: b''
2022-08-16 13:51:47,214 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec 0.033s
2022-08-16 13:51:47,215 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:47 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-e3ebe85d-3c74-40f1-abeb-4d29073a15dc', 'x-compute-request-id': 'req-e3ebe85d-3c74-40f1-abeb-4d29073a15dc', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 3b78a208-1524-48cb-b0b2-df0d5569f9ec could not be found."}}'

{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_attaching [3.882079s] ... ok
{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_creating [2.581073s] ... ok
{2} tempest.api.volume.test_volumes_clone_negative.VolumesCloneNegativeTest.test_create_from_volume_decreasing_size [1.663595s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_attach_detach_volume_to_instance [4.629560s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 45, in test_attach_detach_volume_to_instance
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 7a9ae775-c66d-4e79-9a0d-b938fd7331a3 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:51:54Z', 'message': 'Build of instance 7a9ae775-c66d-4e79-9a0d-b938fd7331a3 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 7a9ae775-c66d-4e79-9a0d-b938fd7331a3 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:51:51,617 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://controller:5000/v3/auth/tokens 0.494s
2022-08-16 13:51:51,617 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:51 GMT', 'server': 'Apache', 'content-length': '3887', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-5ccdda2d-3d9b-40e6-8044-730dfc8ebb2b', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "f5dd6001991241919e70c5a31bf23c10", "name": "tempest-VolumesActionsTest-1226676630-project", "password_expires_at": null}, "audit_ids": ["RxpiBGVyTe6ubJnSf69v2g"], "expires_at": "2022-08-17T10:51:51.000000Z", "issued_at": "2022-08-16T10:51:51.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "675d463c1b3b46fe90ad365a8072fe57", "name": "tempest-VolumesActionsTest-1226676630"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/675d463c1b3b46fe90ad365a8072fe57", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/675d463c1b3b46fe90ad365a8072fe57", "region": "RegionOne"}], "id": "d30e368
    ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/675d463c1b3b46fe90ad365a8072fe57", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/675d463c1b3b46fe90ad365a8072fe57", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:51:51,618 14832 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 13:51:51,714 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.095s
2022-08-16 13:51:51,714 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesActionsTest-2071768426-desc", "domain_id": "default", "name": "tempest-VolumesActionsTest-2071768426"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:51 GMT', 'server': 'Apache', 'content-length': '372', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-92a9112a-8b61-4e01-bafe-8dc1a4886d44', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "aa5f7e56069f48d9b797554651e2678a", "name": "tempest-VolumesActionsTest-2071768426", "domain_id": "default", "description": "tempest-VolumesActionsTest-2071768426-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/aa5f7e56069f48d9b797554651e2678a"}}}\n'
2022-08-16 13:51:52,208 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.493s
2022-08-16 13:51:52,208 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesActionsTest-2071768426-project-admin", "password": "O6+D^x@r3pSq8h1", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:51 GMT', 'server': 'Apache', 'content-length': '292', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-d3fe8ec8-a354-475a-97c8-e3c8433c34ca', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "d8193409f60d49a2b43ecb48e983e733", "name": "tempest-VolumesActionsTest-2071768426-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/d8193409f60d49a2b43ecb48e983e733"}}}\n'
2022-08-16 13:51:52,286 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.077s
2022-08-16 13:51:52,286 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-def75e8d-b70b-41e5-844b-461e9332864e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000
    /v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:51:52,338 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/aa5f7e56069f48d9b797554651e2678a/users/d8193409f60d49a2b43ecb48e983e733/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.051s
2022-08-16 13:51:52,339 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e9dfac5e-49e5-4868-acf9-bc00fa20e4a3', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/aa5f7e56069f48d9b797554651e2678a/users/d8193409f60d49a2b43ecb48e983e733/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:51:52,413 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.073s
2022-08-16 13:51:52,414 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-52c368c2-cbc1-4dff-ab72-75590b1f45ce', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:51:52,452 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/d8193409f60d49a2b43ecb48e983e733/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.038s
2022-08-16 13:51:52,453 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-5ca81
    1bb-3400-4f8c-8cf2-5fdea3eee599', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/d8193409f60d49a2b43ecb48e983e733/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:51:52,528 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.074s
2022-08-16 13:51:52,528 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7b840ae2-5d45-4daa-8fec-70ce4e6aa93f', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:51:52,563 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/aa5f7e56069f48d9b797554651e2678a/users/d8193409f60d49a2b43ecb48e983e733/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.034s
2022-08-16 13:51:52,563 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3e3fb8bc-85ad-41a7-8485-c75e16d14295', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/aa5f7e56069f48d9b797554651e2678a/users/d8193409f60d49a2b43ecb48e983e733/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:51:52,633 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.069s
2022-08-16 13:51:52,634 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3e30b306-d316-46e9-95e6-35e5ed20d5cf', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a
    2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:51:52,677 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/aa5f7e56069f48d9b797554651e2678a/users/d8193409f60d49a2b43ecb48e983e733/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.043s
2022-08-16 13:51:52,678 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-60907648-daa4-4aad-8913-5568f24c6a2d', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/aa5f7e56069f48d9b797554651e2678a/users/d8193409f60d49a2b43ecb48e983e733/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:51:52,678 14832 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user d8193409f60d49a2b43ecb48e983e733 is created with scope project and roles: ['admin', 'admin']
2022-08-16 13:51:52,679 14832 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesActionsTest-2071768426-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': 'aa5f7e56069f48d9b797554651e2678a', 'project_name': 'tempest-VolumesActionsTest-2071768426', 'tenant_id': 'aa5f7e56069f48d9b797554651e2678a', 'tenant_name': 'tempest-VolumesActionsTest-2071768426', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'd8193409f60d49a2b43ecb48e983e733', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 13:51:52,688 14832 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_attach_detach_volume_to_instance) Found network None available for tenant
2022-08-16 13:51:52,927 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.238s
2022-08-16 13:51:52,928 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-2081136188", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0451cd75-917a-4470-8ee9-428d5c00b30b', 'x-compute-request-id': 'req-0451cd75-917a-4470-8ee9-428d5c00b30b', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "7a9ae775-c66d-4e79-9a0d-b938fd7331a3", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "SuGx9PjR7AK8"}}'
2022-08
    -16 13:51:53,015 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3 0.084s
2022-08-16 13:51:53,015 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3629aca3-07c1-4271-854c-f0fa89b1fd9c', 'x-compute-request-id': 'req-3629aca3-07c1-4271-854c-f0fa89b1fd9c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3'}
        Body: b'{"server": {"id": "7a9ae775-c66d-4e79-9a0d-b938fd7331a3", "name": "tempest-VolumesActionsTest-instance-2081136188", "status": "BUILD", "tenant_id": "675d463c1b3b46fe90ad365a8072fe57", "user_id": "f5dd6001991241919e70c5a31bf23c10", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:51:52Z", "updated": "2022-08-16T10:51:52Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:51:54,116 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3 0.090s
2022-08-16 13:51:54,117 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1343', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-963d3236-4e51-49c6-a2a7-23eba9922488', 'x-compute-request-id': 'req-963d3236-4e51-49c6-a2a7-23eba9922488', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3'}
        Body: b'{"server": {"id": "7a9ae775-c66d-4e79-9a0d-b938fd7331a3", "name": "tempest-VolumesActionsTest-instance-2081136188", "status": "BUILD", "tenant_id": "675d463c1b3b46fe90ad365a8072fe57", "user_id": "f5dd6001991241919e70c5a31bf23c10", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:51:52Z", "updated": "2022-08-16T10:51:53Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://192.1
    68.17.193:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000a0", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:51:54,127 14832 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:51:55,231 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3 0.102s
2022-08-16 13:51:55,231 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4693', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-02e6ff93-5e75-478c-97b3-fca5e4d0ffbf', 'x-compute-request-id': 'req-02e6ff93-5e75-478c-97b3-fca5e4d0ffbf', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3'}
        Body: b'{"server": {"id": "7a9ae775-c66d-4e79-9a0d-b938fd7331a3", "name": "tempest-VolumesActionsTest-instance-2081136188", "status": "ERROR", "tenant_id": "675d463c1b3b46fe90ad365a8072fe57", "user_id": "f5dd6001991241919e70c5a31bf23c10", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:51:52Z", "updated": "2022-08-16T10:51:54Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:51:54Z", "message": "Build of instance 7a9ae775-c66d-4e79-9a0d-b938fd7331a3 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/
    python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pack
2022-08-16 13:51:55,241 14832 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 13:51:55,708 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3 0.465s
2022-08-16 13:51:55,708 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-24daf820-5b62-422a-8527-a6a0d1c08200', 'x-compute-request-id': 'req-24daf820-5b62-422a-8527-a6a0d1c08200', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3'}
        Body: b''
2022-08-16 13:51:55,742 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3 0.033s
2022-08-16 13:51:55,743 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5f3b164e-3e9e-4e14-9172-7ff44e7b64ba', 'x-compute-request-id': 'req-5f3b164e-3e9e-4e14-9172-7ff44e7b64ba', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 7a9ae775-c66d-4e79-9a0d-b938fd7331a3 could not be found."
    }}'

{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_error [3.665034s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_get_volume_attachment [3.332551s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 81, in test_get_volume_attachment
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:51:57Z', 'message': 'Build of instance b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:51:56,216 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 201 POST http://controller:5000/v3/auth/tokens 0.461s
2022-08-16 13:51:56,216 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:55 GMT', 'server': 'Apache', 'content-length': '3887', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0ed1613c-fcb3-4800-b112-89f48700fa7c', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "f5dd6001991241919e70c5a31bf23c10", "name": "tempest-VolumesActionsTest-1226676630-project", "password_expires_at": null}, "audit_ids": ["Zu2XjrdhQwqZRlAFmJllfQ"], "expires_at": "2022-08-17T10:51:56.000000Z", "issued_at": "2022-08-16T10:51:56.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "675d463c1b3b46fe90ad365a8072fe57", "name": "tempest-VolumesActionsTest-1226676630"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/675d463c1b3b46fe90ad365a8072fe57", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/675d463c1b3b46fe90ad365a8072fe57", "region": "RegionOne"}], "id": "d30e368ce4ac4d1681
    74469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/675d463c1b3b46fe90ad365a8072fe57", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/675d463c1b3b46fe90ad365a8072fe57", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:51:56,224 14832 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_get_volume_attachment) Found network None available for tenant
2022-08-16 13:51:56,461 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.236s
2022-08-16 13:51:56,461 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-1130425295", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:56 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-371c55b9-51cb-46ca-8bc0-4c4e52a59550', 'x-compute-request-id': 'req-371c55b9-51cb-46ca-8bc0-4c4e52a59550', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "Wd8uNRArccAJ"}}'
2022-08-16 13:51:56,548 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b 0.082s
2022-08-16 13:51:56,548 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:56 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-bc433098-b8d5-4e8f-b135-185d04b30b41', 'x-compute-request-id': 'req-bc433098-b8d5-4e8f-b135-185d04b30b41', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b'}
        Body: b'{"server": {"id": "b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b", "name": "tempest-VolumesActionsTest-instance-1130425295", "status": "BUILD", "tenant_id": "675d463c1b3b46fe90ad365a8072fe57", "user_id": "f5dd6001991241919e70c5a31bf23c10", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:51:56Z", "updated": "2022-08-16T10:51:56Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b"}, {"rel": "bookmark", "hre
    f": "http://[LB_IP_ADDRESS]:8774/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:51:57,650 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b 0.090s
2022-08-16 13:51:57,651 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:57 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1343', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-34d3de18-0779-4297-8e40-df1123089a74', 'x-compute-request-id': 'req-34d3de18-0779-4297-8e40-df1123089a74', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b'}
        Body: b'{"server": {"id": "b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b", "name": "tempest-VolumesActionsTest-instance-1130425295", "status": "BUILD", "tenant_id": "675d463c1b3b46fe90ad365a8072fe57", "user_id": "f5dd6001991241919e70c5a31bf23c10", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:51:56Z", "updated": "2022-08-16T10:51:57Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000a1", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:51:57,661 14832 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:51:58,768 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b 0.105s
2022-08-16 13:51:58,769 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:58 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4693', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-041b4bfe-a035-4b5f-8af4-30ea4d56c6b8', 'x-compute-request-id': 'req-041b4bfe-a035-4b5f-8af4-30ea4d56c6b8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b'}
        Body: b'{"server": {"id": "b9e8c4f7-7
    ac6-41c8-be8d-63b1673cd56b", "name": "tempest-VolumesActionsTest-instance-1130425295", "status": "ERROR", "tenant_id": "675d463c1b3b46fe90ad365a8072fe57", "user_id": "f5dd6001991241919e70c5a31bf23c10", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:51:56Z", "updated": "2022-08-16T10:51:57Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:51:57Z", "message": "Build of instance b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pack
2022-08-16 13:51:58,780 14832 
    INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 13:51:59,047 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b 0.266s
2022-08-16 13:51:59,047 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:58 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-256aa74e-012b-4ac3-a2b3-4ef5fe199c87', 'x-compute-request-id': 'req-256aa74e-012b-4ac3-a2b3-4ef5fe199c87', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b'}
        Body: b''
2022-08-16 13:51:59,078 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b 0.029s
2022-08-16 13:51:59,078 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:59 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-44ca60ea-e168-433a-82f1-1bb30745eb86', 'x-compute-request-id': 'req-44ca60ea-e168-433a-82f1-1bb30745eb86', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b could not be found."}}'

{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_reserve_unreserve_volume [0.209870s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_bootable [0.199488s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_readonly_update [0.194502s] ... ok
{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_maintenance [2.575754s] ... ok
{0} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_reset_status [2.888902s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete [7.512201s] ... ok
{0} tempest.api.volume.test_availability_zone.AvailabilityZoneTestJSON.test_get_availability_zone_list [0.167302s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_as_clone [8.912980s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_upload [16.974091s] ... ok
{0} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_delete_cascade [7.308718s] ... ok
{0} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_from_snapshot_cascade_delete [6.363888s] ... ok
{0} tempest.api.volume.test_volume_metadata.VolumesMetadataTest.test_crud_volume_metadata [0.398994s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_from_image [15.019073s] ... ok
{0} tempest.api.volume.test_volume_metadata.VolumesMetadataTest.test_update_show_volume_metadata_item [0.266792s] ... ok
{1} tempest.api.volume.test_volumes_extend.VolumesExtendTest.test_volume_extend [13.564099s] ... ok
{0} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_get_list_accept_volume_transfer [3.698678s] ... ok
{1} tempest.api.volume.test_volumes_extend.VolumesExtendTest.test_volume_extend_when_volume_has_snapshot [5.901034s] ... ok
{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_delete_with_volume_in_use [4.382305s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 48, in test_snapshot_create_delete_with_volume_in_use
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server db66ea6d-a175-4ea4-a8ed-47cc60e60106 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:52:38Z', 'message': 'Build of instance db66ea6d-a175-4ea4-a8ed-47cc60e60106 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance db66ea6d-a175-4ea4-a8ed-47cc60e60106 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:52:36,525 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://controller:5000/v3/auth/tokens 0.482s
2022-08-16 13:52:36,526 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:36 GMT', 'server': 'Apache', 'content-length': '3897', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-62f78715-5a4c-4cdf-83e7-d78a0da62fce', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "f1b5bdb4f84945639067ef384e3f15b2", "name": "tempest-VolumesSnapshotTestJSON-1860719232-project", "password_expires_at": null}, "audit_ids": ["-yrdLLpcQqSGtzGLToxYPQ"], "expires_at": "2022-08-17T10:52:36.000000Z", "issued_at": "2022-08-16T10:52:36.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "74af042448fe46a1b9d8d2dac6e83d2f", "name": "tempest-VolumesSnapshotTestJSON-1860719232"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/74af042448fe46a1b9d8d2dac6e83d2f", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/74af042448fe46a1b9d8d2dac6e83d2f", "region": "Regi
    onOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:52:36,527 14833 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 13:52:36,616 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.089s
2022-08-16 13:52:36,617 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesSnapshotTestJSON-997335640-desc", "domain_id": "default", "name": "tempest-VolumesSnapshotTestJSON-997335640"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:36 GMT', 'server': 'Apache', 'content-length': '380', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-5944f7fd-d86b-4a49-ace2-6d9a3a683a8b', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "36b786084cd24037bd0d806d00053a20", "name": "tempest-VolumesSnapshotTestJSON-997335640", "domain_id": "default", "description": "tempest-VolumesSnapshotTestJSON-997335640-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/36b786084cd24037bd0d806d00053a20"}}}\n'
2022-08-16 13:52:37,083 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.465s
2022-08-16 13:52:37,083 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesSnapshotTestJSON-997335640-project-admin", "password": "Y3__M^XnY#uvGfH", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:36 GMT', 'server': 'Apache', 'content-length': '296', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-1af309a0-18bd-4bf5-8d07-9654692c5bfa', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "f8664aa7cf3f40bf91be9dcfde9e8fd8", "name": "tempest-VolumesSnapshotTestJSON-997335640-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/f8664aa7cf3f40bf91be9dcfde9e8fd8"}}}\n'
2022-08-16 13:52:37,114 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.030s
2022-08-16 13:52:37,114 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-9028a26a-5f49-4718-bb42-676bf607d5e1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "descrip
    tion": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:52:37,162 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/36b786084cd24037bd0d806d00053a20/users/f8664aa7cf3f40bf91be9dcfde9e8fd8/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.046s
2022-08-16 13:52:37,162 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-250cb8a5-767b-40d2-9805-f2afe50a326e', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/36b786084cd24037bd0d806d00053a20/users/f8664aa7cf3f40bf91be9dcfde9e8fd8/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:52:37,239 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.076s
2022-08-16 13:52:37,240 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-a812808b-267f-47a8-8541-7c0617362a1e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:52:37,275 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/f8664aa7cf3f40bf91be9dcfde9e8fd8/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.034s
2022-08-16 13:52:37,276 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response -
     Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0a84a808-d374-4691-b238-928d5ead6cc2', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/f8664aa7cf3f40bf91be9dcfde9e8fd8/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:52:37,347 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.071s
2022-08-16 13:52:37,348 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-bee46270-af7f-4aea-9c41-a9420160d966', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:52:37,385 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/36b786084cd24037bd0d806d00053a20/users/f8664aa7cf3f40bf91be9dcfde9e8fd8/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.036s
2022-08-16 13:52:37,385 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ee4d1d16-bf22-43d3-8955-29aea7c2f1bf', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/36b786084cd24037bd0d806d00053a20/users/f8664aa7cf3f40bf91be9dcfde9e8fd8/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:52:37,495 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.109s
2022-08-16 13:52:37,496 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-31cda888-6283-4ee6-91dd-5a1e665e820b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed
    4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:52:37,538 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/36b786084cd24037bd0d806d00053a20/users/f8664aa7cf3f40bf91be9dcfde9e8fd8/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.042s
2022-08-16 13:52:37,539 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-a27eb2c7-2b6f-4cf4-ad44-34337338309a', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/36b786084cd24037bd0d806d00053a20/users/f8664aa7cf3f40bf91be9dcfde9e8fd8/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:52:37,539 14833 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user f8664aa7cf3f40bf91be9dcfde9e8fd8 is created with scope project and roles: ['admin', 'admin']
2022-08-16 13:52:37,539 14833 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesSnapshotTestJSON-997335640-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '36b786084cd24037bd0d806d00053a20', 'project_name': 'tempest-VolumesSnapshotTestJSON-997335640', 'tenant_id': '36b786084cd24037bd0d806d00053a20', 'tenant_name': 'tempest-VolumesSnapshotTestJSON-997335640', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'f8664aa7cf3f40bf91be9dcfde9e8fd8', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 13:52:37,548 14833 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use) Found network None available for tenant
2022-08-16 13:52:37,794 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.245s
2022-08-16 13:52:37,794 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-1569422871", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7ec88cce-aed8-4dc9-8769-566995e117df', 'x-compute-request-id': 'req-7ec88cce-aed8-4dc9-8769-566995e117df', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "db66ea6d-a175-4ea4-a8ed-47cc60e60106", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed
    -47cc60e60106"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "VXg32xhsr5km"}}'
2022-08-16 13:52:37,873 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106 0.074s
2022-08-16 13:52:37,873 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1327', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-693f1abe-87c5-4b73-8ad2-f00ea8e47db9', 'x-compute-request-id': 'req-693f1abe-87c5-4b73-8ad2-f00ea8e47db9', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106'}
        Body: b'{"server": {"id": "db66ea6d-a175-4ea4-a8ed-47cc60e60106", "name": "tempest-VolumesSnapshotTestJSON-instance-1569422871", "status": "BUILD", "tenant_id": "74af042448fe46a1b9d8d2dac6e83d2f", "user_id": "f1b5bdb4f84945639067ef384e3f15b2", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:37Z", "updated": "2022-08-16T10:52:37Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:52:38,973 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106 0.089s
2022-08-16 13:52:38,974 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:38 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1348', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-acbe653f-1ce4-4f9c-9d01-6e8c5fe489d1', 'x-compute-request-id': 'req-acbe653f-1ce4-4f9c-9d01-6e8c5fe489d1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106'}
        Body: b'{"server": {"id": "db66ea6d-a175-4ea4-a8ed-47cc60e60106", "name": "tempest-VolumesSnapshotTestJSON-instance-1569422871", "status": "BUILD", "tenant_id": "74af042448fe46a1b9d8d2dac6e83d2f", "user_id": "f1b5bdb4f84945639067ef384e3f15b2", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "f
    lavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:37Z", "updated": "2022-08-16T10:52:38Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000a2", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:52:38,984 14833 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:52:40,089 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106 0.103s
2022-08-16 13:52:40,090 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:39 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4698', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-628d10b1-9c21-4cee-9339-f48abe607477', 'x-compute-request-id': 'req-628d10b1-9c21-4cee-9339-f48abe607477', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106'}
        Body: b'{"server": {"id": "db66ea6d-a175-4ea4-a8ed-47cc60e60106", "name": "tempest-VolumesSnapshotTestJSON-instance-1569422871", "status": "ERROR", "tenant_id": "74af042448fe46a1b9d8d2dac6e83d2f", "user_id": "f1b5bdb4f84945639067ef384e3f15b2", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:37Z", "updated": "2022-08-16T10:52:39Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:52:38Z", "message": "Build of instance db66ea6d-a175-4ea4-a8ed-47cc60e60106 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", lin
    e 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site
2022-08-16 13:52:40,100 14833 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 3 second wait
2022-08-16 13:52:40,382 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106 0.281s
2022-08-16 13:52:40,382 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:40 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-48dbd42a-f8bc-4ac2-8191-67ec61a82c2b', 'x-compute-request-id': 'req-48dbd42a-f8bc-4ac2-8191-67ec61a82c2b', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106'}
        Body: b''
2022-08-16 13:52:40,415 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106 0.032s
2022-08-16 13:52:40,416 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:40 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ee37a58d-487c-4f7d-945e-9a4ec262658a', 'x-compute-request-id': 'req-ee37a58d-487c-4f7d-945e-9a4ec262658a', 'co
    nnection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance db66ea6d-a175-4ea4-a8ed-47cc60e60106 could not be found."}}'

{0} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_list_delete_volume_transfer [2.779802s] ... ok
{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_get_list_update_delete [3.514143s] ... ok
{1} tempest.api.volume.test_volumes_get.VolumesSummaryTest.test_show_volume_summary [0.172294s] ... ok
{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_offline_delete_online [5.536556s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 83, in test_snapshot_create_offline_delete_online
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server c6d0455e-be31-4062-821d-c96383b49001 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:52:48Z', 'message': 'Build of instance c6d0455e-be31-4062-821d-c96383b49001 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance c6d0455e-be31-4062-821d-c96383b49001 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:52:44,056 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f/snapshots 0.119s
2022-08-16 13:52:44,057 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "3fba8f36-447e-4e5e-9969-759a40a60e00", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1331135193"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:43 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '310', 'x-compute-request-id': 'req-dd7fba0b-43a2-46f8-bd68-4e9806561799', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-dd7fba0b-43a2-46f8-bd68-4e9806561799', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f/snapshots'}
        Body: b'{"snapshot": {"id": "a54503cb-6608-4f5c-891c-d9fd3f0f2ebd", "created_at": "2022-08-16T10:52:44.010811", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1331135193", "description": null, "volume_id": "3fba8f36-447e-4e5e-9969-759a40a60e00", "status": "creating", "size": 1, "metadata": {}}}'
2022-08-16 13:52:44,087 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f/snapshots/a54503cb-6608-4f5c-891c-d9fd3f0f2ebd 0.027s
2022-08-16 13:52:44,088 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:44 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '442', 'x-compute-request-id': 'req-db8317ad-9835-4cba-8341-aeeb9ccc6dfd', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-db8317ad-9835-4cba-8341-aeeb9ccc6dfd', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f/snapshots/a54503cb-6608-4f5c-891c-d9fd3f0f2ebd'}
        Body: b'{"snapshot": {"id": "a54503cb-6608-4f5c-891c-d9fd3f0f2ebd", "created_at": "2022-08-16T10:52:44.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1331135193", "description": null, "volume_id": "3fba8f36-447e-4e5e-9969-759a40a60e00", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "74af042448fe46a1b9d8d2dac6e83d2f", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-16 13:52:45,119 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f/snapshots/a54503cb-6608-4f5c-891c-d9fd3f0f2ebd 0.027s
2022-08-16 13:52:45,120 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '442', 'x-compute-request-id': 'req-298a9fa1-cdd7-449a-a676-6a7b5e9f9590', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-298a9fa1-cdd7-449a-a676-6a7b5e9f9590', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f/snapshots/a54503cb-6608-4f5c-891c-d9fd3f0f2ebd'}
        Body: b'{"snapshot": {"id": "a54503cb-6608-4f5c-891c-d9fd3f0f2ebd", "created_at": "2022-08-16T10:52:44.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTe
    stJSON-Snapshot-1331135193", "description": null, "volume_id": "3fba8f36-447e-4e5e-9969-759a40a60e00", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "74af042448fe46a1b9d8d2dac6e83d2f", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-16 13:52:46,151 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f/snapshots/a54503cb-6608-4f5c-891c-d9fd3f0f2ebd 0.026s
2022-08-16 13:52:46,151 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '469', 'x-compute-request-id': 'req-224e7060-8b7b-422b-ad0b-c15ce8372138', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-224e7060-8b7b-422b-ad0b-c15ce8372138', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f/snapshots/a54503cb-6608-4f5c-891c-d9fd3f0f2ebd'}
        Body: b'{"snapshot": {"id": "a54503cb-6608-4f5c-891c-d9fd3f0f2ebd", "created_at": "2022-08-16T10:52:44.000000", "updated_at": "2022-08-16T10:52:45.000000", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1331135193", "description": null, "volume_id": "3fba8f36-447e-4e5e-9969-759a40a60e00", "status": "available", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "74af042448fe46a1b9d8d2dac6e83d2f", "os-extended-snapshot-attributes:progress": "100%"}}'
2022-08-16 13:52:46,155 14833 INFO     [tempest.common.waiters] snapshot a54503cb-6608-4f5c-891c-d9fd3f0f2ebd reached available after waiting for 2.155117 seconds
2022-08-16 13:52:46,623 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 201 POST http://controller:5000/v3/auth/tokens 0.460s
2022-08-16 13:52:46,623 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:46 GMT', 'server': 'Apache', 'content-length': '3897', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-26bd9515-1219-4563-9cf1-6fbbe77d4ae1', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "f1b5bdb4f84945639067ef384e3f15b2", "name": "tempest-VolumesSnapshotTestJSON-1860719232-project", "password_expires_at": null}, "audit_ids": ["ciuB5oUcSFa8Bo3f_0KH4Q"], "expires_at": "2022-08-17T10:52:46.000000Z", "issued_at": "2022-08-16T10:52:46.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "74af042448fe46a1b9d8d2dac6e83d2f", "name": "tempest-VolumesSnapshotTestJSON-1860719232"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3",
     "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/74af042448fe46a1b9d8d2dac6e83d2f", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/74af042448fe46a1b9d8d2dac6e83d2f", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:52:46,631 14833 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online) Found network None available for tenant
2022-08-16 13:52:46,861 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.229s
2022-08-16 13:52:46,862 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-1908857060", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b94dbe39-975b-4ced-8534-562c18d966c8', 'x-compute-request-id': 'req-b94dbe39-975b-4ced-8534-562c18d966c8', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "c6d0455e-be31-4062-821d-c96383b49001", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b
    49001"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c6d0455e-be31-4062-821d-c96383b49001"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "ok8iacwK7oTJ"}}'
2022-08-16 13:52:46,941 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001 0.075s
2022-08-16 13:52:46,941 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1327', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b6c2b2fd-f394-4325-89a3-4fa7c3a4435c', 'x-compute-request-id': 'req-b6c2b2fd-f394-4325-89a3-4fa7c3a4435c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001'}
        Body: b'{"server": {"id": "c6d0455e-be31-4062-821d-c96383b49001", "name": "tempest-VolumesSnapshotTestJSON-instance-1908857060", "status": "BUILD", "tenant_id": "74af042448fe46a1b9d8d2dac6e83d2f", "user_id": "f1b5bdb4f84945639067ef384e3f15b2", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:46Z", "updated": "2022-08-16T10:52:46Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c6d0455e-be31-4062-821d-c96383b49001"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:52:48,046 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001 0.093s
2022-08-16 13:52:48,046 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:47 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1348', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3b0e3d8f-b9cc-4c49-b11b-a5104dcd7959', 'x-compute-request-id': 'req-3b0e3d8f-b9cc-4c49-b11b-a5104dcd7959', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001'}
        Body: b'{"server": {"id": "c6d0455e-be31-4062-821d-c96383b49001", "name": "tempest-VolumesSnapshotTestJSON-instance-1908857060", "status": "BUILD", "tenant_id": "74af042448fe46a1b9d8d2dac6e83d2f", "user_id": "f1b5bdb4f84945639067ef384e3f15b2", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "
    0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:46Z", "updated": "2022-08-16T10:52:47Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c6d0455e-be31-4062-821d-c96383b49001"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000a3", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:52:48,057 14833 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 2 second wait
2022-08-16 13:52:49,160 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001 0.101s
2022-08-16 13:52:49,161 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:49 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4698', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ead5a1fe-c72d-4dcd-bc43-2b7b73be7190', 'x-compute-request-id': 'req-ead5a1fe-c72d-4dcd-bc43-2b7b73be7190', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001'}
        Body: b'{"server": {"id": "c6d0455e-be31-4062-821d-c96383b49001", "name": "tempest-VolumesSnapshotTestJSON-instance-1908857060", "status": "ERROR", "tenant_id": "74af042448fe46a1b9d8d2dac6e83d2f", "user_id": "f1b5bdb4f84945639067ef384e3f15b2", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:46Z", "updated": "2022-08-16T10:52:48Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c6d0455e-be31-4062-821d-c96383b49001"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:52:48Z", "message": "Build of instance c6d0455e-be31-4062-821d-c96383b49001 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_d
    evice_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site
2022-08-16 13:52:49,171 14833 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 3 second wait
2022-08-16 13:52:49,436 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001 0.264s
2022-08-16 13:52:49,436 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:49 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a819ec8e-7388-42e5-bfac-d74b58eae9dd', 'x-compute-request-id': 'req-a819ec8e-7388-42e5-bfac-d74b58eae9dd', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001'}
        Body: b''
2022-08-16 13:52:49,471 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001 0.034s
2022-08-16 13:52:49,471 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:49 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-26e29086-1ab8-4dec-b50d-9c52065af43a', 'x-compute-request-id': 'req-26e29086-1ab8-4dec-b50d-9c52065af43a', 'connection': 'close', 'content
    -type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance c6d0455e-be31-4062-821d-c96383b49001 could not be found."}}'

{0} tempest.api.volume.test_volumes_extend.VolumesExtendAttachedTest.test_extend_attached_volume [5.038349s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 187, in test_extend_attached_volume
    self._test_extend_attached_volume(volume)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 117, in _test_extend_attached_volume
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:52:50Z', 'message': 'Build of instance b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:52:47,801 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0/volumes 0.420s
2022-08-16 13:52:47,802 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesExtendAttachedTest-Volume-905276833"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:47 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '891', 'x-compute-request-id': 'req-6109fe2b-0990-4fb5-9c1d-024930bc1dde', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-6109fe2b-0990-4fb5-9c1d-024930bc1dde', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0/volumes'}
        Body: b'{"volume": {"id": "91102802-d9ae-426d-a6e2-a222e662f4a1", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T10:52:47.743906", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-905276833", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1"}], "user_id": "7c4c94c7a29043068cdbf6039e22c7a0", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null}}'
2022-08-16 13:52:47,859 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1 0.047s
2022-08-16 13:52:47,859 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:47 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1070', 'x-compute-request-id': 'req-14c9d8ad-e74c-4026-870b-9fe62a2a6e88', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-14c9d8ad-e74c-4026-870b-9fe62a2a6e88', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1'}
        Body: b'{"volume": {"id": "91102802-d9ae-426d-a6e2-a222e662f4a1", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T10:52:47.000000", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-905276833", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1"}], "user_id": "7c4c94c7a29043068cdbf6039e22c7a0", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-tenant-attr:tenant_id": "27588e4693d142e7819de5979d9b66f0", "os-vol-host-attr:host": null, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_i
    d": null}}'
2022-08-16 13:52:48,919 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1 0.049s
2022-08-16 13:52:48,920 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:48 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1129', 'x-compute-request-id': 'req-4ca60fde-186c-4883-b40b-def64e427a37', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-4ca60fde-186c-4883-b40b-def64e427a37', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1'}
        Body: b'{"volume": {"id": "91102802-d9ae-426d-a6e2-a222e662f4a1", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T10:52:47.000000", "updated_at": "2022-08-16T10:52:48.000000", "name": "tempest-VolumesExtendAttachedTest-Volume-905276833", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1"}], "user_id": "7c4c94c7a29043068cdbf6039e22c7a0", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-tenant-attr:tenant_id": "27588e4693d142e7819de5979d9b66f0", "os-vol-host-attr:host": "rack08-server59@LIGHTOSyridex#yridex", "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null}}'
2022-08-16 13:52:48,929 14831 INFO     [tempest.common.waiters] volume 91102802-d9ae-426d-a6e2-a222e662f4a1 reached available after waiting for 1.929674 seconds
2022-08-16 13:52:49,393 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 201 POST http://controller:5000/v3/auth/tokens 0.457s
2022-08-16 13:52:49,393 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:48 GMT', 'server': 'Apache', 'content-length': '3901', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2031a7dd-3e57-4043-a9e5-9338c6a80c19', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "7c4c94c7a29043068cdbf6039e22c7a0", "name": "tempest-VolumesExtendAttachedTest-1857331257-project", "password_expires_at": null}, "audit_ids": ["Z3MpbP6HQRWDtDZb4_r_YA"], "expires_at": "2022-08-17T10:52:49.000000Z", "issued_at": "2022-08-16T10:52:49.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "27588e4693d142e7819de5979d9b66f0", "name": "tempest-VolumesExtendAttachedTest-1857331257"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "
    interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/27588e4693d142e7819de5979d9b66f0", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/27588e4693d142e7819de5979d9b66f0", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:52:49,401 14831 INFO     [tempest.lib.common.fixed_network] (VolumesExtendAttachedTest:test_extend_attached_volume) Found network None available for tenant
2022-08-16 13:52:49,640 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.238s
2022-08-16 13:52:49,641 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesExtendAttachedTest-instance-1636178902", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:49 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-79cd67a9-92d4-402d-933d-7a079272a1c7', 'x-compute-
    request-id': 'req-79cd67a9-92d4-402d-933d-7a079272a1c7', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "Px46MmaAGcoi"}}'
2022-08-16 13:52:49,720 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 0.076s
2022-08-16 13:52:49,720 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:49 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1329', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-27eddc9c-933f-46a0-886d-04b1d61e6114', 'x-compute-request-id': 'req-27eddc9c-933f-46a0-886d-04b1d61e6114', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0'}
        Body: b'{"server": {"id": "b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0", "name": "tempest-VolumesExtendAttachedTest-instance-1636178902", "status": "BUILD", "tenant_id": "27588e4693d142e7819de5979d9b66f0", "user_id": "7c4c94c7a29043068cdbf6039e22c7a0", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:49Z", "updated": "2022-08-16T10:52:49Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:52:50,826 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 0.094s
2022-08-16 13:52:50,827 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:50 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1350', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-aa20b2d2-773e-484e-bd23-b1fde12081a1', 'x-compute-request-id': 'req-aa20b2d2-773e-484e-bd23-b1fde12081a1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0'}
        Body: b'{"server": {"id": "b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0", "name": "tempest-VolumesExtendAttachedTest-in
    stance-1636178902", "status": "BUILD", "tenant_id": "27588e4693d142e7819de5979d9b66f0", "user_id": "7c4c94c7a29043068cdbf6039e22c7a0", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:49Z", "updated": "2022-08-16T10:52:50Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000a4", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:52:50,836 14831 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:52:51,934 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 0.096s
2022-08-16 13:52:51,934 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:51 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4700', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a7a271c6-227d-415e-bfad-5ec912043949', 'x-compute-request-id': 'req-a7a271c6-227d-415e-bfad-5ec912043949', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0'}
        Body: b'{"server": {"id": "b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0", "name": "tempest-VolumesExtendAttachedTest-instance-1636178902", "status": "ERROR", "tenant_id": "27588e4693d142e7819de5979d9b66f0", "user_id": "7c4c94c7a29043068cdbf6039e22c7a0", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:49Z", "updated": "2022-08-16T10:52:50Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:52:50Z", "message": "Build of instance b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_n
    ames_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/si
2022-08-16 13:52:51,944 14831 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 13:52:52,381 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 0.436s
2022-08-16 13:52:52,381 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:51 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0ceacf60-8805-4ef3-92f9-d7158f5173f0', 'x-compute-request-id': 'req-0ceacf60-8805-4ef3-92f9-d7158f5173f0', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0'}
        Body: b''
2022-08-16 13:52:52,416 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 0.034s
2022-08-16 13:52:52,417 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1
    11', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-47435bd7-9502-40a6-ad8b-679a3cb1ab9d', 'x-compute-request-id': 'req-47435bd7-9502-40a6-ad8b-679a3cb1ab9d', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 could not be found."}}'

{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_attach_volumes_with_nonexistent_volume_id [4.322113s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_negative.py", line 179, in test_attach_volumes_with_nonexistent_volume_id
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 014d92b6-d835-4729-982a-5d9208bb879e failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:52:53Z', 'message': 'Build of instance 014d92b6-d835-4729-982a-5d9208bb879e aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 014d92b6-d835-4729-982a-5d9208bb879e aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:52:51,415 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://controller:5000/v3/auth/tokens 0.413s
2022-08-16 13:52:51,415 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:51 GMT', 'server': 'Apache', 'content-length': '3887', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-dd3c87a7-836a-4da3-84cc-0f5351eb251c', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "78ce2f6ac66e400e89fda71ef164a58f", "name": "tempest-VolumesNegativeTest-159139354-project", "password_expires_at": null}, "audit_ids": ["omtdKhr1TmOYbz10IQxg5g"], "expires_at": "2022-08-17T10:52:51.000000Z", "issued_at": "2022-08-16T10:52:51.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "71ad227918f14e138a48f35f9769a7aa", "name": "tempest-VolumesNegativeTest-159139354"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/71ad227918f14e138a48f35f9769a7aa", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/71ad227918f14e138a48f35f9769a7aa", "region": "RegionOne"}], "id"
    : "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/71ad227918f14e138a48f35f9769a7aa", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/71ad227918f14e138a48f35f9769a7aa", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:52:51,416 14832 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 13:52:51,519 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.102s
2022-08-16 13:52:51,519 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesNegativeTest-621595317-desc", "domain_id": "default", "name": "tempest-VolumesNegativeTest-621595317"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:51 GMT', 'server': 'Apache', 'content-length': '372', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-daf0ab16-23e6-4bb0-b06f-670ad22a7349', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "726d813db36f435ebd0e75a2d5a6da4e", "name": "tempest-VolumesNegativeTest-621595317", "domain_id": "default", "description": "tempest-VolumesNegativeTest-621595317-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/726d813db36f435ebd0e75a2d5a6da4e"}}}\n'
2022-08-16 13:52:51,986 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.466s
2022-08-16 13:52:51,986 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesNegativeTest-621595317-project-admin", "password": "P5*JtuNUk9XRfA~", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:51 GMT', 'server': 'Apache', 'content-length': '292', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-f6cfa229-141e-4b23-bd74-e464cd7488a9', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "9ebf3789719e4423acda9bfcf3e74091", "name": "tempest-VolumesNegativeTest-621595317-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/9ebf3789719e4423acda9bfcf3e74091"}}}\n'
2022-08-16 13:52:52,016 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.028s
2022-08-16 13:52:52,016 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:51 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-c3a79e23-625a-4ef2-ac4a-2d3bbb90291c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "link
    s": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:52:52,063 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/726d813db36f435ebd0e75a2d5a6da4e/users/9ebf3789719e4423acda9bfcf3e74091/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.046s
2022-08-16 13:52:52,063 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-073c88a2-9521-429f-92ee-08aa385c2e36', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/726d813db36f435ebd0e75a2d5a6da4e/users/9ebf3789719e4423acda9bfcf3e74091/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:52:52,132 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.067s
2022-08-16 13:52:52,132 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-4c6bd91f-584d-44ef-8a6b-de7b627f0761', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:52:52,166 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/9ebf3789719e4423acda9bfcf3e74091/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.033s
2022-08-16 13:52:52,166 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 
    'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-200eb30f-727a-4164-8ee2-01469e7491ba', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/9ebf3789719e4423acda9bfcf3e74091/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:52:52,238 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.071s
2022-08-16 13:52:52,238 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-1ece1ad5-c4bc-41fe-ae25-96fa36b167bd', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:52:52,272 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/726d813db36f435ebd0e75a2d5a6da4e/users/9ebf3789719e4423acda9bfcf3e74091/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.033s
2022-08-16 13:52:52,272 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e7d89674-c1c4-49f3-89d6-447ad66b5b57', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/726d813db36f435ebd0e75a2d5a6da4e/users/9ebf3789719e4423acda9bfcf3e74091/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:52:52,344 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.071s
2022-08-16 13:52:52,344 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-35add6ee-4c03-417b-bbbc-077bea41dd1e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "opt
    ions": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:52:52,379 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/726d813db36f435ebd0e75a2d5a6da4e/users/9ebf3789719e4423acda9bfcf3e74091/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.034s
2022-08-16 13:52:52,379 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b40c37d2-548f-46cb-949c-5d8994abb0a3', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/726d813db36f435ebd0e75a2d5a6da4e/users/9ebf3789719e4423acda9bfcf3e74091/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:52:52,380 14832 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 9ebf3789719e4423acda9bfcf3e74091 is created with scope project and roles: ['admin', 'admin']
2022-08-16 13:52:52,380 14832 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesNegativeTest-621595317-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '726d813db36f435ebd0e75a2d5a6da4e', 'project_name': 'tempest-VolumesNegativeTest-621595317', 'tenant_id': '726d813db36f435ebd0e75a2d5a6da4e', 'tenant_name': 'tempest-VolumesNegativeTest-621595317', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '9ebf3789719e4423acda9bfcf3e74091', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 13:52:52,470 14832 INFO     [tempest.lib.common.fixed_network] (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id) Found network None available for tenant
2022-08-16 13:52:52,724 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.253s
2022-08-16 13:52:52,725 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesNegativeTest-instance-1963628191", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-2e2b26ab-e050-4243-94ec-973a10dac6fc', 'x-compute-request-id': 'req-2e2b26ab-e050-4243-94ec-973a10dac6fc', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "014d92b6-d835-4729-982a-5d9208bb879e", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/014d92b6-d835-4729-98
    2a-5d9208bb879e"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "EtwC559EGs42"}}'
2022-08-16 13:52:52,799 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e 0.071s
2022-08-16 13:52:52,800 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1323', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-9584e04a-c159-4c60-bc6d-cf47e2d1afd9', 'x-compute-request-id': 'req-9584e04a-c159-4c60-bc6d-cf47e2d1afd9', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e'}
        Body: b'{"server": {"id": "014d92b6-d835-4729-982a-5d9208bb879e", "name": "tempest-VolumesNegativeTest-instance-1963628191", "status": "BUILD", "tenant_id": "71ad227918f14e138a48f35f9769a7aa", "user_id": "78ce2f6ac66e400e89fda71ef164a58f", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:52Z", "updated": "2022-08-16T10:52:52Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/014d92b6-d835-4729-982a-5d9208bb879e"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:52:53,897 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e 0.086s
2022-08-16 13:52:53,898 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:53 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1344', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-25eb35a8-9b31-4f8a-a4d6-6ca10bcbae5d', 'x-compute-request-id': 'req-25eb35a8-9b31-4f8a-a4d6-6ca10bcbae5d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e'}
        Body: b'{"server": {"id": "014d92b6-d835-4729-982a-5d9208bb879e", "name": "tempest-VolumesNegativeTest-instance-1963628191", "status": "BUILD", "tenant_id": "71ad227918f14e138a48f35f9769a7aa", "user_id": "78ce2f6ac66e400e89fda71ef164a58f", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-
    08-16T10:52:52Z", "updated": "2022-08-16T10:52:53Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/014d92b6-d835-4729-982a-5d9208bb879e"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000a5", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:52:53,908 14832 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:52:55,012 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e 0.102s
2022-08-16 13:52:55,012 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4694', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8aae6718-4863-4744-b1d6-7dfb88709582', 'x-compute-request-id': 'req-8aae6718-4863-4744-b1d6-7dfb88709582', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e'}
        Body: b'{"server": {"id": "014d92b6-d835-4729-982a-5d9208bb879e", "name": "tempest-VolumesNegativeTest-instance-1963628191", "status": "ERROR", "tenant_id": "71ad227918f14e138a48f35f9769a7aa", "user_id": "78ce2f6ac66e400e89fda71ef164a58f", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:52Z", "updated": "2022-08-16T10:52:54Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/014d92b6-d835-4729-982a-5d9208bb879e"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:52:53Z", "message": "Build of instance 014d92b6-d835-4729-982a-5d9208bb879e aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/py
    thon3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pac
2022-08-16 13:52:55,026 14832 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 3 second wait
2022-08-16 13:52:55,271 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e 0.244s
2022-08-16 13:52:55,271 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1117edd1-df4a-4c82-a52e-08662699f0af', 'x-compute-request-id': 'req-1117edd1-df4a-4c82-a52e-08662699f0af', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e'}
        Body: b''
2022-08-16 13:52:55,315 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e 0.043s
2022-08-16 13:52:55,315 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7057a7de-c1be-4b63-9a3d-4b117826344a', 'x-compute-request-id': 'req-7057a7de-c1be-4b63-9a3d-4b117826344a', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]
    :8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 014d92b6-d835-4729-982a-5d9208bb879e could not be found."}}'

{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_from_deactivated_image [0.536162s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_from_image_with_decreasing_size [0.365490s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.018607s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_snapshot_id [0.030857s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_source_volid [0.033475s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_volume_type [0.028495s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_negative [0.017933s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.017637s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.013326s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.027329s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.012806s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_detach_volumes_with_invalid_volume_id [0.028704s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_get_invalid_volume_id [0.030902s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.011647s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_detail_with_invalid_status [0.044821s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_detail_with_nonexistent_name [0.041862s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_with_invalid_status [0.045208s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_with_nonexistent_name [0.036503s] ... ok
{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot [7.206853s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_reserve_volume_with_negative_volume_status [0.130865s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_reserve_volume_with_nonexistent_volume_id [0.026367s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_unreserve_volume_with_nonexistent_volume_id [0.026809s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_empty_volume_id [0.012894s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_invalid_volume_id [0.028817s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_nonexistent_volume_id [0.033561s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.028366s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_None_size [0.019350s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_non_number_size [0.017511s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_nonexistent_volume_id [0.031283s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_size_smaller_than_original_size [0.017623s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_without_passing_volume_id [0.031096s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.030026s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_with_nonexistent_volume_id [0.185010s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_without_passing_volume_id [0.032376s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshot_invalid_param_limit [0.014368s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_marker [0.030203s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_sort [0.020344s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list [0.042514s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_by_name [0.043529s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_by_name [0.064182s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_pagination [0.249095s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_with_multiple_params [0.119708s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_pagination [0.192916s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_param_display_name_and_status [0.044034s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_display_name_and_status [0.053202s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_marker [0.064945s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_metadata [0.067984s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_details [0.052082s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_param_metadata [0.047968s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_availability_zone [0.086711s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_bootable [0.090230s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_status [0.088450s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_availability_zone [0.056384s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_bootable [0.062439s] ... ok
{0} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_status [0.062887s] ... ok
{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot_no_size [8.241168s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_volume_from_snapshot_decreasing_size [3.690922s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit [0.031378s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit_equals_infinite [0.065808s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit_equals_zero [0.028418s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_marker [0.071174s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_offset [0.028983s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_created_at_asc [0.033740s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_created_at_desc [0.038049s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_id_asc [0.031437s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_id_desc [0.031712s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_name_asc [0.030011s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_name_desc [0.037117s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshots_list_details_with_params [0.094921s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshots_list_with_params [0.092610s] ... ok

==============================
Failed 8 tests - output below:
==============================

tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_list_get_volume_attachments_multiattach[id-8d5853f7-56e7-4988-9b0c-48cea3c7049a]
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 406, in test_list_get_volume_attachments_multiattach
    servers, volume, attachments = self._create_and_multiattach()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 389, in _create_and_multiattach
    'ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server f865840f-40dc-46f2-aec3-db58ff4b78f1 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:49:54Z', 'message': 'Build of instance f865840f-40dc-46f2-aec3-db58ff4b78f1 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance f865840f-40dc-46f2-aec3-db58ff4b78f1 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:49:52,569 14831 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.462s
2022-08-16 13:49:52,569 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:49:52 GMT', 'server': 'Apache', 'content-length': '3905', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-4ee25272-a5d5-4772-8fa2-38d3d2a7b683', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "a52e91675d354c34bd9ebf8967b2a6d1", "name": "tempest-AttachVolumeMultiAttachTest-1444998973-project", "password_expires_at": null}, "audit_ids": ["QRCXzks3SC2_oqxjdjRc2A"], "expires_at": "2022-08-17T10:49:52.000000Z", "issued_at": "2022-08-16T10:49:52.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "e6bedc3d44eb4223a9642f9e629e83c7", "name": "tempest-AttachVolumeMultiAttachTest-1444998973"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/e6bedc3d44eb4223a9642f9e629e83c7", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/e6bedc3d44eb4223a9642f9e629e83c7", "regi
    on": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/e6bedc3d44eb4223a9642f9e629e83c7", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/e6bedc3d44eb4223a9642f9e629e83c7", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:49:52,578 14831 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-16 13:49:52,732 14831 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.153s
2022-08-16 13:49:52,732 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-0", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:49:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7459dafe-b102-4242-a86b-31eaf84301ca', 'x-compute-request-id': 'req-7459dafe-b102-4242-a86b-31eaf84301ca', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "f865840f-40dc-46f2-aec3-db58ff4b78f1", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "9F29w6pqAWkT"}}'
2022-08-16 13:49:53,206 14831 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.465s
2022-08-16 13:49:53,207 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:49:52 GMT', 'server': 'Apache', 'content-length': '3905', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7161cd8b-e839-45a3-bcb4-2944dfff3a2a', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "a52e91675d354c34bd9ebf8967b2a6d1", "name": "tempest-AttachVolumeMultiAttachTest-1444998973-project", "password_expires_at": null}, "audit_ids": ["sC0_IZQCQ_ajtju5jbOSKw"], "expires_at": "2022-08-17T10:49:53.000000Z", "issued_at": "2022-08-16T10:49:53.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "e6bedc3d44eb4223a9642f9e629e83c7", "name": "tempest-AttachVolumeMultiAttachTest-1444998973"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region":
     "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/e6bedc3d44eb4223a9642f9e629e83c7", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/e6bedc3d44eb4223a9642f9e629e83c7", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/e6bedc3d44eb4223a9642f9e629e83c7", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/e6bedc3d44eb4223a9642f9e629e83c7", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:49:53,215 14831 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-16 13:49:53,351 14831 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.135s
2022-08-16 13:49:53,352 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-1", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:49:53 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/763bb3e8-2a83-4def-88d3-0602b997c07e', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStac
    k-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5a860b7a-d31b-4fe9-8d35-3413b3b53125', 'x-compute-request-id': 'req-5a860b7a-d31b-4fe9-8d35-3413b3b53125', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "763bb3e8-2a83-4def-88d3-0602b997c07e", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/763bb3e8-2a83-4def-88d3-0602b997c07e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/763bb3e8-2a83-4def-88d3-0602b997c07e"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "CXw9oWhc5sYa"}}'
2022-08-16 13:49:53,461 14831 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1 0.106s
2022-08-16 13:49:53,461 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:49:53 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1760', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-71813298-8580-40ae-b973-e2a836c4f4a6', 'x-compute-request-id': 'req-71813298-8580-40ae-b973-e2a836c4f4a6', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1'}
        Body: b'{"server": {"id": "f865840f-40dc-46f2-aec3-db58ff4b78f1", "name": "multiattach-server-0", "status": "BUILD", "tenant_id": "e6bedc3d44eb4223a9642f9e629e83c7", "user_id": "a52e91675d354c34bd9ebf8967b2a6d1", "metadata": {}, "hostId": "c216044b6e49e63d2e847339550a9d6f25187c36e00f276c3036c1e2", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-16T10:49:52Z", "updated": "2022-08-16T10:49:53Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": "rack05-server62", "OS-EXT-SRV-ATTR:instance_name": "instance-0000009c", "OS-EXT-SRV-ATTR:hypervisor_hostname": "rack05-server62", "OS-EXT-SRV-ATTR:reservation_id": "r-kh08s7sh", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "UP", "locked": false, "description": null, "tags": []}}'
2022-08-16 13:49:54,569 14831 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1 0.094s
2022-08-16 13:49:54,569 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {
    'date': 'Tue, 16 Aug 2022 10:49:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '5040', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6d4c115f-a5a7-4ef1-b8ae-94590b4b1af2', 'x-compute-request-id': 'req-6d4c115f-a5a7-4ef1-b8ae-94590b4b1af2', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1'}
        Body: b'{"server": {"id": "f865840f-40dc-46f2-aec3-db58ff4b78f1", "name": "multiattach-server-0", "status": "ERROR", "tenant_id": "e6bedc3d44eb4223a9642f9e629e83c7", "user_id": "a52e91675d354c34bd9ebf8967b2a6d1", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-16T10:49:52Z", "updated": "2022-08-16T10:49:54Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/f865840f-40dc-46f2-aec3-db58ff4b78f1"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:49:54Z", "message": "Build of instance f865840f-40dc-46f2-aec3-db58ff4b78f1 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.
    10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/no
2022-08-16 13:49:54,581 14831 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 1 second wait


tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_force_detach_volume[compute,id-d38285d9-929d-478f-96a5-00e66a115b81]
------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/admin/test_volumes_actions.py", line 83, in test_force_detach_volume
    server_id = self.create_server()['id']

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 3b78a208-1524-48cb-b0b2-df0d5569f9ec failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:51:46Z', 'message': 'Build of instance 3b78a208-1524-48cb-b0b2-df0d5569f9ec aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 3b78a208-1524-48cb-b0b2-df0d5569f9ec aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:51:44,158 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 201 POST http://controller:5000/v3/auth/tokens 0.485s
2022-08-16 13:51:44,158 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:43 GMT', 'server': 'Apache', 'content-length': '3885', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-12f1eef2-c401-403a-8018-0f5c7fe5160b', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "37d4e203dfbf4ceaa5a27e956954837f", "name": "tempest-VolumesActionsTest-963756262-project", "password_expires_at": null}, "audit_ids": ["1sbM8igWRMSfa-tJZnARVg"], "expires_at": "2022-08-17T10:51:44.000000Z", "issued_at": "2022-08-16T10:51:44.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "410d83c18f924cc3a1c2c4e91d2a4913", "name": "tempest-VolumesActionsTest-963756262"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/410d83c18f924cc3a1c2c4e91d2a4913", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/410d83c18f924cc3a1c2c4e91d2a4913", "region": "RegionOne"}], "id": "d30e368ce4ac4d16817446
    9113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/410d83c18f924cc3a1c2c4e91d2a4913", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/410d83c18f924cc3a1c2c4e91d2a4913", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:51:44,166 14831 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_force_detach_volume) Found network None available for tenant
2022-08-16 13:51:44,602 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.435s
2022-08-16 13:51:44,602 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-995686083", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:44 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a5fb516a-33d2-4506-b037-5483afb7e17b', 'x-compute-request-id': 'req-a5fb516a-33d2-4506-b037-5483afb7e17b', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "3b78a208-1524-48cb-b0b2-df0d5569f9ec", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "oCokNwR66UCz"}}'
2022-08-16 13:51:44,689 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec 0.083s
2022-08-16 13:51:44,689 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:44 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1321', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d01fff55-343b-4406-a9ba-512e1c256ebd', 'x-compute-request-id': 'req-d01fff55-343b-4406-a9ba-512e1c256ebd', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec'}
        Body: b'{"server": {"id": "3b78a208-1524-48cb-b0b2-df0d5569f9ec", "name": "tempest-VolumesActionsTest-instance-995686083", "status": "BUILD", "tenant_id": "410d83c18f924cc3a1c2c4e91d2a4913", "user_id": "37d4e203dfbf4ceaa5a27e956954837f", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:51:44Z", "updated": "2022-08-16T10:51:44Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec"}, {"rel": "bookmark", "href": "http://
    [LB_IP_ADDRESS]:8774/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:51:45,794 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec 0.093s
2022-08-16 13:51:45,795 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1334', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-73d2d0b1-bd3f-430e-ae9d-3369ac045dac', 'x-compute-request-id': 'req-73d2d0b1-bd3f-430e-ae9d-3369ac045dac', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec'}
        Body: b'{"server": {"id": "3b78a208-1524-48cb-b0b2-df0d5569f9ec", "name": "tempest-VolumesActionsTest-instance-995686083", "status": "BUILD", "tenant_id": "410d83c18f924cc3a1c2c4e91d2a4913", "user_id": "37d4e203dfbf4ceaa5a27e956954837f", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:51:44Z", "updated": "2022-08-16T10:51:45Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-0000009f", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:51:45,805 14831 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/None" after 1 second wait
2022-08-16 13:51:46,907 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec 0.101s
2022-08-16 13:51:46,908 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4692', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-4a5bff9e-382e-4c39-8f5f-430d7dcb7803', 'x-compute-request-id': 'req-4a5bff9e-382e-4c39-8f5f-430d7dcb7803', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec'}
        Body: b'{"server": {"id": "3b78a208-1524-48cb-b0b2-df0d5569f9ec", "n
    ame": "tempest-VolumesActionsTest-instance-995686083", "status": "ERROR", "tenant_id": "410d83c18f924cc3a1c2c4e91d2a4913", "user_id": "37d4e203dfbf4ceaa5a27e956954837f", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:51:44Z", "updated": "2022-08-16T10:51:46Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:51:46Z", "message": "Build of instance 3b78a208-1524-48cb-b0b2-df0d5569f9ec aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packa
2022-08-16 13:51:46,918 14831 INFO     [tempest.common.waiter
    s] State transition "BUILD/None" ==> "ERROR/None" after 2 second wait
2022-08-16 13:51:47,180 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec 0.262s
2022-08-16 13:51:47,181 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a14af968-3a23-495d-b4f7-87b4dd0aefb9', 'x-compute-request-id': 'req-a14af968-3a23-495d-b4f7-87b4dd0aefb9', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec'}
        Body: b''
2022-08-16 13:51:47,214 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec 0.033s
2022-08-16 13:51:47,215 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:47 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-e3ebe85d-3c74-40f1-abeb-4d29073a15dc', 'x-compute-request-id': 'req-e3ebe85d-3c74-40f1-abeb-4d29073a15dc', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3b78a208-1524-48cb-b0b2-df0d5569f9ec'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 3b78a208-1524-48cb-b0b2-df0d5569f9ec could not be found."}}'


tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_attach_detach_volume_to_instance[compute,id-fff42874-7db5-4487-a8e1-ddda5fb5288d,smoke]
-------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 45, in test_attach_detach_volume_to_instance
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 7a9ae775-c66d-4e79-9a0d-b938fd7331a3 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:51:54Z', 'message': 'Build of instance 7a9ae775-c66d-4e79-9a0d-b938fd7331a3 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 7a9ae775-c66d-4e79-9a0d-b938fd7331a3 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:51:51,617 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://controller:5000/v3/auth/tokens 0.494s
2022-08-16 13:51:51,617 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:51 GMT', 'server': 'Apache', 'content-length': '3887', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-5ccdda2d-3d9b-40e6-8044-730dfc8ebb2b', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "f5dd6001991241919e70c5a31bf23c10", "name": "tempest-VolumesActionsTest-1226676630-project", "password_expires_at": null}, "audit_ids": ["RxpiBGVyTe6ubJnSf69v2g"], "expires_at": "2022-08-17T10:51:51.000000Z", "issued_at": "2022-08-16T10:51:51.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "675d463c1b3b46fe90ad365a8072fe57", "name": "tempest-VolumesActionsTest-1226676630"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/675d463c1b3b46fe90ad365a8072fe57", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/675d463c1b3b46fe90ad365a8072fe57", "region": "RegionOne"}], "id": "d30e368
    ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/675d463c1b3b46fe90ad365a8072fe57", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/675d463c1b3b46fe90ad365a8072fe57", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:51:51,618 14832 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 13:51:51,714 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.095s
2022-08-16 13:51:51,714 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesActionsTest-2071768426-desc", "domain_id": "default", "name": "tempest-VolumesActionsTest-2071768426"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:51 GMT', 'server': 'Apache', 'content-length': '372', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-92a9112a-8b61-4e01-bafe-8dc1a4886d44', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "aa5f7e56069f48d9b797554651e2678a", "name": "tempest-VolumesActionsTest-2071768426", "domain_id": "default", "description": "tempest-VolumesActionsTest-2071768426-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/aa5f7e56069f48d9b797554651e2678a"}}}\n'
2022-08-16 13:51:52,208 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.493s
2022-08-16 13:51:52,208 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesActionsTest-2071768426-project-admin", "password": "O6+D^x@r3pSq8h1", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:51 GMT', 'server': 'Apache', 'content-length': '292', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-d3fe8ec8-a354-475a-97c8-e3c8433c34ca', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "d8193409f60d49a2b43ecb48e983e733", "name": "tempest-VolumesActionsTest-2071768426-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/d8193409f60d49a2b43ecb48e983e733"}}}\n'
2022-08-16 13:51:52,286 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.077s
2022-08-16 13:51:52,286 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-def75e8d-b70b-41e5-844b-461e9332864e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000
    /v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:51:52,338 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/aa5f7e56069f48d9b797554651e2678a/users/d8193409f60d49a2b43ecb48e983e733/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.051s
2022-08-16 13:51:52,339 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e9dfac5e-49e5-4868-acf9-bc00fa20e4a3', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/aa5f7e56069f48d9b797554651e2678a/users/d8193409f60d49a2b43ecb48e983e733/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:51:52,413 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.073s
2022-08-16 13:51:52,414 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-52c368c2-cbc1-4dff-ab72-75590b1f45ce', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:51:52,452 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/d8193409f60d49a2b43ecb48e983e733/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.038s
2022-08-16 13:51:52,453 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-5ca81
    1bb-3400-4f8c-8cf2-5fdea3eee599', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/d8193409f60d49a2b43ecb48e983e733/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:51:52,528 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.074s
2022-08-16 13:51:52,528 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7b840ae2-5d45-4daa-8fec-70ce4e6aa93f', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:51:52,563 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/aa5f7e56069f48d9b797554651e2678a/users/d8193409f60d49a2b43ecb48e983e733/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.034s
2022-08-16 13:51:52,563 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3e3fb8bc-85ad-41a7-8485-c75e16d14295', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/aa5f7e56069f48d9b797554651e2678a/users/d8193409f60d49a2b43ecb48e983e733/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:51:52,633 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.069s
2022-08-16 13:51:52,634 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3e30b306-d316-46e9-95e6-35e5ed20d5cf', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a
    2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:51:52,677 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/aa5f7e56069f48d9b797554651e2678a/users/d8193409f60d49a2b43ecb48e983e733/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.043s
2022-08-16 13:51:52,678 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-60907648-daa4-4aad-8913-5568f24c6a2d', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/aa5f7e56069f48d9b797554651e2678a/users/d8193409f60d49a2b43ecb48e983e733/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:51:52,678 14832 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user d8193409f60d49a2b43ecb48e983e733 is created with scope project and roles: ['admin', 'admin']
2022-08-16 13:51:52,679 14832 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesActionsTest-2071768426-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': 'aa5f7e56069f48d9b797554651e2678a', 'project_name': 'tempest-VolumesActionsTest-2071768426', 'tenant_id': 'aa5f7e56069f48d9b797554651e2678a', 'tenant_name': 'tempest-VolumesActionsTest-2071768426', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'd8193409f60d49a2b43ecb48e983e733', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 13:51:52,688 14832 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_attach_detach_volume_to_instance) Found network None available for tenant
2022-08-16 13:51:52,927 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.238s
2022-08-16 13:51:52,928 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-2081136188", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0451cd75-917a-4470-8ee9-428d5c00b30b', 'x-compute-request-id': 'req-0451cd75-917a-4470-8ee9-428d5c00b30b', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "7a9ae775-c66d-4e79-9a0d-b938fd7331a3", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "SuGx9PjR7AK8"}}'
2022-08
    -16 13:51:53,015 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3 0.084s
2022-08-16 13:51:53,015 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3629aca3-07c1-4271-854c-f0fa89b1fd9c', 'x-compute-request-id': 'req-3629aca3-07c1-4271-854c-f0fa89b1fd9c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3'}
        Body: b'{"server": {"id": "7a9ae775-c66d-4e79-9a0d-b938fd7331a3", "name": "tempest-VolumesActionsTest-instance-2081136188", "status": "BUILD", "tenant_id": "675d463c1b3b46fe90ad365a8072fe57", "user_id": "f5dd6001991241919e70c5a31bf23c10", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:51:52Z", "updated": "2022-08-16T10:51:52Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:51:54,116 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3 0.090s
2022-08-16 13:51:54,117 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1343', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-963d3236-4e51-49c6-a2a7-23eba9922488', 'x-compute-request-id': 'req-963d3236-4e51-49c6-a2a7-23eba9922488', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3'}
        Body: b'{"server": {"id": "7a9ae775-c66d-4e79-9a0d-b938fd7331a3", "name": "tempest-VolumesActionsTest-instance-2081136188", "status": "BUILD", "tenant_id": "675d463c1b3b46fe90ad365a8072fe57", "user_id": "f5dd6001991241919e70c5a31bf23c10", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:51:52Z", "updated": "2022-08-16T10:51:53Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://192.1
    68.17.193:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000a0", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:51:54,127 14832 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:51:55,231 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3 0.102s
2022-08-16 13:51:55,231 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4693', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-02e6ff93-5e75-478c-97b3-fca5e4d0ffbf', 'x-compute-request-id': 'req-02e6ff93-5e75-478c-97b3-fca5e4d0ffbf', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3'}
        Body: b'{"server": {"id": "7a9ae775-c66d-4e79-9a0d-b938fd7331a3", "name": "tempest-VolumesActionsTest-instance-2081136188", "status": "ERROR", "tenant_id": "675d463c1b3b46fe90ad365a8072fe57", "user_id": "f5dd6001991241919e70c5a31bf23c10", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:51:52Z", "updated": "2022-08-16T10:51:54Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:51:54Z", "message": "Build of instance 7a9ae775-c66d-4e79-9a0d-b938fd7331a3 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/
    python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pack
2022-08-16 13:51:55,241 14832 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 13:51:55,708 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3 0.465s
2022-08-16 13:51:55,708 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-24daf820-5b62-422a-8527-a6a0d1c08200', 'x-compute-request-id': 'req-24daf820-5b62-422a-8527-a6a0d1c08200', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3'}
        Body: b''
2022-08-16 13:51:55,742 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3 0.033s
2022-08-16 13:51:55,743 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5f3b164e-3e9e-4e14-9172-7ff44e7b64ba', 'x-compute-request-id': 'req-5f3b164e-3e9e-4e14-9172-7ff44e7b64ba', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/7a9ae775-c66d-4e79-9a0d-b938fd7331a3'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 7a9ae775-c66d-4e79-9a0d-b938fd7331a3 could not be found."
    }}'


tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_get_volume_attachment[compute,id-9516a2c8-9135-488c-8dd6-5677a7e5f371]
--------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 81, in test_get_volume_attachment
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:51:57Z', 'message': 'Build of instance b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:51:56,216 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 201 POST http://controller:5000/v3/auth/tokens 0.461s
2022-08-16 13:51:56,216 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:55 GMT', 'server': 'Apache', 'content-length': '3887', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0ed1613c-fcb3-4800-b112-89f48700fa7c', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "f5dd6001991241919e70c5a31bf23c10", "name": "tempest-VolumesActionsTest-1226676630-project", "password_expires_at": null}, "audit_ids": ["Zu2XjrdhQwqZRlAFmJllfQ"], "expires_at": "2022-08-17T10:51:56.000000Z", "issued_at": "2022-08-16T10:51:56.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "675d463c1b3b46fe90ad365a8072fe57", "name": "tempest-VolumesActionsTest-1226676630"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/675d463c1b3b46fe90ad365a8072fe57", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/675d463c1b3b46fe90ad365a8072fe57", "region": "RegionOne"}], "id": "d30e368ce4ac4d1681
    74469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/675d463c1b3b46fe90ad365a8072fe57", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/675d463c1b3b46fe90ad365a8072fe57", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:51:56,224 14832 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_get_volume_attachment) Found network None available for tenant
2022-08-16 13:51:56,461 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.236s
2022-08-16 13:51:56,461 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-1130425295", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:56 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-371c55b9-51cb-46ca-8bc0-4c4e52a59550', 'x-compute-request-id': 'req-371c55b9-51cb-46ca-8bc0-4c4e52a59550', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "Wd8uNRArccAJ"}}'
2022-08-16 13:51:56,548 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b 0.082s
2022-08-16 13:51:56,548 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:56 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-bc433098-b8d5-4e8f-b135-185d04b30b41', 'x-compute-request-id': 'req-bc433098-b8d5-4e8f-b135-185d04b30b41', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b'}
        Body: b'{"server": {"id": "b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b", "name": "tempest-VolumesActionsTest-instance-1130425295", "status": "BUILD", "tenant_id": "675d463c1b3b46fe90ad365a8072fe57", "user_id": "f5dd6001991241919e70c5a31bf23c10", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:51:56Z", "updated": "2022-08-16T10:51:56Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b"}, {"rel": "bookmark", "hre
    f": "http://[LB_IP_ADDRESS]:8774/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:51:57,650 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b 0.090s
2022-08-16 13:51:57,651 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:57 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1343', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-34d3de18-0779-4297-8e40-df1123089a74', 'x-compute-request-id': 'req-34d3de18-0779-4297-8e40-df1123089a74', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b'}
        Body: b'{"server": {"id": "b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b", "name": "tempest-VolumesActionsTest-instance-1130425295", "status": "BUILD", "tenant_id": "675d463c1b3b46fe90ad365a8072fe57", "user_id": "f5dd6001991241919e70c5a31bf23c10", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:51:56Z", "updated": "2022-08-16T10:51:57Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000a1", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:51:57,661 14832 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:51:58,768 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b 0.105s
2022-08-16 13:51:58,769 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:58 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4693', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-041b4bfe-a035-4b5f-8af4-30ea4d56c6b8', 'x-compute-request-id': 'req-041b4bfe-a035-4b5f-8af4-30ea4d56c6b8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b'}
        Body: b'{"server": {"id": "b9e8c4f7-7
    ac6-41c8-be8d-63b1673cd56b", "name": "tempest-VolumesActionsTest-instance-1130425295", "status": "ERROR", "tenant_id": "675d463c1b3b46fe90ad365a8072fe57", "user_id": "f5dd6001991241919e70c5a31bf23c10", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:51:56Z", "updated": "2022-08-16T10:51:57Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:51:57Z", "message": "Build of instance b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pack
2022-08-16 13:51:58,780 14832 
    INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 13:51:59,047 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b 0.266s
2022-08-16 13:51:59,047 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:58 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-256aa74e-012b-4ac3-a2b3-4ef5fe199c87', 'x-compute-request-id': 'req-256aa74e-012b-4ac3-a2b3-4ef5fe199c87', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b'}
        Body: b''
2022-08-16 13:51:59,078 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b 0.029s
2022-08-16 13:51:59,078 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:51:59 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-44ca60ea-e168-433a-82f1-1bb30745eb86', 'x-compute-request-id': 'req-44ca60ea-e168-433a-82f1-1bb30745eb86', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance b9e8c4f7-7ac6-41c8-be8d-63b1673cd56b could not be found."}}'


tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_delete_with_volume_in_use[compute,id-8567b54c-4455-446d-a1cf-651ddeaa3ff2]
-----------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 48, in test_snapshot_create_delete_with_volume_in_use
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server db66ea6d-a175-4ea4-a8ed-47cc60e60106 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:52:38Z', 'message': 'Build of instance db66ea6d-a175-4ea4-a8ed-47cc60e60106 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance db66ea6d-a175-4ea4-a8ed-47cc60e60106 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:52:36,525 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://controller:5000/v3/auth/tokens 0.482s
2022-08-16 13:52:36,526 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:36 GMT', 'server': 'Apache', 'content-length': '3897', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-62f78715-5a4c-4cdf-83e7-d78a0da62fce', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "f1b5bdb4f84945639067ef384e3f15b2", "name": "tempest-VolumesSnapshotTestJSON-1860719232-project", "password_expires_at": null}, "audit_ids": ["-yrdLLpcQqSGtzGLToxYPQ"], "expires_at": "2022-08-17T10:52:36.000000Z", "issued_at": "2022-08-16T10:52:36.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "74af042448fe46a1b9d8d2dac6e83d2f", "name": "tempest-VolumesSnapshotTestJSON-1860719232"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/74af042448fe46a1b9d8d2dac6e83d2f", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/74af042448fe46a1b9d8d2dac6e83d2f", "region": "Regi
    onOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:52:36,527 14833 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 13:52:36,616 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.089s
2022-08-16 13:52:36,617 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesSnapshotTestJSON-997335640-desc", "domain_id": "default", "name": "tempest-VolumesSnapshotTestJSON-997335640"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:36 GMT', 'server': 'Apache', 'content-length': '380', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-5944f7fd-d86b-4a49-ace2-6d9a3a683a8b', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "36b786084cd24037bd0d806d00053a20", "name": "tempest-VolumesSnapshotTestJSON-997335640", "domain_id": "default", "description": "tempest-VolumesSnapshotTestJSON-997335640-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/36b786084cd24037bd0d806d00053a20"}}}\n'
2022-08-16 13:52:37,083 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.465s
2022-08-16 13:52:37,083 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesSnapshotTestJSON-997335640-project-admin", "password": "Y3__M^XnY#uvGfH", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:36 GMT', 'server': 'Apache', 'content-length': '296', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-1af309a0-18bd-4bf5-8d07-9654692c5bfa', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "f8664aa7cf3f40bf91be9dcfde9e8fd8", "name": "tempest-VolumesSnapshotTestJSON-997335640-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/f8664aa7cf3f40bf91be9dcfde9e8fd8"}}}\n'
2022-08-16 13:52:37,114 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.030s
2022-08-16 13:52:37,114 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-9028a26a-5f49-4718-bb42-676bf607d5e1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "descrip
    tion": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:52:37,162 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/36b786084cd24037bd0d806d00053a20/users/f8664aa7cf3f40bf91be9dcfde9e8fd8/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.046s
2022-08-16 13:52:37,162 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-250cb8a5-767b-40d2-9805-f2afe50a326e', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/36b786084cd24037bd0d806d00053a20/users/f8664aa7cf3f40bf91be9dcfde9e8fd8/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:52:37,239 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.076s
2022-08-16 13:52:37,240 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-a812808b-267f-47a8-8541-7c0617362a1e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:52:37,275 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/f8664aa7cf3f40bf91be9dcfde9e8fd8/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.034s
2022-08-16 13:52:37,276 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response -
     Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0a84a808-d374-4691-b238-928d5ead6cc2', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/f8664aa7cf3f40bf91be9dcfde9e8fd8/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:52:37,347 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.071s
2022-08-16 13:52:37,348 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-bee46270-af7f-4aea-9c41-a9420160d966', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:52:37,385 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/36b786084cd24037bd0d806d00053a20/users/f8664aa7cf3f40bf91be9dcfde9e8fd8/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.036s
2022-08-16 13:52:37,385 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ee4d1d16-bf22-43d3-8955-29aea7c2f1bf', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/36b786084cd24037bd0d806d00053a20/users/f8664aa7cf3f40bf91be9dcfde9e8fd8/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:52:37,495 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.109s
2022-08-16 13:52:37,496 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-31cda888-6283-4ee6-91dd-5a1e665e820b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed
    4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:52:37,538 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/36b786084cd24037bd0d806d00053a20/users/f8664aa7cf3f40bf91be9dcfde9e8fd8/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.042s
2022-08-16 13:52:37,539 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-a27eb2c7-2b6f-4cf4-ad44-34337338309a', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/36b786084cd24037bd0d806d00053a20/users/f8664aa7cf3f40bf91be9dcfde9e8fd8/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:52:37,539 14833 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user f8664aa7cf3f40bf91be9dcfde9e8fd8 is created with scope project and roles: ['admin', 'admin']
2022-08-16 13:52:37,539 14833 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesSnapshotTestJSON-997335640-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '36b786084cd24037bd0d806d00053a20', 'project_name': 'tempest-VolumesSnapshotTestJSON-997335640', 'tenant_id': '36b786084cd24037bd0d806d00053a20', 'tenant_name': 'tempest-VolumesSnapshotTestJSON-997335640', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'f8664aa7cf3f40bf91be9dcfde9e8fd8', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 13:52:37,548 14833 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use) Found network None available for tenant
2022-08-16 13:52:37,794 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.245s
2022-08-16 13:52:37,794 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-1569422871", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7ec88cce-aed8-4dc9-8769-566995e117df', 'x-compute-request-id': 'req-7ec88cce-aed8-4dc9-8769-566995e117df', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "db66ea6d-a175-4ea4-a8ed-47cc60e60106", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed
    -47cc60e60106"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "VXg32xhsr5km"}}'
2022-08-16 13:52:37,873 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106 0.074s
2022-08-16 13:52:37,873 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:37 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1327', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-693f1abe-87c5-4b73-8ad2-f00ea8e47db9', 'x-compute-request-id': 'req-693f1abe-87c5-4b73-8ad2-f00ea8e47db9', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106'}
        Body: b'{"server": {"id": "db66ea6d-a175-4ea4-a8ed-47cc60e60106", "name": "tempest-VolumesSnapshotTestJSON-instance-1569422871", "status": "BUILD", "tenant_id": "74af042448fe46a1b9d8d2dac6e83d2f", "user_id": "f1b5bdb4f84945639067ef384e3f15b2", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:37Z", "updated": "2022-08-16T10:52:37Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:52:38,973 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106 0.089s
2022-08-16 13:52:38,974 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:38 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1348', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-acbe653f-1ce4-4f9c-9d01-6e8c5fe489d1', 'x-compute-request-id': 'req-acbe653f-1ce4-4f9c-9d01-6e8c5fe489d1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106'}
        Body: b'{"server": {"id": "db66ea6d-a175-4ea4-a8ed-47cc60e60106", "name": "tempest-VolumesSnapshotTestJSON-instance-1569422871", "status": "BUILD", "tenant_id": "74af042448fe46a1b9d8d2dac6e83d2f", "user_id": "f1b5bdb4f84945639067ef384e3f15b2", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "f
    lavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:37Z", "updated": "2022-08-16T10:52:38Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000a2", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:52:38,984 14833 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:52:40,089 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106 0.103s
2022-08-16 13:52:40,090 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:39 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4698', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-628d10b1-9c21-4cee-9339-f48abe607477', 'x-compute-request-id': 'req-628d10b1-9c21-4cee-9339-f48abe607477', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106'}
        Body: b'{"server": {"id": "db66ea6d-a175-4ea4-a8ed-47cc60e60106", "name": "tempest-VolumesSnapshotTestJSON-instance-1569422871", "status": "ERROR", "tenant_id": "74af042448fe46a1b9d8d2dac6e83d2f", "user_id": "f1b5bdb4f84945639067ef384e3f15b2", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:37Z", "updated": "2022-08-16T10:52:39Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:52:38Z", "message": "Build of instance db66ea6d-a175-4ea4-a8ed-47cc60e60106 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", lin
    e 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site
2022-08-16 13:52:40,100 14833 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 3 second wait
2022-08-16 13:52:40,382 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106 0.281s
2022-08-16 13:52:40,382 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:40 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-48dbd42a-f8bc-4ac2-8191-67ec61a82c2b', 'x-compute-request-id': 'req-48dbd42a-f8bc-4ac2-8191-67ec61a82c2b', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106'}
        Body: b''
2022-08-16 13:52:40,415 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106 0.032s
2022-08-16 13:52:40,416 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:40 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ee37a58d-487c-4f7d-945e-9a4ec262658a', 'x-compute-request-id': 'req-ee37a58d-487c-4f7d-945e-9a4ec262658a', 'co
    nnection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/db66ea6d-a175-4ea4-a8ed-47cc60e60106'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance db66ea6d-a175-4ea4-a8ed-47cc60e60106 could not be found."}}'


tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_offline_delete_online[compute,id-5210a1de-85a0-11e6-bb21-641c676a5d61]
-------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 83, in test_snapshot_create_offline_delete_online
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server c6d0455e-be31-4062-821d-c96383b49001 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:52:48Z', 'message': 'Build of instance c6d0455e-be31-4062-821d-c96383b49001 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance c6d0455e-be31-4062-821d-c96383b49001 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:52:44,056 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f/snapshots 0.119s
2022-08-16 13:52:44,057 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "3fba8f36-447e-4e5e-9969-759a40a60e00", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1331135193"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:43 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '310', 'x-compute-request-id': 'req-dd7fba0b-43a2-46f8-bd68-4e9806561799', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-dd7fba0b-43a2-46f8-bd68-4e9806561799', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f/snapshots'}
        Body: b'{"snapshot": {"id": "a54503cb-6608-4f5c-891c-d9fd3f0f2ebd", "created_at": "2022-08-16T10:52:44.010811", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1331135193", "description": null, "volume_id": "3fba8f36-447e-4e5e-9969-759a40a60e00", "status": "creating", "size": 1, "metadata": {}}}'
2022-08-16 13:52:44,087 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f/snapshots/a54503cb-6608-4f5c-891c-d9fd3f0f2ebd 0.027s
2022-08-16 13:52:44,088 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:44 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '442', 'x-compute-request-id': 'req-db8317ad-9835-4cba-8341-aeeb9ccc6dfd', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-db8317ad-9835-4cba-8341-aeeb9ccc6dfd', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f/snapshots/a54503cb-6608-4f5c-891c-d9fd3f0f2ebd'}
        Body: b'{"snapshot": {"id": "a54503cb-6608-4f5c-891c-d9fd3f0f2ebd", "created_at": "2022-08-16T10:52:44.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1331135193", "description": null, "volume_id": "3fba8f36-447e-4e5e-9969-759a40a60e00", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "74af042448fe46a1b9d8d2dac6e83d2f", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-16 13:52:45,119 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f/snapshots/a54503cb-6608-4f5c-891c-d9fd3f0f2ebd 0.027s
2022-08-16 13:52:45,120 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '442', 'x-compute-request-id': 'req-298a9fa1-cdd7-449a-a676-6a7b5e9f9590', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-298a9fa1-cdd7-449a-a676-6a7b5e9f9590', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f/snapshots/a54503cb-6608-4f5c-891c-d9fd3f0f2ebd'}
        Body: b'{"snapshot": {"id": "a54503cb-6608-4f5c-891c-d9fd3f0f2ebd", "created_at": "2022-08-16T10:52:44.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTe
    stJSON-Snapshot-1331135193", "description": null, "volume_id": "3fba8f36-447e-4e5e-9969-759a40a60e00", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "74af042448fe46a1b9d8d2dac6e83d2f", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-16 13:52:46,151 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f/snapshots/a54503cb-6608-4f5c-891c-d9fd3f0f2ebd 0.026s
2022-08-16 13:52:46,151 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '469', 'x-compute-request-id': 'req-224e7060-8b7b-422b-ad0b-c15ce8372138', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-224e7060-8b7b-422b-ad0b-c15ce8372138', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f/snapshots/a54503cb-6608-4f5c-891c-d9fd3f0f2ebd'}
        Body: b'{"snapshot": {"id": "a54503cb-6608-4f5c-891c-d9fd3f0f2ebd", "created_at": "2022-08-16T10:52:44.000000", "updated_at": "2022-08-16T10:52:45.000000", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1331135193", "description": null, "volume_id": "3fba8f36-447e-4e5e-9969-759a40a60e00", "status": "available", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "74af042448fe46a1b9d8d2dac6e83d2f", "os-extended-snapshot-attributes:progress": "100%"}}'
2022-08-16 13:52:46,155 14833 INFO     [tempest.common.waiters] snapshot a54503cb-6608-4f5c-891c-d9fd3f0f2ebd reached available after waiting for 2.155117 seconds
2022-08-16 13:52:46,623 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 201 POST http://controller:5000/v3/auth/tokens 0.460s
2022-08-16 13:52:46,623 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:46 GMT', 'server': 'Apache', 'content-length': '3897', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-26bd9515-1219-4563-9cf1-6fbbe77d4ae1', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "f1b5bdb4f84945639067ef384e3f15b2", "name": "tempest-VolumesSnapshotTestJSON-1860719232-project", "password_expires_at": null}, "audit_ids": ["ciuB5oUcSFa8Bo3f_0KH4Q"], "expires_at": "2022-08-17T10:52:46.000000Z", "issued_at": "2022-08-16T10:52:46.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "74af042448fe46a1b9d8d2dac6e83d2f", "name": "tempest-VolumesSnapshotTestJSON-1860719232"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3",
     "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/74af042448fe46a1b9d8d2dac6e83d2f", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/74af042448fe46a1b9d8d2dac6e83d2f", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/74af042448fe46a1b9d8d2dac6e83d2f", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:52:46,631 14833 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online) Found network None available for tenant
2022-08-16 13:52:46,861 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.229s
2022-08-16 13:52:46,862 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-1908857060", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b94dbe39-975b-4ced-8534-562c18d966c8', 'x-compute-request-id': 'req-b94dbe39-975b-4ced-8534-562c18d966c8', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "c6d0455e-be31-4062-821d-c96383b49001", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b
    49001"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c6d0455e-be31-4062-821d-c96383b49001"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "ok8iacwK7oTJ"}}'
2022-08-16 13:52:46,941 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001 0.075s
2022-08-16 13:52:46,941 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1327', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b6c2b2fd-f394-4325-89a3-4fa7c3a4435c', 'x-compute-request-id': 'req-b6c2b2fd-f394-4325-89a3-4fa7c3a4435c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001'}
        Body: b'{"server": {"id": "c6d0455e-be31-4062-821d-c96383b49001", "name": "tempest-VolumesSnapshotTestJSON-instance-1908857060", "status": "BUILD", "tenant_id": "74af042448fe46a1b9d8d2dac6e83d2f", "user_id": "f1b5bdb4f84945639067ef384e3f15b2", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:46Z", "updated": "2022-08-16T10:52:46Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c6d0455e-be31-4062-821d-c96383b49001"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:52:48,046 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001 0.093s
2022-08-16 13:52:48,046 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:47 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1348', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3b0e3d8f-b9cc-4c49-b11b-a5104dcd7959', 'x-compute-request-id': 'req-3b0e3d8f-b9cc-4c49-b11b-a5104dcd7959', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001'}
        Body: b'{"server": {"id": "c6d0455e-be31-4062-821d-c96383b49001", "name": "tempest-VolumesSnapshotTestJSON-instance-1908857060", "status": "BUILD", "tenant_id": "74af042448fe46a1b9d8d2dac6e83d2f", "user_id": "f1b5bdb4f84945639067ef384e3f15b2", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "
    0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:46Z", "updated": "2022-08-16T10:52:47Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c6d0455e-be31-4062-821d-c96383b49001"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000a3", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:52:48,057 14833 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 2 second wait
2022-08-16 13:52:49,160 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001 0.101s
2022-08-16 13:52:49,161 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:49 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4698', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ead5a1fe-c72d-4dcd-bc43-2b7b73be7190', 'x-compute-request-id': 'req-ead5a1fe-c72d-4dcd-bc43-2b7b73be7190', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001'}
        Body: b'{"server": {"id": "c6d0455e-be31-4062-821d-c96383b49001", "name": "tempest-VolumesSnapshotTestJSON-instance-1908857060", "status": "ERROR", "tenant_id": "74af042448fe46a1b9d8d2dac6e83d2f", "user_id": "f1b5bdb4f84945639067ef384e3f15b2", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:46Z", "updated": "2022-08-16T10:52:48Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c6d0455e-be31-4062-821d-c96383b49001"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:52:48Z", "message": "Build of instance c6d0455e-be31-4062-821d-c96383b49001 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_d
    evice_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site
2022-08-16 13:52:49,171 14833 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 3 second wait
2022-08-16 13:52:49,436 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001 0.264s
2022-08-16 13:52:49,436 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:49 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a819ec8e-7388-42e5-bfac-d74b58eae9dd', 'x-compute-request-id': 'req-a819ec8e-7388-42e5-bfac-d74b58eae9dd', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001'}
        Body: b''
2022-08-16 13:52:49,471 14833 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001 0.034s
2022-08-16 13:52:49,471 14833 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:49 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-26e29086-1ab8-4dec-b50d-9c52065af43a', 'x-compute-request-id': 'req-26e29086-1ab8-4dec-b50d-9c52065af43a', 'connection': 'close', 'content
    -type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c6d0455e-be31-4062-821d-c96383b49001'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance c6d0455e-be31-4062-821d-c96383b49001 could not be found."}}'


tempest.api.volume.test_volumes_extend.VolumesExtendAttachedTest.test_extend_attached_volume[compute,id-301f5a30-1c6f-4ea0-be1a-91fd28d44354]
---------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 187, in test_extend_attached_volume
    self._test_extend_attached_volume(volume)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 117, in _test_extend_attached_volume
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:52:50Z', 'message': 'Build of instance b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:52:47,801 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0/volumes 0.420s
2022-08-16 13:52:47,802 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesExtendAttachedTest-Volume-905276833"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:47 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '891', 'x-compute-request-id': 'req-6109fe2b-0990-4fb5-9c1d-024930bc1dde', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-6109fe2b-0990-4fb5-9c1d-024930bc1dde', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0/volumes'}
        Body: b'{"volume": {"id": "91102802-d9ae-426d-a6e2-a222e662f4a1", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T10:52:47.743906", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-905276833", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1"}], "user_id": "7c4c94c7a29043068cdbf6039e22c7a0", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null}}'
2022-08-16 13:52:47,859 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1 0.047s
2022-08-16 13:52:47,859 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:47 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1070', 'x-compute-request-id': 'req-14c9d8ad-e74c-4026-870b-9fe62a2a6e88', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-14c9d8ad-e74c-4026-870b-9fe62a2a6e88', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1'}
        Body: b'{"volume": {"id": "91102802-d9ae-426d-a6e2-a222e662f4a1", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T10:52:47.000000", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-905276833", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1"}], "user_id": "7c4c94c7a29043068cdbf6039e22c7a0", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-tenant-attr:tenant_id": "27588e4693d142e7819de5979d9b66f0", "os-vol-host-attr:host": null, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_i
    d": null}}'
2022-08-16 13:52:48,919 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1 0.049s
2022-08-16 13:52:48,920 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:48 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1129', 'x-compute-request-id': 'req-4ca60fde-186c-4883-b40b-def64e427a37', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-4ca60fde-186c-4883-b40b-def64e427a37', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1'}
        Body: b'{"volume": {"id": "91102802-d9ae-426d-a6e2-a222e662f4a1", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T10:52:47.000000", "updated_at": "2022-08-16T10:52:48.000000", "name": "tempest-VolumesExtendAttachedTest-Volume-905276833", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/27588e4693d142e7819de5979d9b66f0/volumes/91102802-d9ae-426d-a6e2-a222e662f4a1"}], "user_id": "7c4c94c7a29043068cdbf6039e22c7a0", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-tenant-attr:tenant_id": "27588e4693d142e7819de5979d9b66f0", "os-vol-host-attr:host": "rack08-server59@LIGHTOSyridex#yridex", "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null}}'
2022-08-16 13:52:48,929 14831 INFO     [tempest.common.waiters] volume 91102802-d9ae-426d-a6e2-a222e662f4a1 reached available after waiting for 1.929674 seconds
2022-08-16 13:52:49,393 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 201 POST http://controller:5000/v3/auth/tokens 0.457s
2022-08-16 13:52:49,393 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:48 GMT', 'server': 'Apache', 'content-length': '3901', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2031a7dd-3e57-4043-a9e5-9338c6a80c19', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "7c4c94c7a29043068cdbf6039e22c7a0", "name": "tempest-VolumesExtendAttachedTest-1857331257-project", "password_expires_at": null}, "audit_ids": ["Z3MpbP6HQRWDtDZb4_r_YA"], "expires_at": "2022-08-17T10:52:49.000000Z", "issued_at": "2022-08-16T10:52:49.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "27588e4693d142e7819de5979d9b66f0", "name": "tempest-VolumesExtendAttachedTest-1857331257"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "
    interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/27588e4693d142e7819de5979d9b66f0", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/27588e4693d142e7819de5979d9b66f0", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/27588e4693d142e7819de5979d9b66f0", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:52:49,401 14831 INFO     [tempest.lib.common.fixed_network] (VolumesExtendAttachedTest:test_extend_attached_volume) Found network None available for tenant
2022-08-16 13:52:49,640 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.238s
2022-08-16 13:52:49,641 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesExtendAttachedTest-instance-1636178902", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:49 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-79cd67a9-92d4-402d-933d-7a079272a1c7', 'x-compute-
    request-id': 'req-79cd67a9-92d4-402d-933d-7a079272a1c7', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "Px46MmaAGcoi"}}'
2022-08-16 13:52:49,720 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 0.076s
2022-08-16 13:52:49,720 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:49 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1329', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-27eddc9c-933f-46a0-886d-04b1d61e6114', 'x-compute-request-id': 'req-27eddc9c-933f-46a0-886d-04b1d61e6114', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0'}
        Body: b'{"server": {"id": "b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0", "name": "tempest-VolumesExtendAttachedTest-instance-1636178902", "status": "BUILD", "tenant_id": "27588e4693d142e7819de5979d9b66f0", "user_id": "7c4c94c7a29043068cdbf6039e22c7a0", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:49Z", "updated": "2022-08-16T10:52:49Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:52:50,826 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 0.094s
2022-08-16 13:52:50,827 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:50 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1350', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-aa20b2d2-773e-484e-bd23-b1fde12081a1', 'x-compute-request-id': 'req-aa20b2d2-773e-484e-bd23-b1fde12081a1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0'}
        Body: b'{"server": {"id": "b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0", "name": "tempest-VolumesExtendAttachedTest-in
    stance-1636178902", "status": "BUILD", "tenant_id": "27588e4693d142e7819de5979d9b66f0", "user_id": "7c4c94c7a29043068cdbf6039e22c7a0", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:49Z", "updated": "2022-08-16T10:52:50Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000a4", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:52:50,836 14831 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:52:51,934 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 0.096s
2022-08-16 13:52:51,934 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:51 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4700', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a7a271c6-227d-415e-bfad-5ec912043949', 'x-compute-request-id': 'req-a7a271c6-227d-415e-bfad-5ec912043949', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0'}
        Body: b'{"server": {"id": "b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0", "name": "tempest-VolumesExtendAttachedTest-instance-1636178902", "status": "ERROR", "tenant_id": "27588e4693d142e7819de5979d9b66f0", "user_id": "7c4c94c7a29043068cdbf6039e22c7a0", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:49Z", "updated": "2022-08-16T10:52:50Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:52:50Z", "message": "Build of instance b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_n
    ames_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/si
2022-08-16 13:52:51,944 14831 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 13:52:52,381 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 0.436s
2022-08-16 13:52:52,381 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:51 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0ceacf60-8805-4ef3-92f9-d7158f5173f0', 'x-compute-request-id': 'req-0ceacf60-8805-4ef3-92f9-d7158f5173f0', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0'}
        Body: b''
2022-08-16 13:52:52,416 14831 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 0.034s
2022-08-16 13:52:52,417 14831 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1
    11', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-47435bd7-9502-40a6-ad8b-679a3cb1ab9d', 'x-compute-request-id': 'req-47435bd7-9502-40a6-ad8b-679a3cb1ab9d', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance b181f5e6-e8f6-4bc4-a5b3-3c33fbb3b9e0 could not be found."}}'


tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_attach_volumes_with_nonexistent_volume_id[compute,id-f5e56b0a-5d02-43c1-a2a7-c9b792c2e3f6,negative]
---------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_negative.py", line 179, in test_attach_volumes_with_nonexistent_volume_id
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 014d92b6-d835-4729-982a-5d9208bb879e failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:52:53Z', 'message': 'Build of instance 014d92b6-d835-4729-982a-5d9208bb879e aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 014d92b6-d835-4729-982a-5d9208bb879e aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:52:51,415 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://controller:5000/v3/auth/tokens 0.413s
2022-08-16 13:52:51,415 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:51 GMT', 'server': 'Apache', 'content-length': '3887', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-dd3c87a7-836a-4da3-84cc-0f5351eb251c', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "78ce2f6ac66e400e89fda71ef164a58f", "name": "tempest-VolumesNegativeTest-159139354-project", "password_expires_at": null}, "audit_ids": ["omtdKhr1TmOYbz10IQxg5g"], "expires_at": "2022-08-17T10:52:51.000000Z", "issued_at": "2022-08-16T10:52:51.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "71ad227918f14e138a48f35f9769a7aa", "name": "tempest-VolumesNegativeTest-159139354"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/71ad227918f14e138a48f35f9769a7aa", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/71ad227918f14e138a48f35f9769a7aa", "region": "RegionOne"}], "id"
    : "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/71ad227918f14e138a48f35f9769a7aa", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/71ad227918f14e138a48f35f9769a7aa", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:52:51,416 14832 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 13:52:51,519 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.102s
2022-08-16 13:52:51,519 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesNegativeTest-621595317-desc", "domain_id": "default", "name": "tempest-VolumesNegativeTest-621595317"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:51 GMT', 'server': 'Apache', 'content-length': '372', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-daf0ab16-23e6-4bb0-b06f-670ad22a7349', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "726d813db36f435ebd0e75a2d5a6da4e", "name": "tempest-VolumesNegativeTest-621595317", "domain_id": "default", "description": "tempest-VolumesNegativeTest-621595317-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/726d813db36f435ebd0e75a2d5a6da4e"}}}\n'
2022-08-16 13:52:51,986 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.466s
2022-08-16 13:52:51,986 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesNegativeTest-621595317-project-admin", "password": "P5*JtuNUk9XRfA~", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:51 GMT', 'server': 'Apache', 'content-length': '292', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-f6cfa229-141e-4b23-bd74-e464cd7488a9', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "9ebf3789719e4423acda9bfcf3e74091", "name": "tempest-VolumesNegativeTest-621595317-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/9ebf3789719e4423acda9bfcf3e74091"}}}\n'
2022-08-16 13:52:52,016 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.028s
2022-08-16 13:52:52,016 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:51 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-c3a79e23-625a-4ef2-ac4a-2d3bbb90291c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "link
    s": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:52:52,063 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/726d813db36f435ebd0e75a2d5a6da4e/users/9ebf3789719e4423acda9bfcf3e74091/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.046s
2022-08-16 13:52:52,063 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-073c88a2-9521-429f-92ee-08aa385c2e36', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/726d813db36f435ebd0e75a2d5a6da4e/users/9ebf3789719e4423acda9bfcf3e74091/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:52:52,132 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.067s
2022-08-16 13:52:52,132 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-4c6bd91f-584d-44ef-8a6b-de7b627f0761', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:52:52,166 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/9ebf3789719e4423acda9bfcf3e74091/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.033s
2022-08-16 13:52:52,166 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 
    'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-200eb30f-727a-4164-8ee2-01469e7491ba', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/9ebf3789719e4423acda9bfcf3e74091/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:52:52,238 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.071s
2022-08-16 13:52:52,238 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-1ece1ad5-c4bc-41fe-ae25-96fa36b167bd', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:52:52,272 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/726d813db36f435ebd0e75a2d5a6da4e/users/9ebf3789719e4423acda9bfcf3e74091/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.033s
2022-08-16 13:52:52,272 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e7d89674-c1c4-49f3-89d6-447ad66b5b57', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/726d813db36f435ebd0e75a2d5a6da4e/users/9ebf3789719e4423acda9bfcf3e74091/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:52:52,344 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.071s
2022-08-16 13:52:52,344 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-35add6ee-4c03-417b-bbbc-077bea41dd1e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "opt
    ions": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:52:52,379 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/726d813db36f435ebd0e75a2d5a6da4e/users/9ebf3789719e4423acda9bfcf3e74091/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.034s
2022-08-16 13:52:52,379 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b40c37d2-548f-46cb-949c-5d8994abb0a3', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/726d813db36f435ebd0e75a2d5a6da4e/users/9ebf3789719e4423acda9bfcf3e74091/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:52:52,380 14832 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 9ebf3789719e4423acda9bfcf3e74091 is created with scope project and roles: ['admin', 'admin']
2022-08-16 13:52:52,380 14832 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesNegativeTest-621595317-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '726d813db36f435ebd0e75a2d5a6da4e', 'project_name': 'tempest-VolumesNegativeTest-621595317', 'tenant_id': '726d813db36f435ebd0e75a2d5a6da4e', 'tenant_name': 'tempest-VolumesNegativeTest-621595317', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '9ebf3789719e4423acda9bfcf3e74091', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 13:52:52,470 14832 INFO     [tempest.lib.common.fixed_network] (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id) Found network None available for tenant
2022-08-16 13:52:52,724 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.253s
2022-08-16 13:52:52,725 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesNegativeTest-instance-1963628191", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-2e2b26ab-e050-4243-94ec-973a10dac6fc', 'x-compute-request-id': 'req-2e2b26ab-e050-4243-94ec-973a10dac6fc', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "014d92b6-d835-4729-982a-5d9208bb879e", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/014d92b6-d835-4729-98
    2a-5d9208bb879e"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "EtwC559EGs42"}}'
2022-08-16 13:52:52,799 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e 0.071s
2022-08-16 13:52:52,800 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1323', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-9584e04a-c159-4c60-bc6d-cf47e2d1afd9', 'x-compute-request-id': 'req-9584e04a-c159-4c60-bc6d-cf47e2d1afd9', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e'}
        Body: b'{"server": {"id": "014d92b6-d835-4729-982a-5d9208bb879e", "name": "tempest-VolumesNegativeTest-instance-1963628191", "status": "BUILD", "tenant_id": "71ad227918f14e138a48f35f9769a7aa", "user_id": "78ce2f6ac66e400e89fda71ef164a58f", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:52Z", "updated": "2022-08-16T10:52:52Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/014d92b6-d835-4729-982a-5d9208bb879e"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:52:53,897 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e 0.086s
2022-08-16 13:52:53,898 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:53 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1344', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-25eb35a8-9b31-4f8a-a4d6-6ca10bcbae5d', 'x-compute-request-id': 'req-25eb35a8-9b31-4f8a-a4d6-6ca10bcbae5d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e'}
        Body: b'{"server": {"id": "014d92b6-d835-4729-982a-5d9208bb879e", "name": "tempest-VolumesNegativeTest-instance-1963628191", "status": "BUILD", "tenant_id": "71ad227918f14e138a48f35f9769a7aa", "user_id": "78ce2f6ac66e400e89fda71ef164a58f", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-
    08-16T10:52:52Z", "updated": "2022-08-16T10:52:53Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/014d92b6-d835-4729-982a-5d9208bb879e"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000a5", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:52:53,908 14832 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:52:55,012 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e 0.102s
2022-08-16 13:52:55,012 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4694', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8aae6718-4863-4744-b1d6-7dfb88709582', 'x-compute-request-id': 'req-8aae6718-4863-4744-b1d6-7dfb88709582', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e'}
        Body: b'{"server": {"id": "014d92b6-d835-4729-982a-5d9208bb879e", "name": "tempest-VolumesNegativeTest-instance-1963628191", "status": "ERROR", "tenant_id": "71ad227918f14e138a48f35f9769a7aa", "user_id": "78ce2f6ac66e400e89fda71ef164a58f", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:52:52Z", "updated": "2022-08-16T10:52:54Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/014d92b6-d835-4729-982a-5d9208bb879e"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:52:53Z", "message": "Build of instance 014d92b6-d835-4729-982a-5d9208bb879e aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/py
    thon3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pac
2022-08-16 13:52:55,026 14832 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 3 second wait
2022-08-16 13:52:55,271 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e 0.244s
2022-08-16 13:52:55,271 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1117edd1-df4a-4c82-a52e-08662699f0af', 'x-compute-request-id': 'req-1117edd1-df4a-4c82-a52e-08662699f0af', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e'}
        Body: b''
2022-08-16 13:52:55,315 14832 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e 0.043s
2022-08-16 13:52:55,315 14832 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:52:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7057a7de-c1be-4b63-9a3d-4b117826344a', 'x-compute-request-id': 'req-7057a7de-c1be-4b63-9a3d-4b117826344a', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]
    :8774/v2.1/servers/014d92b6-d835-4729-982a-5d9208bb879e'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 014d92b6-d835-4729-982a-5d9208bb879e could not be found."}}'



======
Totals
======
Ran: 218 tests in 232.8805 sec.
 - Passed: 203
 - Skipped: 7
 - Expected Fail: 0
 - Unexpected Success: 0
 - Failed: 8
Sum of execute time for each test: 351.1264 sec.

==============
Worker Balance
==============
 - Worker 0 (70 tests) => 0:03:32.014018
 - Worker 1 (90 tests) => 0:03:33.873018
 - Worker 2 (58 tests) => 0:03:52.800569

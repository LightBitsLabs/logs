{2} tempest.api.compute.volumes.test_volumes_get.VolumesGetTestJSON.test_volume_create_get_delete [1.981982s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list [0.077359s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_param_limit [0.076756s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_param_offset_and_limit [0.131224s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_detail_param_limit [0.068675s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_detail_param_offset_and_limit [0.143239s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_details [0.068391s] ... ok
{2} tempest.api.volume.admin.test_encrypted_volumes_extend.EncryptedVolumesExtendAttachedTest.test_extend_attached_encrypted_volume_luksv1 ... SKIPPED: Attached encrypted volume extend is disabled.
{1} tempest.api.volume.admin.test_group_type_specs.GroupTypeSpecsTest.test_group_type_specs_create_show_update_list_delete [0.531377s] ... ok
{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_boot_from_multiattach_volume [19.767248s] ... ok
{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_list_get_volume_attachments_multiattach [2.475261s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 406, in test_list_get_volume_attachments_multiattach
    servers, volume, attachments = self._create_and_multiattach()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 389, in _create_and_multiattach
    'ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server bec63cb4-528d-4b40-af04-bf2d63ca8a94 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:42:53Z', 'message': 'Build of instance bec63cb4-528d-4b40-af04-bf2d63ca8a94 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11959, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance bec63cb4-528d-4b40-af04-bf2d63ca8a94 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:42:51,548 14501 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.476s
2022-08-16 13:42:51,548 14501 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:42:51 GMT', 'server': 'Apache', 'content-length': '3905', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-cf3afb2e-7eb5-4d2e-a41b-248f62b98863', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "a2aaf3ed72034fc68f14d750af93c237", "name": "tempest-AttachVolumeMultiAttachTest-1049841013-project", "password_expires_at": null}, "audit_ids": ["gz8aMQMzQVKfCaU9O-dr2A"], "expires_at": "2022-08-17T10:42:51.000000Z", "issued_at": "2022-08-16T10:42:51.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "8289c5994e794869a80f5687a571861d", "name": "tempest-AttachVolumeMultiAttachTest-1049841013"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/8289c5994e794869a80f5687a571861d", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/8289c5994e794869a80f5687a571861d", "regi
    on": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/8289c5994e794869a80f5687a571861d", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/8289c5994e794869a80f5687a571861d", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:42:51,556 14501 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-16 13:42:51,700 14501 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.142s
2022-08-16 13:42:51,700 14501 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-0", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:42:51 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-65a07105-7545-4c34-a3a0-7838293f392e', 'x-compute-request-id': 'req-65a07105-7545-4c34-a3a0-7838293f392e', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "bec63cb4-528d-4b40-af04-bf2d63ca8a94", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "R7iZZqrxBMWQ"}}'
2022-08-16 13:42:52,145 14501 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.434s
2022-08-16 13:42:52,145 14501 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:42:51 GMT', 'server': 'Apache', 'content-length': '3905', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-bafe3e4b-3f52-4632-b5e2-4654d8531469', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "a2aaf3ed72034fc68f14d750af93c237", "name": "tempest-AttachVolumeMultiAttachTest-1049841013-project", "password_expires_at": null}, "audit_ids": ["WoZED4KsSk6dWoPr8Q_DFw"], "expires_at": "2022-08-17T10:42:52.000000Z", "issued_at": "2022-08-16T10:42:52.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "8289c5994e794869a80f5687a571861d", "name": "tempest-AttachVolumeMultiAttachTest-1049841013"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region":
     "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/8289c5994e794869a80f5687a571861d", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/8289c5994e794869a80f5687a571861d", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/8289c5994e794869a80f5687a571861d", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/8289c5994e794869a80f5687a571861d", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:42:52,154 14501 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-16 13:42:52,299 14501 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.144s
2022-08-16 13:42:52,299 14501 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-1", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:42:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/f8b6e8d0-a1d4-4d5b-9cc5-2b75d2956046', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStac
    k-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-4d60ada6-e693-4965-a159-b54e37afb4dd', 'x-compute-request-id': 'req-4d60ada6-e693-4965-a159-b54e37afb4dd', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "f8b6e8d0-a1d4-4d5b-9cc5-2b75d2956046", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/f8b6e8d0-a1d4-4d5b-9cc5-2b75d2956046"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/f8b6e8d0-a1d4-4d5b-9cc5-2b75d2956046"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "AkSh95HxJF8e"}}'
2022-08-16 13:42:52,406 14501 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94 0.104s
2022-08-16 13:42:52,407 14501 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:42:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1760', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d180d484-6b99-4cc0-a380-dd5d4b107bb6', 'x-compute-request-id': 'req-d180d484-6b99-4cc0-a380-dd5d4b107bb6', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94'}
        Body: b'{"server": {"id": "bec63cb4-528d-4b40-af04-bf2d63ca8a94", "name": "multiattach-server-0", "status": "BUILD", "tenant_id": "8289c5994e794869a80f5687a571861d", "user_id": "a2aaf3ed72034fc68f14d750af93c237", "metadata": {}, "hostId": "9e0fc97a163d6a81c8854aa0dd61bc68a2248b1c117c9e54674ca851", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-16T10:42:51Z", "updated": "2022-08-16T10:42:52Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": "rack05-server62", "OS-EXT-SRV-ATTR:instance_name": "instance-00000091", "OS-EXT-SRV-ATTR:hypervisor_hostname": "rack05-server62", "OS-EXT-SRV-ATTR:reservation_id": "r-zi55maav", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "UP", "locked": false, "description": null, "tags": []}}'
2022-08-16 13:42:53,520 14501 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94 0.100s
2022-08-16 13:42:53,521 14501 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {
    'date': 'Tue, 16 Aug 2022 10:42:53 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '5040', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ffdbb3db-c7e8-4844-a25b-88d94f50e276', 'x-compute-request-id': 'req-ffdbb3db-c7e8-4844-a25b-88d94f50e276', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94'}
        Body: b'{"server": {"id": "bec63cb4-528d-4b40-af04-bf2d63ca8a94", "name": "multiattach-server-0", "status": "ERROR", "tenant_id": "8289c5994e794869a80f5687a571861d", "user_id": "a2aaf3ed72034fc68f14d750af93c237", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-16T10:42:51Z", "updated": "2022-08-16T10:42:53Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:42:53Z", "message": "Build of instance bec63cb4-528d-4b40-af04-bf2d63ca8a94 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11959, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.
    10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/no
2022-08-16 13:42:53,533 14501 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 1 second wait

{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_resize_server_with_multiattached_volume ... SKIPPED: Resize not available.
{2} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_create_group_from_group_snapshot [12.044413s] ... ok
{1} tempest.api.volume.admin.test_groups.GroupsTest.test_group_create_show_list_delete [7.007622s] ... ok
{1} tempest.api.volume.admin.test_groups.GroupsTest.test_group_update [9.131485s] ... ok
{1} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_delete_message [1.842297s] ... ok
{2} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_delete_group_snapshots_following_updated_volumes [17.056039s] ... ok
{1} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_list_show_messages [1.487796s] ... ok
{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_snapshot_volume_backed_multiattach [21.945159s] ... ok
{2} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_group_snapshot_create_show_list_delete [7.666153s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_delete_quota [0.393536s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_list_default_quotas [0.046559s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_list_quotas [0.053747s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage [2.847228s] ... ok
{2} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsV319Test.test_reset_group_snapshot_status ... SKIPPED: Skipped until bug: https://launchpad.net/bugs/1770179 is resolved.
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage_after_volume_transfer [3.411484s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_show_quota_usage [0.063014s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_update_all_quota_resources_for_tenant [0.297376s] ... ok
{1} setUpClass (tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithMigrationTest) ... SKIPPED: Cinder multi-backend feature disabled
{2} tempest.api.volume.admin.test_group_types.GroupTypesTest.test_group_type_create_list_update_show [0.390389s] ... ok
{0} tempest.api.compute.volumes.test_volume_snapshots.VolumesSnapshotsTestJSON.test_volume_snapshot_create_get_list_delete [6.426848s] ... ok
{1} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_disable_log_reason_with_no_reason [0.025529s] ... ok
{1} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_disable_service_with_invalid_binary [0.034410s] ... ok
{1} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_enable_service_with_invalid_host [0.028747s] ... ok
{1} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_freeze_host_with_invalid_host [0.032393s] ... ok
{1} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_thaw_host_with_invalid_host [0.029771s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.231737s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.020826s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.020327s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.048424s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.012941s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.012870s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.049003s] ... ok
{0} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.048941s] ... ok
{0} tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON.test_compare_volume_stats_values [0.111682s] ... ok
{0} tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON.test_get_capabilities_backend [0.039731s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_reset_snapshot_status [0.401019s] ... ok
{1} tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_gigabytes_snapshots [0.343178s] ... ok
{1} tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_snapshots [0.070441s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_creating [3.510387s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_deleting [3.543242s] ... ok
{1} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_create_get_delete [0.273814s] ... ok
{1} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_encryption_create_get_update_delete [0.392010s] ... ok
{1} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_list [0.043529s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_error [3.547678s] ... ok
{1} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_update [0.199200s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsV314Test.test_create_group_from_group [8.404961s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_error_deleting [3.506717s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_update_snapshot_status [0.247085s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_invalid_body [0.019982s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_none_body [0.017199s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_nonexistent_type_id [0.039039s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_delete_nonexistent_volume_type_id [0.024124s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_get_nonexistent_extra_spec_name [0.031446s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_get_nonexistent_volume_type_id [0.023280s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_list_nonexistent_volume_type_id [0.023088s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_multiple_extra_spec [0.016941s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_no_body [0.021907s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_none_extra_spec_id [0.040619s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_nonexistent_extra_spec_id [0.035961s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_nonexistent_type_id [0.043174s] ... ok
{2} setUpClass (tempest.api.volume.admin.test_volume_manage.VolumeManageAdminTest) ... SKIPPED: Manage volume tests are disabled
{0} tempest.api.volume.admin.test_groups.GroupsV320Test.test_reset_group_status [3.002789s] ... ok
{0} setUpClass (tempest.api.volume.admin.test_multi_backend.VolumeMultiBackendTest) ... SKIPPED: Cinder multi-backend feature disabled
{2} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_show_default_quota [0.155888s] ... ok
{2} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_update_default_quota [0.778879s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_associate_disassociate_qos [0.502847s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_back_end_consumer [0.134498s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_both_consumer [0.134946s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_front_end_consumer [0.130126s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_get_qos [0.023683s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_list_qos [0.027382s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_set_unset_qos_key [0.152841s] ... ok
{1} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_force_detach_volume [4.269341s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/admin/test_volumes_actions.py", line 83, in test_force_detach_volume
    server_id = self.create_server()['id']

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 650098f6-e2a8-42e9-9c54-6ab2d99129d5 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:44:01Z', 'message': 'Build of instance 650098f6-e2a8-42e9-9c54-6ab2d99129d5 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11959, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 650098f6-e2a8-42e9-9c54-6ab2d99129d5 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:43:59,925 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 201 POST http://controller:5000/v3/auth/tokens 0.454s
2022-08-16 13:43:59,925 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:43:59 GMT', 'server': 'Apache', 'content-length': '3887', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-218a723d-6638-406c-84f7-5af3595c2ce1', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "6f9a7d81a80741709bb98245201a64bb", "name": "tempest-VolumesActionsTest-2100702081-project", "password_expires_at": null}, "audit_ids": ["Ggpih8UmQCqIJ39IhgZ6mg"], "expires_at": "2022-08-17T10:43:59.000000Z", "issued_at": "2022-08-16T10:43:59.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "0c96acb0e7654fcf990b4b46053fcea7", "name": "tempest-VolumesActionsTest-2100702081"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0c96acb0e7654fcf990b4b46053fcea7", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0c96acb0e7654fcf990b4b46053fcea7", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174
    469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/0c96acb0e7654fcf990b4b46053fcea7", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/0c96acb0e7654fcf990b4b46053fcea7", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:43:59,934 14502 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_force_detach_volume) Found network None available for tenant
2022-08-16 13:44:00,391 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.455s
2022-08-16 13:44:00,391 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-603663434", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:43:59 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-43937efc-1f36-4eb1-9780-8ae755c027f8', 'x-compute-request-id': 'req-43937efc-1f36-4eb1-9780-8ae755c027f8', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "650098f6-e2a8-42e9-9c54-6ab2d99129d5", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "KKjE9ynVcWYQ"}}'
2022-08-16 13:44:00,473 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5 0.078s
2022-08-16 13:44:00,473 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:00 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1321', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6fd421da-c276-4328-a653-e13ebf6511eb', 'x-compute-request-id': 'req-6fd421da-c276-4328-a653-e13ebf6511eb', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5'}
        Body: b'{"server": {"id": "650098f6-e2a8-42e9-9c54-6ab2d99129d5", "name": "tempest-VolumesActionsTest-instance-603663434", "status": "BUILD", "tenant_id": "0c96acb0e7654fcf990b4b46053fcea7", "user_id": "6f9a7d81a80741709bb98245201a64bb", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:44:00Z", "updated": "2022-08-16T10:44:00Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5"}, {"rel": "bookmark", "href": "http:
    //[LB_IP_ADDRESS]:8774/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:44:01,579 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5 0.093s
2022-08-16 13:44:01,579 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:01 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1342', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-427027cc-1973-40a4-8a12-a133b9f87522', 'x-compute-request-id': 'req-427027cc-1973-40a4-8a12-a133b9f87522', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5'}
        Body: b'{"server": {"id": "650098f6-e2a8-42e9-9c54-6ab2d99129d5", "name": "tempest-VolumesActionsTest-instance-603663434", "status": "BUILD", "tenant_id": "0c96acb0e7654fcf990b4b46053fcea7", "user_id": "6f9a7d81a80741709bb98245201a64bb", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:44:00Z", "updated": "2022-08-16T10:44:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000094", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:44:01,589 14502 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:44:02,696 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5 0.105s
2022-08-16 13:44:02,697 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4692', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-65b85303-c15c-4756-bd85-af85539935c4', 'x-compute-request-id': 'req-65b85303-c15c-4756-bd85-af85539935c4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5'}
        Body: b'{"server": {"id": "650098f6-e2a8-42e9-9c54-6
    ab2d99129d5", "name": "tempest-VolumesActionsTest-instance-603663434", "status": "ERROR", "tenant_id": "0c96acb0e7654fcf990b4b46053fcea7", "user_id": "6f9a7d81a80741709bb98245201a64bb", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:44:00Z", "updated": "2022-08-16T10:44:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:44:01Z", "message": "Build of instance 650098f6-e2a8-42e9-9c54-6ab2d99129d5 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11959, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packa
2022-08-16 13:44:02,707 14502 INFO     [tempe
    st.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 13:44:03,688 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5 0.980s
2022-08-16 13:44:03,688 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ea44af5f-6a13-4933-8cd3-203d34b8e5e6', 'x-compute-request-id': 'req-ea44af5f-6a13-4933-8cd3-203d34b8e5e6', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5'}
        Body: b''
2022-08-16 13:44:03,721 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5 0.032s
2022-08-16 13:44:03,721 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:03 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f4f64e09-77d8-4cd7-8601-dfe313ed4408', 'x-compute-request-id': 'req-f4f64e09-77d8-4cd7-8601-dfe313ed4408', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 650098f6-e2a8-42e9-9c54-6ab2d99129d5 could not be found."}}'

{0} setUpClass (tempest.api.volume.admin.test_snapshot_manage.SnapshotManageAdminTest) ... SKIPPED: Manage snapshot tests are disabled
{1} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_attaching [2.863699s] ... ok
{0} tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_list_hosts [0.187601s] ... ok
{0} tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_show_host [0.218267s] ... ok
{2} tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithoutMigrationTest.test_available_volume_retype [2.917632s] ... ok
{1} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_creating [3.626059s] ... ok
{0} tempest.api.volume.admin.test_volume_pools.VolumePoolsAdminTestsJSON.test_get_pools_without_details [0.239557s] ... ok
{1} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_error [3.683889s] ... ok
{2} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_host_name [0.032537s] ... ok
{2} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_service_and_host_name [0.032618s] ... ok
{2} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_service_binary_name [0.029366s] ... ok
{2} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_volume_host_name [1.579393s] ... ok
{2} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_list_services [0.026288s] ... ok
{1} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_maintenance [3.636646s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_quota_volume_gigabytes [0.239722s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_quota_volumes [0.235078s] ... ok
{1} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_reset_status [1.816712s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_volume_extend_gigabytes_quota_deviation [0.183265s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_spec_create_get_delete [0.164292s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_specs_list [0.098390s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_specs_update [0.219517s] ... ok
{2} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_volume_type_encryption_nonexistent_type_id [0.117886s] ... ok
{2} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_empty_name [0.017281s] ... ok
{2} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_repeated_name [0.065558s] ... ok
{0} tempest.api.volume.admin.test_volume_type_access.VolumeTypesAccessTest.test_volume_type_access_list [0.317534s] ... ok
{2} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_delete_nonexistent_type_id [0.021623s] ... ok
{2} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_get_nonexistent_type_id [0.021211s] ... ok
{2} tempest.api.volume.test_extensions.ExtensionsTestJSON.test_list_extensions [0.167096s] ... ok
{1} tempest.api.volume.admin.test_volumes_list.VolumesListAdminTestJSON.test_volume_list_param_tenant [1.641869s] ... ok
{2} tempest.api.volume.test_versions.VersionsTest.test_list_versions [0.013703s] ... ok
{2} tempest.api.volume.test_versions.VersionsTest.test_show_version [0.205537s] ... ok
{0} tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON.test_crud_snapshot_metadata [0.333083s] ... ok
{0} tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON.test_update_show_snapshot_metadata_item [0.258788s] ... ok
{2} tempest.api.volume.test_volume_metadata.VolumesMetadataTest.test_crud_volume_metadata [0.342072s] ... ok
{2} tempest.api.volume.test_volume_metadata.VolumesMetadataTest.test_update_show_volume_metadata_item [0.264203s] ... ok
{1} tempest.api.volume.test_availability_zone.AvailabilityZoneTestJSON.test_get_availability_zone_list [0.253386s] ... ok
{0} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_delete_cascade [7.206348s] ... ok
{2} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_get_list_accept_volume_transfer [3.782282s] ... ok
{2} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_list_delete_volume_transfer [2.733151s] ... ok
{0} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_from_snapshot_cascade_delete [6.241668s] ... ok
{1} tempest.api.volume.test_image_metadata.VolumesImageMetadata.test_update_show_delete_image_metadata [0.257029s] ... ok
{2} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_attach_detach_volume_to_instance [5.113155s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 45, in test_attach_detach_volume_to_instance
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 37cbcae3-49d6-44ac-beba-b410468f92bb failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:44:57Z', 'message': 'Build of instance 37cbcae3-49d6-44ac-beba-b410468f92bb aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11959, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 37cbcae3-49d6-44ac-beba-b410468f92bb aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:44:54,987 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://controller:5000/v3/auth/tokens 0.475s
2022-08-16 13:44:54,988 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:54 GMT', 'server': 'Apache', 'content-length': '3885', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-def98c2b-2a3b-441b-8e2e-33b5e00b1484', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "9365e8b2cd674821a7a96dfd101100ee", "name": "tempest-VolumesActionsTest-707307133-project", "password_expires_at": null}, "audit_ids": ["cXOSczMrSuC6lmQ1S-Im1Q"], "expires_at": "2022-08-17T10:44:54.000000Z", "issued_at": "2022-08-16T10:44:54.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "61fc462c38aa472f843d7043a79d6667", "name": "tempest-VolumesActionsTest-707307133"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/61fc462c38aa472f843d7043a79d6667", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/61fc462c38aa472f843d7043a79d6667", "region": "RegionOne"}], "id": "d30e368ce
    4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/61fc462c38aa472f843d7043a79d6667", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/61fc462c38aa472f843d7043a79d6667", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:44:54,988 14503 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 13:44:55,112 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.123s
2022-08-16 13:44:55,113 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesActionsTest-543616994-desc", "domain_id": "default", "name": "tempest-VolumesActionsTest-543616994"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:54 GMT', 'server': 'Apache', 'content-length': '370', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-497848f8-c2df-4898-a108-4c3d61ea6f34', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "f33482ed898345be8bef20fe1c9e00eb", "name": "tempest-VolumesActionsTest-543616994", "domain_id": "default", "description": "tempest-VolumesActionsTest-543616994-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/f33482ed898345be8bef20fe1c9e00eb"}}}\n'
2022-08-16 13:44:55,599 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.485s
2022-08-16 13:44:55,599 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesActionsTest-543616994-project-admin", "password": "G0*6QdBJh_7T+m5", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:55 GMT', 'server': 'Apache', 'content-length': '291', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2f729016-028a-4f24-88ae-9a3cc0864aab', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "c139f348d21d418c990fce6554be3050", "name": "tempest-VolumesActionsTest-543616994-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/c139f348d21d418c990fce6554be3050"}}}\n'
2022-08-16 13:44:55,626 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.026s
2022-08-16 13:44:55,627 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:55 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ed1e30db-18e7-4ba2-874b-e1e0d36bfb4e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/role
    s/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:44:55,736 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/f33482ed898345be8bef20fe1c9e00eb/users/c139f348d21d418c990fce6554be3050/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.108s
2022-08-16 13:44:55,736 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:55 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-af50662c-9422-4f9c-8707-90411b1c6a38', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/f33482ed898345be8bef20fe1c9e00eb/users/c139f348d21d418c990fce6554be3050/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:44:55,818 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.081s
2022-08-16 13:44:55,819 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:55 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8a03ec2a-4fac-4b07-b4ea-32381461e022', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:44:55,864 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/c139f348d21d418c990fce6554be3050/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.044s
2022-08-16 13:44:55,864 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:55 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-4fca1db3-8ab8
    -488d-afc0-9d1236d43ad5', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/c139f348d21d418c990fce6554be3050/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:44:55,939 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.074s
2022-08-16 13:44:55,940 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:55 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b4b3da2b-645c-4040-ae13-cbc6c3a69562', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:44:55,976 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/f33482ed898345be8bef20fe1c9e00eb/users/c139f348d21d418c990fce6554be3050/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.035s
2022-08-16 13:44:55,977 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:55 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-606cc160-0458-4251-9665-d28be63a66e1', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/f33482ed898345be8bef20fe1c9e00eb/users/c139f348d21d418c990fce6554be3050/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:44:56,059 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.081s
2022-08-16 13:44:56,059 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:55 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-d46c8729-02a1-4e28-a28d-44f9a107bafa', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f
    97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:44:56,097 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/f33482ed898345be8bef20fe1c9e00eb/users/c139f348d21d418c990fce6554be3050/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.037s
2022-08-16 13:44:56,098 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:56 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-228fb551-0a7f-44d4-839b-aab7a5ea3869', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/f33482ed898345be8bef20fe1c9e00eb/users/c139f348d21d418c990fce6554be3050/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:44:56,098 14503 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user c139f348d21d418c990fce6554be3050 is created with scope project and roles: ['admin', 'admin']
2022-08-16 13:44:56,099 14503 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesActionsTest-543616994-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': 'f33482ed898345be8bef20fe1c9e00eb', 'project_name': 'tempest-VolumesActionsTest-543616994', 'tenant_id': 'f33482ed898345be8bef20fe1c9e00eb', 'tenant_name': 'tempest-VolumesActionsTest-543616994', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'c139f348d21d418c990fce6554be3050', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 13:44:56,107 14503 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_attach_detach_volume_to_instance) Found network None available for tenant
2022-08-16 13:44:56,367 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.259s
2022-08-16 13:44:56,368 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-517056694", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:56 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b651715d-8c97-4b67-b87a-5accabd97a45', 'x-compute-request-id': 'req-b651715d-8c97-4b67-b87a-5accabd97a45', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "37cbcae3-49d6-44ac-beba-b410468f92bb", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/37cbcae3-49d6-44ac-beba-b410468f92bb"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "UA45Y42ufx2s"}}'
2022-08-16 13:44:56
    ,455 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb 0.083s
2022-08-16 13:44:56,455 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:56 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1321', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-4dccd064-40bd-468f-9355-2762a2a72aca', 'x-compute-request-id': 'req-4dccd064-40bd-468f-9355-2762a2a72aca', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb'}
        Body: b'{"server": {"id": "37cbcae3-49d6-44ac-beba-b410468f92bb", "name": "tempest-VolumesActionsTest-instance-517056694", "status": "BUILD", "tenant_id": "61fc462c38aa472f843d7043a79d6667", "user_id": "9365e8b2cd674821a7a96dfd101100ee", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:44:56Z", "updated": "2022-08-16T10:44:56Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/37cbcae3-49d6-44ac-beba-b410468f92bb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:44:57,554 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb 0.087s
2022-08-16 13:44:57,554 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:57 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1342', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-69fe9635-20aa-43a2-bed0-d1d1388806c7', 'x-compute-request-id': 'req-69fe9635-20aa-43a2-bed0-d1d1388806c7', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb'}
        Body: b'{"server": {"id": "37cbcae3-49d6-44ac-beba-b410468f92bb", "name": "tempest-VolumesActionsTest-instance-517056694", "status": "BUILD", "tenant_id": "61fc462c38aa472f843d7043a79d6667", "user_id": "9365e8b2cd674821a7a96dfd101100ee", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:44:56Z", "updated": "2022-08-16T10:44:57Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774
    /v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/37cbcae3-49d6-44ac-beba-b410468f92bb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000095", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:44:57,564 14503 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:44:58,654 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb 0.088s
2022-08-16 13:44:58,655 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:58 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4692', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7f2de7b2-de17-43a7-a0e8-88b9bd9e99d9', 'x-compute-request-id': 'req-7f2de7b2-de17-43a7-a0e8-88b9bd9e99d9', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb'}
        Body: b'{"server": {"id": "37cbcae3-49d6-44ac-beba-b410468f92bb", "name": "tempest-VolumesActionsTest-instance-517056694", "status": "ERROR", "tenant_id": "61fc462c38aa472f843d7043a79d6667", "user_id": "9365e8b2cd674821a7a96dfd101100ee", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:44:56Z", "updated": "2022-08-16T10:44:57Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/37cbcae3-49d6-44ac-beba-b410468f92bb"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:44:57Z", "message": "Build of instance 37cbcae3-49d6-44ac-beba-b410468f92bb aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11959, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site
    -packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packa
2022-08-16 13:44:58,665 14503 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 13:44:59,577 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb 0.911s
2022-08-16 13:44:59,577 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:58 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0db3e5cd-9a23-49c7-a447-04824cfbbc77', 'x-compute-request-id': 'req-0db3e5cd-9a23-49c7-a447-04824cfbbc77', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb'}
        Body: b''
2022-08-16 13:44:59,612 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb 0.033s
2022-08-16 13:44:59,612 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:59 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-9b37441a-f1f5-4eae-8b1f-bfed580d0eb5', 'x-compute-request-id': 'req-9b37441a-f1f5-4eae-8b1f-bfed580d0eb5', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 37cbcae3-49d6-44ac-beba-b410468f92bb could not be found."}}'

{1} tempest.api.volume.test_volume_absolute_limits.AbsoluteLimitsTests.test_get_volume_absolute_limits [0.071663s] ... ok
{2} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_get_volume_attachment [3.332036s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 81, in test_get_volume_attachment
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 79817d24-bc8b-43ab-b5a8-55c2cddcfa8a failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:45:01Z', 'message': 'Build of instance 79817d24-bc8b-43ab-b5a8-55c2cddcfa8a aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11959, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 79817d24-bc8b-43ab-b5a8-55c2cddcfa8a aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:45:00,103 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 201 POST http://controller:5000/v3/auth/tokens 0.472s
2022-08-16 13:45:00,103 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:59 GMT', 'server': 'Apache', 'content-length': '3885', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3bc88ed6-fb5d-49bc-987e-7170ead2c2e9', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "9365e8b2cd674821a7a96dfd101100ee", "name": "tempest-VolumesActionsTest-707307133-project", "password_expires_at": null}, "audit_ids": ["IYdT9HEcSq2QU5wc0AzGeg"], "expires_at": "2022-08-17T10:45:00.000000Z", "issued_at": "2022-08-16T10:45:00.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "61fc462c38aa472f843d7043a79d6667", "name": "tempest-VolumesActionsTest-707307133"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/61fc462c38aa472f843d7043a79d6667", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/61fc462c38aa472f843d7043a79d6667", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174
    469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/61fc462c38aa472f843d7043a79d6667", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/61fc462c38aa472f843d7043a79d6667", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:45:00,110 14503 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_get_volume_attachment) Found network None available for tenant
2022-08-16 13:45:00,359 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.248s
2022-08-16 13:45:00,360 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-747186180", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:00 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7804dd02-259f-46f7-8a57-855078edf82a', 'x-compute-request-id': 'req-7804dd02-259f-46f7-8a57-855078edf82a', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "79817d24-bc8b-43ab-b5a8-55c2cddcfa8a", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "oQKTpsX6Lp7H"}}'
2022-08-16 13:45:00,434 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a 0.071s
2022-08-16 13:45:00,434 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:00 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1321', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-e24e6ecc-acea-4fab-8022-da94188b4141', 'x-compute-request-id': 'req-e24e6ecc-acea-4fab-8022-da94188b4141', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a'}
        Body: b'{"server": {"id": "79817d24-bc8b-43ab-b5a8-55c2cddcfa8a", "name": "tempest-VolumesActionsTest-instance-747186180", "status": "BUILD", "tenant_id": "61fc462c38aa472f843d7043a79d6667", "user_id": "9365e8b2cd674821a7a96dfd101100ee", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:00Z", "updated": "2022-08-16T10:45:00Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a"}, {"rel": "bookmark", "href": 
    "http://[LB_IP_ADDRESS]:8774/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:45:01,539 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a 0.092s
2022-08-16 13:45:01,539 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:01 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1342', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1f08bf5f-3142-4a53-85ac-0806142c7c2c', 'x-compute-request-id': 'req-1f08bf5f-3142-4a53-85ac-0806142c7c2c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a'}
        Body: b'{"server": {"id": "79817d24-bc8b-43ab-b5a8-55c2cddcfa8a", "name": "tempest-VolumesActionsTest-instance-747186180", "status": "BUILD", "tenant_id": "61fc462c38aa472f843d7043a79d6667", "user_id": "9365e8b2cd674821a7a96dfd101100ee", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:00Z", "updated": "2022-08-16T10:45:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000096", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:45:01,550 14503 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:45:02,654 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a 0.102s
2022-08-16 13:45:02,654 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4692', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-933334b2-9d77-426c-aaa9-b861f038b17f', 'x-compute-request-id': 'req-933334b2-9d77-426c-aaa9-b861f038b17f', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a'}
        Body: b'{"server": {"id": "79817d24-bc8b-4
    3ab-b5a8-55c2cddcfa8a", "name": "tempest-VolumesActionsTest-instance-747186180", "status": "ERROR", "tenant_id": "61fc462c38aa472f843d7043a79d6667", "user_id": "9365e8b2cd674821a7a96dfd101100ee", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:00Z", "updated": "2022-08-16T10:45:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:45:01Z", "message": "Build of instance 79817d24-bc8b-43ab-b5a8-55c2cddcfa8a aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11959, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packa
2022-08-16 13:45:02,665 14503 INFO 
        [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 13:45:02,920 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a 0.254s
2022-08-16 13:45:02,920 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-982e41f4-c32f-45a1-99a5-53b59f14e6ac', 'x-compute-request-id': 'req-982e41f4-c32f-45a1-99a5-53b59f14e6ac', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a'}
        Body: b''
2022-08-16 13:45:02,952 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a 0.031s
2022-08-16 13:45:02,952 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-68e8de68-0ba8-4a31-a968-51bea02e595f', 'x-compute-request-id': 'req-68e8de68-0ba8-4a31-a968-51bea02e595f', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 79817d24-bc8b-43ab-b5a8-55c2cddcfa8a could not be found."}}'

{2} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_reserve_unreserve_volume [0.209301s] ... ok
{2} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_bootable [0.198113s] ... ok
{2} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_readonly_update [0.232223s] ... ok
{0} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_get_list_accept_volume_transfer [4.808148s] ... ok
{0} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_list_delete_volume_transfer [3.790234s] ... ok
{0} tempest.api.volume.test_volumes_clone_negative.VolumesCloneNegativeTest.test_create_from_volume_decreasing_size [1.608213s] ... ok
{0} tempest.api.volume.test_volumes_get.VolumesSummaryTest.test_show_volume_summary [0.172886s] ... ok
{1} tempest.api.volume.test_volumes_extend.VolumesExtendTest.test_volume_extend [13.574374s] ... ok
{2} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_upload [16.866164s] ... ok
{1} tempest.api.volume.test_volumes_extend.VolumesExtendTest.test_volume_extend_when_volume_has_snapshot [4.893953s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list [0.051316s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_by_name [0.043995s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_by_name [0.064335s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_pagination [0.259444s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_with_multiple_params [0.112814s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_pagination [0.181464s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_param_display_name_and_status [0.061089s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_display_name_and_status [0.054388s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_marker [0.069155s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_metadata [0.062275s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_details [0.061521s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_param_metadata [0.060720s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_availability_zone [0.088103s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_bootable [0.083626s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_status [0.084663s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_availability_zone [0.059048s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_bootable [0.055332s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_status [0.061815s] ... ok
{2} tempest.api.volume.test_volumes_clone.VolumesCloneTest.test_create_from_bootable_volume [14.691313s] ... ok
{2} tempest.api.volume.test_volumes_clone.VolumesCloneTest.test_create_from_volume [4.875516s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_attach_volumes_with_nonexistent_volume_id [4.362154s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_negative.py", line 179, in test_attach_volumes_with_nonexistent_volume_id
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:45:46Z', 'message': 'Build of instance 534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11959, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:45:43,063 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://controller:5000/v3/auth/tokens 0.423s
2022-08-16 13:45:43,063 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:42 GMT', 'server': 'Apache', 'content-length': '3887', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2826f5a8-8d98-4ac5-a6ee-b221bcacd96e', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "8a7e627bf4b24ceb8ac5d6852beb0144", "name": "tempest-VolumesNegativeTest-348093251-project", "password_expires_at": null}, "audit_ids": ["-JXT8J2pR8u4YWR95Ili7A"], "expires_at": "2022-08-17T10:45:43.000000Z", "issued_at": "2022-08-16T10:45:43.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "c120d1b4de0c4d5c9d8178ed18ede3d8", "name": "tempest-VolumesNegativeTest-348093251"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/c120d1b4de0c4d5c9d8178ed18ede3d8", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/c120d1b4de0c4d5c9d8178ed18ede3d8", "region": "RegionOne"}], "id"
    : "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/c120d1b4de0c4d5c9d8178ed18ede3d8", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/c120d1b4de0c4d5c9d8178ed18ede3d8", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:45:43,063 14502 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 13:45:43,172 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.108s
2022-08-16 13:45:43,172 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesNegativeTest-1523214927-desc", "domain_id": "default", "name": "tempest-VolumesNegativeTest-1523214927"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:43 GMT', 'server': 'Apache', 'content-length': '374', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-032c2bd8-8692-4514-a4d9-a8893b9d56f3', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "f5a9e98eca694238bb713009fbfb7223", "name": "tempest-VolumesNegativeTest-1523214927", "domain_id": "default", "description": "tempest-VolumesNegativeTest-1523214927-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/f5a9e98eca694238bb713009fbfb7223"}}}\n'
2022-08-16 13:45:43,668 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.495s
2022-08-16 13:45:43,669 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesNegativeTest-1523214927-project-admin", "password": "O1%#j5qSyGw7Q9_", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:43 GMT', 'server': 'Apache', 'content-length': '293', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-681b43ec-cfb4-42dc-ba5e-6e1fa9c2387a', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "0ae5b023e6054a4caa2bba3a19371518", "name": "tempest-VolumesNegativeTest-1523214927-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/0ae5b023e6054a4caa2bba3a19371518"}}}\n'
2022-08-16 13:45:43,705 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.031s
2022-08-16 13:45:43,705 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:43 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-27f88c19-bf60-4018-be0a-6fffccdc238a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true},
     "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:45:43,754 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/f5a9e98eca694238bb713009fbfb7223/users/0ae5b023e6054a4caa2bba3a19371518/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.047s
2022-08-16 13:45:43,754 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:43 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b3a99a13-fdd9-45c5-8d51-d239a371e806', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/f5a9e98eca694238bb713009fbfb7223/users/0ae5b023e6054a4caa2bba3a19371518/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:45:43,837 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.081s
2022-08-16 13:45:43,837 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:43 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-414ceeea-9e38-4bd3-acb7-4f0336e03972', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:45:43,878 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/0ae5b023e6054a4caa2bba3a19371518/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.040s
2022-08-16 13:45:43,878 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:43 GMT', 'ser
    ver': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-07ac9dc2-de7f-4313-9704-13899864f531', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/0ae5b023e6054a4caa2bba3a19371518/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:45:43,965 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.086s
2022-08-16 13:45:43,966 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:43 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-bce20b56-6bdf-44a4-861c-b22058ee776e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:45:44,003 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/f5a9e98eca694238bb713009fbfb7223/users/0ae5b023e6054a4caa2bba3a19371518/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.036s
2022-08-16 13:45:44,003 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:43 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-de5b48a4-fa15-4d78-b9c5-e84536311757', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/f5a9e98eca694238bb713009fbfb7223/users/0ae5b023e6054a4caa2bba3a19371518/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:45:44,080 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.076s
2022-08-16 13:45:44,080 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:44 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-533ac72f-2adb-4ca7-905a-44a6a646da9e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null
    , "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:45:44,116 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/f5a9e98eca694238bb713009fbfb7223/users/0ae5b023e6054a4caa2bba3a19371518/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.035s
2022-08-16 13:45:44,117 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:44 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-56e8940a-572e-48f6-88a8-25e01513b9bc', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/f5a9e98eca694238bb713009fbfb7223/users/0ae5b023e6054a4caa2bba3a19371518/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:45:44,117 14502 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 0ae5b023e6054a4caa2bba3a19371518 is created with scope project and roles: ['admin', 'admin']
2022-08-16 13:45:44,118 14502 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesNegativeTest-1523214927-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': 'f5a9e98eca694238bb713009fbfb7223', 'project_name': 'tempest-VolumesNegativeTest-1523214927', 'tenant_id': 'f5a9e98eca694238bb713009fbfb7223', 'tenant_name': 'tempest-VolumesNegativeTest-1523214927', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '0ae5b023e6054a4caa2bba3a19371518', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 13:45:44,126 14502 INFO     [tempest.lib.common.fixed_network] (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id) Found network None available for tenant
2022-08-16 13:45:44,391 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.264s
2022-08-16 13:45:44,391 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesNegativeTest-instance-1036127029", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:44 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-13dc4b15-f1de-4be4-a94d-ac47f354c150', 'x-compute-request-id': 'req-13dc4b15-f1de-4be4-a94d-ac47f354c150', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "534f2c62-e7ab-41bd-90d6-f1acbcaef8d2", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/534f2c62-e7a
    b-41bd-90d6-f1acbcaef8d2"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "fRepkuj7QAJ3"}}'
2022-08-16 13:45:44,472 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 0.077s
2022-08-16 13:45:44,472 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:44 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1323', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d5ed961a-c65c-445e-ad60-82582cb1726a', 'x-compute-request-id': 'req-d5ed961a-c65c-445e-ad60-82582cb1726a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2'}
        Body: b'{"server": {"id": "534f2c62-e7ab-41bd-90d6-f1acbcaef8d2", "name": "tempest-VolumesNegativeTest-instance-1036127029", "status": "BUILD", "tenant_id": "c120d1b4de0c4d5c9d8178ed18ede3d8", "user_id": "8a7e627bf4b24ceb8ac5d6852beb0144", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:44Z", "updated": "2022-08-16T10:45:44Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:45:45,574 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 0.090s
2022-08-16 13:45:45,574 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1336', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f002b348-a668-416c-9c5c-f004309146c8', 'x-compute-request-id': 'req-f002b348-a668-416c-9c5c-f004309146c8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2'}
        Body: b'{"server": {"id": "534f2c62-e7ab-41bd-90d6-f1acbcaef8d2", "name": "tempest-VolumesNegativeTest-instance-1036127029", "status": "BUILD", "tenant_id": "c120d1b4de0c4d5c9d8178ed18ede3d8", "user_id": "8a7e627bf4b24ceb8ac5d6852beb0144", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created
    ": "2022-08-16T10:45:44Z", "updated": "2022-08-16T10:45:45Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000097", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:45:45,584 14502 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/None" after 1 second wait
2022-08-16 13:45:46,685 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 0.099s
2022-08-16 13:45:46,685 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4694', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0139b774-6158-4e52-9876-c56b251545ea', 'x-compute-request-id': 'req-0139b774-6158-4e52-9876-c56b251545ea', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2'}
        Body: b'{"server": {"id": "534f2c62-e7ab-41bd-90d6-f1acbcaef8d2", "name": "tempest-VolumesNegativeTest-instance-1036127029", "status": "ERROR", "tenant_id": "c120d1b4de0c4d5c9d8178ed18ede3d8", "user_id": "8a7e627bf4b24ceb8ac5d6852beb0144", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:44Z", "updated": "2022-08-16T10:45:46Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:45:46Z", "message": "Build of instance 534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11959, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3
    .10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pac
2022-08-16 13:45:46,695 14502 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 2 second wait
2022-08-16 13:45:46,955 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 0.259s
2022-08-16 13:45:46,955 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c5f54fb8-51e2-42ed-80db-1bda89135423', 'x-compute-request-id': 'req-c5f54fb8-51e2-42ed-80db-1bda89135423', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2'}
        Body: b''
2022-08-16 13:45:46,989 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 0.033s
2022-08-16 13:45:46,990 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b94020a0-931c-47b2-8291-27671598b75a', 'x-compute-request-id': 'req-b94020a0-931c-47b2-8291-27671598b75a', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/
    servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 could not be found."}}'

{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_from_deactivated_image [0.537934s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_from_image_with_decreasing_size [0.354204s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.021225s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_snapshot_id [0.027629s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_source_volid [0.038472s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_volume_type [0.032685s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_negative [0.017391s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.018588s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.018073s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.029649s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.013260s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_detach_volumes_with_invalid_volume_id [0.034602s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_get_invalid_volume_id [0.032292s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.013243s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_detail_with_invalid_status [0.050549s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_detail_with_nonexistent_name [0.048802s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_with_invalid_status [0.039947s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_with_nonexistent_name [0.040689s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_reserve_volume_with_negative_volume_status [0.149374s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_reserve_volume_with_nonexistent_volume_id [0.030502s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_unreserve_volume_with_nonexistent_volume_id [0.030861s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_empty_volume_id [0.013630s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_invalid_volume_id [0.029600s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_nonexistent_volume_id [0.033462s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.045804s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_None_size [0.017495s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_non_number_size [0.013279s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_nonexistent_volume_id [0.031223s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_size_smaller_than_original_size [0.018593s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_without_passing_volume_id [0.036244s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.033259s] ... ok
{2} tempest.api.volume.test_volumes_extend.VolumesExtendAttachedTest.test_extend_attached_volume [4.903081s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 187, in test_extend_attached_volume
    self._test_extend_attached_volume(volume)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 117, in _test_extend_attached_volume
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server bc380c0d-83aa-4770-b0b8-36819de59ed2 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:45:56Z', 'message': 'Build of instance bc380c0d-83aa-4770-b0b8-36819de59ed2 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11959, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance bc380c0d-83aa-4770-b0b8-36819de59ed2 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:45:52,947 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55/volumes 0.448s
2022-08-16 13:45:52,948 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesExtendAttachedTest-Volume-540283284"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '891', 'x-compute-request-id': 'req-26ec96e1-d6b7-4ccc-bd8a-1de6693dafc5', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-26ec96e1-d6b7-4ccc-bd8a-1de6693dafc5', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55/volumes'}
        Body: b'{"volume": {"id": "ff15d426-bdb5-44fa-a469-e655d31566ce", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T10:45:52.886939", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-540283284", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce"}], "user_id": "47895aedcc8a456d8b62ab7541426577", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null}}'
2022-08-16 13:45:53,010 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce 0.052s
2022-08-16 13:45:53,010 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1070', 'x-compute-request-id': 'req-dc9bd2a6-623c-465b-816b-b16084ad1259', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-dc9bd2a6-623c-465b-816b-b16084ad1259', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce'}
        Body: b'{"volume": {"id": "ff15d426-bdb5-44fa-a469-e655d31566ce", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T10:45:52.000000", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-540283284", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce"}], "user_id": "47895aedcc8a456d8b62ab7541426577", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-tenant-attr:tenant_id": "39d1a89d87994af19849db55e878dc55", "os-vol-host-attr:host": null, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_i
    d": null}}'
2022-08-16 13:45:54,063 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce 0.044s
2022-08-16 13:45:54,064 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1129', 'x-compute-request-id': 'req-b7cc29e8-35a8-43d6-ab78-937a2bb6f3ea', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-b7cc29e8-35a8-43d6-ab78-937a2bb6f3ea', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce'}
        Body: b'{"volume": {"id": "ff15d426-bdb5-44fa-a469-e655d31566ce", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T10:45:52.000000", "updated_at": "2022-08-16T10:45:53.000000", "name": "tempest-VolumesExtendAttachedTest-Volume-540283284", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce"}], "user_id": "47895aedcc8a456d8b62ab7541426577", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-tenant-attr:tenant_id": "39d1a89d87994af19849db55e878dc55", "os-vol-host-attr:host": "rack08-server59@LIGHTOSyridex#yridex", "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null}}'
2022-08-16 13:45:54,073 14503 INFO     [tempest.common.waiters] volume ff15d426-bdb5-44fa-a469-e655d31566ce reached available after waiting for 1.073860 seconds
2022-08-16 13:45:54,501 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 201 POST http://controller:5000/v3/auth/tokens 0.422s
2022-08-16 13:45:54,502 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:54 GMT', 'server': 'Apache', 'content-length': '3901', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-96c1ebb6-071b-4b1f-a746-bcff0937b873', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "47895aedcc8a456d8b62ab7541426577", "name": "tempest-VolumesExtendAttachedTest-1396009887-project", "password_expires_at": null}, "audit_ids": ["9-zefTUATGeCzodyL87c4w"], "expires_at": "2022-08-17T10:45:54.000000Z", "issued_at": "2022-08-16T10:45:54.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "39d1a89d87994af19849db55e878dc55", "name": "tempest-VolumesExtendAttachedTest-1396009887"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "
    interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/39d1a89d87994af19849db55e878dc55", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/39d1a89d87994af19849db55e878dc55", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:45:54,571 14503 INFO     [tempest.lib.common.fixed_network] (VolumesExtendAttachedTest:test_extend_attached_volume) Found network None available for tenant
2022-08-16 13:45:54,818 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.245s
2022-08-16 13:45:54,818 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesExtendAttachedTest-instance-178069837", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-10837eba-e99a-4bd2-be13-f12fb4c1be37', 'x-compute-r
    equest-id': 'req-10837eba-e99a-4bd2-be13-f12fb4c1be37', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "bc380c0d-83aa-4770-b0b8-36819de59ed2", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "y6YfDSkwpXAJ"}}'
2022-08-16 13:45:54,893 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2 0.071s
2022-08-16 13:45:54,894 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1328', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-61f0890c-9f73-4834-875d-a21c47bf4720', 'x-compute-request-id': 'req-61f0890c-9f73-4834-875d-a21c47bf4720', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2'}
        Body: b'{"server": {"id": "bc380c0d-83aa-4770-b0b8-36819de59ed2", "name": "tempest-VolumesExtendAttachedTest-instance-178069837", "status": "BUILD", "tenant_id": "39d1a89d87994af19849db55e878dc55", "user_id": "47895aedcc8a456d8b62ab7541426577", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:54Z", "updated": "2022-08-16T10:45:54Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:45:55,987 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2 0.081s
2022-08-16 13:45:55,988 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1349', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-87712636-6cf0-44b2-b121-9074bb5e3dc3', 'x-compute-request-id': 'req-87712636-6cf0-44b2-b121-9074bb5e3dc3', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2'}
        Body: b'{"server": {"id": "bc380c0d-83aa-4770-b0b8-36819de59ed2", "name": "tempest-VolumesExtendAttachedTest-inst
    ance-178069837", "status": "BUILD", "tenant_id": "39d1a89d87994af19849db55e878dc55", "user_id": "47895aedcc8a456d8b62ab7541426577", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:54Z", "updated": "2022-08-16T10:45:55Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000098", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:45:55,997 14503 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:45:57,093 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2 0.094s
2022-08-16 13:45:57,094 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:57 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4699', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8433f0c9-153d-43b7-9763-2fff3f35d958', 'x-compute-request-id': 'req-8433f0c9-153d-43b7-9763-2fff3f35d958', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2'}
        Body: b'{"server": {"id": "bc380c0d-83aa-4770-b0b8-36819de59ed2", "name": "tempest-VolumesExtendAttachedTest-instance-178069837", "status": "ERROR", "tenant_id": "39d1a89d87994af19849db55e878dc55", "user_id": "47895aedcc8a456d8b62ab7541426577", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:54Z", "updated": "2022-08-16T10:45:56Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:45:56Z", "message": "Build of instance bc380c0d-83aa-4770-b0b8-36819de59ed2 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names
    _for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11959, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/sit
2022-08-16 13:45:57,104 14503 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 3 second wait
2022-08-16 13:45:57,360 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2 0.256s
2022-08-16 13:45:57,361 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:57 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5237da51-89fd-4020-8fe2-d8b6310a34af', 'x-compute-request-id': 'req-5237da51-89fd-4020-8fe2-d8b6310a34af', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2'}
        Body: b''
2022-08-16 13:45:57,395 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2 0.033s
2022-08-16 13:45:57,395 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:57 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111'
    , 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1165e1ed-a7f4-42ed-a4f7-0c6b83939acc', 'x-compute-request-id': 'req-1165e1ed-a7f4-42ed-a4f7-0c6b83939acc', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance bc380c0d-83aa-4770-b0b8-36819de59ed2 could not be found."}}'

{1} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_delete_with_volume_in_use [4.452598s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 48, in test_snapshot_create_delete_with_volume_in_use
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 6e8e669a-686c-4b20-b29f-29defaa6d9ef failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:45:58Z', 'message': 'Build of instance 6e8e669a-686c-4b20-b29f-29defaa6d9ef aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11959, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 6e8e669a-686c-4b20-b29f-29defaa6d9ef aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:45:55,584 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://controller:5000/v3/auth/tokens 0.431s
2022-08-16 13:45:55,585 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:55 GMT', 'server': 'Apache', 'content-length': '3897', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-93a6f955-62f2-4116-a846-0ae538866ef3', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "9b60bbf81188476986309a70d5a31d91", "name": "tempest-VolumesSnapshotTestJSON-1605847402-project", "password_expires_at": null}, "audit_ids": ["NMTLkrSKShWftp2_Tuvacg"], "expires_at": "2022-08-17T10:45:55.000000Z", "issued_at": "2022-08-16T10:45:55.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "607a328ac07543fab00214db78527be3", "name": "tempest-VolumesSnapshotTestJSON-1605847402"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/607a328ac07543fab00214db78527be3", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/607a328ac07543fab00214db78527be3", "region": "Regi
    onOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:45:55,585 14502 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 13:45:55,688 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.102s
2022-08-16 13:45:55,688 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesSnapshotTestJSON-1058834134-desc", "domain_id": "default", "name": "tempest-VolumesSnapshotTestJSON-1058834134"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:55 GMT', 'server': 'Apache', 'content-length': '382', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-63d6c63d-3cae-482a-a2d8-eb8a65abc789', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "354c3b5c91ae41eb9668feb12bff7d1a", "name": "tempest-VolumesSnapshotTestJSON-1058834134", "domain_id": "default", "description": "tempest-VolumesSnapshotTestJSON-1058834134-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/354c3b5c91ae41eb9668feb12bff7d1a"}}}\n'
2022-08-16 13:45:56,183 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.494s
2022-08-16 13:45:56,184 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesSnapshotTestJSON-1058834134-project-admin", "password": "S9!ed+F*=_jNMcj", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:55 GMT', 'server': 'Apache', 'content-length': '297', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-66397827-08ee-40e1-b574-ada16a80e37b', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "2481e9e506704b47ba26d7e05bbbb626", "name": "tempest-VolumesSnapshotTestJSON-1058834134-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/2481e9e506704b47ba26d7e05bbbb626"}}}\n'
2022-08-16 13:45:56,212 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.027s
2022-08-16 13:45:56,212 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-4e7f0ffe-738b-4b02-b529-5970e809692c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "d
    escription": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:45:56,274 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/354c3b5c91ae41eb9668feb12bff7d1a/users/2481e9e506704b47ba26d7e05bbbb626/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.061s
2022-08-16 13:45:56,274 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-36824467-736a-417d-a351-2363811a2859', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/354c3b5c91ae41eb9668feb12bff7d1a/users/2481e9e506704b47ba26d7e05bbbb626/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:45:56,348 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.073s
2022-08-16 13:45:56,349 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-95e3bfda-b549-47a4-8ae3-ca0832f61cc7', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:45:56,390 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/2481e9e506704b47ba26d7e05bbbb626/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.040s
2022-08-16 13:45:56,391 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Resp
    onse - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-de0fd8e3-1025-4ee6-b421-fd39050f3885', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/2481e9e506704b47ba26d7e05bbbb626/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:45:56,468 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.076s
2022-08-16 13:45:56,469 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-563f0327-b0df-411f-bdfe-8ca042f24d14', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:45:56,513 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/354c3b5c91ae41eb9668feb12bff7d1a/users/2481e9e506704b47ba26d7e05bbbb626/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.044s
2022-08-16 13:45:56,514 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-231a62ac-fd24-4236-88cb-a148e5a45587', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/354c3b5c91ae41eb9668feb12bff7d1a/users/2481e9e506704b47ba26d7e05bbbb626/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:45:56,589 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.075s
2022-08-16 13:45:56,590 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-07aee533-01a3-44d2-b4dd-899b5075ee13', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a
    2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:45:56,626 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/354c3b5c91ae41eb9668feb12bff7d1a/users/2481e9e506704b47ba26d7e05bbbb626/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.035s
2022-08-16 13:45:56,626 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e1c52a85-deab-4b0c-a908-417b0cd41434', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/354c3b5c91ae41eb9668feb12bff7d1a/users/2481e9e506704b47ba26d7e05bbbb626/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:45:56,626 14502 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 2481e9e506704b47ba26d7e05bbbb626 is created with scope project and roles: ['admin', 'admin']
2022-08-16 13:45:56,627 14502 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesSnapshotTestJSON-1058834134-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '354c3b5c91ae41eb9668feb12bff7d1a', 'project_name': 'tempest-VolumesSnapshotTestJSON-1058834134', 'tenant_id': '354c3b5c91ae41eb9668feb12bff7d1a', 'tenant_name': 'tempest-VolumesSnapshotTestJSON-1058834134', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '2481e9e506704b47ba26d7e05bbbb626', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 13:45:56,635 14502 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use) Found network None available for tenant
2022-08-16 13:45:56,889 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.252s
2022-08-16 13:45:56,889 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-144550685", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d29352da-afdc-4ba0-901e-5f4eb7b92a18', 'x-compute-request-id': 'req-d29352da-afdc-4ba0-901e-5f4eb7b92a18', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "6e8e669a-686c-4b20-b29f-29defaa6d9ef", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4
    b20-b29f-29defaa6d9ef"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "bVAo3qVnR7TD"}}'
2022-08-16 13:45:56,968 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef 0.075s
2022-08-16 13:45:56,969 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ad481f78-8bea-49e0-b1a9-2a16a1e8bd87', 'x-compute-request-id': 'req-ad481f78-8bea-49e0-b1a9-2a16a1e8bd87', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef'}
        Body: b'{"server": {"id": "6e8e669a-686c-4b20-b29f-29defaa6d9ef", "name": "tempest-VolumesSnapshotTestJSON-instance-144550685", "status": "BUILD", "tenant_id": "607a328ac07543fab00214db78527be3", "user_id": "9b60bbf81188476986309a70d5a31d91", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:56Z", "updated": "2022-08-16T10:45:56Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:45:58,069 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef 0.088s
2022-08-16 13:45:58,069 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:57 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1347', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b0e3d00b-35da-43d9-a055-86142f0cecf5', 'x-compute-request-id': 'req-b0e3d00b-35da-43d9-a055-86142f0cecf5', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef'}
        Body: b'{"server": {"id": "6e8e669a-686c-4b20-b29f-29defaa6d9ef", "name": "tempest-VolumesSnapshotTestJSON-instance-144550685", "status": "BUILD", "tenant_id": "607a328ac07543fab00214db78527be3", "user_id": "9b60bbf81188476986309a70d5a31d91", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}
    ]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:56Z", "updated": "2022-08-16T10:45:57Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000099", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:45:58,079 14502 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 2 second wait
2022-08-16 13:45:59,242 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef 0.161s
2022-08-16 13:45:59,242 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:59 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4697', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3593c2f9-fe9a-4c1b-bf35-0fbc55d8512b', 'x-compute-request-id': 'req-3593c2f9-fe9a-4c1b-bf35-0fbc55d8512b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef'}
        Body: b'{"server": {"id": "6e8e669a-686c-4b20-b29f-29defaa6d9ef", "name": "tempest-VolumesSnapshotTestJSON-instance-144550685", "status": "ERROR", "tenant_id": "607a328ac07543fab00214db78527be3", "user_id": "9b60bbf81188476986309a70d5a31d91", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:56Z", "updated": "2022-08-16T10:45:58Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:45:58Z", "message": "Build of instance 6e8e669a-686c-4b20-b29f-29defaa6d9ef aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11959, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\"
    , line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-
2022-08-16 13:45:59,252 14502 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 3 second wait
2022-08-16 13:45:59,498 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef 0.245s
2022-08-16 13:45:59,498 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:59 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-50c1525e-8c0c-4ae7-b63a-5459341db54a', 'x-compute-request-id': 'req-50c1525e-8c0c-4ae7-b63a-5459341db54a', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef'}
        Body: b''
2022-08-16 13:45:59,532 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef 0.033s
2022-08-16 13:45:59,532 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:59 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-4f169b6d-2243-4e75-9156-d2de0ae81f8c', 'x-compute-request-id': 'req-4f169b6d-2243-4e75-9156-d2de0ae81f8c
    ', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 6e8e669a-686c-4b20-b29f-29defaa6d9ef could not be found."}}'

{1} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_get_list_update_delete [3.525658s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete [5.431814s] ... ok
{1} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_offline_delete_online [5.625979s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 83, in test_snapshot_create_offline_delete_online
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 3ca48a48-192b-4038-90fc-f15793406a23 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:46:07Z', 'message': 'Build of instance 3ca48a48-192b-4038-90fc-f15793406a23 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11959, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 3ca48a48-192b-4038-90fc-f15793406a23 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:46:03,206 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3/snapshots 0.138s
2022-08-16 13:46:03,206 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "95bd9615-0c25-486f-bcd8-4ff54607c1a7", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-665454689"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:03 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '309', 'x-compute-request-id': 'req-ceb214bd-05d6-40ec-b9eb-6800ede53965', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-ceb214bd-05d6-40ec-b9eb-6800ede53965', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3/snapshots'}
        Body: b'{"snapshot": {"id": "8f3343f8-08b8-47e3-8aee-2a62bcc1b85e", "created_at": "2022-08-16T10:46:03.147082", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-665454689", "description": null, "volume_id": "95bd9615-0c25-486f-bcd8-4ff54607c1a7", "status": "creating", "size": 1, "metadata": {}}}'
2022-08-16 13:46:03,236 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3/snapshots/8f3343f8-08b8-47e3-8aee-2a62bcc1b85e 0.026s
2022-08-16 13:46:03,237 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:03 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '441', 'x-compute-request-id': 'req-b421e94e-c295-4a37-bde0-38e9f3a68fa8', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-b421e94e-c295-4a37-bde0-38e9f3a68fa8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3/snapshots/8f3343f8-08b8-47e3-8aee-2a62bcc1b85e'}
        Body: b'{"snapshot": {"id": "8f3343f8-08b8-47e3-8aee-2a62bcc1b85e", "created_at": "2022-08-16T10:46:03.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-665454689", "description": null, "volume_id": "95bd9615-0c25-486f-bcd8-4ff54607c1a7", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "607a328ac07543fab00214db78527be3", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-16 13:46:04,269 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3/snapshots/8f3343f8-08b8-47e3-8aee-2a62bcc1b85e 0.028s
2022-08-16 13:46:04,270 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:04 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '441', 'x-compute-request-id': 'req-353423b2-50fd-4db0-9052-efb15c92002c', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-353423b2-50fd-4db0-9052-efb15c92002c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3/snapshots/8f3343f8-08b8-47e3-8aee-2a62bcc1b85e'}
        Body: b'{"snapshot": {"id": "8f3343f8-08b8-47e3-8aee-2a62bcc1b85e", "created_at": "2022-08-16T10:46:03.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJ
    SON-Snapshot-665454689", "description": null, "volume_id": "95bd9615-0c25-486f-bcd8-4ff54607c1a7", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "607a328ac07543fab00214db78527be3", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-16 13:46:05,300 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3/snapshots/8f3343f8-08b8-47e3-8aee-2a62bcc1b85e 0.025s
2022-08-16 13:46:05,301 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:05 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '468', 'x-compute-request-id': 'req-ed10b325-a402-4f3a-8b9a-ad6a386e6ac1', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-ed10b325-a402-4f3a-8b9a-ad6a386e6ac1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3/snapshots/8f3343f8-08b8-47e3-8aee-2a62bcc1b85e'}
        Body: b'{"snapshot": {"id": "8f3343f8-08b8-47e3-8aee-2a62bcc1b85e", "created_at": "2022-08-16T10:46:03.000000", "updated_at": "2022-08-16T10:46:04.000000", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-665454689", "description": null, "volume_id": "95bd9615-0c25-486f-bcd8-4ff54607c1a7", "status": "available", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "607a328ac07543fab00214db78527be3", "os-extended-snapshot-attributes:progress": "100%"}}'
2022-08-16 13:46:05,304 14502 INFO     [tempest.common.waiters] snapshot 8f3343f8-08b8-47e3-8aee-2a62bcc1b85e reached available after waiting for 2.304740 seconds
2022-08-16 13:46:05,806 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 201 POST http://controller:5000/v3/auth/tokens 0.493s
2022-08-16 13:46:05,806 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:05 GMT', 'server': 'Apache', 'content-length': '3897', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-98091bbe-a13d-4e11-ada3-c0de4467dfb5', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "9b60bbf81188476986309a70d5a31d91", "name": "tempest-VolumesSnapshotTestJSON-1605847402-project", "password_expires_at": null}, "audit_ids": ["H0jDQgNGSj2X32CPvZ27Xw"], "expires_at": "2022-08-17T10:46:05.000000Z", "issued_at": "2022-08-16T10:46:05.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "607a328ac07543fab00214db78527be3", "name": "tempest-VolumesSnapshotTestJSON-1605847402"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "int
    erface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/607a328ac07543fab00214db78527be3", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/607a328ac07543fab00214db78527be3", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:46:05,814 14502 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online) Found network None available for tenant
2022-08-16 13:46:06,091 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.275s
2022-08-16 13:46:06,091 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-1906133249", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:05 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ef40dddd-1f69-4c2c-a964-82f7f34fd298', 'x-compute-request-id': 'req-ef40dddd-1f69-4c2c-a964-82f7f34fd298', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "3ca48a48-192b-4038-90fc-f15793406a23", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23
    "}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3ca48a48-192b-4038-90fc-f15793406a23"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "vPc9PPNmU4gz"}}'
2022-08-16 13:46:06,164 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23 0.070s
2022-08-16 13:46:06,165 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:06 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1327', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d983bcfd-c45f-4541-9953-1fa83772cb5d', 'x-compute-request-id': 'req-d983bcfd-c45f-4541-9953-1fa83772cb5d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23'}
        Body: b'{"server": {"id": "3ca48a48-192b-4038-90fc-f15793406a23", "name": "tempest-VolumesSnapshotTestJSON-instance-1906133249", "status": "BUILD", "tenant_id": "607a328ac07543fab00214db78527be3", "user_id": "9b60bbf81188476986309a70d5a31d91", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:46:06Z", "updated": "2022-08-16T10:46:06Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3ca48a48-192b-4038-90fc-f15793406a23"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:46:07,263 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23 0.087s
2022-08-16 13:46:07,264 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:07 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1348', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c6a87396-9646-44f1-8c08-5fe2ebe397f9', 'x-compute-request-id': 'req-c6a87396-9646-44f1-8c08-5fe2ebe397f9', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23'}
        Body: b'{"server": {"id": "3ca48a48-192b-4038-90fc-f15793406a23", "name": "tempest-VolumesSnapshotTestJSON-instance-1906133249", "status": "BUILD", "tenant_id": "607a328ac07543fab00214db78527be3", "user_id": "9b60bbf81188476986309a70d5a31d91", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "
    links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:46:06Z", "updated": "2022-08-16T10:46:06Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3ca48a48-192b-4038-90fc-f15793406a23"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-0000009a", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:46:07,274 14502 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:46:08,375 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23 0.100s
2022-08-16 13:46:08,376 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4698', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-bc045cd8-e73e-4f3c-b678-f30f16091ff3', 'x-compute-request-id': 'req-bc045cd8-e73e-4f3c-b678-f30f16091ff3', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23'}
        Body: b'{"server": {"id": "3ca48a48-192b-4038-90fc-f15793406a23", "name": "tempest-VolumesSnapshotTestJSON-instance-1906133249", "status": "ERROR", "tenant_id": "607a328ac07543fab00214db78527be3", "user_id": "9b60bbf81188476986309a70d5a31d91", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:46:06Z", "updated": "2022-08-16T10:46:07Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3ca48a48-192b-4038-90fc-f15793406a23"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:46:07Z", "message": "Build of instance 3ca48a48-192b-4038-90fc-f15793406a23 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11959, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device
    _info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site
2022-08-16 13:46:08,386 14502 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 13:46:08,653 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23 0.267s
2022-08-16 13:46:08,654 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-2bbe6eed-a4f4-450f-929a-6d982b9ab22b', 'x-compute-request-id': 'req-2bbe6eed-a4f4-450f-929a-6d982b9ab22b', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23'}
        Body: b''
2022-08-16 13:46:08,691 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23 0.037s
2022-08-16 13:46:08,692 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5ec3b179-7ff5-4ffc-a96d-c060e23390bc', 'x-compute-request-id': 'req-5ec3b179-7ff5-4ffc-a96d-c060e23390bc', 'connection': 'close', 'content-type
    ': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 3ca48a48-192b-4038-90fc-f15793406a23 could not be found."}}'

{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_as_clone [7.707011s] ... ok
{1} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot [6.162364s] ... ok
{1} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot_no_size [6.216753s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_from_image [14.982765s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_with_nonexistent_volume_id [0.228270s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_without_passing_volume_id [0.030055s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshot_invalid_param_limit [0.017823s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_marker [0.024952s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_sort [0.019866s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_volume_from_snapshot_decreasing_size [3.691395s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit [0.036874s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit_equals_infinite [0.073116s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit_equals_zero [0.033060s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_marker [0.078090s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_offset [0.031848s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_created_at_asc [0.030953s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_created_at_desc [0.035801s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_id_asc [0.033423s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_id_desc [0.036436s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_name_asc [0.036108s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_name_desc [0.032164s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshots_list_details_with_params [0.097304s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshots_list_with_params [0.094992s] ... ok

==============================
Failed 8 tests - output below:
==============================

tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_list_get_volume_attachments_multiattach[id-8d5853f7-56e7-4988-9b0c-48cea3c7049a]
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 406, in test_list_get_volume_attachments_multiattach
    servers, volume, attachments = self._create_and_multiattach()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 389, in _create_and_multiattach
    'ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server bec63cb4-528d-4b40-af04-bf2d63ca8a94 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:42:53Z', 'message': 'Build of instance bec63cb4-528d-4b40-af04-bf2d63ca8a94 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11959, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance bec63cb4-528d-4b40-af04-bf2d63ca8a94 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:42:51,548 14501 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.476s
2022-08-16 13:42:51,548 14501 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:42:51 GMT', 'server': 'Apache', 'content-length': '3905', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-cf3afb2e-7eb5-4d2e-a41b-248f62b98863', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "a2aaf3ed72034fc68f14d750af93c237", "name": "tempest-AttachVolumeMultiAttachTest-1049841013-project", "password_expires_at": null}, "audit_ids": ["gz8aMQMzQVKfCaU9O-dr2A"], "expires_at": "2022-08-17T10:42:51.000000Z", "issued_at": "2022-08-16T10:42:51.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "8289c5994e794869a80f5687a571861d", "name": "tempest-AttachVolumeMultiAttachTest-1049841013"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/8289c5994e794869a80f5687a571861d", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/8289c5994e794869a80f5687a571861d", "regi
    on": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/8289c5994e794869a80f5687a571861d", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/8289c5994e794869a80f5687a571861d", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:42:51,556 14501 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-16 13:42:51,700 14501 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.142s
2022-08-16 13:42:51,700 14501 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-0", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:42:51 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-65a07105-7545-4c34-a3a0-7838293f392e', 'x-compute-request-id': 'req-65a07105-7545-4c34-a3a0-7838293f392e', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "bec63cb4-528d-4b40-af04-bf2d63ca8a94", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "R7iZZqrxBMWQ"}}'
2022-08-16 13:42:52,145 14501 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.434s
2022-08-16 13:42:52,145 14501 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:42:51 GMT', 'server': 'Apache', 'content-length': '3905', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-bafe3e4b-3f52-4632-b5e2-4654d8531469', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "a2aaf3ed72034fc68f14d750af93c237", "name": "tempest-AttachVolumeMultiAttachTest-1049841013-project", "password_expires_at": null}, "audit_ids": ["WoZED4KsSk6dWoPr8Q_DFw"], "expires_at": "2022-08-17T10:42:52.000000Z", "issued_at": "2022-08-16T10:42:52.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "8289c5994e794869a80f5687a571861d", "name": "tempest-AttachVolumeMultiAttachTest-1049841013"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region":
     "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/8289c5994e794869a80f5687a571861d", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/8289c5994e794869a80f5687a571861d", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/8289c5994e794869a80f5687a571861d", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/8289c5994e794869a80f5687a571861d", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:42:52,154 14501 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-16 13:42:52,299 14501 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.144s
2022-08-16 13:42:52,299 14501 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-1", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:42:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/f8b6e8d0-a1d4-4d5b-9cc5-2b75d2956046', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStac
    k-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-4d60ada6-e693-4965-a159-b54e37afb4dd', 'x-compute-request-id': 'req-4d60ada6-e693-4965-a159-b54e37afb4dd', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "f8b6e8d0-a1d4-4d5b-9cc5-2b75d2956046", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/f8b6e8d0-a1d4-4d5b-9cc5-2b75d2956046"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/f8b6e8d0-a1d4-4d5b-9cc5-2b75d2956046"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "AkSh95HxJF8e"}}'
2022-08-16 13:42:52,406 14501 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94 0.104s
2022-08-16 13:42:52,407 14501 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:42:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1760', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d180d484-6b99-4cc0-a380-dd5d4b107bb6', 'x-compute-request-id': 'req-d180d484-6b99-4cc0-a380-dd5d4b107bb6', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94'}
        Body: b'{"server": {"id": "bec63cb4-528d-4b40-af04-bf2d63ca8a94", "name": "multiattach-server-0", "status": "BUILD", "tenant_id": "8289c5994e794869a80f5687a571861d", "user_id": "a2aaf3ed72034fc68f14d750af93c237", "metadata": {}, "hostId": "9e0fc97a163d6a81c8854aa0dd61bc68a2248b1c117c9e54674ca851", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-16T10:42:51Z", "updated": "2022-08-16T10:42:52Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": "rack05-server62", "OS-EXT-SRV-ATTR:instance_name": "instance-00000091", "OS-EXT-SRV-ATTR:hypervisor_hostname": "rack05-server62", "OS-EXT-SRV-ATTR:reservation_id": "r-zi55maav", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "UP", "locked": false, "description": null, "tags": []}}'
2022-08-16 13:42:53,520 14501 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94 0.100s
2022-08-16 13:42:53,521 14501 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {
    'date': 'Tue, 16 Aug 2022 10:42:53 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '5040', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ffdbb3db-c7e8-4844-a25b-88d94f50e276', 'x-compute-request-id': 'req-ffdbb3db-c7e8-4844-a25b-88d94f50e276', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94'}
        Body: b'{"server": {"id": "bec63cb4-528d-4b40-af04-bf2d63ca8a94", "name": "multiattach-server-0", "status": "ERROR", "tenant_id": "8289c5994e794869a80f5687a571861d", "user_id": "a2aaf3ed72034fc68f14d750af93c237", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-16T10:42:51Z", "updated": "2022-08-16T10:42:53Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/bec63cb4-528d-4b40-af04-bf2d63ca8a94"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:42:53Z", "message": "Build of instance bec63cb4-528d-4b40-af04-bf2d63ca8a94 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11959, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.
    10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/no
2022-08-16 13:42:53,533 14501 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 1 second wait


tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_force_detach_volume[compute,id-d38285d9-929d-478f-96a5-00e66a115b81]
------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/admin/test_volumes_actions.py", line 83, in test_force_detach_volume
    server_id = self.create_server()['id']

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 650098f6-e2a8-42e9-9c54-6ab2d99129d5 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:44:01Z', 'message': 'Build of instance 650098f6-e2a8-42e9-9c54-6ab2d99129d5 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11959, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 650098f6-e2a8-42e9-9c54-6ab2d99129d5 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:43:59,925 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 201 POST http://controller:5000/v3/auth/tokens 0.454s
2022-08-16 13:43:59,925 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:43:59 GMT', 'server': 'Apache', 'content-length': '3887', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-218a723d-6638-406c-84f7-5af3595c2ce1', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "6f9a7d81a80741709bb98245201a64bb", "name": "tempest-VolumesActionsTest-2100702081-project", "password_expires_at": null}, "audit_ids": ["Ggpih8UmQCqIJ39IhgZ6mg"], "expires_at": "2022-08-17T10:43:59.000000Z", "issued_at": "2022-08-16T10:43:59.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "0c96acb0e7654fcf990b4b46053fcea7", "name": "tempest-VolumesActionsTest-2100702081"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0c96acb0e7654fcf990b4b46053fcea7", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0c96acb0e7654fcf990b4b46053fcea7", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174
    469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/0c96acb0e7654fcf990b4b46053fcea7", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/0c96acb0e7654fcf990b4b46053fcea7", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:43:59,934 14502 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_force_detach_volume) Found network None available for tenant
2022-08-16 13:44:00,391 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.455s
2022-08-16 13:44:00,391 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-603663434", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:43:59 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-43937efc-1f36-4eb1-9780-8ae755c027f8', 'x-compute-request-id': 'req-43937efc-1f36-4eb1-9780-8ae755c027f8', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "650098f6-e2a8-42e9-9c54-6ab2d99129d5", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "KKjE9ynVcWYQ"}}'
2022-08-16 13:44:00,473 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5 0.078s
2022-08-16 13:44:00,473 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:00 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1321', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6fd421da-c276-4328-a653-e13ebf6511eb', 'x-compute-request-id': 'req-6fd421da-c276-4328-a653-e13ebf6511eb', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5'}
        Body: b'{"server": {"id": "650098f6-e2a8-42e9-9c54-6ab2d99129d5", "name": "tempest-VolumesActionsTest-instance-603663434", "status": "BUILD", "tenant_id": "0c96acb0e7654fcf990b4b46053fcea7", "user_id": "6f9a7d81a80741709bb98245201a64bb", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:44:00Z", "updated": "2022-08-16T10:44:00Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5"}, {"rel": "bookmark", "href": "http:
    //[LB_IP_ADDRESS]:8774/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:44:01,579 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5 0.093s
2022-08-16 13:44:01,579 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:01 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1342', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-427027cc-1973-40a4-8a12-a133b9f87522', 'x-compute-request-id': 'req-427027cc-1973-40a4-8a12-a133b9f87522', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5'}
        Body: b'{"server": {"id": "650098f6-e2a8-42e9-9c54-6ab2d99129d5", "name": "tempest-VolumesActionsTest-instance-603663434", "status": "BUILD", "tenant_id": "0c96acb0e7654fcf990b4b46053fcea7", "user_id": "6f9a7d81a80741709bb98245201a64bb", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:44:00Z", "updated": "2022-08-16T10:44:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000094", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:44:01,589 14502 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:44:02,696 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5 0.105s
2022-08-16 13:44:02,697 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4692', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-65b85303-c15c-4756-bd85-af85539935c4', 'x-compute-request-id': 'req-65b85303-c15c-4756-bd85-af85539935c4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5'}
        Body: b'{"server": {"id": "650098f6-e2a8-42e9-9c54-6
    ab2d99129d5", "name": "tempest-VolumesActionsTest-instance-603663434", "status": "ERROR", "tenant_id": "0c96acb0e7654fcf990b4b46053fcea7", "user_id": "6f9a7d81a80741709bb98245201a64bb", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:44:00Z", "updated": "2022-08-16T10:44:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:44:01Z", "message": "Build of instance 650098f6-e2a8-42e9-9c54-6ab2d99129d5 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11959, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packa
2022-08-16 13:44:02,707 14502 INFO     [tempe
    st.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 13:44:03,688 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5 0.980s
2022-08-16 13:44:03,688 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ea44af5f-6a13-4933-8cd3-203d34b8e5e6', 'x-compute-request-id': 'req-ea44af5f-6a13-4933-8cd3-203d34b8e5e6', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5'}
        Body: b''
2022-08-16 13:44:03,721 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5 0.032s
2022-08-16 13:44:03,721 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:03 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f4f64e09-77d8-4cd7-8601-dfe313ed4408', 'x-compute-request-id': 'req-f4f64e09-77d8-4cd7-8601-dfe313ed4408', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/650098f6-e2a8-42e9-9c54-6ab2d99129d5'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 650098f6-e2a8-42e9-9c54-6ab2d99129d5 could not be found."}}'


tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_attach_detach_volume_to_instance[compute,id-fff42874-7db5-4487-a8e1-ddda5fb5288d,smoke]
-------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 45, in test_attach_detach_volume_to_instance
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 37cbcae3-49d6-44ac-beba-b410468f92bb failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:44:57Z', 'message': 'Build of instance 37cbcae3-49d6-44ac-beba-b410468f92bb aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11959, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 37cbcae3-49d6-44ac-beba-b410468f92bb aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:44:54,987 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://controller:5000/v3/auth/tokens 0.475s
2022-08-16 13:44:54,988 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:54 GMT', 'server': 'Apache', 'content-length': '3885', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-def98c2b-2a3b-441b-8e2e-33b5e00b1484', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "9365e8b2cd674821a7a96dfd101100ee", "name": "tempest-VolumesActionsTest-707307133-project", "password_expires_at": null}, "audit_ids": ["cXOSczMrSuC6lmQ1S-Im1Q"], "expires_at": "2022-08-17T10:44:54.000000Z", "issued_at": "2022-08-16T10:44:54.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "61fc462c38aa472f843d7043a79d6667", "name": "tempest-VolumesActionsTest-707307133"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/61fc462c38aa472f843d7043a79d6667", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/61fc462c38aa472f843d7043a79d6667", "region": "RegionOne"}], "id": "d30e368ce
    4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/61fc462c38aa472f843d7043a79d6667", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/61fc462c38aa472f843d7043a79d6667", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:44:54,988 14503 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 13:44:55,112 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.123s
2022-08-16 13:44:55,113 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesActionsTest-543616994-desc", "domain_id": "default", "name": "tempest-VolumesActionsTest-543616994"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:54 GMT', 'server': 'Apache', 'content-length': '370', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-497848f8-c2df-4898-a108-4c3d61ea6f34', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "f33482ed898345be8bef20fe1c9e00eb", "name": "tempest-VolumesActionsTest-543616994", "domain_id": "default", "description": "tempest-VolumesActionsTest-543616994-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/f33482ed898345be8bef20fe1c9e00eb"}}}\n'
2022-08-16 13:44:55,599 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.485s
2022-08-16 13:44:55,599 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesActionsTest-543616994-project-admin", "password": "G0*6QdBJh_7T+m5", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:55 GMT', 'server': 'Apache', 'content-length': '291', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2f729016-028a-4f24-88ae-9a3cc0864aab', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "c139f348d21d418c990fce6554be3050", "name": "tempest-VolumesActionsTest-543616994-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/c139f348d21d418c990fce6554be3050"}}}\n'
2022-08-16 13:44:55,626 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.026s
2022-08-16 13:44:55,627 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:55 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ed1e30db-18e7-4ba2-874b-e1e0d36bfb4e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/role
    s/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:44:55,736 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/f33482ed898345be8bef20fe1c9e00eb/users/c139f348d21d418c990fce6554be3050/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.108s
2022-08-16 13:44:55,736 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:55 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-af50662c-9422-4f9c-8707-90411b1c6a38', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/f33482ed898345be8bef20fe1c9e00eb/users/c139f348d21d418c990fce6554be3050/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:44:55,818 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.081s
2022-08-16 13:44:55,819 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:55 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8a03ec2a-4fac-4b07-b4ea-32381461e022', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:44:55,864 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/c139f348d21d418c990fce6554be3050/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.044s
2022-08-16 13:44:55,864 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:55 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-4fca1db3-8ab8
    -488d-afc0-9d1236d43ad5', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/c139f348d21d418c990fce6554be3050/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:44:55,939 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.074s
2022-08-16 13:44:55,940 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:55 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b4b3da2b-645c-4040-ae13-cbc6c3a69562', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:44:55,976 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/f33482ed898345be8bef20fe1c9e00eb/users/c139f348d21d418c990fce6554be3050/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.035s
2022-08-16 13:44:55,977 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:55 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-606cc160-0458-4251-9665-d28be63a66e1', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/f33482ed898345be8bef20fe1c9e00eb/users/c139f348d21d418c990fce6554be3050/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:44:56,059 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.081s
2022-08-16 13:44:56,059 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:55 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-d46c8729-02a1-4e28-a28d-44f9a107bafa', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f
    97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:44:56,097 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/f33482ed898345be8bef20fe1c9e00eb/users/c139f348d21d418c990fce6554be3050/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.037s
2022-08-16 13:44:56,098 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:56 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-228fb551-0a7f-44d4-839b-aab7a5ea3869', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/f33482ed898345be8bef20fe1c9e00eb/users/c139f348d21d418c990fce6554be3050/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:44:56,098 14503 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user c139f348d21d418c990fce6554be3050 is created with scope project and roles: ['admin', 'admin']
2022-08-16 13:44:56,099 14503 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesActionsTest-543616994-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': 'f33482ed898345be8bef20fe1c9e00eb', 'project_name': 'tempest-VolumesActionsTest-543616994', 'tenant_id': 'f33482ed898345be8bef20fe1c9e00eb', 'tenant_name': 'tempest-VolumesActionsTest-543616994', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'c139f348d21d418c990fce6554be3050', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 13:44:56,107 14503 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_attach_detach_volume_to_instance) Found network None available for tenant
2022-08-16 13:44:56,367 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.259s
2022-08-16 13:44:56,368 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-517056694", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:56 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b651715d-8c97-4b67-b87a-5accabd97a45', 'x-compute-request-id': 'req-b651715d-8c97-4b67-b87a-5accabd97a45', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "37cbcae3-49d6-44ac-beba-b410468f92bb", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/37cbcae3-49d6-44ac-beba-b410468f92bb"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "UA45Y42ufx2s"}}'
2022-08-16 13:44:56
    ,455 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb 0.083s
2022-08-16 13:44:56,455 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:56 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1321', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-4dccd064-40bd-468f-9355-2762a2a72aca', 'x-compute-request-id': 'req-4dccd064-40bd-468f-9355-2762a2a72aca', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb'}
        Body: b'{"server": {"id": "37cbcae3-49d6-44ac-beba-b410468f92bb", "name": "tempest-VolumesActionsTest-instance-517056694", "status": "BUILD", "tenant_id": "61fc462c38aa472f843d7043a79d6667", "user_id": "9365e8b2cd674821a7a96dfd101100ee", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:44:56Z", "updated": "2022-08-16T10:44:56Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/37cbcae3-49d6-44ac-beba-b410468f92bb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:44:57,554 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb 0.087s
2022-08-16 13:44:57,554 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:57 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1342', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-69fe9635-20aa-43a2-bed0-d1d1388806c7', 'x-compute-request-id': 'req-69fe9635-20aa-43a2-bed0-d1d1388806c7', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb'}
        Body: b'{"server": {"id": "37cbcae3-49d6-44ac-beba-b410468f92bb", "name": "tempest-VolumesActionsTest-instance-517056694", "status": "BUILD", "tenant_id": "61fc462c38aa472f843d7043a79d6667", "user_id": "9365e8b2cd674821a7a96dfd101100ee", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:44:56Z", "updated": "2022-08-16T10:44:57Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774
    /v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/37cbcae3-49d6-44ac-beba-b410468f92bb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000095", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:44:57,564 14503 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:44:58,654 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb 0.088s
2022-08-16 13:44:58,655 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:58 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4692', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7f2de7b2-de17-43a7-a0e8-88b9bd9e99d9', 'x-compute-request-id': 'req-7f2de7b2-de17-43a7-a0e8-88b9bd9e99d9', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb'}
        Body: b'{"server": {"id": "37cbcae3-49d6-44ac-beba-b410468f92bb", "name": "tempest-VolumesActionsTest-instance-517056694", "status": "ERROR", "tenant_id": "61fc462c38aa472f843d7043a79d6667", "user_id": "9365e8b2cd674821a7a96dfd101100ee", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:44:56Z", "updated": "2022-08-16T10:44:57Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/37cbcae3-49d6-44ac-beba-b410468f92bb"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:44:57Z", "message": "Build of instance 37cbcae3-49d6-44ac-beba-b410468f92bb aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11959, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site
    -packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packa
2022-08-16 13:44:58,665 14503 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 13:44:59,577 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb 0.911s
2022-08-16 13:44:59,577 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:58 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0db3e5cd-9a23-49c7-a447-04824cfbbc77', 'x-compute-request-id': 'req-0db3e5cd-9a23-49c7-a447-04824cfbbc77', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb'}
        Body: b''
2022-08-16 13:44:59,612 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb 0.033s
2022-08-16 13:44:59,612 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:59 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-9b37441a-f1f5-4eae-8b1f-bfed580d0eb5', 'x-compute-request-id': 'req-9b37441a-f1f5-4eae-8b1f-bfed580d0eb5', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/37cbcae3-49d6-44ac-beba-b410468f92bb'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 37cbcae3-49d6-44ac-beba-b410468f92bb could not be found."}}'


tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_get_volume_attachment[compute,id-9516a2c8-9135-488c-8dd6-5677a7e5f371]
--------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 81, in test_get_volume_attachment
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 79817d24-bc8b-43ab-b5a8-55c2cddcfa8a failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:45:01Z', 'message': 'Build of instance 79817d24-bc8b-43ab-b5a8-55c2cddcfa8a aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11959, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 79817d24-bc8b-43ab-b5a8-55c2cddcfa8a aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:45:00,103 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 201 POST http://controller:5000/v3/auth/tokens 0.472s
2022-08-16 13:45:00,103 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:44:59 GMT', 'server': 'Apache', 'content-length': '3885', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3bc88ed6-fb5d-49bc-987e-7170ead2c2e9', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "9365e8b2cd674821a7a96dfd101100ee", "name": "tempest-VolumesActionsTest-707307133-project", "password_expires_at": null}, "audit_ids": ["IYdT9HEcSq2QU5wc0AzGeg"], "expires_at": "2022-08-17T10:45:00.000000Z", "issued_at": "2022-08-16T10:45:00.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "61fc462c38aa472f843d7043a79d6667", "name": "tempest-VolumesActionsTest-707307133"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/61fc462c38aa472f843d7043a79d6667", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/61fc462c38aa472f843d7043a79d6667", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174
    469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/61fc462c38aa472f843d7043a79d6667", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/61fc462c38aa472f843d7043a79d6667", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:45:00,110 14503 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_get_volume_attachment) Found network None available for tenant
2022-08-16 13:45:00,359 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.248s
2022-08-16 13:45:00,360 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-747186180", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:00 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7804dd02-259f-46f7-8a57-855078edf82a', 'x-compute-request-id': 'req-7804dd02-259f-46f7-8a57-855078edf82a', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "79817d24-bc8b-43ab-b5a8-55c2cddcfa8a", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "oQKTpsX6Lp7H"}}'
2022-08-16 13:45:00,434 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a 0.071s
2022-08-16 13:45:00,434 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:00 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1321', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-e24e6ecc-acea-4fab-8022-da94188b4141', 'x-compute-request-id': 'req-e24e6ecc-acea-4fab-8022-da94188b4141', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a'}
        Body: b'{"server": {"id": "79817d24-bc8b-43ab-b5a8-55c2cddcfa8a", "name": "tempest-VolumesActionsTest-instance-747186180", "status": "BUILD", "tenant_id": "61fc462c38aa472f843d7043a79d6667", "user_id": "9365e8b2cd674821a7a96dfd101100ee", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:00Z", "updated": "2022-08-16T10:45:00Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a"}, {"rel": "bookmark", "href": 
    "http://[LB_IP_ADDRESS]:8774/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:45:01,539 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a 0.092s
2022-08-16 13:45:01,539 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:01 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1342', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1f08bf5f-3142-4a53-85ac-0806142c7c2c', 'x-compute-request-id': 'req-1f08bf5f-3142-4a53-85ac-0806142c7c2c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a'}
        Body: b'{"server": {"id": "79817d24-bc8b-43ab-b5a8-55c2cddcfa8a", "name": "tempest-VolumesActionsTest-instance-747186180", "status": "BUILD", "tenant_id": "61fc462c38aa472f843d7043a79d6667", "user_id": "9365e8b2cd674821a7a96dfd101100ee", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:00Z", "updated": "2022-08-16T10:45:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000096", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:45:01,550 14503 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:45:02,654 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a 0.102s
2022-08-16 13:45:02,654 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4692', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-933334b2-9d77-426c-aaa9-b861f038b17f', 'x-compute-request-id': 'req-933334b2-9d77-426c-aaa9-b861f038b17f', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a'}
        Body: b'{"server": {"id": "79817d24-bc8b-4
    3ab-b5a8-55c2cddcfa8a", "name": "tempest-VolumesActionsTest-instance-747186180", "status": "ERROR", "tenant_id": "61fc462c38aa472f843d7043a79d6667", "user_id": "9365e8b2cd674821a7a96dfd101100ee", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:00Z", "updated": "2022-08-16T10:45:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:45:01Z", "message": "Build of instance 79817d24-bc8b-43ab-b5a8-55c2cddcfa8a aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11959, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packa
2022-08-16 13:45:02,665 14503 INFO 
        [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 13:45:02,920 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a 0.254s
2022-08-16 13:45:02,920 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-982e41f4-c32f-45a1-99a5-53b59f14e6ac', 'x-compute-request-id': 'req-982e41f4-c32f-45a1-99a5-53b59f14e6ac', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a'}
        Body: b''
2022-08-16 13:45:02,952 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a 0.031s
2022-08-16 13:45:02,952 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-68e8de68-0ba8-4a31-a968-51bea02e595f', 'x-compute-request-id': 'req-68e8de68-0ba8-4a31-a968-51bea02e595f', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/79817d24-bc8b-43ab-b5a8-55c2cddcfa8a'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 79817d24-bc8b-43ab-b5a8-55c2cddcfa8a could not be found."}}'


tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_attach_volumes_with_nonexistent_volume_id[compute,id-f5e56b0a-5d02-43c1-a2a7-c9b792c2e3f6,negative]
---------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_negative.py", line 179, in test_attach_volumes_with_nonexistent_volume_id
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:45:46Z', 'message': 'Build of instance 534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11959, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:45:43,063 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://controller:5000/v3/auth/tokens 0.423s
2022-08-16 13:45:43,063 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:42 GMT', 'server': 'Apache', 'content-length': '3887', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2826f5a8-8d98-4ac5-a6ee-b221bcacd96e', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "8a7e627bf4b24ceb8ac5d6852beb0144", "name": "tempest-VolumesNegativeTest-348093251-project", "password_expires_at": null}, "audit_ids": ["-JXT8J2pR8u4YWR95Ili7A"], "expires_at": "2022-08-17T10:45:43.000000Z", "issued_at": "2022-08-16T10:45:43.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "c120d1b4de0c4d5c9d8178ed18ede3d8", "name": "tempest-VolumesNegativeTest-348093251"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/c120d1b4de0c4d5c9d8178ed18ede3d8", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/c120d1b4de0c4d5c9d8178ed18ede3d8", "region": "RegionOne"}], "id"
    : "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/c120d1b4de0c4d5c9d8178ed18ede3d8", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/c120d1b4de0c4d5c9d8178ed18ede3d8", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:45:43,063 14502 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 13:45:43,172 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.108s
2022-08-16 13:45:43,172 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesNegativeTest-1523214927-desc", "domain_id": "default", "name": "tempest-VolumesNegativeTest-1523214927"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:43 GMT', 'server': 'Apache', 'content-length': '374', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-032c2bd8-8692-4514-a4d9-a8893b9d56f3', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "f5a9e98eca694238bb713009fbfb7223", "name": "tempest-VolumesNegativeTest-1523214927", "domain_id": "default", "description": "tempest-VolumesNegativeTest-1523214927-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/f5a9e98eca694238bb713009fbfb7223"}}}\n'
2022-08-16 13:45:43,668 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.495s
2022-08-16 13:45:43,669 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesNegativeTest-1523214927-project-admin", "password": "O1%#j5qSyGw7Q9_", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:43 GMT', 'server': 'Apache', 'content-length': '293', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-681b43ec-cfb4-42dc-ba5e-6e1fa9c2387a', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "0ae5b023e6054a4caa2bba3a19371518", "name": "tempest-VolumesNegativeTest-1523214927-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/0ae5b023e6054a4caa2bba3a19371518"}}}\n'
2022-08-16 13:45:43,705 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.031s
2022-08-16 13:45:43,705 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:43 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-27f88c19-bf60-4018-be0a-6fffccdc238a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true},
     "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:45:43,754 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/f5a9e98eca694238bb713009fbfb7223/users/0ae5b023e6054a4caa2bba3a19371518/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.047s
2022-08-16 13:45:43,754 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:43 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b3a99a13-fdd9-45c5-8d51-d239a371e806', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/f5a9e98eca694238bb713009fbfb7223/users/0ae5b023e6054a4caa2bba3a19371518/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:45:43,837 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.081s
2022-08-16 13:45:43,837 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:43 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-414ceeea-9e38-4bd3-acb7-4f0336e03972', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:45:43,878 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/0ae5b023e6054a4caa2bba3a19371518/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.040s
2022-08-16 13:45:43,878 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:43 GMT', 'ser
    ver': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-07ac9dc2-de7f-4313-9704-13899864f531', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/0ae5b023e6054a4caa2bba3a19371518/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:45:43,965 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.086s
2022-08-16 13:45:43,966 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:43 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-bce20b56-6bdf-44a4-861c-b22058ee776e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:45:44,003 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/f5a9e98eca694238bb713009fbfb7223/users/0ae5b023e6054a4caa2bba3a19371518/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.036s
2022-08-16 13:45:44,003 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:43 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-de5b48a4-fa15-4d78-b9c5-e84536311757', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/f5a9e98eca694238bb713009fbfb7223/users/0ae5b023e6054a4caa2bba3a19371518/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:45:44,080 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.076s
2022-08-16 13:45:44,080 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:44 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-533ac72f-2adb-4ca7-905a-44a6a646da9e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null
    , "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:45:44,116 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/f5a9e98eca694238bb713009fbfb7223/users/0ae5b023e6054a4caa2bba3a19371518/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.035s
2022-08-16 13:45:44,117 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:44 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-56e8940a-572e-48f6-88a8-25e01513b9bc', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/f5a9e98eca694238bb713009fbfb7223/users/0ae5b023e6054a4caa2bba3a19371518/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:45:44,117 14502 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 0ae5b023e6054a4caa2bba3a19371518 is created with scope project and roles: ['admin', 'admin']
2022-08-16 13:45:44,118 14502 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesNegativeTest-1523214927-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': 'f5a9e98eca694238bb713009fbfb7223', 'project_name': 'tempest-VolumesNegativeTest-1523214927', 'tenant_id': 'f5a9e98eca694238bb713009fbfb7223', 'tenant_name': 'tempest-VolumesNegativeTest-1523214927', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '0ae5b023e6054a4caa2bba3a19371518', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 13:45:44,126 14502 INFO     [tempest.lib.common.fixed_network] (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id) Found network None available for tenant
2022-08-16 13:45:44,391 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.264s
2022-08-16 13:45:44,391 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesNegativeTest-instance-1036127029", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:44 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-13dc4b15-f1de-4be4-a94d-ac47f354c150', 'x-compute-request-id': 'req-13dc4b15-f1de-4be4-a94d-ac47f354c150', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "534f2c62-e7ab-41bd-90d6-f1acbcaef8d2", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/534f2c62-e7a
    b-41bd-90d6-f1acbcaef8d2"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "fRepkuj7QAJ3"}}'
2022-08-16 13:45:44,472 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 0.077s
2022-08-16 13:45:44,472 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:44 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1323', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d5ed961a-c65c-445e-ad60-82582cb1726a', 'x-compute-request-id': 'req-d5ed961a-c65c-445e-ad60-82582cb1726a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2'}
        Body: b'{"server": {"id": "534f2c62-e7ab-41bd-90d6-f1acbcaef8d2", "name": "tempest-VolumesNegativeTest-instance-1036127029", "status": "BUILD", "tenant_id": "c120d1b4de0c4d5c9d8178ed18ede3d8", "user_id": "8a7e627bf4b24ceb8ac5d6852beb0144", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:44Z", "updated": "2022-08-16T10:45:44Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:45:45,574 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 0.090s
2022-08-16 13:45:45,574 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1336', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f002b348-a668-416c-9c5c-f004309146c8', 'x-compute-request-id': 'req-f002b348-a668-416c-9c5c-f004309146c8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2'}
        Body: b'{"server": {"id": "534f2c62-e7ab-41bd-90d6-f1acbcaef8d2", "name": "tempest-VolumesNegativeTest-instance-1036127029", "status": "BUILD", "tenant_id": "c120d1b4de0c4d5c9d8178ed18ede3d8", "user_id": "8a7e627bf4b24ceb8ac5d6852beb0144", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created
    ": "2022-08-16T10:45:44Z", "updated": "2022-08-16T10:45:45Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000097", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:45:45,584 14502 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/None" after 1 second wait
2022-08-16 13:45:46,685 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 0.099s
2022-08-16 13:45:46,685 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4694', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0139b774-6158-4e52-9876-c56b251545ea', 'x-compute-request-id': 'req-0139b774-6158-4e52-9876-c56b251545ea', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2'}
        Body: b'{"server": {"id": "534f2c62-e7ab-41bd-90d6-f1acbcaef8d2", "name": "tempest-VolumesNegativeTest-instance-1036127029", "status": "ERROR", "tenant_id": "c120d1b4de0c4d5c9d8178ed18ede3d8", "user_id": "8a7e627bf4b24ceb8ac5d6852beb0144", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:44Z", "updated": "2022-08-16T10:45:46Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:45:46Z", "message": "Build of instance 534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11959, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3
    .10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pac
2022-08-16 13:45:46,695 14502 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 2 second wait
2022-08-16 13:45:46,955 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 0.259s
2022-08-16 13:45:46,955 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c5f54fb8-51e2-42ed-80db-1bda89135423', 'x-compute-request-id': 'req-c5f54fb8-51e2-42ed-80db-1bda89135423', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2'}
        Body: b''
2022-08-16 13:45:46,989 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 0.033s
2022-08-16 13:45:46,990 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b94020a0-931c-47b2-8291-27671598b75a', 'x-compute-request-id': 'req-b94020a0-931c-47b2-8291-27671598b75a', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/
    servers/534f2c62-e7ab-41bd-90d6-f1acbcaef8d2'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 534f2c62-e7ab-41bd-90d6-f1acbcaef8d2 could not be found."}}'


tempest.api.volume.test_volumes_extend.VolumesExtendAttachedTest.test_extend_attached_volume[compute,id-301f5a30-1c6f-4ea0-be1a-91fd28d44354]
---------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 187, in test_extend_attached_volume
    self._test_extend_attached_volume(volume)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 117, in _test_extend_attached_volume
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server bc380c0d-83aa-4770-b0b8-36819de59ed2 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:45:56Z', 'message': 'Build of instance bc380c0d-83aa-4770-b0b8-36819de59ed2 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11959, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance bc380c0d-83aa-4770-b0b8-36819de59ed2 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:45:52,947 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55/volumes 0.448s
2022-08-16 13:45:52,948 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesExtendAttachedTest-Volume-540283284"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '891', 'x-compute-request-id': 'req-26ec96e1-d6b7-4ccc-bd8a-1de6693dafc5', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-26ec96e1-d6b7-4ccc-bd8a-1de6693dafc5', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55/volumes'}
        Body: b'{"volume": {"id": "ff15d426-bdb5-44fa-a469-e655d31566ce", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T10:45:52.886939", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-540283284", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce"}], "user_id": "47895aedcc8a456d8b62ab7541426577", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null}}'
2022-08-16 13:45:53,010 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce 0.052s
2022-08-16 13:45:53,010 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1070', 'x-compute-request-id': 'req-dc9bd2a6-623c-465b-816b-b16084ad1259', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-dc9bd2a6-623c-465b-816b-b16084ad1259', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce'}
        Body: b'{"volume": {"id": "ff15d426-bdb5-44fa-a469-e655d31566ce", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T10:45:52.000000", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-540283284", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce"}], "user_id": "47895aedcc8a456d8b62ab7541426577", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-tenant-attr:tenant_id": "39d1a89d87994af19849db55e878dc55", "os-vol-host-attr:host": null, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_i
    d": null}}'
2022-08-16 13:45:54,063 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce 0.044s
2022-08-16 13:45:54,064 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1129', 'x-compute-request-id': 'req-b7cc29e8-35a8-43d6-ab78-937a2bb6f3ea', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-b7cc29e8-35a8-43d6-ab78-937a2bb6f3ea', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce'}
        Body: b'{"volume": {"id": "ff15d426-bdb5-44fa-a469-e655d31566ce", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T10:45:52.000000", "updated_at": "2022-08-16T10:45:53.000000", "name": "tempest-VolumesExtendAttachedTest-Volume-540283284", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/39d1a89d87994af19849db55e878dc55/volumes/ff15d426-bdb5-44fa-a469-e655d31566ce"}], "user_id": "47895aedcc8a456d8b62ab7541426577", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-tenant-attr:tenant_id": "39d1a89d87994af19849db55e878dc55", "os-vol-host-attr:host": "rack08-server59@LIGHTOSyridex#yridex", "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null}}'
2022-08-16 13:45:54,073 14503 INFO     [tempest.common.waiters] volume ff15d426-bdb5-44fa-a469-e655d31566ce reached available after waiting for 1.073860 seconds
2022-08-16 13:45:54,501 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 201 POST http://controller:5000/v3/auth/tokens 0.422s
2022-08-16 13:45:54,502 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:54 GMT', 'server': 'Apache', 'content-length': '3901', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-96c1ebb6-071b-4b1f-a746-bcff0937b873', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "47895aedcc8a456d8b62ab7541426577", "name": "tempest-VolumesExtendAttachedTest-1396009887-project", "password_expires_at": null}, "audit_ids": ["9-zefTUATGeCzodyL87c4w"], "expires_at": "2022-08-17T10:45:54.000000Z", "issued_at": "2022-08-16T10:45:54.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "39d1a89d87994af19849db55e878dc55", "name": "tempest-VolumesExtendAttachedTest-1396009887"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "
    interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/39d1a89d87994af19849db55e878dc55", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/39d1a89d87994af19849db55e878dc55", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/39d1a89d87994af19849db55e878dc55", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:45:54,571 14503 INFO     [tempest.lib.common.fixed_network] (VolumesExtendAttachedTest:test_extend_attached_volume) Found network None available for tenant
2022-08-16 13:45:54,818 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.245s
2022-08-16 13:45:54,818 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesExtendAttachedTest-instance-178069837", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-10837eba-e99a-4bd2-be13-f12fb4c1be37', 'x-compute-r
    equest-id': 'req-10837eba-e99a-4bd2-be13-f12fb4c1be37', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "bc380c0d-83aa-4770-b0b8-36819de59ed2", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "y6YfDSkwpXAJ"}}'
2022-08-16 13:45:54,893 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2 0.071s
2022-08-16 13:45:54,894 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1328', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-61f0890c-9f73-4834-875d-a21c47bf4720', 'x-compute-request-id': 'req-61f0890c-9f73-4834-875d-a21c47bf4720', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2'}
        Body: b'{"server": {"id": "bc380c0d-83aa-4770-b0b8-36819de59ed2", "name": "tempest-VolumesExtendAttachedTest-instance-178069837", "status": "BUILD", "tenant_id": "39d1a89d87994af19849db55e878dc55", "user_id": "47895aedcc8a456d8b62ab7541426577", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:54Z", "updated": "2022-08-16T10:45:54Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:45:55,987 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2 0.081s
2022-08-16 13:45:55,988 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1349', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-87712636-6cf0-44b2-b121-9074bb5e3dc3', 'x-compute-request-id': 'req-87712636-6cf0-44b2-b121-9074bb5e3dc3', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2'}
        Body: b'{"server": {"id": "bc380c0d-83aa-4770-b0b8-36819de59ed2", "name": "tempest-VolumesExtendAttachedTest-inst
    ance-178069837", "status": "BUILD", "tenant_id": "39d1a89d87994af19849db55e878dc55", "user_id": "47895aedcc8a456d8b62ab7541426577", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:54Z", "updated": "2022-08-16T10:45:55Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000098", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:45:55,997 14503 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:45:57,093 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2 0.094s
2022-08-16 13:45:57,094 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:57 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4699', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8433f0c9-153d-43b7-9763-2fff3f35d958', 'x-compute-request-id': 'req-8433f0c9-153d-43b7-9763-2fff3f35d958', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2'}
        Body: b'{"server": {"id": "bc380c0d-83aa-4770-b0b8-36819de59ed2", "name": "tempest-VolumesExtendAttachedTest-instance-178069837", "status": "ERROR", "tenant_id": "39d1a89d87994af19849db55e878dc55", "user_id": "47895aedcc8a456d8b62ab7541426577", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:54Z", "updated": "2022-08-16T10:45:56Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:45:56Z", "message": "Build of instance bc380c0d-83aa-4770-b0b8-36819de59ed2 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names
    _for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11959, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/sit
2022-08-16 13:45:57,104 14503 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 3 second wait
2022-08-16 13:45:57,360 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2 0.256s
2022-08-16 13:45:57,361 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:57 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5237da51-89fd-4020-8fe2-d8b6310a34af', 'x-compute-request-id': 'req-5237da51-89fd-4020-8fe2-d8b6310a34af', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2'}
        Body: b''
2022-08-16 13:45:57,395 14503 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2 0.033s
2022-08-16 13:45:57,395 14503 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:57 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111'
    , 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1165e1ed-a7f4-42ed-a4f7-0c6b83939acc', 'x-compute-request-id': 'req-1165e1ed-a7f4-42ed-a4f7-0c6b83939acc', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/bc380c0d-83aa-4770-b0b8-36819de59ed2'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance bc380c0d-83aa-4770-b0b8-36819de59ed2 could not be found."}}'


tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_delete_with_volume_in_use[compute,id-8567b54c-4455-446d-a1cf-651ddeaa3ff2]
-----------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 48, in test_snapshot_create_delete_with_volume_in_use
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 6e8e669a-686c-4b20-b29f-29defaa6d9ef failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:45:58Z', 'message': 'Build of instance 6e8e669a-686c-4b20-b29f-29defaa6d9ef aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11959, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 6e8e669a-686c-4b20-b29f-29defaa6d9ef aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:45:55,584 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://controller:5000/v3/auth/tokens 0.431s
2022-08-16 13:45:55,585 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:55 GMT', 'server': 'Apache', 'content-length': '3897', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-93a6f955-62f2-4116-a846-0ae538866ef3', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "9b60bbf81188476986309a70d5a31d91", "name": "tempest-VolumesSnapshotTestJSON-1605847402-project", "password_expires_at": null}, "audit_ids": ["NMTLkrSKShWftp2_Tuvacg"], "expires_at": "2022-08-17T10:45:55.000000Z", "issued_at": "2022-08-16T10:45:55.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "607a328ac07543fab00214db78527be3", "name": "tempest-VolumesSnapshotTestJSON-1605847402"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/607a328ac07543fab00214db78527be3", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/607a328ac07543fab00214db78527be3", "region": "Regi
    onOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:45:55,585 14502 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 13:45:55,688 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.102s
2022-08-16 13:45:55,688 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesSnapshotTestJSON-1058834134-desc", "domain_id": "default", "name": "tempest-VolumesSnapshotTestJSON-1058834134"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:55 GMT', 'server': 'Apache', 'content-length': '382', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-63d6c63d-3cae-482a-a2d8-eb8a65abc789', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "354c3b5c91ae41eb9668feb12bff7d1a", "name": "tempest-VolumesSnapshotTestJSON-1058834134", "domain_id": "default", "description": "tempest-VolumesSnapshotTestJSON-1058834134-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/354c3b5c91ae41eb9668feb12bff7d1a"}}}\n'
2022-08-16 13:45:56,183 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.494s
2022-08-16 13:45:56,184 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesSnapshotTestJSON-1058834134-project-admin", "password": "S9!ed+F*=_jNMcj", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:55 GMT', 'server': 'Apache', 'content-length': '297', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-66397827-08ee-40e1-b574-ada16a80e37b', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "2481e9e506704b47ba26d7e05bbbb626", "name": "tempest-VolumesSnapshotTestJSON-1058834134-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/2481e9e506704b47ba26d7e05bbbb626"}}}\n'
2022-08-16 13:45:56,212 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.027s
2022-08-16 13:45:56,212 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-4e7f0ffe-738b-4b02-b529-5970e809692c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "d
    escription": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:45:56,274 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/354c3b5c91ae41eb9668feb12bff7d1a/users/2481e9e506704b47ba26d7e05bbbb626/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.061s
2022-08-16 13:45:56,274 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-36824467-736a-417d-a351-2363811a2859', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/354c3b5c91ae41eb9668feb12bff7d1a/users/2481e9e506704b47ba26d7e05bbbb626/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:45:56,348 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.073s
2022-08-16 13:45:56,349 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-95e3bfda-b549-47a4-8ae3-ca0832f61cc7', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:45:56,390 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/2481e9e506704b47ba26d7e05bbbb626/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.040s
2022-08-16 13:45:56,391 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Resp
    onse - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-de0fd8e3-1025-4ee6-b421-fd39050f3885', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/2481e9e506704b47ba26d7e05bbbb626/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:45:56,468 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.076s
2022-08-16 13:45:56,469 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-563f0327-b0df-411f-bdfe-8ca042f24d14', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:45:56,513 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/354c3b5c91ae41eb9668feb12bff7d1a/users/2481e9e506704b47ba26d7e05bbbb626/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.044s
2022-08-16 13:45:56,514 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-231a62ac-fd24-4236-88cb-a148e5a45587', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/354c3b5c91ae41eb9668feb12bff7d1a/users/2481e9e506704b47ba26d7e05bbbb626/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:45:56,589 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.075s
2022-08-16 13:45:56,590 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-07aee533-01a3-44d2-b4dd-899b5075ee13', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a
    2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 13:45:56,626 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/354c3b5c91ae41eb9668feb12bff7d1a/users/2481e9e506704b47ba26d7e05bbbb626/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.035s
2022-08-16 13:45:56,626 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e1c52a85-deab-4b0c-a908-417b0cd41434', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/354c3b5c91ae41eb9668feb12bff7d1a/users/2481e9e506704b47ba26d7e05bbbb626/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 13:45:56,626 14502 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 2481e9e506704b47ba26d7e05bbbb626 is created with scope project and roles: ['admin', 'admin']
2022-08-16 13:45:56,627 14502 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesSnapshotTestJSON-1058834134-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '354c3b5c91ae41eb9668feb12bff7d1a', 'project_name': 'tempest-VolumesSnapshotTestJSON-1058834134', 'tenant_id': '354c3b5c91ae41eb9668feb12bff7d1a', 'tenant_name': 'tempest-VolumesSnapshotTestJSON-1058834134', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '2481e9e506704b47ba26d7e05bbbb626', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 13:45:56,635 14502 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use) Found network None available for tenant
2022-08-16 13:45:56,889 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.252s
2022-08-16 13:45:56,889 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-144550685", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d29352da-afdc-4ba0-901e-5f4eb7b92a18', 'x-compute-request-id': 'req-d29352da-afdc-4ba0-901e-5f4eb7b92a18', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "6e8e669a-686c-4b20-b29f-29defaa6d9ef", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4
    b20-b29f-29defaa6d9ef"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "bVAo3qVnR7TD"}}'
2022-08-16 13:45:56,968 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef 0.075s
2022-08-16 13:45:56,969 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:56 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ad481f78-8bea-49e0-b1a9-2a16a1e8bd87', 'x-compute-request-id': 'req-ad481f78-8bea-49e0-b1a9-2a16a1e8bd87', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef'}
        Body: b'{"server": {"id": "6e8e669a-686c-4b20-b29f-29defaa6d9ef", "name": "tempest-VolumesSnapshotTestJSON-instance-144550685", "status": "BUILD", "tenant_id": "607a328ac07543fab00214db78527be3", "user_id": "9b60bbf81188476986309a70d5a31d91", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:56Z", "updated": "2022-08-16T10:45:56Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:45:58,069 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef 0.088s
2022-08-16 13:45:58,069 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:57 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1347', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b0e3d00b-35da-43d9-a055-86142f0cecf5', 'x-compute-request-id': 'req-b0e3d00b-35da-43d9-a055-86142f0cecf5', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef'}
        Body: b'{"server": {"id": "6e8e669a-686c-4b20-b29f-29defaa6d9ef", "name": "tempest-VolumesSnapshotTestJSON-instance-144550685", "status": "BUILD", "tenant_id": "607a328ac07543fab00214db78527be3", "user_id": "9b60bbf81188476986309a70d5a31d91", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}
    ]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:56Z", "updated": "2022-08-16T10:45:57Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000099", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:45:58,079 14502 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 2 second wait
2022-08-16 13:45:59,242 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef 0.161s
2022-08-16 13:45:59,242 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:59 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4697', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3593c2f9-fe9a-4c1b-bf35-0fbc55d8512b', 'x-compute-request-id': 'req-3593c2f9-fe9a-4c1b-bf35-0fbc55d8512b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef'}
        Body: b'{"server": {"id": "6e8e669a-686c-4b20-b29f-29defaa6d9ef", "name": "tempest-VolumesSnapshotTestJSON-instance-144550685", "status": "ERROR", "tenant_id": "607a328ac07543fab00214db78527be3", "user_id": "9b60bbf81188476986309a70d5a31d91", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:45:56Z", "updated": "2022-08-16T10:45:58Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:45:58Z", "message": "Build of instance 6e8e669a-686c-4b20-b29f-29defaa6d9ef aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11959, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\"
    , line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-
2022-08-16 13:45:59,252 14502 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 3 second wait
2022-08-16 13:45:59,498 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef 0.245s
2022-08-16 13:45:59,498 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:59 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-50c1525e-8c0c-4ae7-b63a-5459341db54a', 'x-compute-request-id': 'req-50c1525e-8c0c-4ae7-b63a-5459341db54a', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef'}
        Body: b''
2022-08-16 13:45:59,532 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef 0.033s
2022-08-16 13:45:59,532 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:45:59 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-4f169b6d-2243-4e75-9156-d2de0ae81f8c', 'x-compute-request-id': 'req-4f169b6d-2243-4e75-9156-d2de0ae81f8c
    ', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/6e8e669a-686c-4b20-b29f-29defaa6d9ef'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 6e8e669a-686c-4b20-b29f-29defaa6d9ef could not be found."}}'


tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_offline_delete_online[compute,id-5210a1de-85a0-11e6-bb21-641c676a5d61]
-------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 83, in test_snapshot_create_offline_delete_online
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 3ca48a48-192b-4038-90fc-f15793406a23 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T10:46:07Z', 'message': 'Build of instance 3ca48a48-192b-4038-90fc-f15793406a23 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 11959, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 3ca48a48-192b-4038-90fc-f15793406a23 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 13:46:03,206 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3/snapshots 0.138s
2022-08-16 13:46:03,206 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "95bd9615-0c25-486f-bcd8-4ff54607c1a7", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-665454689"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:03 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '309', 'x-compute-request-id': 'req-ceb214bd-05d6-40ec-b9eb-6800ede53965', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-ceb214bd-05d6-40ec-b9eb-6800ede53965', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3/snapshots'}
        Body: b'{"snapshot": {"id": "8f3343f8-08b8-47e3-8aee-2a62bcc1b85e", "created_at": "2022-08-16T10:46:03.147082", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-665454689", "description": null, "volume_id": "95bd9615-0c25-486f-bcd8-4ff54607c1a7", "status": "creating", "size": 1, "metadata": {}}}'
2022-08-16 13:46:03,236 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3/snapshots/8f3343f8-08b8-47e3-8aee-2a62bcc1b85e 0.026s
2022-08-16 13:46:03,237 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:03 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '441', 'x-compute-request-id': 'req-b421e94e-c295-4a37-bde0-38e9f3a68fa8', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-b421e94e-c295-4a37-bde0-38e9f3a68fa8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3/snapshots/8f3343f8-08b8-47e3-8aee-2a62bcc1b85e'}
        Body: b'{"snapshot": {"id": "8f3343f8-08b8-47e3-8aee-2a62bcc1b85e", "created_at": "2022-08-16T10:46:03.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-665454689", "description": null, "volume_id": "95bd9615-0c25-486f-bcd8-4ff54607c1a7", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "607a328ac07543fab00214db78527be3", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-16 13:46:04,269 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3/snapshots/8f3343f8-08b8-47e3-8aee-2a62bcc1b85e 0.028s
2022-08-16 13:46:04,270 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:04 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '441', 'x-compute-request-id': 'req-353423b2-50fd-4db0-9052-efb15c92002c', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-353423b2-50fd-4db0-9052-efb15c92002c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3/snapshots/8f3343f8-08b8-47e3-8aee-2a62bcc1b85e'}
        Body: b'{"snapshot": {"id": "8f3343f8-08b8-47e3-8aee-2a62bcc1b85e", "created_at": "2022-08-16T10:46:03.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJ
    SON-Snapshot-665454689", "description": null, "volume_id": "95bd9615-0c25-486f-bcd8-4ff54607c1a7", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "607a328ac07543fab00214db78527be3", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-16 13:46:05,300 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3/snapshots/8f3343f8-08b8-47e3-8aee-2a62bcc1b85e 0.025s
2022-08-16 13:46:05,301 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:05 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '468', 'x-compute-request-id': 'req-ed10b325-a402-4f3a-8b9a-ad6a386e6ac1', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-ed10b325-a402-4f3a-8b9a-ad6a386e6ac1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3/snapshots/8f3343f8-08b8-47e3-8aee-2a62bcc1b85e'}
        Body: b'{"snapshot": {"id": "8f3343f8-08b8-47e3-8aee-2a62bcc1b85e", "created_at": "2022-08-16T10:46:03.000000", "updated_at": "2022-08-16T10:46:04.000000", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-665454689", "description": null, "volume_id": "95bd9615-0c25-486f-bcd8-4ff54607c1a7", "status": "available", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "607a328ac07543fab00214db78527be3", "os-extended-snapshot-attributes:progress": "100%"}}'
2022-08-16 13:46:05,304 14502 INFO     [tempest.common.waiters] snapshot 8f3343f8-08b8-47e3-8aee-2a62bcc1b85e reached available after waiting for 2.304740 seconds
2022-08-16 13:46:05,806 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 201 POST http://controller:5000/v3/auth/tokens 0.493s
2022-08-16 13:46:05,806 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:05 GMT', 'server': 'Apache', 'content-length': '3897', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-98091bbe-a13d-4e11-ada3-c0de4467dfb5', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "9b60bbf81188476986309a70d5a31d91", "name": "tempest-VolumesSnapshotTestJSON-1605847402-project", "password_expires_at": null}, "audit_ids": ["H0jDQgNGSj2X32CPvZ27Xw"], "expires_at": "2022-08-17T10:46:05.000000Z", "issued_at": "2022-08-16T10:46:05.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "607a328ac07543fab00214db78527be3", "name": "tempest-VolumesSnapshotTestJSON-1605847402"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "int
    erface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/607a328ac07543fab00214db78527be3", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/607a328ac07543fab00214db78527be3", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/607a328ac07543fab00214db78527be3", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 13:46:05,814 14502 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online) Found network None available for tenant
2022-08-16 13:46:06,091 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.275s
2022-08-16 13:46:06,091 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-1906133249", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:05 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ef40dddd-1f69-4c2c-a964-82f7f34fd298', 'x-compute-request-id': 'req-ef40dddd-1f69-4c2c-a964-82f7f34fd298', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "3ca48a48-192b-4038-90fc-f15793406a23", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23
    "}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3ca48a48-192b-4038-90fc-f15793406a23"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "vPc9PPNmU4gz"}}'
2022-08-16 13:46:06,164 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23 0.070s
2022-08-16 13:46:06,165 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:06 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1327', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d983bcfd-c45f-4541-9953-1fa83772cb5d', 'x-compute-request-id': 'req-d983bcfd-c45f-4541-9953-1fa83772cb5d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23'}
        Body: b'{"server": {"id": "3ca48a48-192b-4038-90fc-f15793406a23", "name": "tempest-VolumesSnapshotTestJSON-instance-1906133249", "status": "BUILD", "tenant_id": "607a328ac07543fab00214db78527be3", "user_id": "9b60bbf81188476986309a70d5a31d91", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:46:06Z", "updated": "2022-08-16T10:46:06Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3ca48a48-192b-4038-90fc-f15793406a23"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:46:07,263 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23 0.087s
2022-08-16 13:46:07,264 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:07 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1348', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c6a87396-9646-44f1-8c08-5fe2ebe397f9', 'x-compute-request-id': 'req-c6a87396-9646-44f1-8c08-5fe2ebe397f9', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23'}
        Body: b'{"server": {"id": "3ca48a48-192b-4038-90fc-f15793406a23", "name": "tempest-VolumesSnapshotTestJSON-instance-1906133249", "status": "BUILD", "tenant_id": "607a328ac07543fab00214db78527be3", "user_id": "9b60bbf81188476986309a70d5a31d91", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "
    links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:46:06Z", "updated": "2022-08-16T10:46:06Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3ca48a48-192b-4038-90fc-f15793406a23"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-0000009a", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 13:46:07,274 14502 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 13:46:08,375 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23 0.100s
2022-08-16 13:46:08,376 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4698', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-bc045cd8-e73e-4f3c-b678-f30f16091ff3', 'x-compute-request-id': 'req-bc045cd8-e73e-4f3c-b678-f30f16091ff3', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23'}
        Body: b'{"server": {"id": "3ca48a48-192b-4038-90fc-f15793406a23", "name": "tempest-VolumesSnapshotTestJSON-instance-1906133249", "status": "ERROR", "tenant_id": "607a328ac07543fab00214db78527be3", "user_id": "9b60bbf81188476986309a70d5a31d91", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T10:46:06Z", "updated": "2022-08-16T10:46:07Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3ca48a48-192b-4038-90fc-f15793406a23"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T10:46:07Z", "message": "Build of instance 3ca48a48-192b-4038-90fc-f15793406a23 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 11959, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device
    _info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site
2022-08-16 13:46:08,386 14502 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 13:46:08,653 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23 0.267s
2022-08-16 13:46:08,654 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-2bbe6eed-a4f4-450f-929a-6d982b9ab22b', 'x-compute-request-id': 'req-2bbe6eed-a4f4-450f-929a-6d982b9ab22b', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23'}
        Body: b''
2022-08-16 13:46:08,691 14502 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23 0.037s
2022-08-16 13:46:08,692 14502 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 10:46:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5ec3b179-7ff5-4ffc-a96d-c060e23390bc', 'x-compute-request-id': 'req-5ec3b179-7ff5-4ffc-a96d-c060e23390bc', 'connection': 'close', 'content-type
    ': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3ca48a48-192b-4038-90fc-f15793406a23'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 3ca48a48-192b-4038-90fc-f15793406a23 could not be found."}}'



======
Totals
======
Ran: 218 tests in 251.6474 sec.
 - Passed: 203
 - Skipped: 7
 - Expected Fail: 0
 - Unexpected Success: 0
 - Failed: 8
Sum of execute time for each test: 344.4439 sec.

==============
Worker Balance
==============
 - Worker 0 (41 tests) => 0:02:45.282323
 - Worker 1 (115 tests) => 0:03:57.993883
 - Worker 2 (62 tests) => 0:04:11.593387

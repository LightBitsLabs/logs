{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list [0.076415s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_param_limit [0.069868s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_param_offset_and_limit [0.143818s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_detail_param_limit [0.072235s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_detail_param_offset_and_limit [0.149352s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_details [0.074003s] ... ok
{2} tempest.api.compute.volumes.test_volume_snapshots.VolumesSnapshotsTestJSON.test_volume_snapshot_create_get_list_delete [6.756630s] ... ok
{1} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.159958s] ... ok
{1} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.017149s] ... ok
{1} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.017688s] ... ok
{1} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.058467s] ... ok
{1} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.013591s] ... ok
{1} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.012352s] ... ok
{2} tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON.test_compare_volume_stats_values [0.092975s] ... ok
{2} tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON.test_get_capabilities_backend [0.043313s] ... ok
{1} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.056033s] ... ok
{1} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.055512s] ... ok
{2} setUpClass (tempest.api.volume.admin.test_snapshot_manage.SnapshotManageAdminTest) ... SKIPPED: Manage snapshot tests are disabled
{2} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_delete_message [1.677529s] ... ok
{2} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_list_show_messages [1.496846s] ... ok
{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_boot_from_multiattach_volume [19.772358s] ... ok
{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_list_get_volume_attachments_multiattach [3.541645s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 406, in test_list_get_volume_attachments_multiattach
    servers, volume, attachments = self._create_and_multiattach()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 389, in _create_and_multiattach
    'ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server e9229acf-3127-4a9c-acea-6ccddf530657 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:40:00Z', 'message': 'Build of instance e9229acf-3127-4a9c-acea-6ccddf530657 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance e9229acf-3127-4a9c-acea-6ccddf530657 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:39:58,931 17213 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.466s
2022-08-16 14:39:58,932 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:39:58 GMT', 'server': 'Apache', 'content-length': '3905', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-5fdc517d-ca2c-4865-80bf-19b09fedae96', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "8f2a47471ff84cb19b4fb293719c589b", "name": "tempest-AttachVolumeMultiAttachTest-1418467981-project", "password_expires_at": null}, "audit_ids": ["Hf2x8IVBT1WG0oTmCXTyQQ"], "expires_at": "2022-08-17T11:39:58.000000Z", "issued_at": "2022-08-16T11:39:58.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "de460a36c7e64cfc92594abf2603dff9", "name": "tempest-AttachVolumeMultiAttachTest-1418467981"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/de460a36c7e64cfc92594abf2603dff9", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/de460a36c7e64cfc92594abf2603dff9", "regi
    on": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/de460a36c7e64cfc92594abf2603dff9", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/de460a36c7e64cfc92594abf2603dff9", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:39:58,940 17213 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-16 14:39:59,077 17213 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.135s
2022-08-16 14:39:59,077 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-0", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:39:58 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b1da2fe8-7667-4aa4-bc51-7412953c45cb', 'x-compute-request-id': 'req-b1da2fe8-7667-4aa4-bc51-7412953c45cb', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "e9229acf-3127-4a9c-acea-6ccddf530657", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/e9229acf-3127-4a9c-acea-6ccddf530657"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "n6wekohC4yLC"}}'
2022-08-16 14:39:59,500 17213 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.413s
2022-08-16 14:39:59,500 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:39:59 GMT', 'server': 'Apache', 'content-length': '3905', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-fcb5128f-8ddb-49ea-8492-cc5ac7509d5c', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "8f2a47471ff84cb19b4fb293719c589b", "name": "tempest-AttachVolumeMultiAttachTest-1418467981-project", "password_expires_at": null}, "audit_ids": ["8YNdEmuGQFCdkZgox3xKIQ"], "expires_at": "2022-08-17T11:39:59.000000Z", "issued_at": "2022-08-16T11:39:59.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "de460a36c7e64cfc92594abf2603dff9", "name": "tempest-AttachVolumeMultiAttachTest-1418467981"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region":
     "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/de460a36c7e64cfc92594abf2603dff9", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/de460a36c7e64cfc92594abf2603dff9", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/de460a36c7e64cfc92594abf2603dff9", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/de460a36c7e64cfc92594abf2603dff9", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:39:59,509 17213 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-16 14:39:59,641 17213 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.131s
2022-08-16 14:39:59,642 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-1", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:39:59 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/e56d4934-1a14-4328-81bf-2df5eae9d8a2', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStac
    k-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3152f21d-fae9-4489-b297-4c8cdf522d11', 'x-compute-request-id': 'req-3152f21d-fae9-4489-b297-4c8cdf522d11', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "e56d4934-1a14-4328-81bf-2df5eae9d8a2", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/e56d4934-1a14-4328-81bf-2df5eae9d8a2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/e56d4934-1a14-4328-81bf-2df5eae9d8a2"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "5mqNhpruuCV3"}}'
2022-08-16 14:39:59,751 17213 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657 0.106s
2022-08-16 14:39:59,751 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:39:59 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1760', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b06b702e-dbc7-4bf7-bbdd-e7799856be2c', 'x-compute-request-id': 'req-b06b702e-dbc7-4bf7-bbdd-e7799856be2c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657'}
        Body: b'{"server": {"id": "e9229acf-3127-4a9c-acea-6ccddf530657", "name": "multiattach-server-0", "status": "BUILD", "tenant_id": "de460a36c7e64cfc92594abf2603dff9", "user_id": "8f2a47471ff84cb19b4fb293719c589b", "metadata": {}, "hostId": "144396128cf49a7fd0ae567481cea32f795021f159e971273f850be4", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-16T11:39:59Z", "updated": "2022-08-16T11:39:59Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/e9229acf-3127-4a9c-acea-6ccddf530657"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": "rack05-server62", "OS-EXT-SRV-ATTR:instance_name": "instance-000000e9", "OS-EXT-SRV-ATTR:hypervisor_hostname": "rack05-server62", "OS-EXT-SRV-ATTR:reservation_id": "r-96hh3j0i", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "UP", "locked": false, "description": null, "tags": []}}'
2022-08-16 14:40:00,858 17213 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657 0.088s
2022-08-16 14:40:00,858 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {
    'date': 'Tue, 16 Aug 2022 11:40:00 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1690', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b7da957f-dd4f-48a1-bd36-ca0828019a53', 'x-compute-request-id': 'req-b7da957f-dd4f-48a1-bd36-ca0828019a53', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657'}
        Body: b'{"server": {"id": "e9229acf-3127-4a9c-acea-6ccddf530657", "name": "multiattach-server-0", "status": "BUILD", "tenant_id": "de460a36c7e64cfc92594abf2603dff9", "user_id": "8f2a47471ff84cb19b4fb293719c589b", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-16T11:39:59Z", "updated": "2022-08-16T11:40:00Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/e9229acf-3127-4a9c-acea-6ccddf530657"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000e9", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-96hh3j0i", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "", "locked": false, "description": null, "tags": []}}'
2022-08-16 14:40:00,871 17213 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:40:01,985 17213 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657 0.112s
2022-08-16 14:40:01,985 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:40:01 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '5040', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b2941374-2940-448d-b801-8eaee685dd5c', 'x-compute-request-id': 'req-b2941374-2940-448d-b801-8eaee685dd5c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657'}
        Body: b'{"server": {"id": "e9229acf-3127-4a9c-acea-6ccddf530657", "name": "multiattach-server-0", "status": "ERROR", "tenant_id": "de460a36c7e64cfc92594abf2603dff9", "user_id": "8f2a47471ff84cb19b4fb293719c589b", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-16T11:39:59Z", "updated": "2022-08-16T11:40:00Z"
    , "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/e9229acf-3127-4a9c-acea-6ccddf530657"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:40:00Z", "message": "Build of instance e9229acf-3127-4a9c-acea-6ccddf530657 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/no
2022-08-16 14:40:01,998 17213 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait

{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_resize_server_with_multiattached_volume ... SKIPPED: Resize not available.
{2} tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithoutMigrationTest.test_available_volume_retype [3.052575s] ... ok
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_create_group_from_group_snapshot [12.048406s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_disable_log_reason_with_no_reason [0.026434s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_disable_service_with_invalid_binary [0.037456s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_enable_service_with_invalid_host [0.036649s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_freeze_host_with_invalid_host [0.037399s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_thaw_host_with_invalid_host [0.035419s] ... ok
{2} tempest.api.volume.admin.test_volume_type_access.VolumeTypesAccessTest.test_volume_type_access_list [0.352384s] ... ok
{2} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_create_get_delete [0.233186s] ... ok
{2} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_encryption_create_get_update_delete [0.374547s] ... ok
{2} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_list [0.052575s] ... ok
{2} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_update [0.170787s] ... ok
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_delete_group_snapshots_following_updated_volumes [17.069632s] ... ok
{0} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_snapshot_volume_backed_multiattach [22.793684s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_spec_create_get_delete [0.185522s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_specs_list [0.119725s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_specs_update [0.268131s] ... ok
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_group_snapshot_create_show_list_delete [7.758954s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_invalid_body [0.020780s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_none_body [0.023228s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_nonexistent_type_id [0.047527s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_delete_nonexistent_volume_type_id [0.023070s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_get_nonexistent_extra_spec_name [0.029465s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_get_nonexistent_volume_type_id [0.025330s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_list_nonexistent_volume_type_id [0.027121s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_multiple_extra_spec [0.019687s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_no_body [0.019954s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_none_extra_spec_id [0.045633s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_nonexistent_extra_spec_id [0.044008s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_nonexistent_type_id [0.043603s] ... ok
{0} tempest.api.compute.volumes.test_volumes_get.VolumesGetTestJSON.test_volume_create_get_delete [1.747602s] ... ok
{1} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_associate_disassociate_qos [0.410082s] ... ok
{1} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_back_end_consumer [0.122290s] ... ok
{1} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_both_consumer [0.122539s] ... ok
{1} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_front_end_consumer [0.125129s] ... ok
{1} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_get_qos [0.026757s] ... ok
{1} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_list_qos [0.027149s] ... ok
{1} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_set_unset_qos_key [0.152499s] ... ok
{0} tempest.api.volume.admin.test_encrypted_volumes_extend.EncryptedVolumesExtendAttachedTest.test_extend_attached_encrypted_volume_luksv1 ... SKIPPED: Attached encrypted volume extend is disabled.
{2} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_force_detach_volume [3.714899s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/admin/test_volumes_actions.py", line 83, in test_force_detach_volume
    server_id = self.create_server()['id']

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 4a5e412a-300b-4adf-95e8-de8b0f6508dc failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:40:40Z', 'message': 'Build of instance 4a5e412a-300b-4adf-95e8-de8b0f6508dc aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 4a5e412a-300b-4adf-95e8-de8b0f6508dc aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:40:38,318 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 201 POST http://controller:5000/v3/auth/tokens 0.465s
2022-08-16 14:40:38,319 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:40:37 GMT', 'server': 'Apache', 'content-length': '3885', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7cc1151d-2dc0-463f-a9ec-e075a1604de2', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "aa35def6d61b4944894d5a7e67c17ef1", "name": "tempest-VolumesActionsTest-330606405-project", "password_expires_at": null}, "audit_ids": ["gjf19ryuTOGkvedV_-V3UQ"], "expires_at": "2022-08-17T11:40:38.000000Z", "issued_at": "2022-08-16T11:40:38.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "e8853920fb30494bb909ad84b85c7d1e", "name": "tempest-VolumesActionsTest-330606405"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/e8853920fb30494bb909ad84b85c7d1e", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/e8853920fb30494bb909ad84b85c7d1e", "region": "RegionOne"}], "id": "d30e368ce4ac4d16817446
    9113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/e8853920fb30494bb909ad84b85c7d1e", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/e8853920fb30494bb909ad84b85c7d1e", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:40:38,328 17215 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_force_detach_volume) Found network None available for tenant
2022-08-16 14:40:38,822 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.492s
2022-08-16 14:40:38,822 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-805139620", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:40:38 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-534e8b1d-25c4-45e0-99df-92ee302086d9', 'x-compute-request-id': 'req-534e8b1d-25c4-45e0-99df-92ee302086d9', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "4a5e412a-300b-4adf-95e8-de8b0f6508dc", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "5S6Xzsovjaj3"}}'
2022-08-16 14:40:38,901 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc 0.074s
2022-08-16 14:40:38,901 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:40:38 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1321', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-98990681-3746-4eb1-b443-a8b058943dbf', 'x-compute-request-id': 'req-98990681-3746-4eb1-b443-a8b058943dbf', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc'}
        Body: b'{"server": {"id": "4a5e412a-300b-4adf-95e8-de8b0f6508dc", "name": "tempest-VolumesActionsTest-instance-805139620", "status": "BUILD", "tenant_id": "e8853920fb30494bb909ad84b85c7d1e", "user_id": "aa35def6d61b4944894d5a7e67c17ef1", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:40:38Z", "updated": "2022-08-16T11:40:38Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc"}, {"rel": "bookmark", "href": "http://
    [LB_IP_ADDRESS]:8774/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:40:39,999 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc 0.087s
2022-08-16 14:40:40,000 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:40:39 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1342', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b3d52453-a048-4d57-8c66-99773495765b', 'x-compute-request-id': 'req-b3d52453-a048-4d57-8c66-99773495765b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc'}
        Body: b'{"server": {"id": "4a5e412a-300b-4adf-95e8-de8b0f6508dc", "name": "tempest-VolumesActionsTest-instance-805139620", "status": "BUILD", "tenant_id": "e8853920fb30494bb909ad84b85c7d1e", "user_id": "aa35def6d61b4944894d5a7e67c17ef1", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:40:38Z", "updated": "2022-08-16T11:40:39Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000ec", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:40:40,009 17215 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 2 second wait
2022-08-16 14:40:41,103 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc 0.093s
2022-08-16 14:40:41,104 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:40:41 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4692', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1ee617a2-e5ff-474d-a5ea-004e28fd647d', 'x-compute-request-id': 'req-1ee617a2-e5ff-474d-a5ea-004e28fd647d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc'}
        Body: b'{"server": {"id": "4a5e412a-300b-4adf-95e8-de8
    b0f6508dc", "name": "tempest-VolumesActionsTest-instance-805139620", "status": "ERROR", "tenant_id": "e8853920fb30494bb909ad84b85c7d1e", "user_id": "aa35def6d61b4944894d5a7e67c17ef1", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:40:38Z", "updated": "2022-08-16T11:40:40Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:40:40Z", "message": "Build of instance 4a5e412a-300b-4adf-95e8-de8b0f6508dc aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packa
2022-08-16 14:40:41,114 17215 INFO     [tempest
    .common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 3 second wait
2022-08-16 14:40:41,526 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc 0.410s
2022-08-16 14:40:41,526 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:40:41 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-52951bd5-8f21-4338-97c9-a2b46aff8bf0', 'x-compute-request-id': 'req-52951bd5-8f21-4338-97c9-a2b46aff8bf0', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc'}
        Body: b''
2022-08-16 14:40:41,556 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc 0.029s
2022-08-16 14:40:41,557 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:40:41 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7f8e7f25-f641-4002-b182-106dc3773915', 'x-compute-request-id': 'req-7f8e7f25-f641-4002-b182-106dc3773915', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 4a5e412a-300b-4adf-95e8-de8b0f6508dc could not be found."}}'

{0} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsV319Test.test_reset_group_snapshot_status ... SKIPPED: Skipped until bug: https://launchpad.net/bugs/1770179 is resolved.
{2} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_attaching [2.880342s] ... ok
{1} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_reset_snapshot_status [0.363830s] ... ok
{0} tempest.api.volume.admin.test_group_type_specs.GroupTypeSpecsTest.test_group_type_specs_create_show_update_list_delete [0.505332s] ... ok
{2} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_creating [3.661342s] ... ok
{1} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_creating [3.535134s] ... ok
{2} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_error [2.607040s] ... ok
{0} tempest.api.volume.admin.test_group_types.GroupTypesTest.test_group_type_create_list_update_show [0.313275s] ... ok
{2} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_maintenance [2.629590s] ... ok
{1} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_deleting [3.546824s] ... ok
{2} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_reset_status [1.791372s] ... ok
{1} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_error [3.499054s] ... ok
{1} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_error_deleting [3.515932s] ... ok
{1} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_update_snapshot_status [0.239042s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsTest.test_group_create_show_list_delete [8.158777s] ... ok
{1} tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_list_hosts [0.173953s] ... ok
{1} tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_show_host [0.220702s] ... ok
{2} tempest.api.volume.test_image_metadata.VolumesImageMetadata.test_update_show_delete_image_metadata [0.228547s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_delete_quota [0.378889s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_list_default_quotas [0.054490s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_list_quotas [0.056112s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsTest.test_group_update [10.107679s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage [2.811487s] ... ok
{2} tempest.api.volume.test_volume_absolute_limits.AbsoluteLimitsTests.test_get_volume_absolute_limits [0.062480s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage_after_volume_transfer [3.515133s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_show_quota_usage [0.084667s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_update_all_quota_resources_for_tenant [0.314941s] ... ok
{1} setUpClass (tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithMigrationTest) ... SKIPPED: Cinder multi-backend feature disabled
{1} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_host_name [0.034777s] ... ok
{1} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_service_and_host_name [0.033688s] ... ok
{1} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_service_binary_name [0.030330s] ... ok
{1} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_volume_host_name [1.656852s] ... ok
{1} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_list_services [0.028737s] ... ok
{2} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_delete_cascade [7.262729s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsV314Test.test_create_group_from_group [10.575150s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_volume_type_encryption_nonexistent_type_id [0.224323s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_empty_name [0.018507s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_repeated_name [0.062294s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_delete_nonexistent_type_id [0.022355s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_get_nonexistent_type_id [0.023017s] ... ok
{2} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_from_snapshot_cascade_delete [6.217673s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsV320Test.test_reset_group_status [3.075577s] ... ok
{0} setUpClass (tempest.api.volume.admin.test_multi_backend.VolumeMultiBackendTest) ... SKIPPED: Cinder multi-backend feature disabled
{0} setUpClass (tempest.api.volume.admin.test_volume_manage.VolumeManageAdminTest) ... SKIPPED: Manage volume tests are disabled
{0} tempest.api.volume.admin.test_volume_pools.VolumePoolsAdminTestsJSON.test_get_pools_without_details [0.202638s] ... ok
{1} tempest.api.volume.admin.test_volumes_list.VolumesListAdminTestJSON.test_volume_list_param_tenant [1.699329s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete [6.530705s] ... ok
{0} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_show_default_quota [0.212344s] ... ok
{0} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_update_default_quota [0.875095s] ... ok
{1} tempest.api.volume.test_availability_zone.AvailabilityZoneTestJSON.test_get_availability_zone_list [0.187848s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_quota_volume_gigabytes [0.232968s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_quota_volumes [0.238626s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_volume_extend_gigabytes_quota_deviation [0.184311s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_as_clone [8.706409s] ... ok
{1} tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON.test_crud_snapshot_metadata [0.318843s] ... ok
{1} tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON.test_update_show_snapshot_metadata_item [0.261255s] ... ok
{1} tempest.api.volume.test_versions.VersionsTest.test_list_versions [0.014064s] ... ok
{0} tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_gigabytes_snapshots [0.302791s] ... ok
{1} tempest.api.volume.test_versions.VersionsTest.test_show_version [0.187290s] ... ok
{0} tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_snapshots [0.078667s] ... ok
{0} tempest.api.volume.test_extensions.ExtensionsTestJSON.test_list_extensions [0.219343s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_from_image [15.962918s] ... ok
{0} tempest.api.volume.test_volume_metadata.VolumesMetadataTest.test_crud_volume_metadata [0.348251s] ... ok
{0} tempest.api.volume.test_volume_metadata.VolumesMetadataTest.test_update_show_volume_metadata_item [0.235767s] ... ok
{1} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_get_list_accept_volume_transfer [4.797722s] ... ok
{1} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_list_delete_volume_transfer [2.751967s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list [0.043181s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_by_name [0.040642s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_by_name [0.057400s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_pagination [0.237450s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_with_multiple_params [0.125183s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_pagination [0.186725s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_param_display_name_and_status [0.050085s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_display_name_and_status [0.058405s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_marker [0.069244s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_metadata [0.064089s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_details [0.061793s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_param_metadata [0.051299s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_availability_zone [0.084319s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_bootable [0.096433s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_status [0.082437s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_availability_zone [0.064472s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_bootable [0.064920s] ... ok
{2} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_status [0.058063s] ... ok
{0} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_get_list_accept_volume_transfer [3.577200s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_attach_detach_volume_to_instance [4.314012s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 45, in test_attach_detach_volume_to_instance
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server de5a7e5e-5843-4516-a930-ebbfa6a2c286 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:42:24Z', 'message': 'Build of instance de5a7e5e-5843-4516-a930-ebbfa6a2c286 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance de5a7e5e-5843-4516-a930-ebbfa6a2c286 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:42:21,549 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://controller:5000/v3/auth/tokens 0.427s
2022-08-16 14:42:21,550 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:21 GMT', 'server': 'Apache', 'content-length': '3887', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-796e214e-88e7-4e37-a06f-83c1cfeb7c85', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "3bb55c55e1094e6eaa27e0b9c196ba21", "name": "tempest-VolumesActionsTest-1186010763-project", "password_expires_at": null}, "audit_ids": ["hyd9ZMxyRVudkaM6fbzJyw"], "expires_at": "2022-08-17T11:42:21.000000Z", "issued_at": "2022-08-16T11:42:21.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "1d6fef0e56544c6895d931852c01f00e", "name": "tempest-VolumesActionsTest-1186010763"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/1d6fef0e56544c6895d931852c01f00e", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/1d6fef0e56544c6895d931852c01f00e", "region": "RegionOne"}], "id": "d30e368
    ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/1d6fef0e56544c6895d931852c01f00e", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/1d6fef0e56544c6895d931852c01f00e", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:42:21,550 17214 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 14:42:21,648 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.096s
2022-08-16 14:42:21,648 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesActionsTest-1423080679-desc", "domain_id": "default", "name": "tempest-VolumesActionsTest-1423080679"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:21 GMT', 'server': 'Apache', 'content-length': '372', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-52d61ba0-810f-4a0c-9903-6f2d3f5055f8', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "4e661e576e2c42f5ac48a0cff1aaeec8", "name": "tempest-VolumesActionsTest-1423080679", "domain_id": "default", "description": "tempest-VolumesActionsTest-1423080679-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/4e661e576e2c42f5ac48a0cff1aaeec8"}}}\n'
2022-08-16 14:42:22,119 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.469s
2022-08-16 14:42:22,119 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesActionsTest-1423080679-project-admin", "password": "C4#@z8E*PXd_IS!", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:21 GMT', 'server': 'Apache', 'content-length': '292', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-be3c9cb3-4103-4079-b6f6-a3b46f1057a4', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "a3f09f5dfe914aa59895846a750b2ee9", "name": "tempest-VolumesActionsTest-1423080679-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/a3f09f5dfe914aa59895846a750b2ee9"}}}\n'
2022-08-16 14:42:22,162 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.042s
2022-08-16 14:42:22,162 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-d0f87f43-c062-4f33-9871-7dfc91b62992', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000
    /v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:22,218 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/4e661e576e2c42f5ac48a0cff1aaeec8/users/a3f09f5dfe914aa59895846a750b2ee9/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.054s
2022-08-16 14:42:22,218 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2a4b99b2-9776-4919-9458-6f2e2cd0eef4', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/4e661e576e2c42f5ac48a0cff1aaeec8/users/a3f09f5dfe914aa59895846a750b2ee9/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:22,302 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.083s
2022-08-16 14:42:22,302 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-bd5028de-f726-48c2-892f-9c3a2f73e55a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:22,339 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/a3f09f5dfe914aa59895846a750b2ee9/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.035s
2022-08-16 14:42:22,339 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-f9c80
    fa0-d2de-47df-9327-9d3e4091979f', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/a3f09f5dfe914aa59895846a750b2ee9/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:22,416 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.076s
2022-08-16 14:42:22,417 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-f37ad798-80f8-486b-9a34-30f87184d8ef', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:22,453 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/4e661e576e2c42f5ac48a0cff1aaeec8/users/a3f09f5dfe914aa59895846a750b2ee9/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.035s
2022-08-16 14:42:22,454 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e0e8a299-66b2-4029-84bb-8c5475cec733', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/4e661e576e2c42f5ac48a0cff1aaeec8/users/a3f09f5dfe914aa59895846a750b2ee9/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:22,531 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.076s
2022-08-16 14:42:22,531 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-736a6680-6ddc-456e-82b4-f82f91af9433', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a
    2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:22,578 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/4e661e576e2c42f5ac48a0cff1aaeec8/users/a3f09f5dfe914aa59895846a750b2ee9/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.046s
2022-08-16 14:42:22,578 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8e30cb60-a8a0-4a9d-8b36-a5b20d37a99c', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/4e661e576e2c42f5ac48a0cff1aaeec8/users/a3f09f5dfe914aa59895846a750b2ee9/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:22,579 17214 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user a3f09f5dfe914aa59895846a750b2ee9 is created with scope project and roles: ['admin', 'admin']
2022-08-16 14:42:22,579 17214 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesActionsTest-1423080679-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '4e661e576e2c42f5ac48a0cff1aaeec8', 'project_name': 'tempest-VolumesActionsTest-1423080679', 'tenant_id': '4e661e576e2c42f5ac48a0cff1aaeec8', 'tenant_name': 'tempest-VolumesActionsTest-1423080679', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'a3f09f5dfe914aa59895846a750b2ee9', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 14:42:22,589 17214 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_attach_detach_volume_to_instance) Found network None available for tenant
2022-08-16 14:42:22,838 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.248s
2022-08-16 14:42:22,839 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-1180275113", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c61e0809-396d-4674-aa72-aacc65571eb6', 'x-compute-request-id': 'req-c61e0809-396d-4674-aa72-aacc65571eb6', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "de5a7e5e-5843-4516-a930-ebbfa6a2c286", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "KNhFzyYs9dRD"}}'
2022-08
    -16 14:42:22,911 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286 0.069s
2022-08-16 14:42:22,911 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a4af78ad-5fea-4c3a-a0e8-54f5191c5cd0', 'x-compute-request-id': 'req-a4af78ad-5fea-4c3a-a0e8-54f5191c5cd0', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286'}
        Body: b'{"server": {"id": "de5a7e5e-5843-4516-a930-ebbfa6a2c286", "name": "tempest-VolumesActionsTest-instance-1180275113", "status": "BUILD", "tenant_id": "1d6fef0e56544c6895d931852c01f00e", "user_id": "3bb55c55e1094e6eaa27e0b9c196ba21", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:22Z", "updated": "2022-08-16T11:42:22Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:24,026 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286 0.103s
2022-08-16 14:42:24,028 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:23 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1343', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8b5dfff7-ac30-4e2c-98b7-73543c980ea9', 'x-compute-request-id': 'req-8b5dfff7-ac30-4e2c-98b7-73543c980ea9', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286'}
        Body: b'{"server": {"id": "de5a7e5e-5843-4516-a930-ebbfa6a2c286", "name": "tempest-VolumesActionsTest-instance-1180275113", "status": "BUILD", "tenant_id": "1d6fef0e56544c6895d931852c01f00e", "user_id": "3bb55c55e1094e6eaa27e0b9c196ba21", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:22Z", "updated": "2022-08-16T11:42:23Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://192.1
    68.17.193:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000ed", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:24,038 17214 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 2 second wait
2022-08-16 14:42:25,141 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286 0.102s
2022-08-16 14:42:25,142 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:25 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4693', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-366076f2-524b-4515-8108-55d350abe01b', 'x-compute-request-id': 'req-366076f2-524b-4515-8108-55d350abe01b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286'}
        Body: b'{"server": {"id": "de5a7e5e-5843-4516-a930-ebbfa6a2c286", "name": "tempest-VolumesActionsTest-instance-1180275113", "status": "ERROR", "tenant_id": "1d6fef0e56544c6895d931852c01f00e", "user_id": "3bb55c55e1094e6eaa27e0b9c196ba21", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:22Z", "updated": "2022-08-16T11:42:24Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:42:24Z", "message": "Build of instance de5a7e5e-5843-4516-a930-ebbfa6a2c286 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/
    python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pack
2022-08-16 14:42:25,152 17214 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 3 second wait
2022-08-16 14:42:25,389 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286 0.237s
2022-08-16 14:42:25,390 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:25 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-dcb34bc3-7df0-47fe-8707-4bd7c3b0cf0b', 'x-compute-request-id': 'req-dcb34bc3-7df0-47fe-8707-4bd7c3b0cf0b', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286'}
        Body: b''
2022-08-16 14:42:25,426 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286 0.035s
2022-08-16 14:42:25,426 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:25 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c59eb6c5-ed12-43d6-a68f-180c973c2af9', 'x-compute-request-id': 'req-c59eb6c5-ed12-43d6-a68f-180c973c2af9', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance de5a7e5e-5843-4516-a930-ebbfa6a2c286 could not be found."
    }}'

{0} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_list_delete_volume_transfer [3.776888s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_get_volume_attachment [3.335012s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 81, in test_get_volume_attachment
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server b09c808f-ed88-4000-b35a-e7a2c81eab08 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:42:27Z', 'message': 'Build of instance b09c808f-ed88-4000-b35a-e7a2c81eab08 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance b09c808f-ed88-4000-b35a-e7a2c81eab08 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:42:25,916 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 201 POST http://controller:5000/v3/auth/tokens 0.477s
2022-08-16 14:42:25,916 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:25 GMT', 'server': 'Apache', 'content-length': '3887', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0e94032a-61a4-463a-bbc6-8f0c7acf7c64', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "3bb55c55e1094e6eaa27e0b9c196ba21", "name": "tempest-VolumesActionsTest-1186010763-project", "password_expires_at": null}, "audit_ids": ["fAsm2YFUSmCrSYNwIeU52w"], "expires_at": "2022-08-17T11:42:25.000000Z", "issued_at": "2022-08-16T11:42:25.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "1d6fef0e56544c6895d931852c01f00e", "name": "tempest-VolumesActionsTest-1186010763"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/1d6fef0e56544c6895d931852c01f00e", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/1d6fef0e56544c6895d931852c01f00e", "region": "RegionOne"}], "id": "d30e368ce4ac4d1681
    74469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/1d6fef0e56544c6895d931852c01f00e", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/1d6fef0e56544c6895d931852c01f00e", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:42:25,924 17214 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_get_volume_attachment) Found network None available for tenant
2022-08-16 14:42:26,171 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.245s
2022-08-16 14:42:26,171 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-1545048246", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:25 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-2be47e4f-724c-4aab-858f-d39f79bccf0a', 'x-compute-request-id': 'req-2be47e4f-724c-4aab-858f-d39f79bccf0a', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "b09c808f-ed88-4000-b35a-e7a2c81eab08", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "5zDVtSdsU5Jg"}}'
2022-08-16 14:42:26,250 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08 0.075s
2022-08-16 14:42:26,250 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:26 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8791f85a-0b6d-471b-9f3c-d5378e2a2886', 'x-compute-request-id': 'req-8791f85a-0b6d-471b-9f3c-d5378e2a2886', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08'}
        Body: b'{"server": {"id": "b09c808f-ed88-4000-b35a-e7a2c81eab08", "name": "tempest-VolumesActionsTest-instance-1545048246", "status": "BUILD", "tenant_id": "1d6fef0e56544c6895d931852c01f00e", "user_id": "3bb55c55e1094e6eaa27e0b9c196ba21", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:26Z", "updated": "2022-08-16T11:42:26Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08"}, {"rel": "bookmark", "hre
    f": "http://[LB_IP_ADDRESS]:8774/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:27,345 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08 0.083s
2022-08-16 14:42:27,345 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:27 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1343', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8d467793-642a-42ac-b6ca-85e4a5051d56', 'x-compute-request-id': 'req-8d467793-642a-42ac-b6ca-85e4a5051d56', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08'}
        Body: b'{"server": {"id": "b09c808f-ed88-4000-b35a-e7a2c81eab08", "name": "tempest-VolumesActionsTest-instance-1545048246", "status": "BUILD", "tenant_id": "1d6fef0e56544c6895d931852c01f00e", "user_id": "3bb55c55e1094e6eaa27e0b9c196ba21", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:26Z", "updated": "2022-08-16T11:42:26Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000ee", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:27,355 17214 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:42:28,455 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08 0.098s
2022-08-16 14:42:28,456 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4693', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-71243e28-9cb1-4aa6-af96-e1fe7b43d9bc', 'x-compute-request-id': 'req-71243e28-9cb1-4aa6-af96-e1fe7b43d9bc', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08'}
        Body: b'{"server": {"id": "b09c808f-e
    d88-4000-b35a-e7a2c81eab08", "name": "tempest-VolumesActionsTest-instance-1545048246", "status": "ERROR", "tenant_id": "1d6fef0e56544c6895d931852c01f00e", "user_id": "3bb55c55e1094e6eaa27e0b9c196ba21", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:26Z", "updated": "2022-08-16T11:42:27Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:42:27Z", "message": "Build of instance b09c808f-ed88-4000-b35a-e7a2c81eab08 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pack
2022-08-16 14:42:28,466 17214 
    INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:42:28,731 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08 0.264s
2022-08-16 14:42:28,731 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-dcb40165-64dd-4d9d-90aa-a22a4eba65f3', 'x-compute-request-id': 'req-dcb40165-64dd-4d9d-90aa-a22a4eba65f3', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08'}
        Body: b''
2022-08-16 14:42:28,765 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08 0.032s
2022-08-16 14:42:28,765 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-71669dd4-a655-4caf-ad21-e5e48fae9c86', 'x-compute-request-id': 'req-71669dd4-a655-4caf-ad21-e5e48fae9c86', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance b09c808f-ed88-4000-b35a-e7a2c81eab08 could not be found."}}'

{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_reserve_unreserve_volume [0.210564s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_bootable [0.207071s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_readonly_update [0.210410s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_attach_volumes_with_nonexistent_volume_id [4.535570s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_negative.py", line 179, in test_attach_volumes_with_nonexistent_volume_id
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server f951abba-f851-4ff9-8388-222f01a5c457 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:42:32Z', 'message': 'Build of instance f951abba-f851-4ff9-8388-222f01a5c457 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance f951abba-f851-4ff9-8388-222f01a5c457 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:42:29,754 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://controller:5000/v3/auth/tokens 0.469s
2022-08-16 14:42:29,755 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:29 GMT', 'server': 'Apache', 'content-length': '3889', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b589f88a-9f8d-4804-9d0e-daed775ca9f5', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "5ea98e9ca63f4af5a4586fe242cdad3c", "name": "tempest-VolumesNegativeTest-1764294177-project", "password_expires_at": null}, "audit_ids": ["Zg6ypm8GQO2stfNZb6O0jQ"], "expires_at": "2022-08-17T11:42:29.000000Z", "issued_at": "2022-08-16T11:42:29.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "89aeabc9b39b414484daaae153147573", "name": "tempest-VolumesNegativeTest-1764294177"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/89aeabc9b39b414484daaae153147573", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/89aeabc9b39b414484daaae153147573", "region": "RegionOne"}], "i
    d": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/89aeabc9b39b414484daaae153147573", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/89aeabc9b39b414484daaae153147573", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:42:29,755 17215 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 14:42:29,850 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.094s
2022-08-16 14:42:29,851 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesNegativeTest-1270678204-desc", "domain_id": "default", "name": "tempest-VolumesNegativeTest-1270678204"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:29 GMT', 'server': 'Apache', 'content-length': '374', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0d616e8c-dfd4-4e18-9018-afc01cfd6020', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "6b2c88d4160f4dbabc42b4d0a14cf90f", "name": "tempest-VolumesNegativeTest-1270678204", "domain_id": "default", "description": "tempest-VolumesNegativeTest-1270678204-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/6b2c88d4160f4dbabc42b4d0a14cf90f"}}}\n'
2022-08-16 14:42:30,344 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.492s
2022-08-16 14:42:30,344 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesNegativeTest-1270678204-project-admin", "password": "J7=uB8%a&med9Jc", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:29 GMT', 'server': 'Apache', 'content-length': '293', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-d739d1c7-2c88-427c-885a-64e26f01d2e2', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "6961433559e04f9b916c6363ef89420d", "name": "tempest-VolumesNegativeTest-1270678204-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/6961433559e04f9b916c6363ef89420d"}}}\n'
2022-08-16 14:42:30,376 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.031s
2022-08-16 14:42:30,376 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:30 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ee4aa7c8-6171-4a85-840a-bd90bd7c117c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true
    }, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:30,426 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/6b2c88d4160f4dbabc42b4d0a14cf90f/users/6961433559e04f9b916c6363ef89420d/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.048s
2022-08-16 14:42:30,426 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:30 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-1fc56352-4297-4cab-8a85-8187dd49ac73', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/6b2c88d4160f4dbabc42b4d0a14cf90f/users/6961433559e04f9b916c6363ef89420d/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:30,501 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.074s
2022-08-16 14:42:30,501 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:30 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2350a4ed-1242-466d-bc7f-df4be2d9b16b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:30,537 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/6961433559e04f9b916c6363ef89420d/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.034s
2022-08-16 14:42:30,537 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:30 GMT', 's
    erver': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-14b527e5-9919-477d-bee5-80073a32b878', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/6961433559e04f9b916c6363ef89420d/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:30,608 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.070s
2022-08-16 14:42:30,608 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:30 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-54ad4f0f-7f07-44e2-bc4c-47942c460414', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:30,644 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/6b2c88d4160f4dbabc42b4d0a14cf90f/users/6961433559e04f9b916c6363ef89420d/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.034s
2022-08-16 14:42:30,644 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:30 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e8661add-bfb5-413e-b873-1931d56cbad4', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/6b2c88d4160f4dbabc42b4d0a14cf90f/users/6961433559e04f9b916c6363ef89420d/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:30,731 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.086s
2022-08-16 14:42:30,731 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:30 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2e353dc0-1a9e-49f4-95db-bd7dbeb97ef4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": nu
    ll, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:30,776 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/6b2c88d4160f4dbabc42b4d0a14cf90f/users/6961433559e04f9b916c6363ef89420d/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.044s
2022-08-16 14:42:30,777 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:30 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-740bbc1f-8939-41a9-9efa-bc94553409db', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/6b2c88d4160f4dbabc42b4d0a14cf90f/users/6961433559e04f9b916c6363ef89420d/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:30,777 17215 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 6961433559e04f9b916c6363ef89420d is created with scope project and roles: ['admin', 'admin']
2022-08-16 14:42:30,778 17215 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesNegativeTest-1270678204-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '6b2c88d4160f4dbabc42b4d0a14cf90f', 'project_name': 'tempest-VolumesNegativeTest-1270678204', 'tenant_id': '6b2c88d4160f4dbabc42b4d0a14cf90f', 'tenant_name': 'tempest-VolumesNegativeTest-1270678204', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '6961433559e04f9b916c6363ef89420d', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 14:42:30,786 17215 INFO     [tempest.lib.common.fixed_network] (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id) Found network None available for tenant
2022-08-16 14:42:31,036 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.249s
2022-08-16 14:42:31,037 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesNegativeTest-instance-208584180", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:30 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-dd68bc4a-924a-4bde-9f3a-2766663e17f2', 'x-compute-request-id': 'req-dd68bc4a-924a-4bde-9f3a-2766663e17f2', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "f951abba-f851-4ff9-8388-222f01a5c457", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/f951abba-f8
    51-4ff9-8388-222f01a5c457"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "PQ7St35vZtXx"}}'
2022-08-16 14:42:31,120 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457 0.079s
2022-08-16 14:42:31,120 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:31 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5bcdd6a2-58e1-4698-a4ab-1aa003b17c57', 'x-compute-request-id': 'req-5bcdd6a2-58e1-4698-a4ab-1aa003b17c57', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457'}
        Body: b'{"server": {"id": "f951abba-f851-4ff9-8388-222f01a5c457", "name": "tempest-VolumesNegativeTest-instance-208584180", "status": "BUILD", "tenant_id": "89aeabc9b39b414484daaae153147573", "user_id": "5ea98e9ca63f4af5a4586fe242cdad3c", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:31Z", "updated": "2022-08-16T11:42:31Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/f951abba-f851-4ff9-8388-222f01a5c457"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:32,215 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457 0.082s
2022-08-16 14:42:32,215 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:32 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1343', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-db250004-e66d-4622-ba14-afb77306d76a', 'x-compute-request-id': 'req-db250004-e66d-4622-ba14-afb77306d76a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457'}
        Body: b'{"server": {"id": "f951abba-f851-4ff9-8388-222f01a5c457", "name": "tempest-VolumesNegativeTest-instance-208584180", "status": "BUILD", "tenant_id": "89aeabc9b39b414484daaae153147573", "user_id": "5ea98e9ca63f4af5a4586fe242cdad3c", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created"
    : "2022-08-16T11:42:31Z", "updated": "2022-08-16T11:42:31Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/f951abba-f851-4ff9-8388-222f01a5c457"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000ef", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:32,226 17215 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:42:33,336 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457 0.108s
2022-08-16 14:42:33,337 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:33 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4693', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ccca2f81-fbf0-41ed-924c-29edeb9784a8', 'x-compute-request-id': 'req-ccca2f81-fbf0-41ed-924c-29edeb9784a8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457'}
        Body: b'{"server": {"id": "f951abba-f851-4ff9-8388-222f01a5c457", "name": "tempest-VolumesNegativeTest-instance-208584180", "status": "ERROR", "tenant_id": "89aeabc9b39b414484daaae153147573", "user_id": "5ea98e9ca63f4af5a4586fe242cdad3c", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:31Z", "updated": "2022-08-16T11:42:32Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/f951abba-f851-4ff9-8388-222f01a5c457"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:42:32Z", "message": "Build of instance f951abba-f851-4ff9-8388-222f01a5c457 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv
    /lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pack
2022-08-16 14:42:33,347 17215 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:42:33,778 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457 0.430s
2022-08-16 14:42:33,778 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:33 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-df83abc0-6d09-438c-9472-b40ecb229ea5', 'x-compute-request-id': 'req-df83abc0-6d09-438c-9472-b40ecb229ea5', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457'}
        Body: b''
2022-08-16 14:42:33,812 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457 0.033s
2022-08-16 14:42:33,812 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:33 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-65f24789-587b-4dda-bb87-6cdc11b54814', 'x-compute-request-id': 'req-65f24789-587b-4dda-bb87-6cdc11b54814', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://192.16
    8.17.193:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance f951abba-f851-4ff9-8388-222f01a5c457 could not be found."}}'

{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_from_deactivated_image [0.545624s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_from_image_with_decreasing_size [0.430836s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.016878s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_snapshot_id [0.031827s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_source_volid [0.037844s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_volume_type [0.029645s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_negative [0.017512s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.013657s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.016016s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.027720s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.016149s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_detach_volumes_with_invalid_volume_id [0.027200s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_get_invalid_volume_id [0.029790s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.013684s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_detail_with_invalid_status [0.048180s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_detail_with_nonexistent_name [0.044823s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_with_invalid_status [0.035106s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_with_nonexistent_name [0.038834s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_reserve_volume_with_negative_volume_status [0.137334s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_reserve_volume_with_nonexistent_volume_id [0.027666s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_unreserve_volume_with_nonexistent_volume_id [0.028178s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_empty_volume_id [0.014187s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_invalid_volume_id [0.031482s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_nonexistent_volume_id [0.028619s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.028905s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_None_size [0.017405s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_non_number_size [0.016734s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_nonexistent_volume_id [0.029052s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_size_smaller_than_original_size [0.016399s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_without_passing_volume_id [0.029271s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.027041s] ... ok
{0} tempest.api.volume.test_volumes_clone.VolumesCloneTest.test_create_from_bootable_volume [14.842733s] ... ok
{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_delete_with_volume_in_use [4.737003s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 48, in test_snapshot_create_delete_with_volume_in_use
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 57365e97-b8c6-4b55-a047-7f8f80851fff failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:42:44Z', 'message': 'Build of instance 57365e97-b8c6-4b55-a047-7f8f80851fff aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 57365e97-b8c6-4b55-a047-7f8f80851fff aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:42:41,662 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://controller:5000/v3/auth/tokens 0.421s
2022-08-16 14:42:41,663 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:41 GMT', 'server': 'Apache', 'content-length': '3897', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7d052af9-a810-483a-9c02-e86ae024ead2', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "e8b85bd169e5440283ada648890735ab", "name": "tempest-VolumesSnapshotTestJSON-1491521008-project", "password_expires_at": null}, "audit_ids": ["ZMCZr8CrRHqIlaDsAAiblQ"], "expires_at": "2022-08-17T11:42:41.000000Z", "issued_at": "2022-08-16T11:42:41.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "adb9c1ec91fc444bbc9132727cda4c6a", "name": "tempest-VolumesSnapshotTestJSON-1491521008"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/adb9c1ec91fc444bbc9132727cda4c6a", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/adb9c1ec91fc444bbc9132727cda4c6a", "region": "Regi
    onOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:42:41,664 17215 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 14:42:41,757 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.093s
2022-08-16 14:42:41,758 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesSnapshotTestJSON-248001804-desc", "domain_id": "default", "name": "tempest-VolumesSnapshotTestJSON-248001804"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:41 GMT', 'server': 'Apache', 'content-length': '380', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-bcb99277-07a8-4c5a-b6d0-e41ea71ecc35', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "aff5c3f7e83c4eacb0b1f6cb83c658ba", "name": "tempest-VolumesSnapshotTestJSON-248001804", "domain_id": "default", "description": "tempest-VolumesSnapshotTestJSON-248001804-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/aff5c3f7e83c4eacb0b1f6cb83c658ba"}}}\n'
2022-08-16 14:42:42,246 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.483s
2022-08-16 14:42:42,246 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesSnapshotTestJSON-248001804-project-admin", "password": "P5#@gpUyGTyLU0B", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:41 GMT', 'server': 'Apache', 'content-length': '296', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-75ef106d-3b53-4e15-ae4d-2d8452fe30dd', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "dc32e0df83e34c408509d191553eb75a", "name": "tempest-VolumesSnapshotTestJSON-248001804-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/dc32e0df83e34c408509d191553eb75a"}}}\n'
2022-08-16 14:42:42,296 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.049s
2022-08-16 14:42:42,297 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:42 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-f0a68d28-e6a9-4865-9323-3951f08067fb', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "descrip
    tion": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:42,352 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/aff5c3f7e83c4eacb0b1f6cb83c658ba/users/dc32e0df83e34c408509d191553eb75a/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.054s
2022-08-16 14:42:42,352 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:42 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-789a788c-9e08-4b40-9406-302fa1ef2e66', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/aff5c3f7e83c4eacb0b1f6cb83c658ba/users/dc32e0df83e34c408509d191553eb75a/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:42,439 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.086s
2022-08-16 14:42:42,439 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:42 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-107d8710-cb08-466c-981b-f3c69120b476', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:42,490 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/dc32e0df83e34c408509d191553eb75a/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.050s
2022-08-16 14:42:42,491 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response -
     Headers: {'date': 'Tue, 16 Aug 2022 11:42:42 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-835573e2-0c50-4717-942e-f0443b631f4f', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/dc32e0df83e34c408509d191553eb75a/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:42,581 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.089s
2022-08-16 14:42:42,581 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:42 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e5a98136-c41d-44fe-99d6-1bcbae117b26', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:42,621 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/aff5c3f7e83c4eacb0b1f6cb83c658ba/users/dc32e0df83e34c408509d191553eb75a/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.039s
2022-08-16 14:42:42,622 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:42 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-00daeb5c-347c-4e70-a21e-895fb18e43ef', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/aff5c3f7e83c4eacb0b1f6cb83c658ba/users/dc32e0df83e34c408509d191553eb75a/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:42,721 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.098s
2022-08-16 14:42:42,721 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:42 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-06f9a14c-fc73-4c54-9886-5384a56406b4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed
    4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:42,765 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/aff5c3f7e83c4eacb0b1f6cb83c658ba/users/dc32e0df83e34c408509d191553eb75a/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.042s
2022-08-16 14:42:42,765 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:42 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b905097a-67a5-441d-bc00-4d3ee859ada8', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/aff5c3f7e83c4eacb0b1f6cb83c658ba/users/dc32e0df83e34c408509d191553eb75a/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:42,765 17215 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user dc32e0df83e34c408509d191553eb75a is created with scope project and roles: ['admin', 'admin']
2022-08-16 14:42:42,766 17215 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesSnapshotTestJSON-248001804-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': 'aff5c3f7e83c4eacb0b1f6cb83c658ba', 'project_name': 'tempest-VolumesSnapshotTestJSON-248001804', 'tenant_id': 'aff5c3f7e83c4eacb0b1f6cb83c658ba', 'tenant_name': 'tempest-VolumesSnapshotTestJSON-248001804', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'dc32e0df83e34c408509d191553eb75a', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 14:42:42,775 17215 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use) Found network None available for tenant
2022-08-16 14:42:43,024 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.248s
2022-08-16 14:42:43,025 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-1929180558", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:42 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-728a5a0f-2246-4696-a58c-0b774550aa6b', 'x-compute-request-id': 'req-728a5a0f-2246-4696-a58c-0b774550aa6b', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "57365e97-b8c6-4b55-a047-7f8f80851fff", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047
    -7f8f80851fff"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/57365e97-b8c6-4b55-a047-7f8f80851fff"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "m8Wg7aFGNRjT"}}'
2022-08-16 14:42:43,123 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff 0.094s
2022-08-16 14:42:43,123 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:43 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1327', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-80f671e9-b097-4aac-8d4b-7100b4e3102e', 'x-compute-request-id': 'req-80f671e9-b097-4aac-8d4b-7100b4e3102e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff'}
        Body: b'{"server": {"id": "57365e97-b8c6-4b55-a047-7f8f80851fff", "name": "tempest-VolumesSnapshotTestJSON-instance-1929180558", "status": "BUILD", "tenant_id": "adb9c1ec91fc444bbc9132727cda4c6a", "user_id": "e8b85bd169e5440283ada648890735ab", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:43Z", "updated": "2022-08-16T11:42:43Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/57365e97-b8c6-4b55-a047-7f8f80851fff"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:44,236 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff 0.101s
2022-08-16 14:42:44,236 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:44 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1348', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5302f054-f976-4fcb-ba5b-b824ddfd865a', 'x-compute-request-id': 'req-5302f054-f976-4fcb-ba5b-b824ddfd865a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff'}
        Body: b'{"server": {"id": "57365e97-b8c6-4b55-a047-7f8f80851fff", "name": "tempest-VolumesSnapshotTestJSON-instance-1929180558", "status": "BUILD", "tenant_id": "adb9c1ec91fc444bbc9132727cda4c6a", "user_id": "e8b85bd169e5440283ada648890735ab", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "f
    lavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:43Z", "updated": "2022-08-16T11:42:43Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/57365e97-b8c6-4b55-a047-7f8f80851fff"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000f0", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:44,245 17215 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:42:45,350 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff 0.103s
2022-08-16 14:42:45,350 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4698', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0ec34328-b9a7-4495-acb3-c7dc3fa846b0', 'x-compute-request-id': 'req-0ec34328-b9a7-4495-acb3-c7dc3fa846b0', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff'}
        Body: b'{"server": {"id": "57365e97-b8c6-4b55-a047-7f8f80851fff", "name": "tempest-VolumesSnapshotTestJSON-instance-1929180558", "status": "ERROR", "tenant_id": "adb9c1ec91fc444bbc9132727cda4c6a", "user_id": "e8b85bd169e5440283ada648890735ab", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:43Z", "updated": "2022-08-16T11:42:44Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/57365e97-b8c6-4b55-a047-7f8f80851fff"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:42:44Z", "message": "Build of instance 57365e97-b8c6-4b55-a047-7f8f80851fff aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", lin
    e 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site
2022-08-16 14:42:45,360 17215 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:42:45,934 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff 0.572s
2022-08-16 14:42:45,934 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a7af2f50-cf12-45b8-81cd-f718bd106806', 'x-compute-request-id': 'req-a7af2f50-cf12-45b8-81cd-f718bd106806', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff'}
        Body: b''
2022-08-16 14:42:45,968 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff 0.033s
2022-08-16 14:42:45,968 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-46778aee-c337-4ea7-8e30-f46bd604eb33', 'x-compute-request-id': 'req-46778aee-c337-4ea7-8e30-f46bd604eb33', 'co
    nnection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 57365e97-b8c6-4b55-a047-7f8f80851fff could not be found."}}'

{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_upload [16.994518s] ... ok
{0} tempest.api.volume.test_volumes_clone.VolumesCloneTest.test_create_from_volume [3.900704s] ... ok
{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_get_list_update_delete [3.704621s] ... ok
{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_offline_delete_online [5.627552s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 83, in test_snapshot_create_offline_delete_online
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 3822d5d8-a58e-4906-9d44-5f94cba70fb5 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:42:54Z', 'message': 'Build of instance 3822d5d8-a58e-4906-9d44-5f94cba70fb5 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 3822d5d8-a58e-4906-9d44-5f94cba70fb5 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:42:49,813 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a/snapshots 0.135s
2022-08-16 14:42:49,814 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "802a03ad-c7d0-42a7-bf1e-1118ef7bb905", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-455952478"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:49 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '309', 'x-compute-request-id': 'req-32609d06-81f4-4c71-b898-c1534eb566f9', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-32609d06-81f4-4c71-b898-c1534eb566f9', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a/snapshots'}
        Body: b'{"snapshot": {"id": "3150ea1c-9140-40ed-b321-f25f763aae2d", "created_at": "2022-08-16T11:42:49.764940", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-455952478", "description": null, "volume_id": "802a03ad-c7d0-42a7-bf1e-1118ef7bb905", "status": "creating", "size": 1, "metadata": {}}}'
2022-08-16 14:42:49,855 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a/snapshots/3150ea1c-9140-40ed-b321-f25f763aae2d 0.037s
2022-08-16 14:42:49,855 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:49 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '441', 'x-compute-request-id': 'req-636c57f0-ae6f-4a7e-b89a-84f2e307a74e', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-636c57f0-ae6f-4a7e-b89a-84f2e307a74e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a/snapshots/3150ea1c-9140-40ed-b321-f25f763aae2d'}
        Body: b'{"snapshot": {"id": "3150ea1c-9140-40ed-b321-f25f763aae2d", "created_at": "2022-08-16T11:42:49.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-455952478", "description": null, "volume_id": "802a03ad-c7d0-42a7-bf1e-1118ef7bb905", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "adb9c1ec91fc444bbc9132727cda4c6a", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-16 14:42:50,887 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a/snapshots/3150ea1c-9140-40ed-b321-f25f763aae2d 0.027s
2022-08-16 14:42:50,887 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:50 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '441', 'x-compute-request-id': 'req-05e1b109-988e-44aa-8976-3017cce1e2e5', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-05e1b109-988e-44aa-8976-3017cce1e2e5', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a/snapshots/3150ea1c-9140-40ed-b321-f25f763aae2d'}
        Body: b'{"snapshot": {"id": "3150ea1c-9140-40ed-b321-f25f763aae2d", "created_at": "2022-08-16T11:42:49.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJ
    SON-Snapshot-455952478", "description": null, "volume_id": "802a03ad-c7d0-42a7-bf1e-1118ef7bb905", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "adb9c1ec91fc444bbc9132727cda4c6a", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-16 14:42:51,917 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a/snapshots/3150ea1c-9140-40ed-b321-f25f763aae2d 0.024s
2022-08-16 14:42:51,917 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:51 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '468', 'x-compute-request-id': 'req-c6631ca6-582c-4ede-8193-f0c8b1c82438', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-c6631ca6-582c-4ede-8193-f0c8b1c82438', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a/snapshots/3150ea1c-9140-40ed-b321-f25f763aae2d'}
        Body: b'{"snapshot": {"id": "3150ea1c-9140-40ed-b321-f25f763aae2d", "created_at": "2022-08-16T11:42:49.000000", "updated_at": "2022-08-16T11:42:51.000000", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-455952478", "description": null, "volume_id": "802a03ad-c7d0-42a7-bf1e-1118ef7bb905", "status": "available", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "adb9c1ec91fc444bbc9132727cda4c6a", "os-extended-snapshot-attributes:progress": "100%"}}'
2022-08-16 14:42:51,921 17215 INFO     [tempest.common.waiters] snapshot 3150ea1c-9140-40ed-b321-f25f763aae2d reached available after waiting for 2.921115 seconds
2022-08-16 14:42:52,385 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 201 POST http://controller:5000/v3/auth/tokens 0.456s
2022-08-16 14:42:52,385 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:51 GMT', 'server': 'Apache', 'content-length': '3897', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-053e5ef1-5995-47e6-b5f7-fc3d463bc730', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "e8b85bd169e5440283ada648890735ab", "name": "tempest-VolumesSnapshotTestJSON-1491521008-project", "password_expires_at": null}, "audit_ids": ["tvFcwefMRvuF6Xdj73ILGg"], "expires_at": "2022-08-17T11:42:52.000000Z", "issued_at": "2022-08-16T11:42:52.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "adb9c1ec91fc444bbc9132727cda4c6a", "name": "tempest-VolumesSnapshotTestJSON-1491521008"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "int
    erface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/adb9c1ec91fc444bbc9132727cda4c6a", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/adb9c1ec91fc444bbc9132727cda4c6a", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:42:52,455 17215 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online) Found network None available for tenant
2022-08-16 14:42:52,708 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.252s
2022-08-16 14:42:52,709 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-1837245403", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-be49491a-0960-41a6-b1f5-82bd68bbd00f', 'x-compute-request-id': 'req-be49491a-0960-41a6-b1f5-82bd68bbd00f', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "3822d5d8-a58e-4906-9d44-5f94cba70fb5", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5
    "}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "8PZjvC4sAwJd"}}'
2022-08-16 14:42:52,775 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5 0.063s
2022-08-16 14:42:52,776 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1327', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3f434ae5-3095-4f58-941a-d344a90dc3b0', 'x-compute-request-id': 'req-3f434ae5-3095-4f58-941a-d344a90dc3b0', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5'}
        Body: b'{"server": {"id": "3822d5d8-a58e-4906-9d44-5f94cba70fb5", "name": "tempest-VolumesSnapshotTestJSON-instance-1837245403", "status": "BUILD", "tenant_id": "adb9c1ec91fc444bbc9132727cda4c6a", "user_id": "e8b85bd169e5440283ada648890735ab", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:52Z", "updated": "2022-08-16T11:42:52Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:53,884 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5 0.096s
2022-08-16 14:42:53,884 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:53 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1430', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-cc1bd8ab-f922-4fbb-bc46-01c2efd0e6dc', 'x-compute-request-id': 'req-cc1bd8ab-f922-4fbb-bc46-01c2efd0e6dc', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5'}
        Body: b'{"server": {"id": "3822d5d8-a58e-4906-9d44-5f94cba70fb5", "name": "tempest-VolumesSnapshotTestJSON-instance-1837245403", "status": "BUILD", "tenant_id": "adb9c1ec91fc444bbc9132727cda4c6a", "user_id": "e8b85bd169e5440283ada648890735ab", "metadata": {}, "hostId": "9d54b0df6a5f8de5e3a95171d43a066e6c7f0b54cc4366bcd2c479a9", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-
    b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:52Z", "updated": "2022-08-16T11:42:53Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": "rack05-server62", "OS-EXT-SRV-ATTR:instance_name": "instance-000000f1", "OS-EXT-SRV-ATTR:hypervisor_hostname": "rack05-server62", "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:53,895 17215 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:42:55,000 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5 0.103s
2022-08-16 14:42:55,000 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4698', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3e082533-ae4c-40d8-b842-cad4418967fd', 'x-compute-request-id': 'req-3e082533-ae4c-40d8-b842-cad4418967fd', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5'}
        Body: b'{"server": {"id": "3822d5d8-a58e-4906-9d44-5f94cba70fb5", "name": "tempest-VolumesSnapshotTestJSON-instance-1837245403", "status": "ERROR", "tenant_id": "adb9c1ec91fc444bbc9132727cda4c6a", "user_id": "e8b85bd169e5440283ada648890735ab", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:52Z", "updated": "2022-08-16T11:42:54Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:42:54Z", "message": "Build of instance 3822d5d8-a58e-4906-9d44-5f94cba70fb5 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv
    /lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site
2022-08-16 14:42:55,010 17215 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 3 second wait
2022-08-16 14:42:55,266 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5 0.255s
2022-08-16 14:42:55,267 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-cf081834-2fb9-4ae5-af7f-86480adef54c', 'x-compute-request-id': 'req-cf081834-2fb9-4ae5-af7f-86480adef54c', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5'}
        Body: b''
2022-08-16 14:42:55,303 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5 0.035s
2022-08-16 14:42:55,303 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-9001964b-a118-40c4-8c31-abd6d7965574', 'x-compute-request-id'
    : 'req-9001964b-a118-40c4-8c31-abd6d7965574', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 3822d5d8-a58e-4906-9d44-5f94cba70fb5 could not be found."}}'

{0} tempest.api.volume.test_volumes_clone_negative.VolumesCloneNegativeTest.test_create_from_volume_decreasing_size [1.608720s] ... ok
{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot [6.219370s] ... ok
{1} tempest.api.volume.test_volumes_extend.VolumesExtendTest.test_volume_extend [14.576416s] ... ok
{0} tempest.api.volume.test_volumes_extend.VolumesExtendAttachedTest.test_extend_attached_volume [4.833441s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 187, in test_extend_attached_volume
    self._test_extend_attached_volume(volume)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 117, in _test_extend_attached_volume
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 0f6e9198-d002-44ae-9d28-6967b6477a56 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:43:05Z', 'message': 'Build of instance 0f6e9198-d002-44ae-9d28-6967b6477a56 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 0f6e9198-d002-44ae-9d28-6967b6477a56 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:43:02,927 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b/volumes 0.467s
2022-08-16 14:43:02,927 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesExtendAttachedTest-Volume-1023721404"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '892', 'x-compute-request-id': 'req-78857889-6838-476a-a73f-6c9af2512377', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-78857889-6838-476a-a73f-6c9af2512377', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b/volumes'}
        Body: b'{"volume": {"id": "41290588-3634-4ae7-a9a2-5187331fe027", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T11:43:02.859511", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-1023721404", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027"}], "user_id": "1a5437e1f023400a85ba6955ceca25c0", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null}}'
2022-08-16 14:43:02,977 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027 0.040s
2022-08-16 14:43:02,978 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1071', 'x-compute-request-id': 'req-563024ae-7a1a-4cec-af25-bb56626c7e25', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-563024ae-7a1a-4cec-af25-bb56626c7e25', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027'}
        Body: b'{"volume": {"id": "41290588-3634-4ae7-a9a2-5187331fe027", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T11:43:02.000000", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-1023721404", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027"}], "user_id": "1a5437e1f023400a85ba6955ceca25c0", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-tenant-attr:tenant_id": "71e98352b03b4f97ac507cb5b6c27b8b", "os-vol-host-attr:host": null, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:nam
    e_id": null}}'
2022-08-16 14:43:04,034 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027 0.046s
2022-08-16 14:43:04,034 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:03 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1130', 'x-compute-request-id': 'req-9426e309-590d-4e14-be3d-831bc629314e', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-9426e309-590d-4e14-be3d-831bc629314e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027'}
        Body: b'{"volume": {"id": "41290588-3634-4ae7-a9a2-5187331fe027", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T11:43:02.000000", "updated_at": "2022-08-16T11:43:03.000000", "name": "tempest-VolumesExtendAttachedTest-Volume-1023721404", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027"}], "user_id": "1a5437e1f023400a85ba6955ceca25c0", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-tenant-attr:tenant_id": "71e98352b03b4f97ac507cb5b6c27b8b", "os-vol-host-attr:host": "rack08-server59@LIGHTOSyridex#yridex", "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null}}'
2022-08-16 14:43:04,043 17213 INFO     [tempest.common.waiters] volume 41290588-3634-4ae7-a9a2-5187331fe027 reached available after waiting for 2.043849 seconds
2022-08-16 14:43:04,464 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 201 POST http://controller:5000/v3/auth/tokens 0.414s
2022-08-16 14:43:04,465 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:04 GMT', 'server': 'Apache', 'content-length': '3897', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-18987505-aed0-46d9-9e2e-f307b3bbc495', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "1a5437e1f023400a85ba6955ceca25c0", "name": "tempest-VolumesExtendAttachedTest-49982271-project", "password_expires_at": null}, "audit_ids": ["o0ACz5WlT2m6tVA36s1gfQ"], "expires_at": "2022-08-17T11:43:04.000000Z", "issued_at": "2022-08-16T11:43:04.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "71e98352b03b4f97ac507cb5b6c27b8b", "name": "tempest-VolumesExtendAttachedTest-49982271"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "
    interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/71e98352b03b4f97ac507cb5b6c27b8b", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/71e98352b03b4f97ac507cb5b6c27b8b", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:43:04,472 17213 INFO     [tempest.lib.common.fixed_network] (VolumesExtendAttachedTest:test_extend_attached_volume) Found network None available for tenant
2022-08-16 14:43:04,704 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.230s
2022-08-16 14:43:04,704 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesExtendAttachedTest-instance-898795218", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:04 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0e9532c9-adc9-4c70-9d61-770e2825c1cf', 'x-compute-r
    equest-id': 'req-0e9532c9-adc9-4c70-9d61-770e2825c1cf', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "0f6e9198-d002-44ae-9d28-6967b6477a56", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/0f6e9198-d002-44ae-9d28-6967b6477a56"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "DZq7BzZ4M77h"}}'
2022-08-16 14:43:04,783 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56 0.076s
2022-08-16 14:43:04,784 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:04 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1328', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-335e272a-6b3f-46aa-a99c-8689c61ef270', 'x-compute-request-id': 'req-335e272a-6b3f-46aa-a99c-8689c61ef270', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56'}
        Body: b'{"server": {"id": "0f6e9198-d002-44ae-9d28-6967b6477a56", "name": "tempest-VolumesExtendAttachedTest-instance-898795218", "status": "BUILD", "tenant_id": "71e98352b03b4f97ac507cb5b6c27b8b", "user_id": "1a5437e1f023400a85ba6955ceca25c0", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:43:04Z", "updated": "2022-08-16T11:43:04Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/0f6e9198-d002-44ae-9d28-6967b6477a56"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:43:05,885 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56 0.089s
2022-08-16 14:43:05,885 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:05 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1349', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-234afc9f-b95d-4ca9-a7f9-3044f895cc7f', 'x-compute-request-id': 'req-234afc9f-b95d-4ca9-a7f9-3044f895cc7f', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56'}
        Body: b'{"server": {"id": "0f6e9198-d002-44ae-9d28-6967b6477a56", "name": "tempest-VolumesExtendAttachedTest-inst
    ance-898795218", "status": "BUILD", "tenant_id": "71e98352b03b4f97ac507cb5b6c27b8b", "user_id": "1a5437e1f023400a85ba6955ceca25c0", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:43:04Z", "updated": "2022-08-16T11:43:05Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/0f6e9198-d002-44ae-9d28-6967b6477a56"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000f2", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:43:05,895 17213 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:43:06,992 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56 0.095s
2022-08-16 14:43:06,992 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:06 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4699', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-009017db-6df9-4095-a8e1-55cf50c12e6e', 'x-compute-request-id': 'req-009017db-6df9-4095-a8e1-55cf50c12e6e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56'}
        Body: b'{"server": {"id": "0f6e9198-d002-44ae-9d28-6967b6477a56", "name": "tempest-VolumesExtendAttachedTest-instance-898795218", "status": "ERROR", "tenant_id": "71e98352b03b4f97ac507cb5b6c27b8b", "user_id": "1a5437e1f023400a85ba6955ceca25c0", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:43:04Z", "updated": "2022-08-16T11:43:05Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/0f6e9198-d002-44ae-9d28-6967b6477a56"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:43:05Z", "message": "Build of instance 0f6e9198-d002-44ae-9d28-6967b6477a56 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names
    _for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/sit
2022-08-16 14:43:07,002 17213 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 3 second wait
2022-08-16 14:43:07,255 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56 0.252s
2022-08-16 14:43:07,255 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:07 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7db7ed58-d4d7-4cc9-b10f-db27a70b9073', 'x-compute-request-id': 'req-7db7ed58-d4d7-4cc9-b10f-db27a70b9073', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56'}
        Body: b''
2022-08-16 14:43:07,289 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56 0.033s
2022-08-16 14:43:07,289 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:07 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111'
    , 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-bd613b46-1f36-4d1e-9659-37bb69686943', 'x-compute-request-id': 'req-bd613b46-1f36-4d1e-9659-37bb69686943', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 0f6e9198-d002-44ae-9d28-6967b6477a56 could not be found."}}'

{2} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot_no_size [6.160257s] ... ok
{1} tempest.api.volume.test_volumes_extend.VolumesExtendTest.test_volume_extend_when_volume_has_snapshot [4.898202s] ... ok
{1} tempest.api.volume.test_volumes_get.VolumesSummaryTest.test_show_volume_summary [0.174023s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_with_nonexistent_volume_id [0.136893s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_without_passing_volume_id [0.032914s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshot_invalid_param_limit [0.017514s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_marker [0.027901s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_sort [0.016854s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_volume_from_snapshot_decreasing_size [3.747883s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit [0.031248s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit_equals_infinite [0.074383s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit_equals_zero [0.031257s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_marker [0.072252s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_offset [0.031908s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_created_at_asc [0.032436s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_created_at_desc [0.034405s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_id_asc [0.033157s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_id_desc [0.031224s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_name_asc [0.035595s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_name_desc [0.036642s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshots_list_details_with_params [0.094819s] ... ok
{2} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshots_list_with_params [0.094676s] ... ok

==============================
Failed 8 tests - output below:
==============================

tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_list_get_volume_attachments_multiattach[id-8d5853f7-56e7-4988-9b0c-48cea3c7049a]
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 406, in test_list_get_volume_attachments_multiattach
    servers, volume, attachments = self._create_and_multiattach()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 389, in _create_and_multiattach
    'ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server e9229acf-3127-4a9c-acea-6ccddf530657 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:40:00Z', 'message': 'Build of instance e9229acf-3127-4a9c-acea-6ccddf530657 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance e9229acf-3127-4a9c-acea-6ccddf530657 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:39:58,931 17213 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.466s
2022-08-16 14:39:58,932 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:39:58 GMT', 'server': 'Apache', 'content-length': '3905', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-5fdc517d-ca2c-4865-80bf-19b09fedae96', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "8f2a47471ff84cb19b4fb293719c589b", "name": "tempest-AttachVolumeMultiAttachTest-1418467981-project", "password_expires_at": null}, "audit_ids": ["Hf2x8IVBT1WG0oTmCXTyQQ"], "expires_at": "2022-08-17T11:39:58.000000Z", "issued_at": "2022-08-16T11:39:58.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "de460a36c7e64cfc92594abf2603dff9", "name": "tempest-AttachVolumeMultiAttachTest-1418467981"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/de460a36c7e64cfc92594abf2603dff9", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/de460a36c7e64cfc92594abf2603dff9", "regi
    on": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/de460a36c7e64cfc92594abf2603dff9", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/de460a36c7e64cfc92594abf2603dff9", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:39:58,940 17213 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-16 14:39:59,077 17213 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.135s
2022-08-16 14:39:59,077 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-0", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:39:58 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b1da2fe8-7667-4aa4-bc51-7412953c45cb', 'x-compute-request-id': 'req-b1da2fe8-7667-4aa4-bc51-7412953c45cb', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "e9229acf-3127-4a9c-acea-6ccddf530657", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/e9229acf-3127-4a9c-acea-6ccddf530657"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "n6wekohC4yLC"}}'
2022-08-16 14:39:59,500 17213 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.413s
2022-08-16 14:39:59,500 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:39:59 GMT', 'server': 'Apache', 'content-length': '3905', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-fcb5128f-8ddb-49ea-8492-cc5ac7509d5c', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "8f2a47471ff84cb19b4fb293719c589b", "name": "tempest-AttachVolumeMultiAttachTest-1418467981-project", "password_expires_at": null}, "audit_ids": ["8YNdEmuGQFCdkZgox3xKIQ"], "expires_at": "2022-08-17T11:39:59.000000Z", "issued_at": "2022-08-16T11:39:59.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "de460a36c7e64cfc92594abf2603dff9", "name": "tempest-AttachVolumeMultiAttachTest-1418467981"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region":
     "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/de460a36c7e64cfc92594abf2603dff9", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/de460a36c7e64cfc92594abf2603dff9", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/de460a36c7e64cfc92594abf2603dff9", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/de460a36c7e64cfc92594abf2603dff9", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:39:59,509 17213 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-08-16 14:39:59,641 17213 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.131s
2022-08-16 14:39:59,642 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-1", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:39:59 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/e56d4934-1a14-4328-81bf-2df5eae9d8a2', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStac
    k-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3152f21d-fae9-4489-b297-4c8cdf522d11', 'x-compute-request-id': 'req-3152f21d-fae9-4489-b297-4c8cdf522d11', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "e56d4934-1a14-4328-81bf-2df5eae9d8a2", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/e56d4934-1a14-4328-81bf-2df5eae9d8a2"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/e56d4934-1a14-4328-81bf-2df5eae9d8a2"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "5mqNhpruuCV3"}}'
2022-08-16 14:39:59,751 17213 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657 0.106s
2022-08-16 14:39:59,751 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:39:59 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1760', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b06b702e-dbc7-4bf7-bbdd-e7799856be2c', 'x-compute-request-id': 'req-b06b702e-dbc7-4bf7-bbdd-e7799856be2c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657'}
        Body: b'{"server": {"id": "e9229acf-3127-4a9c-acea-6ccddf530657", "name": "multiattach-server-0", "status": "BUILD", "tenant_id": "de460a36c7e64cfc92594abf2603dff9", "user_id": "8f2a47471ff84cb19b4fb293719c589b", "metadata": {}, "hostId": "144396128cf49a7fd0ae567481cea32f795021f159e971273f850be4", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-16T11:39:59Z", "updated": "2022-08-16T11:39:59Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/e9229acf-3127-4a9c-acea-6ccddf530657"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": "rack05-server62", "OS-EXT-SRV-ATTR:instance_name": "instance-000000e9", "OS-EXT-SRV-ATTR:hypervisor_hostname": "rack05-server62", "OS-EXT-SRV-ATTR:reservation_id": "r-96hh3j0i", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "UP", "locked": false, "description": null, "tags": []}}'
2022-08-16 14:40:00,858 17213 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657 0.088s
2022-08-16 14:40:00,858 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {
    'date': 'Tue, 16 Aug 2022 11:40:00 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1690', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b7da957f-dd4f-48a1-bd36-ca0828019a53', 'x-compute-request-id': 'req-b7da957f-dd4f-48a1-bd36-ca0828019a53', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657'}
        Body: b'{"server": {"id": "e9229acf-3127-4a9c-acea-6ccddf530657", "name": "multiattach-server-0", "status": "BUILD", "tenant_id": "de460a36c7e64cfc92594abf2603dff9", "user_id": "8f2a47471ff84cb19b4fb293719c589b", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-16T11:39:59Z", "updated": "2022-08-16T11:40:00Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/e9229acf-3127-4a9c-acea-6ccddf530657"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000e9", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-96hh3j0i", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": "/dev/vda", "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "", "locked": false, "description": null, "tags": []}}'
2022-08-16 14:40:00,871 17213 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:40:01,985 17213 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657 0.112s
2022-08-16 14:40:01,985 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:40:01 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '5040', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b2941374-2940-448d-b801-8eaee685dd5c', 'x-compute-request-id': 'req-b2941374-2940-448d-b801-8eaee685dd5c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657'}
        Body: b'{"server": {"id": "e9229acf-3127-4a9c-acea-6ccddf530657", "name": "multiattach-server-0", "status": "ERROR", "tenant_id": "de460a36c7e64cfc92594abf2603dff9", "user_id": "8f2a47471ff84cb19b4fb293719c589b", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-08-16T11:39:59Z", "updated": "2022-08-16T11:40:00Z"
    , "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/e9229acf-3127-4a9c-acea-6ccddf530657"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/e9229acf-3127-4a9c-acea-6ccddf530657"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:40:00Z", "message": "Build of instance e9229acf-3127-4a9c-acea-6ccddf530657 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/no
2022-08-16 14:40:01,998 17213 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait


tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_force_detach_volume[compute,id-d38285d9-929d-478f-96a5-00e66a115b81]
------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/admin/test_volumes_actions.py", line 83, in test_force_detach_volume
    server_id = self.create_server()['id']

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 4a5e412a-300b-4adf-95e8-de8b0f6508dc failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:40:40Z', 'message': 'Build of instance 4a5e412a-300b-4adf-95e8-de8b0f6508dc aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 4a5e412a-300b-4adf-95e8-de8b0f6508dc aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:40:38,318 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 201 POST http://controller:5000/v3/auth/tokens 0.465s
2022-08-16 14:40:38,319 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:40:37 GMT', 'server': 'Apache', 'content-length': '3885', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7cc1151d-2dc0-463f-a9ec-e075a1604de2', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "aa35def6d61b4944894d5a7e67c17ef1", "name": "tempest-VolumesActionsTest-330606405-project", "password_expires_at": null}, "audit_ids": ["gjf19ryuTOGkvedV_-V3UQ"], "expires_at": "2022-08-17T11:40:38.000000Z", "issued_at": "2022-08-16T11:40:38.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "e8853920fb30494bb909ad84b85c7d1e", "name": "tempest-VolumesActionsTest-330606405"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/e8853920fb30494bb909ad84b85c7d1e", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/e8853920fb30494bb909ad84b85c7d1e", "region": "RegionOne"}], "id": "d30e368ce4ac4d16817446
    9113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/e8853920fb30494bb909ad84b85c7d1e", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/e8853920fb30494bb909ad84b85c7d1e", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:40:38,328 17215 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_force_detach_volume) Found network None available for tenant
2022-08-16 14:40:38,822 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.492s
2022-08-16 14:40:38,822 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-805139620", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:40:38 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-534e8b1d-25c4-45e0-99df-92ee302086d9', 'x-compute-request-id': 'req-534e8b1d-25c4-45e0-99df-92ee302086d9', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "4a5e412a-300b-4adf-95e8-de8b0f6508dc", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "5S6Xzsovjaj3"}}'
2022-08-16 14:40:38,901 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc 0.074s
2022-08-16 14:40:38,901 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:40:38 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1321', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-98990681-3746-4eb1-b443-a8b058943dbf', 'x-compute-request-id': 'req-98990681-3746-4eb1-b443-a8b058943dbf', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc'}
        Body: b'{"server": {"id": "4a5e412a-300b-4adf-95e8-de8b0f6508dc", "name": "tempest-VolumesActionsTest-instance-805139620", "status": "BUILD", "tenant_id": "e8853920fb30494bb909ad84b85c7d1e", "user_id": "aa35def6d61b4944894d5a7e67c17ef1", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:40:38Z", "updated": "2022-08-16T11:40:38Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc"}, {"rel": "bookmark", "href": "http://
    [LB_IP_ADDRESS]:8774/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:40:39,999 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc 0.087s
2022-08-16 14:40:40,000 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:40:39 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1342', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b3d52453-a048-4d57-8c66-99773495765b', 'x-compute-request-id': 'req-b3d52453-a048-4d57-8c66-99773495765b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc'}
        Body: b'{"server": {"id": "4a5e412a-300b-4adf-95e8-de8b0f6508dc", "name": "tempest-VolumesActionsTest-instance-805139620", "status": "BUILD", "tenant_id": "e8853920fb30494bb909ad84b85c7d1e", "user_id": "aa35def6d61b4944894d5a7e67c17ef1", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:40:38Z", "updated": "2022-08-16T11:40:39Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000ec", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:40:40,009 17215 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 2 second wait
2022-08-16 14:40:41,103 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc 0.093s
2022-08-16 14:40:41,104 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:40:41 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4692', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1ee617a2-e5ff-474d-a5ea-004e28fd647d', 'x-compute-request-id': 'req-1ee617a2-e5ff-474d-a5ea-004e28fd647d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc'}
        Body: b'{"server": {"id": "4a5e412a-300b-4adf-95e8-de8
    b0f6508dc", "name": "tempest-VolumesActionsTest-instance-805139620", "status": "ERROR", "tenant_id": "e8853920fb30494bb909ad84b85c7d1e", "user_id": "aa35def6d61b4944894d5a7e67c17ef1", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:40:38Z", "updated": "2022-08-16T11:40:40Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:40:40Z", "message": "Build of instance 4a5e412a-300b-4adf-95e8-de8b0f6508dc aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packa
2022-08-16 14:40:41,114 17215 INFO     [tempest
    .common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 3 second wait
2022-08-16 14:40:41,526 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc 0.410s
2022-08-16 14:40:41,526 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:40:41 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-52951bd5-8f21-4338-97c9-a2b46aff8bf0', 'x-compute-request-id': 'req-52951bd5-8f21-4338-97c9-a2b46aff8bf0', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc'}
        Body: b''
2022-08-16 14:40:41,556 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc 0.029s
2022-08-16 14:40:41,557 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:40:41 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7f8e7f25-f641-4002-b182-106dc3773915', 'x-compute-request-id': 'req-7f8e7f25-f641-4002-b182-106dc3773915', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a5e412a-300b-4adf-95e8-de8b0f6508dc'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 4a5e412a-300b-4adf-95e8-de8b0f6508dc could not be found."}}'


tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_attach_detach_volume_to_instance[compute,id-fff42874-7db5-4487-a8e1-ddda5fb5288d,smoke]
-------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 45, in test_attach_detach_volume_to_instance
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server de5a7e5e-5843-4516-a930-ebbfa6a2c286 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:42:24Z', 'message': 'Build of instance de5a7e5e-5843-4516-a930-ebbfa6a2c286 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance de5a7e5e-5843-4516-a930-ebbfa6a2c286 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:42:21,549 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://controller:5000/v3/auth/tokens 0.427s
2022-08-16 14:42:21,550 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:21 GMT', 'server': 'Apache', 'content-length': '3887', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-796e214e-88e7-4e37-a06f-83c1cfeb7c85', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "3bb55c55e1094e6eaa27e0b9c196ba21", "name": "tempest-VolumesActionsTest-1186010763-project", "password_expires_at": null}, "audit_ids": ["hyd9ZMxyRVudkaM6fbzJyw"], "expires_at": "2022-08-17T11:42:21.000000Z", "issued_at": "2022-08-16T11:42:21.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "1d6fef0e56544c6895d931852c01f00e", "name": "tempest-VolumesActionsTest-1186010763"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/1d6fef0e56544c6895d931852c01f00e", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/1d6fef0e56544c6895d931852c01f00e", "region": "RegionOne"}], "id": "d30e368
    ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/1d6fef0e56544c6895d931852c01f00e", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/1d6fef0e56544c6895d931852c01f00e", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:42:21,550 17214 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 14:42:21,648 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.096s
2022-08-16 14:42:21,648 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesActionsTest-1423080679-desc", "domain_id": "default", "name": "tempest-VolumesActionsTest-1423080679"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:21 GMT', 'server': 'Apache', 'content-length': '372', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-52d61ba0-810f-4a0c-9903-6f2d3f5055f8', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "4e661e576e2c42f5ac48a0cff1aaeec8", "name": "tempest-VolumesActionsTest-1423080679", "domain_id": "default", "description": "tempest-VolumesActionsTest-1423080679-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/4e661e576e2c42f5ac48a0cff1aaeec8"}}}\n'
2022-08-16 14:42:22,119 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.469s
2022-08-16 14:42:22,119 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesActionsTest-1423080679-project-admin", "password": "C4#@z8E*PXd_IS!", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:21 GMT', 'server': 'Apache', 'content-length': '292', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-be3c9cb3-4103-4079-b6f6-a3b46f1057a4', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "a3f09f5dfe914aa59895846a750b2ee9", "name": "tempest-VolumesActionsTest-1423080679-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/a3f09f5dfe914aa59895846a750b2ee9"}}}\n'
2022-08-16 14:42:22,162 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.042s
2022-08-16 14:42:22,162 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-d0f87f43-c062-4f33-9871-7dfc91b62992', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000
    /v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:22,218 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/4e661e576e2c42f5ac48a0cff1aaeec8/users/a3f09f5dfe914aa59895846a750b2ee9/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.054s
2022-08-16 14:42:22,218 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2a4b99b2-9776-4919-9458-6f2e2cd0eef4', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/4e661e576e2c42f5ac48a0cff1aaeec8/users/a3f09f5dfe914aa59895846a750b2ee9/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:22,302 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.083s
2022-08-16 14:42:22,302 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-bd5028de-f726-48c2-892f-9c3a2f73e55a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:22,339 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/a3f09f5dfe914aa59895846a750b2ee9/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.035s
2022-08-16 14:42:22,339 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-f9c80
    fa0-d2de-47df-9327-9d3e4091979f', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/a3f09f5dfe914aa59895846a750b2ee9/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:22,416 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.076s
2022-08-16 14:42:22,417 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-f37ad798-80f8-486b-9a34-30f87184d8ef', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:22,453 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/4e661e576e2c42f5ac48a0cff1aaeec8/users/a3f09f5dfe914aa59895846a750b2ee9/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.035s
2022-08-16 14:42:22,454 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e0e8a299-66b2-4029-84bb-8c5475cec733', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/4e661e576e2c42f5ac48a0cff1aaeec8/users/a3f09f5dfe914aa59895846a750b2ee9/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:22,531 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.076s
2022-08-16 14:42:22,531 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-736a6680-6ddc-456e-82b4-f82f91af9433', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a
    2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:22,578 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/4e661e576e2c42f5ac48a0cff1aaeec8/users/a3f09f5dfe914aa59895846a750b2ee9/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.046s
2022-08-16 14:42:22,578 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8e30cb60-a8a0-4a9d-8b36-a5b20d37a99c', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/4e661e576e2c42f5ac48a0cff1aaeec8/users/a3f09f5dfe914aa59895846a750b2ee9/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:22,579 17214 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user a3f09f5dfe914aa59895846a750b2ee9 is created with scope project and roles: ['admin', 'admin']
2022-08-16 14:42:22,579 17214 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesActionsTest-1423080679-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '4e661e576e2c42f5ac48a0cff1aaeec8', 'project_name': 'tempest-VolumesActionsTest-1423080679', 'tenant_id': '4e661e576e2c42f5ac48a0cff1aaeec8', 'tenant_name': 'tempest-VolumesActionsTest-1423080679', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'a3f09f5dfe914aa59895846a750b2ee9', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 14:42:22,589 17214 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_attach_detach_volume_to_instance) Found network None available for tenant
2022-08-16 14:42:22,838 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.248s
2022-08-16 14:42:22,839 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-1180275113", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c61e0809-396d-4674-aa72-aacc65571eb6', 'x-compute-request-id': 'req-c61e0809-396d-4674-aa72-aacc65571eb6', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "de5a7e5e-5843-4516-a930-ebbfa6a2c286", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "KNhFzyYs9dRD"}}'
2022-08
    -16 14:42:22,911 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286 0.069s
2022-08-16 14:42:22,911 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:22 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a4af78ad-5fea-4c3a-a0e8-54f5191c5cd0', 'x-compute-request-id': 'req-a4af78ad-5fea-4c3a-a0e8-54f5191c5cd0', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286'}
        Body: b'{"server": {"id": "de5a7e5e-5843-4516-a930-ebbfa6a2c286", "name": "tempest-VolumesActionsTest-instance-1180275113", "status": "BUILD", "tenant_id": "1d6fef0e56544c6895d931852c01f00e", "user_id": "3bb55c55e1094e6eaa27e0b9c196ba21", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:22Z", "updated": "2022-08-16T11:42:22Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:24,026 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286 0.103s
2022-08-16 14:42:24,028 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:23 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1343', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8b5dfff7-ac30-4e2c-98b7-73543c980ea9', 'x-compute-request-id': 'req-8b5dfff7-ac30-4e2c-98b7-73543c980ea9', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286'}
        Body: b'{"server": {"id": "de5a7e5e-5843-4516-a930-ebbfa6a2c286", "name": "tempest-VolumesActionsTest-instance-1180275113", "status": "BUILD", "tenant_id": "1d6fef0e56544c6895d931852c01f00e", "user_id": "3bb55c55e1094e6eaa27e0b9c196ba21", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:22Z", "updated": "2022-08-16T11:42:23Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://192.1
    68.17.193:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000ed", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:24,038 17214 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 2 second wait
2022-08-16 14:42:25,141 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286 0.102s
2022-08-16 14:42:25,142 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:25 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4693', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-366076f2-524b-4515-8108-55d350abe01b', 'x-compute-request-id': 'req-366076f2-524b-4515-8108-55d350abe01b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286'}
        Body: b'{"server": {"id": "de5a7e5e-5843-4516-a930-ebbfa6a2c286", "name": "tempest-VolumesActionsTest-instance-1180275113", "status": "ERROR", "tenant_id": "1d6fef0e56544c6895d931852c01f00e", "user_id": "3bb55c55e1094e6eaa27e0b9c196ba21", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:22Z", "updated": "2022-08-16T11:42:24Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:42:24Z", "message": "Build of instance de5a7e5e-5843-4516-a930-ebbfa6a2c286 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/
    python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pack
2022-08-16 14:42:25,152 17214 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 3 second wait
2022-08-16 14:42:25,389 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286 0.237s
2022-08-16 14:42:25,390 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:25 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-dcb34bc3-7df0-47fe-8707-4bd7c3b0cf0b', 'x-compute-request-id': 'req-dcb34bc3-7df0-47fe-8707-4bd7c3b0cf0b', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286'}
        Body: b''
2022-08-16 14:42:25,426 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286 0.035s
2022-08-16 14:42:25,426 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:25 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c59eb6c5-ed12-43d6-a68f-180c973c2af9', 'x-compute-request-id': 'req-c59eb6c5-ed12-43d6-a68f-180c973c2af9', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/de5a7e5e-5843-4516-a930-ebbfa6a2c286'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance de5a7e5e-5843-4516-a930-ebbfa6a2c286 could not be found."
    }}'


tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_get_volume_attachment[compute,id-9516a2c8-9135-488c-8dd6-5677a7e5f371]
--------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 81, in test_get_volume_attachment
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server b09c808f-ed88-4000-b35a-e7a2c81eab08 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:42:27Z', 'message': 'Build of instance b09c808f-ed88-4000-b35a-e7a2c81eab08 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance b09c808f-ed88-4000-b35a-e7a2c81eab08 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:42:25,916 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 201 POST http://controller:5000/v3/auth/tokens 0.477s
2022-08-16 14:42:25,916 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:25 GMT', 'server': 'Apache', 'content-length': '3887', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0e94032a-61a4-463a-bbc6-8f0c7acf7c64', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "3bb55c55e1094e6eaa27e0b9c196ba21", "name": "tempest-VolumesActionsTest-1186010763-project", "password_expires_at": null}, "audit_ids": ["fAsm2YFUSmCrSYNwIeU52w"], "expires_at": "2022-08-17T11:42:25.000000Z", "issued_at": "2022-08-16T11:42:25.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "1d6fef0e56544c6895d931852c01f00e", "name": "tempest-VolumesActionsTest-1186010763"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/1d6fef0e56544c6895d931852c01f00e", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/1d6fef0e56544c6895d931852c01f00e", "region": "RegionOne"}], "id": "d30e368ce4ac4d1681
    74469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/1d6fef0e56544c6895d931852c01f00e", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/1d6fef0e56544c6895d931852c01f00e", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:42:25,924 17214 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_get_volume_attachment) Found network None available for tenant
2022-08-16 14:42:26,171 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.245s
2022-08-16 14:42:26,171 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-1545048246", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:25 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-2be47e4f-724c-4aab-858f-d39f79bccf0a', 'x-compute-request-id': 'req-2be47e4f-724c-4aab-858f-d39f79bccf0a', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "b09c808f-ed88-4000-b35a-e7a2c81eab08", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "5zDVtSdsU5Jg"}}'
2022-08-16 14:42:26,250 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08 0.075s
2022-08-16 14:42:26,250 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:26 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8791f85a-0b6d-471b-9f3c-d5378e2a2886', 'x-compute-request-id': 'req-8791f85a-0b6d-471b-9f3c-d5378e2a2886', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08'}
        Body: b'{"server": {"id": "b09c808f-ed88-4000-b35a-e7a2c81eab08", "name": "tempest-VolumesActionsTest-instance-1545048246", "status": "BUILD", "tenant_id": "1d6fef0e56544c6895d931852c01f00e", "user_id": "3bb55c55e1094e6eaa27e0b9c196ba21", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:26Z", "updated": "2022-08-16T11:42:26Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08"}, {"rel": "bookmark", "hre
    f": "http://[LB_IP_ADDRESS]:8774/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:27,345 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08 0.083s
2022-08-16 14:42:27,345 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:27 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1343', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8d467793-642a-42ac-b6ca-85e4a5051d56', 'x-compute-request-id': 'req-8d467793-642a-42ac-b6ca-85e4a5051d56', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08'}
        Body: b'{"server": {"id": "b09c808f-ed88-4000-b35a-e7a2c81eab08", "name": "tempest-VolumesActionsTest-instance-1545048246", "status": "BUILD", "tenant_id": "1d6fef0e56544c6895d931852c01f00e", "user_id": "3bb55c55e1094e6eaa27e0b9c196ba21", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:26Z", "updated": "2022-08-16T11:42:26Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000ee", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:27,355 17214 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:42:28,455 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08 0.098s
2022-08-16 14:42:28,456 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4693', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-71243e28-9cb1-4aa6-af96-e1fe7b43d9bc', 'x-compute-request-id': 'req-71243e28-9cb1-4aa6-af96-e1fe7b43d9bc', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08'}
        Body: b'{"server": {"id": "b09c808f-e
    d88-4000-b35a-e7a2c81eab08", "name": "tempest-VolumesActionsTest-instance-1545048246", "status": "ERROR", "tenant_id": "1d6fef0e56544c6895d931852c01f00e", "user_id": "3bb55c55e1094e6eaa27e0b9c196ba21", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:26Z", "updated": "2022-08-16T11:42:27Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:42:27Z", "message": "Build of instance b09c808f-ed88-4000-b35a-e7a2c81eab08 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pack
2022-08-16 14:42:28,466 17214 
    INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:42:28,731 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08 0.264s
2022-08-16 14:42:28,731 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-dcb40165-64dd-4d9d-90aa-a22a4eba65f3', 'x-compute-request-id': 'req-dcb40165-64dd-4d9d-90aa-a22a4eba65f3', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08'}
        Body: b''
2022-08-16 14:42:28,765 17214 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08 0.032s
2022-08-16 14:42:28,765 17214 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:28 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-71669dd4-a655-4caf-ad21-e5e48fae9c86', 'x-compute-request-id': 'req-71669dd4-a655-4caf-ad21-e5e48fae9c86', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/b09c808f-ed88-4000-b35a-e7a2c81eab08'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance b09c808f-ed88-4000-b35a-e7a2c81eab08 could not be found."}}'


tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_attach_volumes_with_nonexistent_volume_id[compute,id-f5e56b0a-5d02-43c1-a2a7-c9b792c2e3f6,negative]
---------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_negative.py", line 179, in test_attach_volumes_with_nonexistent_volume_id
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server f951abba-f851-4ff9-8388-222f01a5c457 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:42:32Z', 'message': 'Build of instance f951abba-f851-4ff9-8388-222f01a5c457 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance f951abba-f851-4ff9-8388-222f01a5c457 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:42:29,754 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://controller:5000/v3/auth/tokens 0.469s
2022-08-16 14:42:29,755 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:29 GMT', 'server': 'Apache', 'content-length': '3889', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b589f88a-9f8d-4804-9d0e-daed775ca9f5', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "5ea98e9ca63f4af5a4586fe242cdad3c", "name": "tempest-VolumesNegativeTest-1764294177-project", "password_expires_at": null}, "audit_ids": ["Zg6ypm8GQO2stfNZb6O0jQ"], "expires_at": "2022-08-17T11:42:29.000000Z", "issued_at": "2022-08-16T11:42:29.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "89aeabc9b39b414484daaae153147573", "name": "tempest-VolumesNegativeTest-1764294177"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/89aeabc9b39b414484daaae153147573", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/89aeabc9b39b414484daaae153147573", "region": "RegionOne"}], "i
    d": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/89aeabc9b39b414484daaae153147573", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/89aeabc9b39b414484daaae153147573", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:42:29,755 17215 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 14:42:29,850 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.094s
2022-08-16 14:42:29,851 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesNegativeTest-1270678204-desc", "domain_id": "default", "name": "tempest-VolumesNegativeTest-1270678204"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:29 GMT', 'server': 'Apache', 'content-length': '374', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0d616e8c-dfd4-4e18-9018-afc01cfd6020', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "6b2c88d4160f4dbabc42b4d0a14cf90f", "name": "tempest-VolumesNegativeTest-1270678204", "domain_id": "default", "description": "tempest-VolumesNegativeTest-1270678204-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/6b2c88d4160f4dbabc42b4d0a14cf90f"}}}\n'
2022-08-16 14:42:30,344 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.492s
2022-08-16 14:42:30,344 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesNegativeTest-1270678204-project-admin", "password": "J7=uB8%a&med9Jc", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:29 GMT', 'server': 'Apache', 'content-length': '293', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-d739d1c7-2c88-427c-885a-64e26f01d2e2', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "6961433559e04f9b916c6363ef89420d", "name": "tempest-VolumesNegativeTest-1270678204-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/6961433559e04f9b916c6363ef89420d"}}}\n'
2022-08-16 14:42:30,376 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.031s
2022-08-16 14:42:30,376 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:30 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ee4aa7c8-6171-4a85-840a-bd90bd7c117c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true
    }, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:30,426 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/6b2c88d4160f4dbabc42b4d0a14cf90f/users/6961433559e04f9b916c6363ef89420d/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.048s
2022-08-16 14:42:30,426 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:30 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-1fc56352-4297-4cab-8a85-8187dd49ac73', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/6b2c88d4160f4dbabc42b4d0a14cf90f/users/6961433559e04f9b916c6363ef89420d/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:30,501 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.074s
2022-08-16 14:42:30,501 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:30 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2350a4ed-1242-466d-bc7f-df4be2d9b16b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:30,537 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/6961433559e04f9b916c6363ef89420d/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.034s
2022-08-16 14:42:30,537 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:30 GMT', 's
    erver': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-14b527e5-9919-477d-bee5-80073a32b878', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/6961433559e04f9b916c6363ef89420d/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:30,608 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.070s
2022-08-16 14:42:30,608 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:30 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-54ad4f0f-7f07-44e2-bc4c-47942c460414', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:30,644 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/6b2c88d4160f4dbabc42b4d0a14cf90f/users/6961433559e04f9b916c6363ef89420d/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.034s
2022-08-16 14:42:30,644 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:30 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e8661add-bfb5-413e-b873-1931d56cbad4', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/6b2c88d4160f4dbabc42b4d0a14cf90f/users/6961433559e04f9b916c6363ef89420d/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:30,731 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.086s
2022-08-16 14:42:30,731 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:30 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2e353dc0-1a9e-49f4-95db-bd7dbeb97ef4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": nu
    ll, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:30,776 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/6b2c88d4160f4dbabc42b4d0a14cf90f/users/6961433559e04f9b916c6363ef89420d/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.044s
2022-08-16 14:42:30,777 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:30 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-740bbc1f-8939-41a9-9efa-bc94553409db', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/6b2c88d4160f4dbabc42b4d0a14cf90f/users/6961433559e04f9b916c6363ef89420d/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:30,777 17215 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 6961433559e04f9b916c6363ef89420d is created with scope project and roles: ['admin', 'admin']
2022-08-16 14:42:30,778 17215 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesNegativeTest-1270678204-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '6b2c88d4160f4dbabc42b4d0a14cf90f', 'project_name': 'tempest-VolumesNegativeTest-1270678204', 'tenant_id': '6b2c88d4160f4dbabc42b4d0a14cf90f', 'tenant_name': 'tempest-VolumesNegativeTest-1270678204', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '6961433559e04f9b916c6363ef89420d', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 14:42:30,786 17215 INFO     [tempest.lib.common.fixed_network] (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id) Found network None available for tenant
2022-08-16 14:42:31,036 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.249s
2022-08-16 14:42:31,037 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesNegativeTest-instance-208584180", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:30 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-dd68bc4a-924a-4bde-9f3a-2766663e17f2', 'x-compute-request-id': 'req-dd68bc4a-924a-4bde-9f3a-2766663e17f2', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "f951abba-f851-4ff9-8388-222f01a5c457", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/f951abba-f8
    51-4ff9-8388-222f01a5c457"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "PQ7St35vZtXx"}}'
2022-08-16 14:42:31,120 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457 0.079s
2022-08-16 14:42:31,120 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:31 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5bcdd6a2-58e1-4698-a4ab-1aa003b17c57', 'x-compute-request-id': 'req-5bcdd6a2-58e1-4698-a4ab-1aa003b17c57', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457'}
        Body: b'{"server": {"id": "f951abba-f851-4ff9-8388-222f01a5c457", "name": "tempest-VolumesNegativeTest-instance-208584180", "status": "BUILD", "tenant_id": "89aeabc9b39b414484daaae153147573", "user_id": "5ea98e9ca63f4af5a4586fe242cdad3c", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:31Z", "updated": "2022-08-16T11:42:31Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/f951abba-f851-4ff9-8388-222f01a5c457"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:32,215 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457 0.082s
2022-08-16 14:42:32,215 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:32 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1343', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-db250004-e66d-4622-ba14-afb77306d76a', 'x-compute-request-id': 'req-db250004-e66d-4622-ba14-afb77306d76a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457'}
        Body: b'{"server": {"id": "f951abba-f851-4ff9-8388-222f01a5c457", "name": "tempest-VolumesNegativeTest-instance-208584180", "status": "BUILD", "tenant_id": "89aeabc9b39b414484daaae153147573", "user_id": "5ea98e9ca63f4af5a4586fe242cdad3c", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created"
    : "2022-08-16T11:42:31Z", "updated": "2022-08-16T11:42:31Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/f951abba-f851-4ff9-8388-222f01a5c457"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000ef", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:32,226 17215 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:42:33,336 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457 0.108s
2022-08-16 14:42:33,337 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:33 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4693', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ccca2f81-fbf0-41ed-924c-29edeb9784a8', 'x-compute-request-id': 'req-ccca2f81-fbf0-41ed-924c-29edeb9784a8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457'}
        Body: b'{"server": {"id": "f951abba-f851-4ff9-8388-222f01a5c457", "name": "tempest-VolumesNegativeTest-instance-208584180", "status": "ERROR", "tenant_id": "89aeabc9b39b414484daaae153147573", "user_id": "5ea98e9ca63f4af5a4586fe242cdad3c", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:31Z", "updated": "2022-08-16T11:42:32Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/f951abba-f851-4ff9-8388-222f01a5c457"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:42:32Z", "message": "Build of instance f951abba-f851-4ff9-8388-222f01a5c457 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv
    /lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-pack
2022-08-16 14:42:33,347 17215 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:42:33,778 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457 0.430s
2022-08-16 14:42:33,778 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:33 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-df83abc0-6d09-438c-9472-b40ecb229ea5', 'x-compute-request-id': 'req-df83abc0-6d09-438c-9472-b40ecb229ea5', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457'}
        Body: b''
2022-08-16 14:42:33,812 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457 0.033s
2022-08-16 14:42:33,812 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:33 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-65f24789-587b-4dda-bb87-6cdc11b54814', 'x-compute-request-id': 'req-65f24789-587b-4dda-bb87-6cdc11b54814', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://192.16
    8.17.193:8774/v2.1/servers/f951abba-f851-4ff9-8388-222f01a5c457'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance f951abba-f851-4ff9-8388-222f01a5c457 could not be found."}}'


tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_delete_with_volume_in_use[compute,id-8567b54c-4455-446d-a1cf-651ddeaa3ff2]
-----------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 48, in test_snapshot_create_delete_with_volume_in_use
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 57365e97-b8c6-4b55-a047-7f8f80851fff failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:42:44Z', 'message': 'Build of instance 57365e97-b8c6-4b55-a047-7f8f80851fff aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 57365e97-b8c6-4b55-a047-7f8f80851fff aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:42:41,662 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://controller:5000/v3/auth/tokens 0.421s
2022-08-16 14:42:41,663 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:41 GMT', 'server': 'Apache', 'content-length': '3897', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7d052af9-a810-483a-9c02-e86ae024ead2', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "e8b85bd169e5440283ada648890735ab", "name": "tempest-VolumesSnapshotTestJSON-1491521008-project", "password_expires_at": null}, "audit_ids": ["ZMCZr8CrRHqIlaDsAAiblQ"], "expires_at": "2022-08-17T11:42:41.000000Z", "issued_at": "2022-08-16T11:42:41.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "adb9c1ec91fc444bbc9132727cda4c6a", "name": "tempest-VolumesSnapshotTestJSON-1491521008"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/adb9c1ec91fc444bbc9132727cda4c6a", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/adb9c1ec91fc444bbc9132727cda4c6a", "region": "Regi
    onOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:42:41,664 17215 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-08-16 14:42:41,757 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.093s
2022-08-16 14:42:41,758 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesSnapshotTestJSON-248001804-desc", "domain_id": "default", "name": "tempest-VolumesSnapshotTestJSON-248001804"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:41 GMT', 'server': 'Apache', 'content-length': '380', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-bcb99277-07a8-4c5a-b6d0-e41ea71ecc35', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "aff5c3f7e83c4eacb0b1f6cb83c658ba", "name": "tempest-VolumesSnapshotTestJSON-248001804", "domain_id": "default", "description": "tempest-VolumesSnapshotTestJSON-248001804-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/aff5c3f7e83c4eacb0b1f6cb83c658ba"}}}\n'
2022-08-16 14:42:42,246 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.483s
2022-08-16 14:42:42,246 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesSnapshotTestJSON-248001804-project-admin", "password": "P5#@gpUyGTyLU0B", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:41 GMT', 'server': 'Apache', 'content-length': '296', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-75ef106d-3b53-4e15-ae4d-2d8452fe30dd', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "dc32e0df83e34c408509d191553eb75a", "name": "tempest-VolumesSnapshotTestJSON-248001804-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/dc32e0df83e34c408509d191553eb75a"}}}\n'
2022-08-16 14:42:42,296 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.049s
2022-08-16 14:42:42,297 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:42 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-f0a68d28-e6a9-4865-9323-3951f08067fb', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "descrip
    tion": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:42,352 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/aff5c3f7e83c4eacb0b1f6cb83c658ba/users/dc32e0df83e34c408509d191553eb75a/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.054s
2022-08-16 14:42:42,352 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:42 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-789a788c-9e08-4b40-9406-302fa1ef2e66', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/aff5c3f7e83c4eacb0b1f6cb83c658ba/users/dc32e0df83e34c408509d191553eb75a/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:42,439 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.086s
2022-08-16 14:42:42,439 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:42 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-107d8710-cb08-466c-981b-f3c69120b476', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:42,490 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/dc32e0df83e34c408509d191553eb75a/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.050s
2022-08-16 14:42:42,491 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response -
     Headers: {'date': 'Tue, 16 Aug 2022 11:42:42 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-835573e2-0c50-4717-942e-f0443b631f4f', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/dc32e0df83e34c408509d191553eb75a/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:42,581 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.089s
2022-08-16 14:42:42,581 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:42 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e5a98136-c41d-44fe-99d6-1bcbae117b26', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:42,621 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/aff5c3f7e83c4eacb0b1f6cb83c658ba/users/dc32e0df83e34c408509d191553eb75a/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.039s
2022-08-16 14:42:42,622 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:42 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-00daeb5c-347c-4e70-a21e-895fb18e43ef', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/aff5c3f7e83c4eacb0b1f6cb83c658ba/users/dc32e0df83e34c408509d191553eb75a/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:42,721 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.098s
2022-08-16 14:42:42,721 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:42 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-06f9a14c-fc73-4c54-9886-5384a56406b4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/10c016d47a7040b0bceb2904c0a3bb1f"}}, {"id": "502acf85aacf40f1a2e20ed
    4f97d2071", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/502acf85aacf40f1a2e20ed4f97d2071"}}, {"id": "5b7492d16336402f8b6e4f881ff02c97", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/5b7492d16336402f8b6e4f881ff02c97"}}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/911ec4e2d97541c7adc726fe0bf51e25"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2022-08-16 14:42:42,765 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/aff5c3f7e83c4eacb0b1f6cb83c658ba/users/dc32e0df83e34c408509d191553eb75a/roles/10c016d47a7040b0bceb2904c0a3bb1f 0.042s
2022-08-16 14:42:42,765 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:42 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b905097a-67a5-441d-bc00-4d3ee859ada8', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/aff5c3f7e83c4eacb0b1f6cb83c658ba/users/dc32e0df83e34c408509d191553eb75a/roles/10c016d47a7040b0bceb2904c0a3bb1f'}
        Body: b''
2022-08-16 14:42:42,765 17215 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user dc32e0df83e34c408509d191553eb75a is created with scope project and roles: ['admin', 'admin']
2022-08-16 14:42:42,766 17215 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesSnapshotTestJSON-248001804-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': 'aff5c3f7e83c4eacb0b1f6cb83c658ba', 'project_name': 'tempest-VolumesSnapshotTestJSON-248001804', 'tenant_id': 'aff5c3f7e83c4eacb0b1f6cb83c658ba', 'tenant_name': 'tempest-VolumesSnapshotTestJSON-248001804', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'dc32e0df83e34c408509d191553eb75a', 'system': None}, Network: None, Subnet: None, Router: None
2022-08-16 14:42:42,775 17215 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use) Found network None available for tenant
2022-08-16 14:42:43,024 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.248s
2022-08-16 14:42:43,025 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-1929180558", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:42 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-728a5a0f-2246-4696-a58c-0b774550aa6b', 'x-compute-request-id': 'req-728a5a0f-2246-4696-a58c-0b774550aa6b', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "57365e97-b8c6-4b55-a047-7f8f80851fff", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047
    -7f8f80851fff"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/57365e97-b8c6-4b55-a047-7f8f80851fff"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "m8Wg7aFGNRjT"}}'
2022-08-16 14:42:43,123 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff 0.094s
2022-08-16 14:42:43,123 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:43 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1327', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-80f671e9-b097-4aac-8d4b-7100b4e3102e', 'x-compute-request-id': 'req-80f671e9-b097-4aac-8d4b-7100b4e3102e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff'}
        Body: b'{"server": {"id": "57365e97-b8c6-4b55-a047-7f8f80851fff", "name": "tempest-VolumesSnapshotTestJSON-instance-1929180558", "status": "BUILD", "tenant_id": "adb9c1ec91fc444bbc9132727cda4c6a", "user_id": "e8b85bd169e5440283ada648890735ab", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:43Z", "updated": "2022-08-16T11:42:43Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/57365e97-b8c6-4b55-a047-7f8f80851fff"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:44,236 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff 0.101s
2022-08-16 14:42:44,236 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:44 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1348', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5302f054-f976-4fcb-ba5b-b824ddfd865a', 'x-compute-request-id': 'req-5302f054-f976-4fcb-ba5b-b824ddfd865a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff'}
        Body: b'{"server": {"id": "57365e97-b8c6-4b55-a047-7f8f80851fff", "name": "tempest-VolumesSnapshotTestJSON-instance-1929180558", "status": "BUILD", "tenant_id": "adb9c1ec91fc444bbc9132727cda4c6a", "user_id": "e8b85bd169e5440283ada648890735ab", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "f
    lavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:43Z", "updated": "2022-08-16T11:42:43Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/57365e97-b8c6-4b55-a047-7f8f80851fff"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000f0", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:44,245 17215 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:42:45,350 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff 0.103s
2022-08-16 14:42:45,350 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4698', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0ec34328-b9a7-4495-acb3-c7dc3fa846b0', 'x-compute-request-id': 'req-0ec34328-b9a7-4495-acb3-c7dc3fa846b0', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff'}
        Body: b'{"server": {"id": "57365e97-b8c6-4b55-a047-7f8f80851fff", "name": "tempest-VolumesSnapshotTestJSON-instance-1929180558", "status": "ERROR", "tenant_id": "adb9c1ec91fc444bbc9132727cda4c6a", "user_id": "e8b85bd169e5440283ada648890735ab", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:43Z", "updated": "2022-08-16T11:42:44Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/57365e97-b8c6-4b55-a047-7f8f80851fff"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:42:44Z", "message": "Build of instance 57365e97-b8c6-4b55-a047-7f8f80851fff aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", lin
    e 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site
2022-08-16 14:42:45,360 17215 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 2 second wait
2022-08-16 14:42:45,934 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff 0.572s
2022-08-16 14:42:45,934 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a7af2f50-cf12-45b8-81cd-f718bd106806', 'x-compute-request-id': 'req-a7af2f50-cf12-45b8-81cd-f718bd106806', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff'}
        Body: b''
2022-08-16 14:42:45,968 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff 0.033s
2022-08-16 14:42:45,968 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-46778aee-c337-4ea7-8e30-f46bd604eb33', 'x-compute-request-id': 'req-46778aee-c337-4ea7-8e30-f46bd604eb33', 'co
    nnection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/57365e97-b8c6-4b55-a047-7f8f80851fff'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 57365e97-b8c6-4b55-a047-7f8f80851fff could not be found."}}'


tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_offline_delete_online[compute,id-5210a1de-85a0-11e6-bb21-641c676a5d61]
-------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 83, in test_snapshot_create_offline_delete_online
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 3822d5d8-a58e-4906-9d44-5f94cba70fb5 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:42:54Z', 'message': 'Build of instance 3822d5d8-a58e-4906-9d44-5f94cba70fb5 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 3822d5d8-a58e-4906-9d44-5f94cba70fb5 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:42:49,813 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a/snapshots 0.135s
2022-08-16 14:42:49,814 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "802a03ad-c7d0-42a7-bf1e-1118ef7bb905", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-455952478"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:49 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '309', 'x-compute-request-id': 'req-32609d06-81f4-4c71-b898-c1534eb566f9', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-32609d06-81f4-4c71-b898-c1534eb566f9', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a/snapshots'}
        Body: b'{"snapshot": {"id": "3150ea1c-9140-40ed-b321-f25f763aae2d", "created_at": "2022-08-16T11:42:49.764940", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-455952478", "description": null, "volume_id": "802a03ad-c7d0-42a7-bf1e-1118ef7bb905", "status": "creating", "size": 1, "metadata": {}}}'
2022-08-16 14:42:49,855 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a/snapshots/3150ea1c-9140-40ed-b321-f25f763aae2d 0.037s
2022-08-16 14:42:49,855 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:49 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '441', 'x-compute-request-id': 'req-636c57f0-ae6f-4a7e-b89a-84f2e307a74e', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-636c57f0-ae6f-4a7e-b89a-84f2e307a74e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a/snapshots/3150ea1c-9140-40ed-b321-f25f763aae2d'}
        Body: b'{"snapshot": {"id": "3150ea1c-9140-40ed-b321-f25f763aae2d", "created_at": "2022-08-16T11:42:49.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-455952478", "description": null, "volume_id": "802a03ad-c7d0-42a7-bf1e-1118ef7bb905", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "adb9c1ec91fc444bbc9132727cda4c6a", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-16 14:42:50,887 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a/snapshots/3150ea1c-9140-40ed-b321-f25f763aae2d 0.027s
2022-08-16 14:42:50,887 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:50 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '441', 'x-compute-request-id': 'req-05e1b109-988e-44aa-8976-3017cce1e2e5', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-05e1b109-988e-44aa-8976-3017cce1e2e5', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a/snapshots/3150ea1c-9140-40ed-b321-f25f763aae2d'}
        Body: b'{"snapshot": {"id": "3150ea1c-9140-40ed-b321-f25f763aae2d", "created_at": "2022-08-16T11:42:49.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJ
    SON-Snapshot-455952478", "description": null, "volume_id": "802a03ad-c7d0-42a7-bf1e-1118ef7bb905", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "adb9c1ec91fc444bbc9132727cda4c6a", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-08-16 14:42:51,917 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a/snapshots/3150ea1c-9140-40ed-b321-f25f763aae2d 0.024s
2022-08-16 14:42:51,917 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:51 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '468', 'x-compute-request-id': 'req-c6631ca6-582c-4ede-8193-f0c8b1c82438', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-c6631ca6-582c-4ede-8193-f0c8b1c82438', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a/snapshots/3150ea1c-9140-40ed-b321-f25f763aae2d'}
        Body: b'{"snapshot": {"id": "3150ea1c-9140-40ed-b321-f25f763aae2d", "created_at": "2022-08-16T11:42:49.000000", "updated_at": "2022-08-16T11:42:51.000000", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-455952478", "description": null, "volume_id": "802a03ad-c7d0-42a7-bf1e-1118ef7bb905", "status": "available", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "adb9c1ec91fc444bbc9132727cda4c6a", "os-extended-snapshot-attributes:progress": "100%"}}'
2022-08-16 14:42:51,921 17215 INFO     [tempest.common.waiters] snapshot 3150ea1c-9140-40ed-b321-f25f763aae2d reached available after waiting for 2.921115 seconds
2022-08-16 14:42:52,385 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 201 POST http://controller:5000/v3/auth/tokens 0.456s
2022-08-16 14:42:52,385 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:51 GMT', 'server': 'Apache', 'content-length': '3897', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-053e5ef1-5995-47e6-b5f7-fc3d463bc730', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "e8b85bd169e5440283ada648890735ab", "name": "tempest-VolumesSnapshotTestJSON-1491521008-project", "password_expires_at": null}, "audit_ids": ["tvFcwefMRvuF6Xdj73ILGg"], "expires_at": "2022-08-17T11:42:52.000000Z", "issued_at": "2022-08-16T11:42:52.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "adb9c1ec91fc444bbc9132727cda4c6a", "name": "tempest-VolumesSnapshotTestJSON-1491521008"}, "is_domain": false, "roles": [{"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}, {"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "int
    erface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/adb9c1ec91fc444bbc9132727cda4c6a", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/adb9c1ec91fc444bbc9132727cda4c6a", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/adb9c1ec91fc444bbc9132727cda4c6a", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:42:52,455 17215 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online) Found network None available for tenant
2022-08-16 14:42:52,708 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.252s
2022-08-16 14:42:52,709 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-1837245403", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-be49491a-0960-41a6-b1f5-82bd68bbd00f', 'x-compute-request-id': 'req-be49491a-0960-41a6-b1f5-82bd68bbd00f', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "3822d5d8-a58e-4906-9d44-5f94cba70fb5", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5
    "}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "8PZjvC4sAwJd"}}'
2022-08-16 14:42:52,775 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5 0.063s
2022-08-16 14:42:52,776 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:52 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1327', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3f434ae5-3095-4f58-941a-d344a90dc3b0', 'x-compute-request-id': 'req-3f434ae5-3095-4f58-941a-d344a90dc3b0', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5'}
        Body: b'{"server": {"id": "3822d5d8-a58e-4906-9d44-5f94cba70fb5", "name": "tempest-VolumesSnapshotTestJSON-instance-1837245403", "status": "BUILD", "tenant_id": "adb9c1ec91fc444bbc9132727cda4c6a", "user_id": "e8b85bd169e5440283ada648890735ab", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:52Z", "updated": "2022-08-16T11:42:52Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:53,884 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5 0.096s
2022-08-16 14:42:53,884 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:53 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1430', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-cc1bd8ab-f922-4fbb-bc46-01c2efd0e6dc', 'x-compute-request-id': 'req-cc1bd8ab-f922-4fbb-bc46-01c2efd0e6dc', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5'}
        Body: b'{"server": {"id": "3822d5d8-a58e-4906-9d44-5f94cba70fb5", "name": "tempest-VolumesSnapshotTestJSON-instance-1837245403", "status": "BUILD", "tenant_id": "adb9c1ec91fc444bbc9132727cda4c6a", "user_id": "e8b85bd169e5440283ada648890735ab", "metadata": {}, "hostId": "9d54b0df6a5f8de5e3a95171d43a066e6c7f0b54cc4366bcd2c479a9", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-
    b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:52Z", "updated": "2022-08-16T11:42:53Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": "rack05-server62", "OS-EXT-SRV-ATTR:instance_name": "instance-000000f1", "OS-EXT-SRV-ATTR:hypervisor_hostname": "rack05-server62", "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:42:53,895 17215 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:42:55,000 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5 0.103s
2022-08-16 14:42:55,000 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:54 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4698', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3e082533-ae4c-40d8-b842-cad4418967fd', 'x-compute-request-id': 'req-3e082533-ae4c-40d8-b842-cad4418967fd', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5'}
        Body: b'{"server": {"id": "3822d5d8-a58e-4906-9d44-5f94cba70fb5", "name": "tempest-VolumesSnapshotTestJSON-instance-1837245403", "status": "ERROR", "tenant_id": "adb9c1ec91fc444bbc9132727cda4c6a", "user_id": "e8b85bd169e5440283ada648890735ab", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:42:52Z", "updated": "2022-08-16T11:42:54Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:42:54Z", "message": "Build of instance 3822d5d8-a58e-4906-9d44-5f94cba70fb5 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv
    /lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site
2022-08-16 14:42:55,010 17215 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 3 second wait
2022-08-16 14:42:55,266 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5 0.255s
2022-08-16 14:42:55,267 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-cf081834-2fb9-4ae5-af7f-86480adef54c', 'x-compute-request-id': 'req-cf081834-2fb9-4ae5-af7f-86480adef54c', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5'}
        Body: b''
2022-08-16 14:42:55,303 17215 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5 0.035s
2022-08-16 14:42:55,303 17215 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:42:55 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-9001964b-a118-40c4-8c31-abd6d7965574', 'x-compute-request-id'
    : 'req-9001964b-a118-40c4-8c31-abd6d7965574', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/3822d5d8-a58e-4906-9d44-5f94cba70fb5'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 3822d5d8-a58e-4906-9d44-5f94cba70fb5 could not be found."}}'


tempest.api.volume.test_volumes_extend.VolumesExtendAttachedTest.test_extend_attached_volume[compute,id-301f5a30-1c6f-4ea0-be1a-91fd28d44354]
---------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 187, in test_extend_attached_volume
    self._test_extend_attached_volume(volume)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 117, in _test_extend_attached_volume
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 0f6e9198-d002-44ae-9d28-6967b6477a56 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-08-16T11:43:05Z', 'message': 'Build of instance 0f6e9198-d002-44ae-9d28-6967b6477a56 aborted: Failure prepping block device.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2706, in _build_resources\n    self._default_block_device_names(instance, image_meta,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2043, in _default_block_device_names\n    self._default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 1962, in _default_device_names_for_instance\n    self.driver.default_device_names_for_instance(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py", line 12062, in default_device_names_for_instance\n    block_device_info = driver.get_block_device_info(instance,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py", line 60, in get_block_device_info\n    \'image\': virt_block_device.convert_local_images(\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 860, in _convert_block_devices\n    devices.append(device_type(bdm))\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 122, in __init__\n    self._transform()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py", line 270, in _transform\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py", line 67, in getter\n    self.obj_load_attr(name)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py", line 340, in obj_load_attr\n    raise exception.ObjectActionError(\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2320, in _do_build_and_run_instance\n    self._build_and_run_instance(context, instance, image,\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2525, in _build_and_run_instance\n    with excutils.save_and_reraise_exception():\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 227, in __exit__\n    self.force_reraise()\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py", line 200, in force_reraise\n    raise self.value\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2480, in _build_and_run_instance\n    with self._build_resources(context, instance,\n  File "/usr/lib/python3.10/contextlib.py", line 135, in __enter__\n    return next(self.gen)\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py", line 2733, in _build_resources\n    raise exception.BuildAbortException(instance_uuid=instance.uuid,\nnova.exception.BuildAbortException: Build of instance 0f6e9198-d002-44ae-9d28-6967b6477a56 aborted: Failure prepping block device.\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-08-16 14:43:02,927 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b/volumes 0.467s
2022-08-16 14:43:02,927 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesExtendAttachedTest-Volume-1023721404"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '892', 'x-compute-request-id': 'req-78857889-6838-476a-a73f-6c9af2512377', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-78857889-6838-476a-a73f-6c9af2512377', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b/volumes'}
        Body: b'{"volume": {"id": "41290588-3634-4ae7-a9a2-5187331fe027", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T11:43:02.859511", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-1023721404", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027"}], "user_id": "1a5437e1f023400a85ba6955ceca25c0", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null}}'
2022-08-16 14:43:02,977 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027 0.040s
2022-08-16 14:43:02,978 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:02 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1071', 'x-compute-request-id': 'req-563024ae-7a1a-4cec-af25-bb56626c7e25', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-563024ae-7a1a-4cec-af25-bb56626c7e25', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027'}
        Body: b'{"volume": {"id": "41290588-3634-4ae7-a9a2-5187331fe027", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T11:43:02.000000", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-1023721404", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027"}], "user_id": "1a5437e1f023400a85ba6955ceca25c0", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-tenant-attr:tenant_id": "71e98352b03b4f97ac507cb5b6c27b8b", "os-vol-host-attr:host": null, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:nam
    e_id": null}}'
2022-08-16 14:43:04,034 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027 0.046s
2022-08-16 14:43:04,034 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:03 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1130', 'x-compute-request-id': 'req-9426e309-590d-4e14-be3d-831bc629314e', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-9426e309-590d-4e14-be3d-831bc629314e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027'}
        Body: b'{"volume": {"id": "41290588-3634-4ae7-a9a2-5187331fe027", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-08-16T11:43:02.000000", "updated_at": "2022-08-16T11:43:03.000000", "name": "tempest-VolumesExtendAttachedTest-Volume-1023721404", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/71e98352b03b4f97ac507cb5b6c27b8b/volumes/41290588-3634-4ae7-a9a2-5187331fe027"}], "user_id": "1a5437e1f023400a85ba6955ceca25c0", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-tenant-attr:tenant_id": "71e98352b03b4f97ac507cb5b6c27b8b", "os-vol-host-attr:host": "rack08-server59@LIGHTOSyridex#yridex", "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null}}'
2022-08-16 14:43:04,043 17213 INFO     [tempest.common.waiters] volume 41290588-3634-4ae7-a9a2-5187331fe027 reached available after waiting for 2.043849 seconds
2022-08-16 14:43:04,464 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 201 POST http://controller:5000/v3/auth/tokens 0.414s
2022-08-16 14:43:04,465 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:04 GMT', 'server': 'Apache', 'content-length': '3897', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-18987505-aed0-46d9-9e2e-f307b3bbc495', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "1a5437e1f023400a85ba6955ceca25c0", "name": "tempest-VolumesExtendAttachedTest-49982271-project", "password_expires_at": null}, "audit_ids": ["o0ACz5WlT2m6tVA36s1gfQ"], "expires_at": "2022-08-17T11:43:04.000000Z", "issued_at": "2022-08-16T11:43:04.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "71e98352b03b4f97ac507cb5b6c27b8b", "name": "tempest-VolumesExtendAttachedTest-49982271"}, "is_domain": false, "roles": [{"id": "10c016d47a7040b0bceb2904c0a3bb1f", "name": "admin"}, {"id": "502acf85aacf40f1a2e20ed4f97d2071", "name": "reader"}, {"id": "911ec4e2d97541c7adc726fe0bf51e25", "name": "member"}], "catalog": [{"endpoints": [{"id": "0df328dbff814923b85acf16d6d10b14", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "2da1e8e6114b43a78612692669e51820", "
    interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "49f7037a7a894cfa82e3281e100a2078", "type": "image", "name": "glance"}, {"endpoints": [{"id": "035292a4c7ff41bb9c7564617ae86602", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "3b47065590524bf48ce53325c45a83a3", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "61190a87f2cf424b822547971eba4f0c", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "6f571b2001b646c2863c90c0e36c397d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "380e71b922324abca1cccd70a8261cc9", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "f82b2e82178947a8ba775c31aced936c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7b1e26cdac1a4a7fb1d918edd5cae0d5", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2ca38e0a00644969894eec99ac0ef468", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "860657e6454f404eb78ce4a6becf958d", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "c64d476a2b2642cc873a13756cef7b7c", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "1c6cad8f235c40fdb08f27258707487f", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "a830b0cd3b244364ab94909d572712be", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "c6e495b3945a4c3aa0386217ad5f3877", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "23a6bc4dc67b47ed9af19eccedee7995", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/71e98352b03b4f97ac507cb5b6c27b8b", "region": "RegionOne"}, {"id": "f122c5dc7a1143b9b0d70c30ee10df5c", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/71e98352b03b4f97ac507cb5b6c27b8b", "region": "RegionOne"}], "id": "d30e368ce4ac4d168174469113108501", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "0e73761d98724d6b8c479bf87729ab88", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b", "region": "RegionOne"}, {"id": "d10f371faf8c48babb8bfc947da0c803", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/71e98352b03b4f97ac507cb5b6c27b8b", "region": "RegionOne"}], "id": "f7ff8ec7d5da4dbb9f1acf63135614c8", "type": "volumev3", "name": "cinderv3"}]}}'
2022-08-16 14:43:04,472 17213 INFO     [tempest.lib.common.fixed_network] (VolumesExtendAttachedTest:test_extend_attached_volume) Found network None available for tenant
2022-08-16 14:43:04,704 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.230s
2022-08-16 14:43:04,704 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesExtendAttachedTest-instance-898795218", "imageRef": "2d9a282c-b623-4905-963b-c936fcf4583e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:04 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0e9532c9-adc9-4c70-9d61-770e2825c1cf', 'x-compute-r
    equest-id': 'req-0e9532c9-adc9-4c70-9d61-770e2825c1cf', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "0f6e9198-d002-44ae-9d28-6967b6477a56", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/0f6e9198-d002-44ae-9d28-6967b6477a56"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "DZq7BzZ4M77h"}}'
2022-08-16 14:43:04,783 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56 0.076s
2022-08-16 14:43:04,784 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:04 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1328', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-335e272a-6b3f-46aa-a99c-8689c61ef270', 'x-compute-request-id': 'req-335e272a-6b3f-46aa-a99c-8689c61ef270', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56'}
        Body: b'{"server": {"id": "0f6e9198-d002-44ae-9d28-6967b6477a56", "name": "tempest-VolumesExtendAttachedTest-instance-898795218", "status": "BUILD", "tenant_id": "71e98352b03b4f97ac507cb5b6c27b8b", "user_id": "1a5437e1f023400a85ba6955ceca25c0", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:43:04Z", "updated": "2022-08-16T11:43:04Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/0f6e9198-d002-44ae-9d28-6967b6477a56"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:43:05,885 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56 0.089s
2022-08-16 14:43:05,885 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:05 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1349', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-234afc9f-b95d-4ca9-a7f9-3044f895cc7f', 'x-compute-request-id': 'req-234afc9f-b95d-4ca9-a7f9-3044f895cc7f', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56'}
        Body: b'{"server": {"id": "0f6e9198-d002-44ae-9d28-6967b6477a56", "name": "tempest-VolumesExtendAttachedTest-inst
    ance-898795218", "status": "BUILD", "tenant_id": "71e98352b03b4f97ac507cb5b6c27b8b", "user_id": "1a5437e1f023400a85ba6955ceca25c0", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:43:04Z", "updated": "2022-08-16T11:43:05Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/0f6e9198-d002-44ae-9d28-6967b6477a56"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000000f2", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "networking", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-08-16 14:43:05,895 17213 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/networking" after 1 second wait
2022-08-16 14:43:06,992 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56 0.095s
2022-08-16 14:43:06,992 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:06 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '4699', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-009017db-6df9-4095-a8e1-55cf50c12e6e', 'x-compute-request-id': 'req-009017db-6df9-4095-a8e1-55cf50c12e6e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56'}
        Body: b'{"server": {"id": "0f6e9198-d002-44ae-9d28-6967b6477a56", "name": "tempest-VolumesExtendAttachedTest-instance-898795218", "status": "ERROR", "tenant_id": "71e98352b03b4f97ac507cb5b6c27b8b", "user_id": "1a5437e1f023400a85ba6955ceca25c0", "metadata": {}, "hostId": "", "image": {"id": "2d9a282c-b623-4905-963b-c936fcf4583e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2d9a282c-b623-4905-963b-c936fcf4583e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-08-16T11:43:04Z", "updated": "2022-08-16T11:43:05Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/0f6e9198-d002-44ae-9d28-6967b6477a56"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-08-16T11:43:05Z", "message": "Build of instance 0f6e9198-d002-44ae-9d28-6967b6477a56 aborted: Failure prepping block device.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2706, in _build_resources\\n    self._default_block_device_names(instance, image_meta,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2043, in _default_block_device_names\\n    self._default_device_names_for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 1962, in _default_device_names_for_instance\\n    self.driver.default_device_names
    _for_instance(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/libvirt/driver.py\\", line 12062, in default_device_names_for_instance\\n    block_device_info = driver.get_block_device_info(instance,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/driver.py\\", line 60, in get_block_device_info\\n    \'image\': virt_block_device.convert_local_images(\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 860, in _convert_block_devices\\n    devices.append(device_type(bdm))\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 122, in __init__\\n    self._transform()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/virt/block_device.py\\", line 270, in _transform\\n    \'encryption_secret_uuid\': self._bdm_obj.encryption_secret_uuid,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_versionedobjects/base.py\\", line 67, in getter\\n    self.obj_load_attr(name)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/objects/block_device.py\\", line 340, in obj_load_attr\\n    raise exception.ObjectActionError(\\nnova.exception.ObjectActionError: Object action obj_load_attr failed because: attribute encryption_secret_uuid not lazy-loadable\\n\\nDuring handling of the above exception, another exception occurred:\\n\\nTraceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2320, in _do_build_and_run_instance\\n    self._build_and_run_instance(context, instance, image,\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2525, in _build_and_run_instance\\n    with excutils.save_and_reraise_exception():\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 227, in __exit__\\n    self.force_reraise()\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/oslo_utils/excutils.py\\", line 200, in force_reraise\\n    raise self.value\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/compute/manager.py\\", line 2480, in _build_and_run_instance\\n    with self._build_resources(context, instance,\\n  File \\"/usr/lib/python3.10/contextlib.py\\", line 135, in __enter__\\n    return next(self.gen)\\n  File \\"/var/lib/kolla/venv/lib/python3.10/sit
2022-08-16 14:43:07,002 17213 INFO     [tempest.common.waiters] State transition "BUILD/networking" ==> "ERROR/None" after 3 second wait
2022-08-16 14:43:07,255 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56 0.252s
2022-08-16 14:43:07,255 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:07 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7db7ed58-d4d7-4cc9-b10f-db27a70b9073', 'x-compute-request-id': 'req-7db7ed58-d4d7-4cc9-b10f-db27a70b9073', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56'}
        Body: b''
2022-08-16 14:43:07,289 17213 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56 0.033s
2022-08-16 14:43:07,289 17213 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 Aug 2022 11:43:07 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111'
    , 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-bd613b46-1f36-4d1e-9659-37bb69686943', 'x-compute-request-id': 'req-bd613b46-1f36-4d1e-9659-37bb69686943', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/0f6e9198-d002-44ae-9d28-6967b6477a56'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 0f6e9198-d002-44ae-9d28-6967b6477a56 could not be found."}}'



======
Totals
======
Ran: 218 tests in 227.4827 sec.
 - Passed: 203
 - Skipped: 7
 - Expected Fail: 0
 - Unexpected Success: 0
 - Failed: 8
Sum of execute time for each test: 351.3099 sec.

==============
Worker Balance
==============
 - Worker 0 (32 tests) => 0:03:28.609572
 - Worker 1 (73 tests) => 0:03:39.110044
 - Worker 2 (113 tests) => 0:03:47.396432

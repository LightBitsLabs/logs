{0} setUpClass (tempest.api.volume.admin.test_multi_backend.VolumeMultiBackendTest) ... SKIPPED: Cinder multi-backend feature disabled
{0} setUpClass (tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithMigrationTest) ... SKIPPED: Cinder multi-backend feature disabled
{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_delete_with_volume_in_use [8.151622s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 48, in test_snapshot_create_delete_with_volume_in_use
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 00f876cd-490b-4264-a683-6297e276ce44 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-04-26T21:34:47Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-27 00:34:40,851 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://controller:5000/v3/auth/tokens 0.566s
2022-04-27 00:34:40,851 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache', 'content-length': '3896', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-c3bb4023-94fa-4a59-b06e-6278a34c63ad', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "cf8a9949ba5c42b28e3e8f1ff2819111", "name": "tempest-VolumesSnapshotTestJSON-190360460-project", "password_expires_at": null}, "audit_ids": ["VugxLaljStGvtPMC3XbRyQ"], "expires_at": "2022-04-27T21:34:40.000000Z", "issued_at": "2022-04-26T21:34:40.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "name": "tempest-VolumesSnapshotTestJSON-190360460"}, "is_domain": false, "roles": [{"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0fcdfe7dbccf4c6bae3caafb6b11074a", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0fcdfe7dbccf4c6bae3caafb6b11074a", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url":
     "http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-04-27 00:34:40,852 17216 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-04-27 00:34:40,954 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:35357/v3/projects 0.101s
2022-04-27 00:34:40,954 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesSnapshotTestJSON-1978048734-desc", "domain_id": "default", "name": "tempest-VolumesSnapshotTestJSON-1978048734"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache', 'content-length': '383', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-669c037d-b4c7-420d-a68e-a2ffcbd4d2e1', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects'}
        Body: b'{"project": {"id": "3bf4523142164d4db15556117af9eb2d", "name": "tempest-VolumesSnapshotTestJSON-1978048734", "domain_id": "default", "description": "tempest-VolumesSnapshotTestJSON-1978048734-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/projects/3bf4523142164d4db15556117af9eb2d"}}}\n'
2022-04-27 00:34:41,513 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:35357/v3/users 0.558s
2022-04-27 00:34:41,514 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesSnapshotTestJSON-1978048734-project-admin", "password": "C4!CMVVsuf&uuFf", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache', 'content-length': '298', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e34f8fc0-8927-4563-a257-1ca90929bf0a', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/users'}
        Body: b'{"user": {"id": "457911f32944461389228a383129fead", "name": "tempest-VolumesSnapshotTestJSON-1978048734-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/users/457911f32944461389228a383129fead"}}}\n'
2022-04-27 00:34:41,545 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.030s
2022-04-27 00:34:41,546 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-86e6873d-e5d5-44ee-a42e-daa9803ba348', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": 
    null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:41,592 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/3bf4523142164d4db15556117af9eb2d/users/457911f32944461389228a383129fead/roles/98b47d94b3e541b2804787a80c29845f 0.046s
2022-04-27 00:34:41,593 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e6ebceb2-8329-4de1-bd12-2f8a5e82d3d7', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/3bf4523142164d4db15556117af9eb2d/users/457911f32944461389228a383129fead/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:41,683 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.090s
2022-04-27 00:34:41,684 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ac3a2d55-5db3-4f62-9f51-61271880b367', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:41,725 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/457911f32944461389228a383129fead/roles/98b47d94b3e541b2804787a80c29845f 0.040s
2022-04-27 00:34:41,725 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
     
       Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-c5305a95-3bcc-4f95-aa62-950875257fce', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/457911f32944461389228a383129fead/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:41,804 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.078s
2022-04-27 00:34:41,805 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-05e68538-a5ae-4671-b754-c3a6efc738f7', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:41,841 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/3bf4523142164d4db15556117af9eb2d/users/457911f32944461389228a383129fead/roles/98b47d94b3e541b2804787a80c29845f 0.035s
2022-04-27 00:34:41,841 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ac252cbd-c490-4e43-a3fb-45e1d971850c', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/3bf4523142164d4db15556117af9eb2d/users/457911f32944461389228a383129fead/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:41,923 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.080s
2022-04-27 00:34:41,923 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-d4eb6d42-e0ea-4388-ae0d-0a52087d7611', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a5716
    98f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:41,959 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/3bf4523142164d4db15556117af9eb2d/users/457911f32944461389228a383129fead/roles/98b47d94b3e541b2804787a80c29845f 0.035s
2022-04-27 00:34:41,959 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-18895506-346f-4960-8aa8-37ea2b0626db', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/3bf4523142164d4db15556117af9eb2d/users/457911f32944461389228a383129fead/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:41,960 17216 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 457911f32944461389228a383129fead is created with scope project and roles: ['admin', 'admin']
2022-04-27 00:34:41,960 17216 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesSnapshotTestJSON-1978048734-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '3bf4523142164d4db15556117af9eb2d', 'project_name': 'tempest-VolumesSnapshotTestJSON-1978048734', 'tenant_id': '3bf4523142164d4db15556117af9eb2d', 'tenant_name': 'tempest-VolumesSnapshotTestJSON-1978048734', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '457911f32944461389228a383129fead', 'system': None}, Network: None, Subnet: None, Router: None
2022-04-27 00:34:41,968 17216 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use) Found network None available for tenant
2022-04-27 00:34:42,410 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.440s
2022-04-27 00:34:42,410 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-908959771", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c98db307-d558-48d7-8930-db930a6c23ef', 'x-compute-request-id': 'req-c98db307-d558-48d7-8930-db930a6c23ef', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "00f876cd-490b-4264-a683-6297e276ce44", "links": [{"rel": "self", "href": "http://192.168
    .23.253:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/00f876cd-490b-4264-a683-6297e276ce44"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "J9VqBWk2dCtE"}}'
2022-04-27 00:34:42,552 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44 0.138s
2022-04-27 00:34:42,552 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:42 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b02bd650-2bf9-403e-bb12-4085342ea3da', 'x-compute-request-id': 'req-b02bd650-2bf9-403e-bb12-4085342ea3da', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44'}
        Body: b'{"server": {"id": "00f876cd-490b-4264-a683-6297e276ce44", "name": "tempest-VolumesSnapshotTestJSON-instance-908959771", "status": "BUILD", "tenant_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "user_id": "cf8a9949ba5c42b28e3e8f1ff2819111", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:42Z", "updated": "2022-04-26T21:34:42Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/00f876cd-490b-4264-a683-6297e276ce44"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:43,638 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44 0.075s
2022-04-27 00:34:43,638 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:43 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-e4d31806-0e41-4f83-a2cc-996480ae6c4d', 'x-compute-request-id': 'req-e4d31806-0e41-4f83-a2cc-996480ae6c4d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44'}
        Body: b'{"server": {"id": "00f876cd-490b-4264-a683-6297e276ce44", "name": "tempest-VolumesSnapshotTestJSON-instance-908959771", "status": "BUILD", "tenant_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "user_id": "cf8a9949ba5c42b28e3e8f1ff2819111", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/imag
    es/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:42Z", "updated": "2022-04-26T21:34:43Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/00f876cd-490b-4264-a683-6297e276ce44"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:44,721 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44 0.072s
2022-04-27 00:34:44,721 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:44 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d032d5d6-9b7b-4c1b-9997-1d46c0286e1a', 'x-compute-request-id': 'req-d032d5d6-9b7b-4c1b-9997-1d46c0286e1a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44'}
        Body: b'{"server": {"id": "00f876cd-490b-4264-a683-6297e276ce44", "name": "tempest-VolumesSnapshotTestJSON-instance-908959771", "status": "BUILD", "tenant_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "user_id": "cf8a9949ba5c42b28e3e8f1ff2819111", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:42Z", "updated": "2022-04-26T21:34:44Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/00f876cd-490b-4264-a683-6297e276ce44"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:45,810 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44 0.077s
2022-04-27 00:34:45,810 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:45 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-91129505-4f5a-4067-a0fd-a30b
    56fce9c2', 'x-compute-request-id': 'req-91129505-4f5a-4067-a0fd-a30b56fce9c2', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44'}
        Body: b'{"server": {"id": "00f876cd-490b-4264-a683-6297e276ce44", "name": "tempest-VolumesSnapshotTestJSON-instance-908959771", "status": "BUILD", "tenant_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "user_id": "cf8a9949ba5c42b28e3e8f1ff2819111", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:42Z", "updated": "2022-04-26T21:34:45Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/00f876cd-490b-4264-a683-6297e276ce44"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:46,894 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44 0.073s
2022-04-27 00:34:46,894 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:46 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7f6552f6-7dca-4188-a3c5-35a2d53a5a87', 'x-compute-request-id': 'req-7f6552f6-7dca-4188-a3c5-35a2d53a5a87', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44'}
        Body: b'{"server": {"id": "00f876cd-490b-4264-a683-6297e276ce44", "name": "tempest-VolumesSnapshotTestJSON-instance-908959771", "status": "BUILD", "tenant_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "user_id": "cf8a9949ba5c42b28e3e8f1ff2819111", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:42Z", "updated": "2022-04-26T21:34:46Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/00f876cd-490b-4264-a683-6297e276ce44"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:48,000 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot
    _create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44 0.094s
2022-04-27 00:34:48,000 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:47 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '3920', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-31057ff1-f3f3-43cd-9e7e-60d6233ad1e8', 'x-compute-request-id': 'req-31057ff1-f3f3-43cd-9e7e-60d6233ad1e8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44'}
        Body: b'{"server": {"id": "00f876cd-490b-4264-a683-6297e276ce44", "name": "tempest-VolumesSnapshotTestJSON-instance-908959771", "status": "ERROR", "tenant_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "user_id": "cf8a9949ba5c42b28e3e8f1ff2819111", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:42Z", "updated": "2022-04-26T21:34:47Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/00f876cd-490b-4264-a683-6297e276ce44"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-04-26T21:34:47Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/
    lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000004ee", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:48,010 17216 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 6 second wait
2022-04-27 00:34:48,389 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44 0.379s
2022-04-27 00:34:48,390 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:48 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1fb2b839-5cd5-4d04-a7fb-6f82e96136ac', 'x-compute-request-id': 'req-1fb2b839-5cd5-4d04-a7fb-6f82e96136ac', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44'}
        Body: b''
2022-04-27 00:34:48,426 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44 0.035s
2022-04-27 00:34:48,426 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:48 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-fbbdb33e-6363-4172-b382-db14a490e7c0', 'x-compute-request-id': 'req-fbbdb33e-6363-4172-b382-db14a490e7c0', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 00f876cd-490b-4264-a683-6297e276ce44 could not be found."}}'

{1} tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_attach_attached_volume_to_different_server [11.976279s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume_negative.py", line 69, in test_attach_attached_volume_to_different_server
    server1 = self.create_test_server(wait_until='ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/base.py", line 272, in create_test_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server c7b36953-3e64-4f12-86d3-5527386245cf failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-04-26T21:34:49Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-27 00:34:39,061 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 201 POST http://controller:5000/v3/auth/tokens 0.518s
2022-04-27 00:34:39,061 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:38 GMT', 'server': 'Apache', 'content-length': '3900', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-054149d4-36e3-4283-a940-85d1160f7a11', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "00c1fd941beb4beca8cde3518ccd1074", "name": "tempest-AttachVolumeNegativeTest-1913639363-project", "password_expires_at": null}, "audit_ids": ["qN7NpmsKQ_W6e4I5QyF2OA"], "expires_at": "2022-04-27T21:34:39.000000Z", "issued_at": "2022-04-26T21:34:39.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "3db295dda5b74dcaacb9173b7ae4ebfc", "name": "tempest-AttachVolumeNegativeTest-1913639363"}, "is_domain": false, "roles": [{"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", 
    "url": "http://[LB_IP_ADDRESS]:8776/v3/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-04-27 00:34:39,062 17217 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-04-27 00:34:39,188 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 201 POST http://[LB_IP_ADDRESS]:35357/v3/projects 0.125s
2022-04-27 00:34:39,189 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-AttachVolumeNegativeTest-1579772757-desc", "domain_id": "default", "name": "tempest-AttachVolumeNegativeTest-1579772757"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:39 GMT', 'server': 'Apache', 'content-length': '385', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e657cb9c-eee0-4660-b98d-27034804499d', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects'}
        Body: b'{"project": {"id": "9a70a16ea92346dd877b870d01e2aec1", "name": "tempest-AttachVolumeNegativeTest-1579772757", "domain_id": "default", "description": "tempest-AttachVolumeNegativeTest-1579772757-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/projects/9a70a16ea92346dd877b870d01e2aec1"}}}\n'
2022-04-27 00:34:39,763 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 201 POST http://[LB_IP_ADDRESS]:35357/v3/users 0.573s
2022-04-27 00:34:39,764 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-AttachVolumeNegativeTest-1579772757-project-admin", "password": "X1*m#h4NOdz7I6s", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:39 GMT', 'server': 'Apache', 'content-length': '299', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0564825f-55b2-4bd1-8f0b-20223c1f7d1e', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/users'}
        Body: b'{"user": {"id": "64b37a2ef52e43ae8e52d58d6498b061", "name": "tempest-AttachVolumeNegativeTest-1579772757-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/users/64b37a2ef52e43ae8e52d58d6498b061"}}}\n'
2022-04-27 00:34:39,841 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.077s
2022-04-27 00:34:39,841 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:39 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-238b4dab-f487-41d0-944a-d59ab1fab28d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "read
    er", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:39,890 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/9a70a16ea92346dd877b870d01e2aec1/users/64b37a2ef52e43ae8e52d58d6498b061/roles/98b47d94b3e541b2804787a80c29845f 0.047s
2022-04-27 00:34:39,890 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:39 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-be3dc093-9fea-47c0-8f09-126c8e6ca8d9', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/9a70a16ea92346dd877b870d01e2aec1/users/64b37a2ef52e43ae8e52d58d6498b061/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:39,972 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.081s
2022-04-27 00:34:39,973 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:39 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3c8cbd2d-7b38-4a9c-9f5b-e80166c2c21c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:40,014 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/64b37a2ef52e43ae8e52d58d6498b061/roles/98b47d94b3e541b2804787a80c29845f 0.040s
2022-04-27 00:34:40,015 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-To
    ken': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:39 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-32b6d162-6a57-442b-ae14-1ef49632153c', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/64b37a2ef52e43ae8e52d58d6498b061/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:40,103 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.087s
2022-04-27 00:34:40,103 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-56897bd2-ff65-4ef3-9bdf-2a03e1c8a121', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:40,139 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/9a70a16ea92346dd877b870d01e2aec1/users/64b37a2ef52e43ae8e52d58d6498b061/roles/98b47d94b3e541b2804787a80c29845f 0.034s
2022-04-27 00:34:40,139 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-eef69fdf-eeb9-4706-a178-8590fd67f51c', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/9a70a16ea92346dd877b870d01e2aec1/users/64b37a2ef52e43ae8e52d58d6498b061/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:40,224 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.084s
2022-04-27 00:34:40,225 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-19f248a3-f3fc-440e-aefd-517fa2c23321', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/ro
    les/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:40,261 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/9a70a16ea92346dd877b870d01e2aec1/users/64b37a2ef52e43ae8e52d58d6498b061/roles/98b47d94b3e541b2804787a80c29845f 0.036s
2022-04-27 00:34:40,262 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e9714da4-2afc-4d81-8bca-3b1404208c78', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/9a70a16ea92346dd877b870d01e2aec1/users/64b37a2ef52e43ae8e52d58d6498b061/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:40,262 17217 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 64b37a2ef52e43ae8e52d58d6498b061 is created with scope project and roles: ['admin', 'admin']
2022-04-27 00:34:40,263 17217 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-AttachVolumeNegativeTest-1579772757-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '9a70a16ea92346dd877b870d01e2aec1', 'project_name': 'tempest-AttachVolumeNegativeTest-1579772757', 'tenant_id': '9a70a16ea92346dd877b870d01e2aec1', 'tenant_name': 'tempest-AttachVolumeNegativeTest-1579772757', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '64b37a2ef52e43ae8e52d58d6498b061', 'system': None}, Network: None, Subnet: None, Router: None
2022-04-27 00:34:40,271 17217 INFO     [tempest.lib.common.fixed_network] (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server) Found network None available for tenant
2022-04-27 00:34:40,919 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.647s
2022-04-27 00:34:40,919 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-AttachVolumeNegativeTest-server-1981074410", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-32477bce-5b69-44a8-bcd1-40a720b5f4a5', 'x-compute-request-id': 'req-32477bce-5b69-44a8-bcd1-40a720b5f4a5', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "links": [
    {"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "gdpehFYW3BLQ"}}'
2022-04-27 00:34:41,249 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.325s
2022-04-27 00:34:41,250 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b224872a-9612-4d00-809e-1918aab097e0', 'x-compute-request-id': 'req-b224872a-9612-4d00-809e-1918aab097e0', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "name": "tempest-AttachVolumeNegativeTest-server-1981074410", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:40Z", "updated": "2022-04-26T21:34:40Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:42,528 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.267s
2022-04-27 00:34:42,528 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:42 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f7da212f-2098-494b-9e81-2e24c0bb8dc5', 'x-compute-request-id': 'req-f7da212f-2098-494b-9e81-2e24c0bb8dc5', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "name": "tempest-AttachVolumeNegativeTest-server-1981074410", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark
    ", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:40Z", "updated": "2022-04-26T21:34:42Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:43,614 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.075s
2022-04-27 00:34:43,615 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:43 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7a94aafc-2ecb-48bb-b668-b6a125c09328', 'x-compute-request-id': 'req-7a94aafc-2ecb-48bb-b668-b6a125c09328', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "name": "tempest-AttachVolumeNegativeTest-server-1981074410", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:40Z", "updated": "2022-04-26T21:34:43Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:44,703 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.077s
2022-04-27 00:34:44,703 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:44 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack
    -request-id': 'req-f50ce30d-a7a7-4cef-8543-887b58a50b37', 'x-compute-request-id': 'req-f50ce30d-a7a7-4cef-8543-887b58a50b37', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "name": "tempest-AttachVolumeNegativeTest-server-1981074410", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:40Z", "updated": "2022-04-26T21:34:44Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:45,787 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.073s
2022-04-27 00:34:45,787 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:45 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1ac3eb4a-e84a-43c3-a4dd-94d9a301de81', 'x-compute-request-id': 'req-1ac3eb4a-e84a-43c3-a4dd-94d9a301de81', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "name": "tempest-AttachVolumeNegativeTest-server-1981074410", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:40Z", "updated": "2022-04-26T21:34:45Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:46,871 17217 INFO     [tempest.lib.common.rest_clien
    t] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.072s
2022-04-27 00:34:46,871 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:46 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6ae4f7e5-deda-424b-a779-c579ce0507f5', 'x-compute-request-id': 'req-6ae4f7e5-deda-424b-a779-c579ce0507f5', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "name": "tempest-AttachVolumeNegativeTest-server-1981074410", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:40Z", "updated": "2022-04-26T21:34:46Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:47,955 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.072s
2022-04-27 00:34:47,955 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:47 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d38611cf-41fd-466a-9c02-f562f5a2d816', 'x-compute-request-id': 'req-d38611cf-41fd-466a-9c02-f562f5a2d816', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "name": "tempest-AttachVolumeNegativeTest-server-1981074410", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:40Z", "updated": "2022-04-26T21:34:47Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/se
    rvers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:49,037 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.070s
2022-04-27 00:34:49,037 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:48 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-29a1fd01-c854-4e10-8530-53625eb0c61e', 'x-compute-request-id': 'req-29a1fd01-c854-4e10-8530-53625eb0c61e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "name": "tempest-AttachVolumeNegativeTest-server-1981074410", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:40Z", "updated": "2022-04-26T21:34:48Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:50,150 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.102s
2022-04-27 00:34:50,151 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:50 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '3920', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5ff714d4-1ed1-4bb1-8c6c-416bd3fa05d4', 'x-compute-request-id': 'req-5ff714d4-1ed1-4bb1-8c6c-416bd3fa05d4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "name":
     "tempest-AttachVolumeNegativeTest-server-1981074410", "status": "ERROR", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:40Z", "updated": "2022-04-26T21:34:49Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-04-26T21:34:49Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000004ef", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:50,161 17217 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 9 second wait
2022-04-27 00:34:50,474 17217 INFO   
      [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.312s
2022-04-27 00:34:50,475 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:50 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-070d68ff-b555-40a5-8714-90f0316d5362', 'x-compute-request-id': 'req-070d68ff-b555-40a5-8714-90f0316d5362', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b''
2022-04-27 00:34:50,506 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.031s
2022-04-27 00:34:50,507 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:50 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b78a3450-9175-4b59-bc9b-8c4dcd4622f2', 'x-compute-request-id': 'req-b78a3450-9175-4b59-bc9b-8c4dcd4622f2', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance c7b36953-3e64-4f12-86d3-5527386245cf could not be found."}}'

{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_get_list_update_delete [3.601087s] ... ok
{2} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_boot_from_multiattach_volume [15.897206s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 454, in test_boot_from_multiattach_volume
    self._boot_from_multiattach_volume()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 443, in _boot_from_multiattach_volume
    image_id='', block_device_mapping_v2=bdm, wait_until='ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/base.py", line 272, in create_test_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server a9eb20cc-3c53-4db2-bc82-7211ba56de33 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-04-26T21:34:53Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-27 00:34:39,276 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 202 POST http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes 0.636s
2022-04-27 00:34:39,276 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"multiattach": true, "size": 1, "display_name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:38 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '853', 'x-compute-request-id': 'req-87cb513e-c0bf-4bf1-8b0e-d89333513a28', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-87cb513e-c0bf-4bf1-8b0e-d89333513a28', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.215013", "updated_at": null, "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null}}'
2022-04-27 00:34:39,334 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.046s
2022-04-27 00:34:39,334 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:39 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1032', 'x-compute-request-id': 'req-6f85ab40-81a5-440b-912b-4965d9cb8315', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-6f85ab40-81a5-440b-912b-4965d9cb8315', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": null, "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": null, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:40,385 17218 INFO     [tempest
    .lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.041s
2022-04-27 00:34:40,385 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1148', 'x-compute-request-id': 'req-3b98bef0-8183-4468-b701-fbb65e5c5260', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-3b98bef0-8183-4468-b701-fbb65e5c5260', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:39.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:41,439 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.043s
2022-04-27 00:34:41,439 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1148', 'x-compute-request-id': 'req-dc17506d-3ab5-4b1d-b2a0-6a96b4119a69', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-dc17506d-3ab5-4b1d-b2a0-6a96b4119a69', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:39.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGH
    TOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:42,493 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.043s
2022-04-27 00:34:42,494 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:42 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-149d233f-6eaf-4f02-851d-0b69898c830a', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-149d233f-6eaf-4f02-851d-0b69898c830a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:41.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:43,548 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.044s
2022-04-27 00:34:43,548 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:43 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-19b811c7-6c6d-46c7-997e-e6761ea6f234', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-19b811c7-6c6d-46c7-997e-e6761ea6f234', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:41.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4
    -a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:44,604 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.045s
2022-04-27 00:34:44,604 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:44 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-5f6a746a-9632-4e07-a35b-929e49322059', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-5f6a746a-9632-4e07-a35b-929e49322059', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:41.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:45,668 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.052s
2022-04-27 00:34:45,668 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:45 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-b1b745a1-d5a6-4689-9e55-0c38e7b5105d', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-b1b745a1-d5a6-4689-9e55-0c38e7b5105d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:41.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": nul
    l, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:46,720 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.041s
2022-04-27 00:34:46,720 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:46 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-d3ed8a8e-4af2-48da-98ee-dc67c68d3496', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-d3ed8a8e-4af2-48da-98ee-dc67c68d3496', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:41.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:47,773 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.043s
2022-04-27 00:34:47,774 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:47 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-9015422c-a38e-4659-b914-58cf4b53b63e', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-9015422c-a38e-4659-b914-58cf4b53b63e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "downloading", "si
    ze": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:41.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:48,828 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.044s
2022-04-27 00:34:48,829 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:48 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-5d074d1b-2217-445a-b7ad-7778787f3d22', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-5d074d1b-2217-445a-b7ad-7778787f3d22', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:41.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:49,884 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.044s
2022-04-27 00:34:49,884 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:49 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1507', 'x-compute-request-id': 'req-cf9f8186-8416-4c9c-be0d-40b92e5bd20f', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-cf9f8186-8416-4c9c-be0d-40b92e5bd20f', 'connection': 'close', 'conte
    nt-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:49.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "true", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False", "owner_specified.openstack.md5": "", "owner_specified.openstack.sha256": "", "owner_specified.openstack.object": "images/cirros", "image_id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "image_name": "cirros", "checksum": "443b7623e27ecf03dc9e01ee93f67afe", "container_format": "bare", "disk_format": "qcow2", "min_disk": "0", "min_ram": "0", "size": "12716032"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:49,893 17218 INFO     [tempest.common.waiters] volume 5f6da0e3-6755-49b4-a83b-0057a8447274 reached available after waiting for 10.893696 seconds
2022-04-27 00:34:50,455 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 201 POST http://controller:5000/v3/auth/tokens 0.554s
2022-04-27 00:34:50,455 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:49 GMT', 'server': 'Apache', 'content-length': '3904', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8ea035ef-2fa0-4f3b-874d-704cca88d085', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "name": "tempest-AttachVolumeMultiAttachTest-379792290-project", "password_expires_at": null}, "audit_ids": ["T9Gs8-L5STaFYeay-m7XNw"], "expires_at": "2022-04-27T21:34:50.000000Z", "issued_at": "2022-04-26T21:34:50.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "04dc43a08ff44a1ca73bb95701a0f612", "name": "tempest-AttachVolumeMultiAttachTest-379792290"}, "is_domain": false, "roles": [{"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "htt
    p://[LB_IP_ADDRESS]:8774/v2/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-04-27 00:34:50,456 17218 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-04-27 00:34:50,549 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 201 POST http://[LB_IP_ADDRESS]:35357/v3/projects 0.092s
2022-04-27 00:34:50,550 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-AttachVolumeMultiAttachTest-1905746835-desc", "domain_id": "default", "name": "tempest-AttachVolumeMultiAttachTest-1905746835"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:50 GMT', 'server': 'Apache', 'content-length': '391', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-cee3b02a-c8b8-4af5-aeb1-ed239ec72430', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects'}
        Body: b'{"project": {"id": "58dc7649b3c644a79b5c72c14abae0c9", "name": "tempest-AttachVolumeMultiAttachTest-1905746835", "domain_id": "default", "description": "tempest-AttachVolumeMultiAttachTest-1905746835-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/projects/58dc7649b3c644a79b5c72c14abae0c9"}}}\n'
2022-04-27 00:34:51,142 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 201 POST http://[LB_IP_ADDRESS]:35357/v
    3/users 0.591s
2022-04-27 00:34:51,142 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-AttachVolumeMultiAttachTest-1905746835-project-admin", "password": "P8=Q+fbKANkeiyM", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:50 GMT', 'server': 'Apache', 'content-length': '302', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-339e9401-cda3-4d71-9431-7ab71d176514', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/users'}
        Body: b'{"user": {"id": "69a79652d3664dbc892d46a66f2adbd5", "name": "tempest-AttachVolumeMultiAttachTest-1905746835-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/users/69a79652d3664dbc892d46a66f2adbd5"}}}\n'
2022-04-27 00:34:51,173 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.029s
2022-04-27 00:34:51,173 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-dbe0d90e-e0f7-43a6-90f7-a9aa9058a789', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:51,223 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/58dc7649b3c644a79b5c72c14abae0c9/users/69a79652d3664dbc892d46a66f2adbd5/roles/98b47d94b3e541b2804787a80c29845f 0.049s
2022-04-27 00:34:51,223 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7c93cb0f-2463-4fd8-87b9-477a796d4547', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/58dc7649b3c644a79b5c72c14abae0c9/users/69a79652d3664dbc892d46a66f2adbd5/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:51,301 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.077s
2022-04-27 00:34:51,302 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body:
     None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-cda2c94a-1a51-4d52-9667-394998f2d7c3', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:51,337 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/69a79652d3664dbc892d46a66f2adbd5/roles/98b47d94b3e541b2804787a80c29845f 0.035s
2022-04-27 00:34:51,338 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-5bd7013f-efd8-43c3-9755-96f2c0c1c5ff', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/69a79652d3664dbc892d46a66f2adbd5/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:51,419 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.080s
2022-04-27 00:34:51,419 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ae6f82e9-c6e5-4edc-9b5b-2af45f043b38', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:51,456 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest
    :test_boot_from_multiattach_volume): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/58dc7649b3c644a79b5c72c14abae0c9/users/69a79652d3664dbc892d46a66f2adbd5/roles/98b47d94b3e541b2804787a80c29845f 0.036s
2022-04-27 00:34:51,456 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b4f07a30-fa62-491b-a4c0-f8f65edbe21b', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/58dc7649b3c644a79b5c72c14abae0c9/users/69a79652d3664dbc892d46a66f2adbd5/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:51,534 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.077s
2022-04-27 00:34:51,535 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0db90060-fc9c-42fc-a97d-39c4ebfbda5a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:51,570 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/58dc7649b3c644a79b5c72c14abae0c9/users/69a79652d3664dbc892d46a66f2adbd5/roles/98b47d94b3e541b2804787a80c29845f 0.034s
2022-04-27 00:34:51,570 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2e74251e-8702-48e2-8168-67eacdfd7f8f', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/58dc7649b3c644a79b5c72c14abae0c9/users/69a79652d3664dbc892d46a66f2adbd5/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:51,571 17218 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 69a79652d3664dbc892d46a66f2adbd5 is created with scope project and roles: ['admin', 'admin']
2022-04-27 00:34:51,571 17218 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-AttachVolumeMultiAttachTest-1905746835-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '58dc7649b3c644a79b5c72c14abae0c9', 'project_name': 'tempest-AttachVolumeMu
    ltiAttachTest-1905746835', 'tenant_id': '58dc7649b3c644a79b5c72c14abae0c9', 'tenant_name': 'tempest-AttachVolumeMultiAttachTest-1905746835', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '69a79652d3664dbc892d46a66f2adbd5', 'system': None}, Network: None, Subnet: None, Router: None
2022-04-27 00:34:51,579 17218 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume) Found network None available for tenant
2022-04-27 00:34:51,873 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.292s
2022-04-27 00:34:51,874 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-AttachVolumeMultiAttachTest-server-1664177710", "imageRef": "", "flavorRef": "0", "block_device_mapping_v2": [{"uuid": "5f6da0e3-6755-49b4-a83b-0057a8447274", "source_type": "volume", "destination_type": "volume", "boot_index": 0, "delete_on_termination": false}], "networks": "none"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-9f67401a-65ab-4553-9846-ed3a864ed204', 'x-compute-request-id': 'req-9f67401a-65ab-4553-9846-ed3a864ed204', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "a9eb20cc-3c53-4db2-bc82-7211ba56de33", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "aTw2Uj9MLZoH"}}'
2022-04-27 00:34:51,954 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33 0.077s
2022-04-27 00:34:51,955 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1571', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-e4df05a3-e977-4363-9c57-4d15c80ef6dd', 'x-compute-request-id': 'req-e4df05a3-e977-4363-9c57-4d15c80ef6dd', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33'}
        Body: b'{"server": {"id": "a9eb20cc-3c53-4db2-bc82-7211ba56de33", "name": "tempest-AttachVolumeMultiAttachTest-server-1664177710", "status": "BUILD", "tenant_id": "04dc43a08ff44a1ca73bb95701a0f612", "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "metadata": {}, "hostId": "", "image": "", "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:51Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/a9eb20cc-3c53-4db2-bc82-7211
    ba56de33"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-a0z5aehp", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "tempest-attachvolumemultiattachtest-server-1664177710", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "", "locked": false, "description": null, "tags": []}}'
2022-04-27 00:34:53,045 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33 0.077s
2022-04-27 00:34:53,046 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:52 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1571', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b587f57e-d6d2-489e-9e46-237f42d6ecdf', 'x-compute-request-id': 'req-b587f57e-d6d2-489e-9e46-237f42d6ecdf', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33'}
        Body: b'{"server": {"id": "a9eb20cc-3c53-4db2-bc82-7211ba56de33", "name": "tempest-AttachVolumeMultiAttachTest-server-1664177710", "status": "BUILD", "tenant_id": "04dc43a08ff44a1ca73bb95701a0f612", "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "metadata": {}, "hostId": "", "image": "", "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:52Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-a0z5aehp", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "tempest-attachvolumemultiattachtest-server-1664177710", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "", "locked": false, "description": null, "tags": []}}'
2022-04-27 00:34:54,160 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33 0.101s
2022-04-27 00:34:54,160 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-lengt
    h': '4243', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6ec9e75d-bea1-42f8-92ab-a8e241fc622c', 'x-compute-request-id': 'req-6ec9e75d-bea1-42f8-92ab-a8e241fc622c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33'}
        Body: b'{"server": {"id": "a9eb20cc-3c53-4db2-bc82-7211ba56de33", "name": "tempest-AttachVolumeMultiAttachTest-server-1664177710", "status": "ERROR", "tenant_id": "04dc43a08ff44a1ca73bb95701a0f612", "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "metadata": {}, "hostId": "", "image": "", "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:53Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-04-26T21:34:53Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": nul
    l, "OS-EXT-SRV-ATTR:instance_name": "instance-000004f0", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-a0z5aehp", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "tempest-attachvolumemultiattachtest-server-1664177710", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EX
2022-04-27 00:34:54,172 17218 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 3 second wait
2022-04-27 00:34:54,498 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33 0.325s
2022-04-27 00:34:54,499 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1fa0977f-db4a-46af-994d-89f71899c357', 'x-compute-request-id': 'req-1fa0977f-db4a-46af-994d-89f71899c357', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33'}
        Body: b''
2022-04-27 00:34:54,532 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33 0.033s
2022-04-27 00:34:54,533 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c91b73be-008f-43f0-b8f7-642604b1df8c', 'x-compute-request-id': 'req-c91b73be-008f-43f0-b8f7-642604b1df8c', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance a9eb20cc-3c53-4db2-bc82-7211ba56de33 could not be found."}}'

{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_offline_delete_online [4.668609s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 83, in test_snapshot_create_offline_delete_online
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server be490fb4-a876-4129-8a20-bad4db1a9ff8 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-04-26T21:34:55Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-27 00:34:52,233 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a/snapshots 0.198s
2022-04-27 00:34:52,233 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "7809d3e1-b3cb-4d51-a415-f71ea7d0cc1a", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1055761148"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:52 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '310', 'x-compute-request-id': 'req-0c0ac0ff-7932-493e-8e97-67a9b1fdb611', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-0c0ac0ff-7932-493e-8e97-67a9b1fdb611', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a/snapshots'}
        Body: b'{"snapshot": {"id": "c5a8c739-9a61-481a-ba21-aed879846291", "created_at": "2022-04-26T21:34:52.183031", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1055761148", "description": null, "volume_id": "7809d3e1-b3cb-4d51-a415-f71ea7d0cc1a", "status": "creating", "size": 1, "metadata": {}}}'
2022-04-27 00:34:52,261 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a/snapshots/c5a8c739-9a61-481a-ba21-aed879846291 0.024s
2022-04-27 00:34:52,262 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:52 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '442', 'x-compute-request-id': 'req-4a2e0e13-d5e1-46c2-8dd2-5e2d43af4d29', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-4a2e0e13-d5e1-46c2-8dd2-5e2d43af4d29', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a/snapshots/c5a8c739-9a61-481a-ba21-aed879846291'}
        Body: b'{"snapshot": {"id": "c5a8c739-9a61-481a-ba21-aed879846291", "created_at": "2022-04-26T21:34:52.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1055761148", "description": null, "volume_id": "7809d3e1-b3cb-4d51-a415-f71ea7d0cc1a", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-04-27 00:34:53,292 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a/snapshots/c5a8c739-9a61-481a-ba21-aed879846291 0.025s
2022-04-27 00:34:53,292 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:53 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '442', 'x-compute-request-id': 'req-45bf4d02-8057-4d25-99f3-452509b798cd', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-45bf4d02-8057-4d25-99f3-452509b798cd', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a/snapshots/c5a8c739-9a61-481a-ba21-aed879846291'}
        Body: b'{"snapshot": {"id": "c5a8c739-9a61-481a-ba21-aed879846291", "created_at": "2022-04-26T21:34:52.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTe
    stJSON-Snapshot-1055761148", "description": null, "volume_id": "7809d3e1-b3cb-4d51-a415-f71ea7d0cc1a", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-04-27 00:34:54,323 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a/snapshots/c5a8c739-9a61-481a-ba21-aed879846291 0.026s
2022-04-27 00:34:54,324 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '469', 'x-compute-request-id': 'req-fc9f286d-16d5-4c90-8834-1f18b1008cdf', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-fc9f286d-16d5-4c90-8834-1f18b1008cdf', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a/snapshots/c5a8c739-9a61-481a-ba21-aed879846291'}
        Body: b'{"snapshot": {"id": "c5a8c739-9a61-481a-ba21-aed879846291", "created_at": "2022-04-26T21:34:52.000000", "updated_at": "2022-04-26T21:34:53.000000", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1055761148", "description": null, "volume_id": "7809d3e1-b3cb-4d51-a415-f71ea7d0cc1a", "status": "available", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "os-extended-snapshot-attributes:progress": "100%"}}'
2022-04-27 00:34:54,327 17216 INFO     [tempest.common.waiters] snapshot c5a8c739-9a61-481a-ba21-aed879846291 reached available after waiting for 2.327821 seconds
2022-04-27 00:34:54,915 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 201 POST http://controller:5000/v3/auth/tokens 0.578s
2022-04-27 00:34:54,915 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:54 GMT', 'server': 'Apache', 'content-length': '3896', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e62fa55a-94e1-4bb9-9ebe-c48ac6955420', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "cf8a9949ba5c42b28e3e8f1ff2819111", "name": "tempest-VolumesSnapshotTestJSON-190360460-project", "password_expires_at": null}, "audit_ids": ["SLqtVxpHTfSMDJCDKK1T2g"], "expires_at": "2022-04-27T21:34:54.000000Z", "issued_at": "2022-04-26T21:34:54.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "name": "tempest-VolumesSnapshotTestJSON-190360460"}, "is_domain": false, "roles": [{"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0fcdfe7dbccf4c6bae3caafb6b11074a", "region": "RegionOne"}, {"id": "e8
    de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0fcdfe7dbccf4c6bae3caafb6b11074a", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-04-27 00:34:54,923 17216 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online) Found network None available for tenant
2022-04-27 00:34:55,172 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.247s
2022-04-27 00:34:55,172 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-1066272417", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-cce6482c-f118-4304-ae03-501cfb44c1db', 'x-compute-request-id': 'req-cce6482c-f118-4304-ae03-501cfb44c1db', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "be490fb4-a876-4129-8a20-bad4db1a9ff8", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a
    9ff8"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "a3cFC3n6SG9T"}}'
2022-04-27 00:34:55,243 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8 0.068s
2022-04-27 00:34:55,244 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:55 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1327', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-717d94d7-a0fa-49ed-afd4-5bf0a2fb175f', 'x-compute-request-id': 'req-717d94d7-a0fa-49ed-afd4-5bf0a2fb175f', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8'}
        Body: b'{"server": {"id": "be490fb4-a876-4129-8a20-bad4db1a9ff8", "name": "tempest-VolumesSnapshotTestJSON-instance-1066272417", "status": "BUILD", "tenant_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "user_id": "cf8a9949ba5c42b28e3e8f1ff2819111", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:55Z", "updated": "2022-04-26T21:34:55Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:56,349 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8 0.093s
2022-04-27 00:34:56,350 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:56 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '3921', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-24a51fb6-b795-4e7f-9bb5-9feee7feb24c', 'x-compute-request-id': 'req-24a51fb6-b795-4e7f-9bb5-9feee7feb24c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8'}
        Body: b'{"server": {"id": "be490fb4-a876-4129-8a20-bad4db1a9ff8", "name": "tempest-VolumesSnapshotTestJSON-instance-1066272417", "status": "ERROR", "tenant_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "user_id": "cf8a9949ba5c42b28e3e8f1ff2819111", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0
    ", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:55Z", "updated": "2022-04-26T21:34:55Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-04-26T21:34:55Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000004f1", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:56,360 17216 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2022-04-27 00:34:56,669 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8 0.308s
2022-04-27 00:34:56,669 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitte
    d>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:56 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-242bf439-cfcc-4e9d-ab83-d6571a72fa55', 'x-compute-request-id': 'req-242bf439-cfcc-4e9d-ab83-d6571a72fa55', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8'}
        Body: b''
2022-04-27 00:34:56,700 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8 0.030s
2022-04-27 00:34:56,701 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:56 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-bfdec733-66af-46b4-9a86-97057ed09717', 'x-compute-request-id': 'req-bfdec733-66af-46b4-9a86-97057ed09717', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance be490fb4-a876-4129-8a20-bad4db1a9ff8 could not be found."}}'

{2} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_list_get_volume_attachments_multiattach [2.588482s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 406, in test_list_get_volume_attachments_multiattach
    servers, volume, attachments = self._create_and_multiattach()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 389, in _create_and_multiattach
    'ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-04-26T21:34:55Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-27 00:34:55,101 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.552s
2022-04-27 00:34:55,101 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:54 GMT', 'server': 'Apache', 'content-length': '3904', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-310e0a4c-4eec-4cc1-ad72-3c33d670fbfd', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "name": "tempest-AttachVolumeMultiAttachTest-379792290-project", "password_expires_at": null}, "audit_ids": ["W2ETshB0Sj6q2v6ywticgQ"], "expires_at": "2022-04-27T21:34:55.000000Z", "issued_at": "2022-04-26T21:34:55.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "04dc43a08ff44a1ca73bb95701a0f612", "name": "tempest-AttachVolumeMultiAttachTest-379792290"}, "is_domain": false, "roles": [{"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOn
    e", "url": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-04-27 00:34:55,110 17218 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-04-27 00:34:55,249 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.137s
2022-04-27 00:34:55,249 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-0", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:55 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6b236cbb-1920-4ba1-a2c9-21f3382caa7a', 'x-compute-request-id': 'req-6b236cbb-1920-4ba1-a2c9-21f3382caa7a', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "wTzCkeid5JXm"}}'
2022-04-27 00:34:55,768 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.511s
2022-04-27 00:34:55,769 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:55 GMT', 'server': 'Apache', 'content-length': '3904', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7eb952f1-db7e-44db-92e8-0416b5e5d408', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "name": "tempest-AttachVolumeMultiAttachTest-379792290-project", "password_expires_at": null}, "audit_ids": ["6TtcYOWESVGxtGgahRc6dg"], "expires_at": "2022-04-27T21:34:55.000000Z", "issued_at": "2022-04-26T21:34:55.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "04dc43a08ff44a1ca73bb95701a0f612", "name": "tempest-AttachVolumeMultiAttachTest-379792290"}, "is_domain": false, "roles": [{"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "R
    egionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-04-27 00:34:55,777 17218 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-04-27 00:34:55,906 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.128s
2022-04-27 00:34:55,906 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-1", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:55 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/71873126-af98-422d-a706-aa1a74f68c14', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-
    API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-fefddcd2-7c95-4701-88e7-a6c961043441', 'x-compute-request-id': 'req-fefddcd2-7c95-4701-88e7-a6c961043441', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "71873126-af98-422d-a706-aa1a74f68c14", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/71873126-af98-422d-a706-aa1a74f68c14"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/71873126-af98-422d-a706-aa1a74f68c14"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "ZF6XA6YffGJ3"}}'
2022-04-27 00:34:56,007 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7 0.098s
2022-04-27 00:34:56,008 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:55 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4257', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-bf281944-c472-4597-9251-a98ffe379fb7', 'x-compute-request-id': 'req-bf281944-c472-4597-9251-a98ffe379fb7', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7'}
        Body: b'{"server": {"id": "ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7", "name": "multiattach-server-0", "status": "ERROR", "tenant_id": "04dc43a08ff44a1ca73bb95701a0f612", "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-04-26T21:34:55Z", "updated": "2022-04-26T21:34:55Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-04-26T21:34:55Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689,
     in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000004f2", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-s6la88x0", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-
2022-04-27 00:34:57,118 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7 0.097s
2022-04-27 00:34:57,118 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:57 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4257', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b6900943-e361-4b30-ae90-d5506129e8be', 'x-compute-request-id': 'req-b6900943-e361-4b30-ae90-d5506129e8be', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7'}
        Body: b'{"server": {"id": "ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7", "name": "multiattach-server-0", "status": "ERROR", "tenant_id": "04dc43a08ff44a1ca73bb95701a0f612", "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-04-26T21:34:55Z", "updated": "2022-04-26T21:34:55Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-04-26T21:34:55Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in s
    chedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000004f2", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-s6la88x0", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-

{2} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_resize_server_with_multiattached_volume ... SKIPPED: Resize not available.
{1} tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_attach_attached_volume_to_same_server [10.012109s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume_negative.py", line 57, in test_attach_attached_volume_to_same_server
    server = self.create_test_server(wait_until='ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/base.py", line 272, in create_test_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server cf582990-89fb-4f99-aed5-167e01fc4fbb failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-04-26T21:34:59Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-27 00:34:51,113 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 201 POST http://controller:5000/v3/auth/tokens 0.592s
2022-04-27 00:34:51,114 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:50 GMT', 'server': 'Apache', 'content-length': '3900', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3cdaff47-8cb4-47fd-9333-ce64afff349c', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "00c1fd941beb4beca8cde3518ccd1074", "name": "tempest-AttachVolumeNegativeTest-1913639363-project", "password_expires_at": null}, "audit_ids": ["eqp9oKiSRRiuhP-LsNm9HA"], "expires_at": "2022-04-27T21:34:51.000000Z", "issued_at": "2022-04-26T21:34:51.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "3db295dda5b74dcaacb9173b7ae4ebfc", "name": "tempest-AttachVolumeNegativeTest-1913639363"}, "is_domain": false, "roles": [{"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url"
    : "http://[LB_IP_ADDRESS]:8776/v3/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-04-27 00:34:51,122 17217 INFO     [tempest.lib.common.fixed_network] (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server) Found network None available for tenant
2022-04-27 00:34:51,353 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.229s
2022-04-27 00:34:51,353 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-AttachVolumeNegativeTest-server-1787833852", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8ff2a73b-197b-4c17-96d8-7078bd7cea38', 'x-compute-request-id': 'req-8ff2a73b-197b-4c17-96d8-7078bd7cea38', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "cf582990-89fb-4f99-aed5-167e01fc4fbb", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "w9Em78ZuwAhP"}}'
2022-04-27 00:34:51,432 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.075s
2022-04-27 00:34:51,432 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-e0806b16-e77c-46c4-a605-0073563df435', 'x-compute-request-id': 'req-e0806b16-e77c-46c4-a605-0073563df435', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"server": {"id": "cf582990-89fb-4f99-aed5-167e01fc4fbb", "name": "tempest-AttachVolumeNegativeTest-server-1787833852", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:51Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "hre
    f": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:52,521 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.077s
2022-04-27 00:34:52,521 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:52 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-4a3b72e1-7621-4f5d-b508-79157895975b', 'x-compute-request-id': 'req-4a3b72e1-7621-4f5d-b508-79157895975b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"server": {"id": "cf582990-89fb-4f99-aed5-167e01fc4fbb", "name": "tempest-AttachVolumeNegativeTest-server-1787833852", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:52Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:53,605 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.073s
2022-04-27 00:34:53,605 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:53 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-cb874562-3c48-4ce1-9de6-a71579a9b6d5', 'x-compute-request-id': 'req-cb874562-3c48-4ce1-9de6-a71579a9b6d5', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"server": {"id": "cf582990-89fb-4f9
    9-aed5-167e01fc4fbb", "name": "tempest-AttachVolumeNegativeTest-server-1787833852", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:53Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:54,687 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.071s
2022-04-27 00:34:54,688 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-98811faa-11b7-42af-af7d-a4fbc4cb4ee4', 'x-compute-request-id': 'req-98811faa-11b7-42af-af7d-a4fbc4cb4ee4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"server": {"id": "cf582990-89fb-4f99-aed5-167e01fc4fbb", "name": "tempest-AttachVolumeNegativeTest-server-1787833852", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:54Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:55,765 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.067s
2022-04-27 00:34:55,766 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'
    }
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:55 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-399891e8-3521-4d6d-9b74-495346586912', 'x-compute-request-id': 'req-399891e8-3521-4d6d-9b74-495346586912', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"server": {"id": "cf582990-89fb-4f99-aed5-167e01fc4fbb", "name": "tempest-AttachVolumeNegativeTest-server-1787833852", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:55Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:56,847 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.070s
2022-04-27 00:34:56,848 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:56 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-dbfa7acd-5ff5-470d-9768-25dcb769da34', 'x-compute-request-id': 'req-dbfa7acd-5ff5-470d-9768-25dcb769da34', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"server": {"id": "cf582990-89fb-4f99-aed5-167e01fc4fbb", "name": "tempest-AttachVolumeNegativeTest-server-1787833852", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:56Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS
    -EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:57,933 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.073s
2022-04-27 00:34:57,933 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:57 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d2dc7b15-f3da-404a-922d-8f1cb6ab189a', 'x-compute-request-id': 'req-d2dc7b15-f3da-404a-922d-8f1cb6ab189a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"server": {"id": "cf582990-89fb-4f99-aed5-167e01fc4fbb", "name": "tempest-AttachVolumeNegativeTest-server-1787833852", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:57Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:59,015 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.070s
2022-04-27 00:34:59,015 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:58 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ed641f85-cae7-4f73-a107-fbac8698f921', 'x-compute-request-id': 'req-ed641f85-cae7-4f73-a107-fbac8698f921', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"server": {"id": "cf582990-89fb-4f99-aed5-167e01fc4fbb", "name": "tempest-AttachVolumeNegativeTest-server-1787833852", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor"
    : {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:58Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:35:00,125 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.098s
2022-04-27 00:35:00,125 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:00 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '3920', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ff4620b0-4642-4e48-af28-042653cf642c', 'x-compute-request-id': 'req-ff4620b0-4642-4e48-af28-042653cf642c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"server": {"id": "cf582990-89fb-4f99-aed5-167e01fc4fbb", "name": "tempest-AttachVolumeNegativeTest-server-1787833852", "status": "ERROR", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:59Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-04-26T21:34:59Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(targ
    et, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000004f4", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:35:00,135 17217 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 9 second wait
2022-04-27 00:35:00,489 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.353s
2022-04-27 00:35:00,490 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:00 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-9b4d725d-ce69-4a43-9ae3-f13564ed9954', 'x-compute-request-id': 'req-9b4d725d-ce69-4a43-9ae3-f13564ed9954', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b''
2022-04-27 00:35:00,524 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.033s
2022-04-27 00:35:00,525 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:00 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d628f29b-47fd-4bb0-add1-63985fc36801', 'x-compute-request-id': 'req-d628f29b-47fd-4bb0-add1-63985fc36801', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance cf582990-89fb-4f99-aed5-167e01f
    c4fbb could not be found."}}'

{1} tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_delete_attached_volume [2.332450s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/lib/decorators.py", line 105, in wrapper
    raise exc

      File "/usr/local/lib/python3.6/site-packages/tempest/lib/decorators.py", line 97, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume_negative.py", line 40, in test_delete_attached_volume
    server = self.create_test_server(wait_until='ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/base.py", line 272, in create_test_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 41827b7b-f90a-4c5e-97f5-7c9717db2ee9 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-04-26T21:35:01Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-27 00:35:01,123 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_delete_attached_volume): 201 POST http://controller:5000/v3/auth/tokens 0.588s
2022-04-27 00:35:01,124 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:00 GMT', 'server': 'Apache', 'content-length': '3900', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7e69d6f5-46ba-4ca7-ab87-f368e17635fa', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "00c1fd941beb4beca8cde3518ccd1074", "name": "tempest-AttachVolumeNegativeTest-1913639363-project", "password_expires_at": null}, "audit_ids": ["OVVFeA_QQSi5FOMQ0EJZUw"], "expires_at": "2022-04-27T21:35:01.000000Z", "issued_at": "2022-04-26T21:35:01.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "3db295dda5b74dcaacb9173b7ae4ebfc", "name": "tempest-AttachVolumeNegativeTest-1913639363"}, "is_domain": false, "roles": [{"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url": "http://192.1
    68.23.253:8776/v3/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-04-27 00:35:01,133 17217 INFO     [tempest.lib.common.fixed_network] (AttachVolumeNegativeTest:test_delete_attached_volume) Found network None available for tenant
2022-04-27 00:35:01,376 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_delete_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.242s
2022-04-27 00:35:01,377 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-AttachVolumeNegativeTest-server-681655793", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-69cf1a32-c521-469f-93c4-01ebc7086dd0', 'x-compute-request-id': 'req-69cf1a32-c521-469f-93c4-01ebc7086dd0', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "41827b7b-f90a-4c5e-97f5-7c9717db2ee9", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "UR5vYVzSXn3z"}}'
2022-04-27 00:35:01,452 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_delete_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9 0.071s
2022-04-27 00:35:01,452 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a254bc0b-c455-4242-b6ec-9381b6bc014e', 'x-compute-request-id': 'req-a254bc0b-c455-4242-b6ec-9381b6bc014e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9'}
        Body: b'{"server": {"id": "41827b7b-f90a-4c5e-97f5-7c9717db2ee9", "name": "tempest-AttachVolumeNegativeTest-server-681655793", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:35:01Z", "updated": "2022-04-26T21:35:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5
    e-97f5-7c9717db2ee9"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:35:02,566 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_delete_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9 0.102s
2022-04-27 00:35:02,567 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:02 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '3919', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c3ecd57d-85bc-4747-8084-3b9ce6ee90ba', 'x-compute-request-id': 'req-c3ecd57d-85bc-4747-8084-3b9ce6ee90ba', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9'}
        Body: b'{"server": {"id": "41827b7b-f90a-4c5e-97f5-7c9717db2ee9", "name": "tempest-AttachVolumeNegativeTest-server-681655793", "status": "ERROR", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:35:01Z", "updated": "2022-04-26T21:35:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-04-26T21:35:01Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in 
    _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000004f5", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:35:02,577 17217 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2022-04-27 00:35:02,825 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_delete_attached_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9 0.248s
2022-04-27 00:35:02,826 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:02 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-22290b75-7833-432f-b626-b8fb5d062bad', 'x-compute-request-id': 'req-22290b75-7833-432f-b626-b8fb5d062bad', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9'}
        Body: b''
2022-04-27 00:35:02,859 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_delete_attached_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9 0.032s
2022-04-27 00:35:02,859 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:02 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7901e204-207e-414d-8b6d-01956d4cf54a', 'x-compute-request-id': 'req-7901e204-207e-414d-8b6d-01956d4cf54a', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 41827b7b-f90a-4c5e-97f5-7c9717db2ee9 could not be found."}}'

{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot [7.943026s] ... ok
{1} tempest.api.compute.volumes.test_volumes_get.VolumesGetTestJSON.test_volume_create_get_delete [2.983360s] ... ok
{2} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_snapshot_volume_backed_multiattach [13.594873s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 466, in test_snapshot_volume_backed_multiattach
    server, volume = self._boot_from_multiattach_volume()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 443, in _boot_from_multiattach_volume
    image_id='', block_device_mapping_v2=bdm, wait_until='ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/base.py", line 272, in create_test_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-04-26T21:35:09Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-27 00:34:57,590 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 202 POST http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes 0.457s
2022-04-27 00:34:57,590 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"multiattach": true, "size": 1, "display_name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:57 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '853', 'x-compute-request-id': 'req-068cbd41-6f90-4ad5-9215-14c88ebac885', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-068cbd41-6f90-4ad5-9215-14c88ebac885', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.528198", "updated_at": null, "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null}}'
2022-04-27 00:34:57,639 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.041s
2022-04-27 00:34:57,640 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:57 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1032', 'x-compute-request-id': 'req-3bc2dab6-9a36-4171-b4df-bda93441e95e', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-3bc2dab6-9a36-4171-b4df-bda93441e95e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": null, "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": null, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:58,696 17218 INFO 
        [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.046s
2022-04-27 00:34:58,696 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:58 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1148', 'x-compute-request-id': 'req-8d76c6b2-8f38-42c0-8f90-6edd6c2769cf', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-8d76c6b2-8f38-42c0-8f90-6edd6c2769cf', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:34:57.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:59,751 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.044s
2022-04-27 00:34:59,752 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:59 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1148', 'x-compute-request-id': 'req-8ce7c29f-cd9d-40a2-abe4-3b9173edd2b4', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-8ce7c29f-cd9d-40a2-abe4-3b9173edd2b4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:34:57.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host
    ": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:35:00,811 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.048s
2022-04-27 00:35:00,811 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:00 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-104d3243-b77a-4ecb-8785-8d14ef2fa037', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-104d3243-b77a-4ecb-8785-8d14ef2fa037', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:35:00.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:35:01,868 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.046s
2022-04-27 00:35:01,868 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-f786cedf-1789-4104-8b37-c1113e8c7886', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-f786cedf-1789-4104-8b37-c1113e8c7886', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:35:00.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95
    701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:35:02,942 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.063s
2022-04-27 00:35:02,942 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:02 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-74a21a14-9344-4bc4-acd1-88eaefca56aa', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-74a21a14-9344-4bc4-acd1-88eaefca56aa', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:35:00.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:35:03,995 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.041s
2022-04-27 00:35:03,995 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:03 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-cde0e3df-994e-4a65-889c-b0157a24dab0', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-cde0e3df-994e-4a65-889c-b0157a24dab0', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:35:00.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFA
    ULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:35:05,050 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.044s
2022-04-27 00:35:05,050 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:05 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-7b47d412-7987-4a37-a055-3c8bee4dd714', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-7b47d412-7987-4a37-a055-3c8bee4dd714', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:35:00.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:35:06,107 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.046s
2022-04-27 00:35:06,107 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:06 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-f1d85ad0-0908-48d2-9aef-1f9f4fb44aa8', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-f1d85ad0-0908-48d2-9aef-1f9f4fb44aa8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a20
    6-fac5-48e4-9c55-3c86020f3718", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:35:00.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:35:07,164 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.045s
2022-04-27 00:35:07,164 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:07 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1150', 'x-compute-request-id': 'req-1446a136-e959-449f-8a11-690889be89c2', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-1446a136-e959-449f-8a11-690889be89c2', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:35:07.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "true", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:35:08,221 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.047s
2022-04-27 00:35:08,222 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:08 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1507', 'x-compute-request-id': 'req-4a138daf-2587-41ef-86b6-e62c60e4c1ca', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'r
    eq-4a138daf-2587-41ef-86b6-e62c60e4c1ca', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:35:07.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "true", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False", "owner_specified.openstack.md5": "", "owner_specified.openstack.sha256": "", "owner_specified.openstack.object": "images/cirros", "image_id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "image_name": "cirros", "checksum": "443b7623e27ecf03dc9e01ee93f67afe", "container_format": "bare", "disk_format": "qcow2", "min_disk": "0", "min_ram": "0", "size": "12716032"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:35:08,231 17218 INFO     [tempest.common.waiters] volume 04f7a206-fac5-48e4-9c55-3c86020f3718 reached available after waiting for 11.231647 seconds
2022-04-27 00:35:08,807 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.569s
2022-04-27 00:35:08,807 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:08 GMT', 'server': 'Apache', 'content-length': '3904', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ac625aee-6acd-4cc6-bf4b-5d2a3daed266', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "name": "tempest-AttachVolumeMultiAttachTest-379792290-project", "password_expires_at": null}, "audit_ids": ["NL-77eXTQ5yK3msBB_vxTQ"], "expires_at": "2022-04-27T21:35:08.000000Z", "issued_at": "2022-04-26T21:35:08.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "04dc43a08ff44a1ca73bb95701a0f612", "name": "tempest-AttachVolumeMultiAttachTest-379792290"}, "is_domain": false, "roles": [{"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808
    736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-04-27 00:35:08,814 17218 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach) Found network None available for tenant
2022-04-27 00:35:09,122 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.307s
2022-04-27 00:35:09,122 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-AttachVolumeMultiAttachTest-server-2144464826", "imageRef": "", "flavorRef": "0", "block_device_mapping_v2": [{"uuid": "04f7a206-fac5-48e4-9c55-3c86020f3718", "source_type": "volume", "destination_type": "volume", "boot_index": 0, "delete_on_termination": false}], "networks": "none"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:08 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3e03829c-7ec8-4beb-a820-d5ac11080a0e', 'x-compute-request-id': 'req-3e03829c-7ec8-4beb-a820-d5ac11080a0e', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v
    2.1/servers'}
        Body: b'{"server": {"id": "766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "6omkxwPR3rZJ"}}'
2022-04-27 00:35:09,202 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf 0.076s
2022-04-27 00:35:09,202 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:09 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1571', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-9fbb9df7-65ef-40b2-bc12-b7bace7c3c0c', 'x-compute-request-id': 'req-9fbb9df7-65ef-40b2-bc12-b7bace7c3c0c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf'}
        Body: b'{"server": {"id": "766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf", "name": "tempest-AttachVolumeMultiAttachTest-server-2144464826", "status": "BUILD", "tenant_id": "04dc43a08ff44a1ca73bb95701a0f612", "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "metadata": {}, "hostId": "", "image": "", "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-04-26T21:35:09Z", "updated": "2022-04-26T21:35:09Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-2yrd55oj", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "tempest-attachvolumemultiattachtest-server-2144464826", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "", "locked": false, "description": null, "tags": []}}'
2022-04-27 00:35:10,315 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf 0.099s
2022-04-27 00:35:10,315 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:10 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4243', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-784f75f9-dde8-44e8-8643-323db299ffc4', 'x-compute-request-id': 'req-784f75f9-dde8-44e8-8643-323db299ffc4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774
    /v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf'}
        Body: b'{"server": {"id": "766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf", "name": "tempest-AttachVolumeMultiAttachTest-server-2144464826", "status": "ERROR", "tenant_id": "04dc43a08ff44a1ca73bb95701a0f612", "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "metadata": {}, "hostId": "", "image": "", "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-04-26T21:35:09Z", "updated": "2022-04-26T21:35:09Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-04-26T21:35:09Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000004f6", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-2yrd55oj", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "tempest-attachvolumemultiattachtest-server-2144464826", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "O
    S-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EX
2022-04-27 00:35:10,327 17218 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2022-04-27 00:35:10,672 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf 0.344s
2022-04-27 00:35:10,672 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:10 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-30d30607-8958-461c-b42d-c8eab8769c25', 'x-compute-request-id': 'req-30d30607-8958-461c-b42d-c8eab8769c25', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf'}
        Body: b''
2022-04-27 00:35:10,725 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf 0.052s
2022-04-27 00:35:10,725 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:10 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d71150ab-b286-45ef-9daa-9d58423fc288', 'x-compute-request-id': 'req-d71150ab-b286-45ef-9daa-9d58423fc288', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf could not be found."}}'

{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot_no_size [8.547506s] ... ok
{1} tempest.api.volume.admin.test_encrypted_volumes_extend.EncryptedVolumesExtendAttachedTest.test_extend_attached_encrypted_volume_luksv1 ... SKIPPED: Attached encrypted volume extend is disabled.
{2} tempest.api.compute.volumes.test_volume_snapshots.VolumesSnapshotsTestJSON.test_volume_snapshot_create_get_list_delete [6.012223s] ... ok
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_create_group_from_group_snapshot [12.547075s] ... ok
{2} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list [0.102232s] ... ok
{2} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_param_limit [0.103772s] ... ok
{2} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_param_offset_and_limit [0.197536s] ... ok
{2} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_detail_param_limit [0.108549s] ... ok
{2} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_detail_param_offset_and_limit [0.191818s] ... ok
{2} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_details [0.100575s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.199972s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.024877s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.013783s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.046934s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.012698s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.011638s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.049333s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.044814s] ... ok
{2} tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON.test_compare_volume_stats_values [0.072991s] ... ok
{2} tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON.test_get_capabilities_backend [0.039691s] ... ok
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_delete_group_snapshots_following_updated_volumes [16.466493s] ... ok
{2} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsV319Test.test_reset_group_snapshot_status ... SKIPPED: Skipped until bug: https://launchpad.net/bugs/1770179 is resolved.
{2} tempest.api.volume.admin.test_group_type_specs.GroupTypeSpecsTest.test_group_type_specs_create_show_update_list_delete [0.418050s] ... ok
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_group_snapshot_create_show_list_delete [9.106903s] ... ok
{2} tempest.api.volume.admin.test_group_types.GroupTypesTest.test_group_type_create_list_update_show [0.317673s] ... ok
{2} tempest.api.volume.admin.test_groups.GroupsV320Test.test_reset_group_status [3.023597s] ... ok
{1} tempest.api.volume.admin.test_groups.GroupsTest.test_group_create_show_list_delete [8.494326s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_associate_disassociate_qos [0.438205s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_back_end_consumer [0.126615s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_both_consumer [0.128286s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_front_end_consumer [0.126557s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_get_qos [0.026318s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_list_qos [0.031176s] ... ok
{2} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_set_unset_qos_key [0.150334s] ... ok
{1} tempest.api.volume.admin.test_groups.GroupsTest.test_group_update [10.478651s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_reset_snapshot_status [0.306462s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_creating [3.531997s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_deleting [3.574258s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_error [3.571508s] ... ok
{1} tempest.api.volume.admin.test_groups.GroupsV314Test.test_create_group_from_group [8.813197s] ... ok
{1} setUpClass (tempest.api.volume.admin.test_snapshot_manage.SnapshotManageAdminTest) ... SKIPPED: Manage snapshot tests are disabled
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_error_deleting [3.565726s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_update_snapshot_status [0.208463s] ... ok
{1} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_show_default_quota [0.363907s] ... ok
{1} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_update_default_quota [1.991810s] ... ok
{2} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_delete_message [2.085452s] ... ok
{2} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_list_show_messages [1.900213s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_delete_quota [0.996520s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_list_default_quotas [0.160882s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_list_quotas [0.193283s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage [4.290473s] ... ok
{2} tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_list_hosts [0.126550s] ... ok
{2} tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_show_host [0.378360s] ... ok
{2} setUpClass (tempest.api.volume.admin.test_volume_manage.VolumeManageAdminTest) ... SKIPPED: Manage volume tests are disabled
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage_after_volume_transfer [5.537586s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_show_quota_usage [0.192667s] ... ok
{2} tempest.api.volume.admin.test_volume_pools.VolumePoolsAdminTestsJSON.test_get_pools_without_details [0.196735s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_update_all_quota_resources_for_tenant [0.718144s] ... ok
{2} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_quota_volume_gigabytes [1.077142s] ... ok
{2} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_quota_volumes [0.925128s] ... ok
{2} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_volume_extend_gigabytes_quota_deviation [0.467209s] ... ok
{1} tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithoutMigrationTest.test_available_volume_retype [4.774861s] ... ok
{2} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_host_name [0.034550s] ... ok
{2} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_service_and_host_name [0.030561s] ... ok
{2} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_service_binary_name [0.026967s] ... ok
{1} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_disable_log_reason_with_no_reason [0.019143s] ... ok
{1} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_disable_service_with_invalid_binary [0.025687s] ... ok
{1} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_enable_service_with_invalid_host [0.025739s] ... ok
{1} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_freeze_host_with_invalid_host [0.028440s] ... ok
{1} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_thaw_host_with_invalid_host [0.022984s] ... ok
{2} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_volume_host_name [2.899792s] ... ok
{2} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_list_services [0.024592s] ... ok
{2} tempest.api.volume.admin.test_volume_type_access.VolumeTypesAccessTest.test_volume_type_access_list [0.326763s] ... ok
{1} tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_gigabytes_snapshots [0.729453s] ... ok
{1} tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_snapshots [0.140872s] ... ok
{2} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_create_get_delete [0.215512s] ... ok
{2} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_encryption_create_get_update_delete [0.502081s] ... ok
{2} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_list [0.041535s] ... ok
{2} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_update [0.418148s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_spec_create_get_delete [0.222171s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_specs_list [0.109388s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_specs_update [0.308466s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_invalid_body [0.017869s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_none_body [0.016782s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_nonexistent_type_id [0.089113s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_delete_nonexistent_volume_type_id [0.027423s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_get_nonexistent_extra_spec_name [0.027702s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_get_nonexistent_volume_type_id [0.026732s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_list_nonexistent_volume_type_id [0.027248s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_multiple_extra_spec [0.022789s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_no_body [0.017960s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_none_extra_spec_id [0.070732s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_nonexistent_extra_spec_id [0.067270s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_nonexistent_type_id [0.066175s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_volume_type_encryption_nonexistent_type_id [0.216060s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_empty_name [0.012519s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_repeated_name [0.081142s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_delete_nonexistent_type_id [0.020898s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_get_nonexistent_type_id [0.019500s] ... ok
{1} tempest.api.volume.admin.test_volumes_list.VolumesListAdminTestJSON.test_volume_list_param_tenant [2.860861s] ... ok
{1} tempest.api.volume.test_availability_zone.AvailabilityZoneTestJSON.test_get_availability_zone_list [0.139767s] ... ok
{1} tempest.api.volume.test_image_metadata.VolumesImageMetadata.test_update_show_delete_image_metadata [0.218225s] ... ok
{1} tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON.test_crud_snapshot_metadata [0.299206s] ... ok
{1} tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON.test_update_show_snapshot_metadata_item [0.270675s] ... ok
{1} tempest.api.volume.test_versions.VersionsTest.test_list_versions [0.013655s] ... ok
{1} tempest.api.volume.test_versions.VersionsTest.test_show_version [0.133902s] ... ok
{1} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_delete_cascade [9.056252s] ... ok
{1} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_from_snapshot_cascade_delete [9.054364s] ... ok
{1} tempest.api.volume.test_volume_metadata.VolumesMetadataTest.test_crud_volume_metadata [0.321686s] ... ok
{1} tempest.api.volume.test_volume_metadata.VolumesMetadataTest.test_update_show_volume_metadata_item [0.214556s] ... ok
{2} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_force_detach_volume [205.446430s] ... ok
{2} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_attaching [3.771904s] ... ok
{2} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_creating [3.768996s] ... ok
{2} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_error [3.780574s] ... ok
{2} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_maintenance [3.755636s] ... ok
{2} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_reset_status [2.987108s] ... ok
{2} tempest.api.volume.test_extensions.ExtensionsTestJSON.test_list_extensions [0.145327s] ... ok
{2} tempest.api.volume.test_volume_absolute_limits.AbsoluteLimitsTests.test_get_volume_absolute_limits [0.200546s] ... ok
{2} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_get_list_accept_volume_transfer [5.448455s] ... ok
{2} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_list_delete_volume_transfer [2.832212s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_attach_detach_volume_to_instance [169.972001s] ... ok
{2} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_get_list_accept_volume_transfer [5.801624s] ... ok
{2} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_list_delete_volume_transfer [3.908051s] ... ok
{2} tempest.api.volume.test_volumes_clone_negative.VolumesCloneNegativeTest.test_create_from_volume_decreasing_size [2.830330s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_get_volume_attachment [230.244758s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_reserve_unreserve_volume [0.257285s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_bootable [0.207907s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_readonly_update [0.208597s] ... ok
{1} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_upload [16.314445s] ... ok
{1} tempest.api.volume.test_volumes_clone.VolumesCloneTest.test_create_from_bootable_volume [18.209857s] ... ok
{1} tempest.api.volume.test_volumes_clone.VolumesCloneTest.test_create_from_volume [6.528969s] ... ok
{1} tempest.api.volume.test_volumes_get.VolumesSummaryTest.test_show_volume_summary [0.187085s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list [0.073808s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_by_name [0.071704s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_by_name [0.083925s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_pagination [0.349065s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_with_multiple_params [0.174078s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_pagination [0.293401s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_param_display_name_and_status [0.065998s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_display_name_and_status [0.083585s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_marker [0.084900s] ... ok
{2} tempest.api.volume.test_volumes_extend.VolumesExtendAttachedTest.test_extend_attached_volume [280.403013s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_metadata [0.094360s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_details [0.095350s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_param_metadata [0.078098s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_availability_zone [0.139526s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_bootable [0.148956s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_status [0.138547s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_availability_zone [0.088889s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_bootable [0.085578s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_status [0.085654s] ... ok
{2} tempest.api.volume.test_volumes_extend.VolumesExtendTest.test_volume_extend [11.669682s] ... ok
{2} tempest.api.volume.test_volumes_extend.VolumesExtendTest.test_volume_extend_when_volume_has_snapshot [6.243446s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete [7.869744s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_as_clone [11.236109s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_from_image [15.140137s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_attach_volumes_with_nonexistent_volume_id [227.780994s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_from_deactivated_image [0.527095s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_from_image_with_decreasing_size [0.348539s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.017947s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_snapshot_id [0.031230s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_source_volid [0.030419s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_volume_type [0.033024s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_negative [0.016031s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.015696s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.016597s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.027655s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.014733s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_detach_volumes_with_invalid_volume_id [0.028929s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_get_invalid_volume_id [0.033879s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.013319s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_detail_with_invalid_status [0.077917s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_detail_with_nonexistent_name [0.079155s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_with_invalid_status [0.067343s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_with_nonexistent_name [0.070799s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_reserve_volume_with_negative_volume_status [0.135039s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_reserve_volume_with_nonexistent_volume_id [0.028942s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_unreserve_volume_with_nonexistent_volume_id [0.027459s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_empty_volume_id [0.012977s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_invalid_volume_id [0.027722s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_nonexistent_volume_id [0.025793s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.026393s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_None_size [0.016438s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_non_number_size [0.016091s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_nonexistent_volume_id [0.027405s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_size_smaller_than_original_size [0.015175s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_without_passing_volume_id [0.026541s] ... ok
{1} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.026693s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit [0.041592s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit_equals_infinite [0.083181s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit_equals_zero [0.025333s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_marker [0.087739s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_offset [0.040180s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_created_at_asc [0.041094s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_created_at_desc [0.040491s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_id_asc [0.043462s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_id_desc [0.041779s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_name_asc [0.041847s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_name_desc [0.041690s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshots_list_details_with_params [0.126230s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshots_list_with_params [0.123105s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_with_nonexistent_volume_id [0.128389s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_without_passing_volume_id [0.028047s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshot_invalid_param_limit [0.017143s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_marker [0.024382s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_sort [0.016981s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_volume_from_snapshot_decreasing_size [5.087333s] ... ok

==============================
Failed 8 tests - output below:
==============================

tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_delete_with_volume_in_use[compute,id-8567b54c-4455-446d-a1cf-651ddeaa3ff2]
-----------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 48, in test_snapshot_create_delete_with_volume_in_use
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 00f876cd-490b-4264-a683-6297e276ce44 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-04-26T21:34:47Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-27 00:34:40,851 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://controller:5000/v3/auth/tokens 0.566s
2022-04-27 00:34:40,851 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache', 'content-length': '3896', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-c3bb4023-94fa-4a59-b06e-6278a34c63ad', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "cf8a9949ba5c42b28e3e8f1ff2819111", "name": "tempest-VolumesSnapshotTestJSON-190360460-project", "password_expires_at": null}, "audit_ids": ["VugxLaljStGvtPMC3XbRyQ"], "expires_at": "2022-04-27T21:34:40.000000Z", "issued_at": "2022-04-26T21:34:40.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "name": "tempest-VolumesSnapshotTestJSON-190360460"}, "is_domain": false, "roles": [{"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0fcdfe7dbccf4c6bae3caafb6b11074a", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0fcdfe7dbccf4c6bae3caafb6b11074a", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url":
     "http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-04-27 00:34:40,852 17216 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-04-27 00:34:40,954 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:35357/v3/projects 0.101s
2022-04-27 00:34:40,954 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesSnapshotTestJSON-1978048734-desc", "domain_id": "default", "name": "tempest-VolumesSnapshotTestJSON-1978048734"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache', 'content-length': '383', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-669c037d-b4c7-420d-a68e-a2ffcbd4d2e1', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects'}
        Body: b'{"project": {"id": "3bf4523142164d4db15556117af9eb2d", "name": "tempest-VolumesSnapshotTestJSON-1978048734", "domain_id": "default", "description": "tempest-VolumesSnapshotTestJSON-1978048734-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/projects/3bf4523142164d4db15556117af9eb2d"}}}\n'
2022-04-27 00:34:41,513 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:35357/v3/users 0.558s
2022-04-27 00:34:41,514 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesSnapshotTestJSON-1978048734-project-admin", "password": "C4!CMVVsuf&uuFf", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache', 'content-length': '298', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e34f8fc0-8927-4563-a257-1ca90929bf0a', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/users'}
        Body: b'{"user": {"id": "457911f32944461389228a383129fead", "name": "tempest-VolumesSnapshotTestJSON-1978048734-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/users/457911f32944461389228a383129fead"}}}\n'
2022-04-27 00:34:41,545 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.030s
2022-04-27 00:34:41,546 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-86e6873d-e5d5-44ee-a42e-daa9803ba348', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": 
    null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:41,592 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/3bf4523142164d4db15556117af9eb2d/users/457911f32944461389228a383129fead/roles/98b47d94b3e541b2804787a80c29845f 0.046s
2022-04-27 00:34:41,593 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e6ebceb2-8329-4de1-bd12-2f8a5e82d3d7', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/3bf4523142164d4db15556117af9eb2d/users/457911f32944461389228a383129fead/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:41,683 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.090s
2022-04-27 00:34:41,684 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ac3a2d55-5db3-4f62-9f51-61271880b367', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:41,725 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/457911f32944461389228a383129fead/roles/98b47d94b3e541b2804787a80c29845f 0.040s
2022-04-27 00:34:41,725 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
     
       Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-c5305a95-3bcc-4f95-aa62-950875257fce', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/457911f32944461389228a383129fead/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:41,804 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.078s
2022-04-27 00:34:41,805 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-05e68538-a5ae-4671-b754-c3a6efc738f7', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:41,841 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/3bf4523142164d4db15556117af9eb2d/users/457911f32944461389228a383129fead/roles/98b47d94b3e541b2804787a80c29845f 0.035s
2022-04-27 00:34:41,841 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ac252cbd-c490-4e43-a3fb-45e1d971850c', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/3bf4523142164d4db15556117af9eb2d/users/457911f32944461389228a383129fead/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:41,923 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.080s
2022-04-27 00:34:41,923 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-d4eb6d42-e0ea-4388-ae0d-0a52087d7611', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a5716
    98f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:41,959 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/3bf4523142164d4db15556117af9eb2d/users/457911f32944461389228a383129fead/roles/98b47d94b3e541b2804787a80c29845f 0.035s
2022-04-27 00:34:41,959 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-18895506-346f-4960-8aa8-37ea2b0626db', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/3bf4523142164d4db15556117af9eb2d/users/457911f32944461389228a383129fead/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:41,960 17216 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 457911f32944461389228a383129fead is created with scope project and roles: ['admin', 'admin']
2022-04-27 00:34:41,960 17216 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesSnapshotTestJSON-1978048734-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '3bf4523142164d4db15556117af9eb2d', 'project_name': 'tempest-VolumesSnapshotTestJSON-1978048734', 'tenant_id': '3bf4523142164d4db15556117af9eb2d', 'tenant_name': 'tempest-VolumesSnapshotTestJSON-1978048734', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '457911f32944461389228a383129fead', 'system': None}, Network: None, Subnet: None, Router: None
2022-04-27 00:34:41,968 17216 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use) Found network None available for tenant
2022-04-27 00:34:42,410 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.440s
2022-04-27 00:34:42,410 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-908959771", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c98db307-d558-48d7-8930-db930a6c23ef', 'x-compute-request-id': 'req-c98db307-d558-48d7-8930-db930a6c23ef', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "00f876cd-490b-4264-a683-6297e276ce44", "links": [{"rel": "self", "href": "http://192.168
    .23.253:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/00f876cd-490b-4264-a683-6297e276ce44"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "J9VqBWk2dCtE"}}'
2022-04-27 00:34:42,552 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44 0.138s
2022-04-27 00:34:42,552 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:42 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b02bd650-2bf9-403e-bb12-4085342ea3da', 'x-compute-request-id': 'req-b02bd650-2bf9-403e-bb12-4085342ea3da', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44'}
        Body: b'{"server": {"id": "00f876cd-490b-4264-a683-6297e276ce44", "name": "tempest-VolumesSnapshotTestJSON-instance-908959771", "status": "BUILD", "tenant_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "user_id": "cf8a9949ba5c42b28e3e8f1ff2819111", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:42Z", "updated": "2022-04-26T21:34:42Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/00f876cd-490b-4264-a683-6297e276ce44"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:43,638 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44 0.075s
2022-04-27 00:34:43,638 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:43 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-e4d31806-0e41-4f83-a2cc-996480ae6c4d', 'x-compute-request-id': 'req-e4d31806-0e41-4f83-a2cc-996480ae6c4d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44'}
        Body: b'{"server": {"id": "00f876cd-490b-4264-a683-6297e276ce44", "name": "tempest-VolumesSnapshotTestJSON-instance-908959771", "status": "BUILD", "tenant_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "user_id": "cf8a9949ba5c42b28e3e8f1ff2819111", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/imag
    es/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:42Z", "updated": "2022-04-26T21:34:43Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/00f876cd-490b-4264-a683-6297e276ce44"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:44,721 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44 0.072s
2022-04-27 00:34:44,721 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:44 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d032d5d6-9b7b-4c1b-9997-1d46c0286e1a', 'x-compute-request-id': 'req-d032d5d6-9b7b-4c1b-9997-1d46c0286e1a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44'}
        Body: b'{"server": {"id": "00f876cd-490b-4264-a683-6297e276ce44", "name": "tempest-VolumesSnapshotTestJSON-instance-908959771", "status": "BUILD", "tenant_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "user_id": "cf8a9949ba5c42b28e3e8f1ff2819111", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:42Z", "updated": "2022-04-26T21:34:44Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/00f876cd-490b-4264-a683-6297e276ce44"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:45,810 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44 0.077s
2022-04-27 00:34:45,810 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:45 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-91129505-4f5a-4067-a0fd-a30b
    56fce9c2', 'x-compute-request-id': 'req-91129505-4f5a-4067-a0fd-a30b56fce9c2', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44'}
        Body: b'{"server": {"id": "00f876cd-490b-4264-a683-6297e276ce44", "name": "tempest-VolumesSnapshotTestJSON-instance-908959771", "status": "BUILD", "tenant_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "user_id": "cf8a9949ba5c42b28e3e8f1ff2819111", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:42Z", "updated": "2022-04-26T21:34:45Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/00f876cd-490b-4264-a683-6297e276ce44"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:46,894 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44 0.073s
2022-04-27 00:34:46,894 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:46 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7f6552f6-7dca-4188-a3c5-35a2d53a5a87', 'x-compute-request-id': 'req-7f6552f6-7dca-4188-a3c5-35a2d53a5a87', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44'}
        Body: b'{"server": {"id": "00f876cd-490b-4264-a683-6297e276ce44", "name": "tempest-VolumesSnapshotTestJSON-instance-908959771", "status": "BUILD", "tenant_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "user_id": "cf8a9949ba5c42b28e3e8f1ff2819111", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:42Z", "updated": "2022-04-26T21:34:46Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/00f876cd-490b-4264-a683-6297e276ce44"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:48,000 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot
    _create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44 0.094s
2022-04-27 00:34:48,000 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:47 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '3920', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-31057ff1-f3f3-43cd-9e7e-60d6233ad1e8', 'x-compute-request-id': 'req-31057ff1-f3f3-43cd-9e7e-60d6233ad1e8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44'}
        Body: b'{"server": {"id": "00f876cd-490b-4264-a683-6297e276ce44", "name": "tempest-VolumesSnapshotTestJSON-instance-908959771", "status": "ERROR", "tenant_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "user_id": "cf8a9949ba5c42b28e3e8f1ff2819111", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:42Z", "updated": "2022-04-26T21:34:47Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/00f876cd-490b-4264-a683-6297e276ce44"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-04-26T21:34:47Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/
    lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000004ee", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:48,010 17216 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 6 second wait
2022-04-27 00:34:48,389 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44 0.379s
2022-04-27 00:34:48,390 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:48 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1fb2b839-5cd5-4d04-a7fb-6f82e96136ac', 'x-compute-request-id': 'req-1fb2b839-5cd5-4d04-a7fb-6f82e96136ac', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44'}
        Body: b''
2022-04-27 00:34:48,426 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44 0.035s
2022-04-27 00:34:48,426 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:48 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-fbbdb33e-6363-4172-b382-db14a490e7c0', 'x-compute-request-id': 'req-fbbdb33e-6363-4172-b382-db14a490e7c0', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/00f876cd-490b-4264-a683-6297e276ce44'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 00f876cd-490b-4264-a683-6297e276ce44 could not be found."}}'


tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_attach_attached_volume_to_different_server[id-ee37a796-2afb-11e7-bc0f-fa163e65f5ce,negative]
----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume_negative.py", line 69, in test_attach_attached_volume_to_different_server
    server1 = self.create_test_server(wait_until='ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/base.py", line 272, in create_test_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server c7b36953-3e64-4f12-86d3-5527386245cf failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-04-26T21:34:49Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-27 00:34:39,061 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 201 POST http://controller:5000/v3/auth/tokens 0.518s
2022-04-27 00:34:39,061 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:38 GMT', 'server': 'Apache', 'content-length': '3900', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-054149d4-36e3-4283-a940-85d1160f7a11', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "00c1fd941beb4beca8cde3518ccd1074", "name": "tempest-AttachVolumeNegativeTest-1913639363-project", "password_expires_at": null}, "audit_ids": ["qN7NpmsKQ_W6e4I5QyF2OA"], "expires_at": "2022-04-27T21:34:39.000000Z", "issued_at": "2022-04-26T21:34:39.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "3db295dda5b74dcaacb9173b7ae4ebfc", "name": "tempest-AttachVolumeNegativeTest-1913639363"}, "is_domain": false, "roles": [{"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", 
    "url": "http://[LB_IP_ADDRESS]:8776/v3/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-04-27 00:34:39,062 17217 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-04-27 00:34:39,188 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 201 POST http://[LB_IP_ADDRESS]:35357/v3/projects 0.125s
2022-04-27 00:34:39,189 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-AttachVolumeNegativeTest-1579772757-desc", "domain_id": "default", "name": "tempest-AttachVolumeNegativeTest-1579772757"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:39 GMT', 'server': 'Apache', 'content-length': '385', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e657cb9c-eee0-4660-b98d-27034804499d', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects'}
        Body: b'{"project": {"id": "9a70a16ea92346dd877b870d01e2aec1", "name": "tempest-AttachVolumeNegativeTest-1579772757", "domain_id": "default", "description": "tempest-AttachVolumeNegativeTest-1579772757-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/projects/9a70a16ea92346dd877b870d01e2aec1"}}}\n'
2022-04-27 00:34:39,763 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 201 POST http://[LB_IP_ADDRESS]:35357/v3/users 0.573s
2022-04-27 00:34:39,764 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-AttachVolumeNegativeTest-1579772757-project-admin", "password": "X1*m#h4NOdz7I6s", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:39 GMT', 'server': 'Apache', 'content-length': '299', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0564825f-55b2-4bd1-8f0b-20223c1f7d1e', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/users'}
        Body: b'{"user": {"id": "64b37a2ef52e43ae8e52d58d6498b061", "name": "tempest-AttachVolumeNegativeTest-1579772757-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/users/64b37a2ef52e43ae8e52d58d6498b061"}}}\n'
2022-04-27 00:34:39,841 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.077s
2022-04-27 00:34:39,841 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:39 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-238b4dab-f487-41d0-944a-d59ab1fab28d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "read
    er", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:39,890 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/9a70a16ea92346dd877b870d01e2aec1/users/64b37a2ef52e43ae8e52d58d6498b061/roles/98b47d94b3e541b2804787a80c29845f 0.047s
2022-04-27 00:34:39,890 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:39 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-be3dc093-9fea-47c0-8f09-126c8e6ca8d9', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/9a70a16ea92346dd877b870d01e2aec1/users/64b37a2ef52e43ae8e52d58d6498b061/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:39,972 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.081s
2022-04-27 00:34:39,973 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:39 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3c8cbd2d-7b38-4a9c-9f5b-e80166c2c21c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:40,014 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/64b37a2ef52e43ae8e52d58d6498b061/roles/98b47d94b3e541b2804787a80c29845f 0.040s
2022-04-27 00:34:40,015 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-To
    ken': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:39 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-32b6d162-6a57-442b-ae14-1ef49632153c', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/64b37a2ef52e43ae8e52d58d6498b061/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:40,103 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.087s
2022-04-27 00:34:40,103 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-56897bd2-ff65-4ef3-9bdf-2a03e1c8a121', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:40,139 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/9a70a16ea92346dd877b870d01e2aec1/users/64b37a2ef52e43ae8e52d58d6498b061/roles/98b47d94b3e541b2804787a80c29845f 0.034s
2022-04-27 00:34:40,139 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-eef69fdf-eeb9-4706-a178-8590fd67f51c', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/9a70a16ea92346dd877b870d01e2aec1/users/64b37a2ef52e43ae8e52d58d6498b061/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:40,224 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.084s
2022-04-27 00:34:40,225 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-19f248a3-f3fc-440e-aefd-517fa2c23321', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/ro
    les/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:40,261 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/9a70a16ea92346dd877b870d01e2aec1/users/64b37a2ef52e43ae8e52d58d6498b061/roles/98b47d94b3e541b2804787a80c29845f 0.036s
2022-04-27 00:34:40,262 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e9714da4-2afc-4d81-8bca-3b1404208c78', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/9a70a16ea92346dd877b870d01e2aec1/users/64b37a2ef52e43ae8e52d58d6498b061/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:40,262 17217 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 64b37a2ef52e43ae8e52d58d6498b061 is created with scope project and roles: ['admin', 'admin']
2022-04-27 00:34:40,263 17217 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-AttachVolumeNegativeTest-1579772757-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '9a70a16ea92346dd877b870d01e2aec1', 'project_name': 'tempest-AttachVolumeNegativeTest-1579772757', 'tenant_id': '9a70a16ea92346dd877b870d01e2aec1', 'tenant_name': 'tempest-AttachVolumeNegativeTest-1579772757', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '64b37a2ef52e43ae8e52d58d6498b061', 'system': None}, Network: None, Subnet: None, Router: None
2022-04-27 00:34:40,271 17217 INFO     [tempest.lib.common.fixed_network] (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server) Found network None available for tenant
2022-04-27 00:34:40,919 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.647s
2022-04-27 00:34:40,919 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-AttachVolumeNegativeTest-server-1981074410", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-32477bce-5b69-44a8-bcd1-40a720b5f4a5', 'x-compute-request-id': 'req-32477bce-5b69-44a8-bcd1-40a720b5f4a5', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "links": [
    {"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "gdpehFYW3BLQ"}}'
2022-04-27 00:34:41,249 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.325s
2022-04-27 00:34:41,250 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b224872a-9612-4d00-809e-1918aab097e0', 'x-compute-request-id': 'req-b224872a-9612-4d00-809e-1918aab097e0', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "name": "tempest-AttachVolumeNegativeTest-server-1981074410", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:40Z", "updated": "2022-04-26T21:34:40Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:42,528 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.267s
2022-04-27 00:34:42,528 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:42 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f7da212f-2098-494b-9e81-2e24c0bb8dc5', 'x-compute-request-id': 'req-f7da212f-2098-494b-9e81-2e24c0bb8dc5', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "name": "tempest-AttachVolumeNegativeTest-server-1981074410", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark
    ", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:40Z", "updated": "2022-04-26T21:34:42Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:43,614 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.075s
2022-04-27 00:34:43,615 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:43 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7a94aafc-2ecb-48bb-b668-b6a125c09328', 'x-compute-request-id': 'req-7a94aafc-2ecb-48bb-b668-b6a125c09328', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "name": "tempest-AttachVolumeNegativeTest-server-1981074410", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:40Z", "updated": "2022-04-26T21:34:43Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:44,703 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.077s
2022-04-27 00:34:44,703 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:44 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack
    -request-id': 'req-f50ce30d-a7a7-4cef-8543-887b58a50b37', 'x-compute-request-id': 'req-f50ce30d-a7a7-4cef-8543-887b58a50b37', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "name": "tempest-AttachVolumeNegativeTest-server-1981074410", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:40Z", "updated": "2022-04-26T21:34:44Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:45,787 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.073s
2022-04-27 00:34:45,787 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:45 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1ac3eb4a-e84a-43c3-a4dd-94d9a301de81', 'x-compute-request-id': 'req-1ac3eb4a-e84a-43c3-a4dd-94d9a301de81', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "name": "tempest-AttachVolumeNegativeTest-server-1981074410", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:40Z", "updated": "2022-04-26T21:34:45Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:46,871 17217 INFO     [tempest.lib.common.rest_clien
    t] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.072s
2022-04-27 00:34:46,871 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:46 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6ae4f7e5-deda-424b-a779-c579ce0507f5', 'x-compute-request-id': 'req-6ae4f7e5-deda-424b-a779-c579ce0507f5', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "name": "tempest-AttachVolumeNegativeTest-server-1981074410", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:40Z", "updated": "2022-04-26T21:34:46Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:47,955 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.072s
2022-04-27 00:34:47,955 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:47 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d38611cf-41fd-466a-9c02-f562f5a2d816', 'x-compute-request-id': 'req-d38611cf-41fd-466a-9c02-f562f5a2d816', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "name": "tempest-AttachVolumeNegativeTest-server-1981074410", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:40Z", "updated": "2022-04-26T21:34:47Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/se
    rvers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:49,037 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.070s
2022-04-27 00:34:49,037 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:48 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-29a1fd01-c854-4e10-8530-53625eb0c61e', 'x-compute-request-id': 'req-29a1fd01-c854-4e10-8530-53625eb0c61e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "name": "tempest-AttachVolumeNegativeTest-server-1981074410", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:40Z", "updated": "2022-04-26T21:34:48Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:50,150 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.102s
2022-04-27 00:34:50,151 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:50 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '3920', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5ff714d4-1ed1-4bb1-8c6c-416bd3fa05d4', 'x-compute-request-id': 'req-5ff714d4-1ed1-4bb1-8c6c-416bd3fa05d4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"server": {"id": "c7b36953-3e64-4f12-86d3-5527386245cf", "name":
     "tempest-AttachVolumeNegativeTest-server-1981074410", "status": "ERROR", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:40Z", "updated": "2022-04-26T21:34:49Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/c7b36953-3e64-4f12-86d3-5527386245cf"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-04-26T21:34:49Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000004ef", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:50,161 17217 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 9 second wait
2022-04-27 00:34:50,474 17217 INFO   
      [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.312s
2022-04-27 00:34:50,475 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:50 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-070d68ff-b555-40a5-8714-90f0316d5362', 'x-compute-request-id': 'req-070d68ff-b555-40a5-8714-90f0316d5362', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b''
2022-04-27 00:34:50,506 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_different_server): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf 0.031s
2022-04-27 00:34:50,507 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:50 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b78a3450-9175-4b59-bc9b-8c4dcd4622f2', 'x-compute-request-id': 'req-b78a3450-9175-4b59-bc9b-8c4dcd4622f2', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/c7b36953-3e64-4f12-86d3-5527386245cf'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance c7b36953-3e64-4f12-86d3-5527386245cf could not be found."}}'


tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_boot_from_multiattach_volume[id-65e33aa2-185b-44c8-b22e-e524973ed625]
-----------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 454, in test_boot_from_multiattach_volume
    self._boot_from_multiattach_volume()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 443, in _boot_from_multiattach_volume
    image_id='', block_device_mapping_v2=bdm, wait_until='ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/base.py", line 272, in create_test_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server a9eb20cc-3c53-4db2-bc82-7211ba56de33 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-04-26T21:34:53Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-27 00:34:39,276 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 202 POST http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes 0.636s
2022-04-27 00:34:39,276 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"multiattach": true, "size": 1, "display_name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:38 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '853', 'x-compute-request-id': 'req-87cb513e-c0bf-4bf1-8b0e-d89333513a28', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-87cb513e-c0bf-4bf1-8b0e-d89333513a28', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.215013", "updated_at": null, "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null}}'
2022-04-27 00:34:39,334 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.046s
2022-04-27 00:34:39,334 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:39 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1032', 'x-compute-request-id': 'req-6f85ab40-81a5-440b-912b-4965d9cb8315', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-6f85ab40-81a5-440b-912b-4965d9cb8315', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": null, "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": null, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:40,385 17218 INFO     [tempest
    .lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.041s
2022-04-27 00:34:40,385 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:40 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1148', 'x-compute-request-id': 'req-3b98bef0-8183-4468-b701-fbb65e5c5260', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-3b98bef0-8183-4468-b701-fbb65e5c5260', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:39.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:41,439 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.043s
2022-04-27 00:34:41,439 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:41 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1148', 'x-compute-request-id': 'req-dc17506d-3ab5-4b1d-b2a0-6a96b4119a69', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-dc17506d-3ab5-4b1d-b2a0-6a96b4119a69', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:39.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGH
    TOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:42,493 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.043s
2022-04-27 00:34:42,494 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:42 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-149d233f-6eaf-4f02-851d-0b69898c830a', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-149d233f-6eaf-4f02-851d-0b69898c830a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:41.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:43,548 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.044s
2022-04-27 00:34:43,548 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:43 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-19b811c7-6c6d-46c7-997e-e6761ea6f234', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-19b811c7-6c6d-46c7-997e-e6761ea6f234', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:41.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4
    -a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:44,604 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.045s
2022-04-27 00:34:44,604 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:44 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-5f6a746a-9632-4e07-a35b-929e49322059', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-5f6a746a-9632-4e07-a35b-929e49322059', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:41.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:45,668 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.052s
2022-04-27 00:34:45,668 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:45 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-b1b745a1-d5a6-4689-9e55-0c38e7b5105d', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-b1b745a1-d5a6-4689-9e55-0c38e7b5105d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:41.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": nul
    l, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:46,720 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.041s
2022-04-27 00:34:46,720 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:46 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-d3ed8a8e-4af2-48da-98ee-dc67c68d3496', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-d3ed8a8e-4af2-48da-98ee-dc67c68d3496', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:41.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:47,773 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.043s
2022-04-27 00:34:47,774 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:47 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-9015422c-a38e-4659-b914-58cf4b53b63e', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-9015422c-a38e-4659-b914-58cf4b53b63e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "downloading", "si
    ze": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:41.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:48,828 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.044s
2022-04-27 00:34:48,829 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:48 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-5d074d1b-2217-445a-b7ad-7778787f3d22', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-5d074d1b-2217-445a-b7ad-7778787f3d22', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:41.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:49,884 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274 0.044s
2022-04-27 00:34:49,884 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:49 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1507', 'x-compute-request-id': 'req-cf9f8186-8416-4c9c-be0d-40b92e5bd20f', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-cf9f8186-8416-4c9c-be0d-40b92e5bd20f', 'connection': 'close', 'conte
    nt-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274'}
        Body: b'{"volume": {"id": "5f6da0e3-6755-49b4-a83b-0057a8447274", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:39.000000", "updated_at": "2022-04-26T21:34:49.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-148703915", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/5f6da0e3-6755-49b4-a83b-0057a8447274"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "true", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False", "owner_specified.openstack.md5": "", "owner_specified.openstack.sha256": "", "owner_specified.openstack.object": "images/cirros", "image_id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "image_name": "cirros", "checksum": "443b7623e27ecf03dc9e01ee93f67afe", "container_format": "bare", "disk_format": "qcow2", "min_disk": "0", "min_ram": "0", "size": "12716032"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:49,893 17218 INFO     [tempest.common.waiters] volume 5f6da0e3-6755-49b4-a83b-0057a8447274 reached available after waiting for 10.893696 seconds
2022-04-27 00:34:50,455 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 201 POST http://controller:5000/v3/auth/tokens 0.554s
2022-04-27 00:34:50,455 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:49 GMT', 'server': 'Apache', 'content-length': '3904', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8ea035ef-2fa0-4f3b-874d-704cca88d085', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "name": "tempest-AttachVolumeMultiAttachTest-379792290-project", "password_expires_at": null}, "audit_ids": ["T9Gs8-L5STaFYeay-m7XNw"], "expires_at": "2022-04-27T21:34:50.000000Z", "issued_at": "2022-04-26T21:34:50.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "04dc43a08ff44a1ca73bb95701a0f612", "name": "tempest-AttachVolumeMultiAttachTest-379792290"}, "is_domain": false, "roles": [{"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "htt
    p://[LB_IP_ADDRESS]:8774/v2/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-04-27 00:34:50,456 17218 DEBUG    [tempest.lib.common.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2022-04-27 00:34:50,549 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 201 POST http://[LB_IP_ADDRESS]:35357/v3/projects 0.092s
2022-04-27 00:34:50,550 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-AttachVolumeMultiAttachTest-1905746835-desc", "domain_id": "default", "name": "tempest-AttachVolumeMultiAttachTest-1905746835"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:50 GMT', 'server': 'Apache', 'content-length': '391', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-cee3b02a-c8b8-4af5-aeb1-ed239ec72430', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects'}
        Body: b'{"project": {"id": "58dc7649b3c644a79b5c72c14abae0c9", "name": "tempest-AttachVolumeMultiAttachTest-1905746835", "domain_id": "default", "description": "tempest-AttachVolumeMultiAttachTest-1905746835-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/projects/58dc7649b3c644a79b5c72c14abae0c9"}}}\n'
2022-04-27 00:34:51,142 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 201 POST http://[LB_IP_ADDRESS]:35357/v
    3/users 0.591s
2022-04-27 00:34:51,142 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-AttachVolumeMultiAttachTest-1905746835-project-admin", "password": "P8=Q+fbKANkeiyM", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:50 GMT', 'server': 'Apache', 'content-length': '302', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-339e9401-cda3-4d71-9431-7ab71d176514', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/users'}
        Body: b'{"user": {"id": "69a79652d3664dbc892d46a66f2adbd5", "name": "tempest-AttachVolumeMultiAttachTest-1905746835-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/users/69a79652d3664dbc892d46a66f2adbd5"}}}\n'
2022-04-27 00:34:51,173 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.029s
2022-04-27 00:34:51,173 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-dbe0d90e-e0f7-43a6-90f7-a9aa9058a789', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:51,223 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/58dc7649b3c644a79b5c72c14abae0c9/users/69a79652d3664dbc892d46a66f2adbd5/roles/98b47d94b3e541b2804787a80c29845f 0.049s
2022-04-27 00:34:51,223 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7c93cb0f-2463-4fd8-87b9-477a796d4547', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/58dc7649b3c644a79b5c72c14abae0c9/users/69a79652d3664dbc892d46a66f2adbd5/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:51,301 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.077s
2022-04-27 00:34:51,302 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body:
     None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-cda2c94a-1a51-4d52-9667-394998f2d7c3', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:51,337 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/69a79652d3664dbc892d46a66f2adbd5/roles/98b47d94b3e541b2804787a80c29845f 0.035s
2022-04-27 00:34:51,338 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-5bd7013f-efd8-43c3-9755-96f2c0c1c5ff', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/domains/default/users/69a79652d3664dbc892d46a66f2adbd5/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:51,419 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.080s
2022-04-27 00:34:51,419 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ae6f82e9-c6e5-4edc-9b5b-2af45f043b38', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:51,456 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest
    :test_boot_from_multiattach_volume): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/58dc7649b3c644a79b5c72c14abae0c9/users/69a79652d3664dbc892d46a66f2adbd5/roles/98b47d94b3e541b2804787a80c29845f 0.036s
2022-04-27 00:34:51,456 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b4f07a30-fa62-491b-a4c0-f8f65edbe21b', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/58dc7649b3c644a79b5c72c14abae0c9/users/69a79652d3664dbc892d46a66f2adbd5/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:51,534 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:35357/v3/roles 0.077s
2022-04-27 00:34:51,535 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache', 'content-length': '991', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0db90060-fc9c-42fc-a97d-39c4ebfbda5a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/roles'}
        Body: b'{"roles": [{"id": "5650530c79cb499c94fe9a571698f819", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/5650530c79cb499c94fe9a571698f819"}}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/72dd32b715cb439b9af72ccbb94db58c"}}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/98b47d94b3e541b2804787a80c29845f"}}, {"id": "bfef7baa541a413e9a33385d41cc88c9", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:35357/v3/roles/bfef7baa541a413e9a33385d41cc88c9"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:35357/v3/roles", "previous": null}}\n'
2022-04-27 00:34:51,570 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 204 PUT http://[LB_IP_ADDRESS]:35357/v3/projects/58dc7649b3c644a79b5c72c14abae0c9/users/69a79652d3664dbc892d46a66f2adbd5/roles/98b47d94b3e541b2804787a80c29845f 0.034s
2022-04-27 00:34:51,570 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2e74251e-8702-48e2-8168-67eacdfd7f8f', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:35357/v3/projects/58dc7649b3c644a79b5c72c14abae0c9/users/69a79652d3664dbc892d46a66f2adbd5/roles/98b47d94b3e541b2804787a80c29845f'}
        Body: b''
2022-04-27 00:34:51,571 17218 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 69a79652d3664dbc892d46a66f2adbd5 is created with scope project and roles: ['admin', 'admin']
2022-04-27 00:34:51,571 17218 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-AttachVolumeMultiAttachTest-1905746835-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '58dc7649b3c644a79b5c72c14abae0c9', 'project_name': 'tempest-AttachVolumeMu
    ltiAttachTest-1905746835', 'tenant_id': '58dc7649b3c644a79b5c72c14abae0c9', 'tenant_name': 'tempest-AttachVolumeMultiAttachTest-1905746835', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '69a79652d3664dbc892d46a66f2adbd5', 'system': None}, Network: None, Subnet: None, Router: None
2022-04-27 00:34:51,579 17218 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume) Found network None available for tenant
2022-04-27 00:34:51,873 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.292s
2022-04-27 00:34:51,874 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-AttachVolumeMultiAttachTest-server-1664177710", "imageRef": "", "flavorRef": "0", "block_device_mapping_v2": [{"uuid": "5f6da0e3-6755-49b4-a83b-0057a8447274", "source_type": "volume", "destination_type": "volume", "boot_index": 0, "delete_on_termination": false}], "networks": "none"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-9f67401a-65ab-4553-9846-ed3a864ed204', 'x-compute-request-id': 'req-9f67401a-65ab-4553-9846-ed3a864ed204', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "a9eb20cc-3c53-4db2-bc82-7211ba56de33", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "aTw2Uj9MLZoH"}}'
2022-04-27 00:34:51,954 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33 0.077s
2022-04-27 00:34:51,955 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1571', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-e4df05a3-e977-4363-9c57-4d15c80ef6dd', 'x-compute-request-id': 'req-e4df05a3-e977-4363-9c57-4d15c80ef6dd', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33'}
        Body: b'{"server": {"id": "a9eb20cc-3c53-4db2-bc82-7211ba56de33", "name": "tempest-AttachVolumeMultiAttachTest-server-1664177710", "status": "BUILD", "tenant_id": "04dc43a08ff44a1ca73bb95701a0f612", "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "metadata": {}, "hostId": "", "image": "", "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:51Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/a9eb20cc-3c53-4db2-bc82-7211
    ba56de33"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-a0z5aehp", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "tempest-attachvolumemultiattachtest-server-1664177710", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "", "locked": false, "description": null, "tags": []}}'
2022-04-27 00:34:53,045 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33 0.077s
2022-04-27 00:34:53,046 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:52 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1571', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b587f57e-d6d2-489e-9e46-237f42d6ecdf', 'x-compute-request-id': 'req-b587f57e-d6d2-489e-9e46-237f42d6ecdf', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33'}
        Body: b'{"server": {"id": "a9eb20cc-3c53-4db2-bc82-7211ba56de33", "name": "tempest-AttachVolumeMultiAttachTest-server-1664177710", "status": "BUILD", "tenant_id": "04dc43a08ff44a1ca73bb95701a0f612", "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "metadata": {}, "hostId": "", "image": "", "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:52Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-a0z5aehp", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "tempest-attachvolumemultiattachtest-server-1664177710", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "", "locked": false, "description": null, "tags": []}}'
2022-04-27 00:34:54,160 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33 0.101s
2022-04-27 00:34:54,160 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-lengt
    h': '4243', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6ec9e75d-bea1-42f8-92ab-a8e241fc622c', 'x-compute-request-id': 'req-6ec9e75d-bea1-42f8-92ab-a8e241fc622c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33'}
        Body: b'{"server": {"id": "a9eb20cc-3c53-4db2-bc82-7211ba56de33", "name": "tempest-AttachVolumeMultiAttachTest-server-1664177710", "status": "ERROR", "tenant_id": "04dc43a08ff44a1ca73bb95701a0f612", "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "metadata": {}, "hostId": "", "image": "", "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:53Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-04-26T21:34:53Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": nul
    l, "OS-EXT-SRV-ATTR:instance_name": "instance-000004f0", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-a0z5aehp", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "tempest-attachvolumemultiattachtest-server-1664177710", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EX
2022-04-27 00:34:54,172 17218 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 3 second wait
2022-04-27 00:34:54,498 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33 0.325s
2022-04-27 00:34:54,499 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1fa0977f-db4a-46af-994d-89f71899c357', 'x-compute-request-id': 'req-1fa0977f-db4a-46af-994d-89f71899c357', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33'}
        Body: b''
2022-04-27 00:34:54,532 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_boot_from_multiattach_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33 0.033s
2022-04-27 00:34:54,533 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c91b73be-008f-43f0-b8f7-642604b1df8c', 'x-compute-request-id': 'req-c91b73be-008f-43f0-b8f7-642604b1df8c', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/a9eb20cc-3c53-4db2-bc82-7211ba56de33'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance a9eb20cc-3c53-4db2-bc82-7211ba56de33 could not be found."}}'


tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_offline_delete_online[compute,id-5210a1de-85a0-11e6-bb21-641c676a5d61]
-------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 83, in test_snapshot_create_offline_delete_online
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 212, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server be490fb4-a876-4129-8a20-bad4db1a9ff8 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-04-26T21:34:55Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-27 00:34:52,233 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a/snapshots 0.198s
2022-04-27 00:34:52,233 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "7809d3e1-b3cb-4d51-a415-f71ea7d0cc1a", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1055761148"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:52 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '310', 'x-compute-request-id': 'req-0c0ac0ff-7932-493e-8e97-67a9b1fdb611', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-0c0ac0ff-7932-493e-8e97-67a9b1fdb611', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a/snapshots'}
        Body: b'{"snapshot": {"id": "c5a8c739-9a61-481a-ba21-aed879846291", "created_at": "2022-04-26T21:34:52.183031", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1055761148", "description": null, "volume_id": "7809d3e1-b3cb-4d51-a415-f71ea7d0cc1a", "status": "creating", "size": 1, "metadata": {}}}'
2022-04-27 00:34:52,261 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a/snapshots/c5a8c739-9a61-481a-ba21-aed879846291 0.024s
2022-04-27 00:34:52,262 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:52 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '442', 'x-compute-request-id': 'req-4a2e0e13-d5e1-46c2-8dd2-5e2d43af4d29', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-4a2e0e13-d5e1-46c2-8dd2-5e2d43af4d29', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a/snapshots/c5a8c739-9a61-481a-ba21-aed879846291'}
        Body: b'{"snapshot": {"id": "c5a8c739-9a61-481a-ba21-aed879846291", "created_at": "2022-04-26T21:34:52.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1055761148", "description": null, "volume_id": "7809d3e1-b3cb-4d51-a415-f71ea7d0cc1a", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-04-27 00:34:53,292 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a/snapshots/c5a8c739-9a61-481a-ba21-aed879846291 0.025s
2022-04-27 00:34:53,292 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:53 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '442', 'x-compute-request-id': 'req-45bf4d02-8057-4d25-99f3-452509b798cd', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-45bf4d02-8057-4d25-99f3-452509b798cd', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a/snapshots/c5a8c739-9a61-481a-ba21-aed879846291'}
        Body: b'{"snapshot": {"id": "c5a8c739-9a61-481a-ba21-aed879846291", "created_at": "2022-04-26T21:34:52.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTe
    stJSON-Snapshot-1055761148", "description": null, "volume_id": "7809d3e1-b3cb-4d51-a415-f71ea7d0cc1a", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "os-extended-snapshot-attributes:progress": "0%"}}'
2022-04-27 00:34:54,323 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a/snapshots/c5a8c739-9a61-481a-ba21-aed879846291 0.026s
2022-04-27 00:34:54,324 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '469', 'x-compute-request-id': 'req-fc9f286d-16d5-4c90-8834-1f18b1008cdf', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-fc9f286d-16d5-4c90-8834-1f18b1008cdf', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a/snapshots/c5a8c739-9a61-481a-ba21-aed879846291'}
        Body: b'{"snapshot": {"id": "c5a8c739-9a61-481a-ba21-aed879846291", "created_at": "2022-04-26T21:34:52.000000", "updated_at": "2022-04-26T21:34:53.000000", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1055761148", "description": null, "volume_id": "7809d3e1-b3cb-4d51-a415-f71ea7d0cc1a", "status": "available", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "os-extended-snapshot-attributes:progress": "100%"}}'
2022-04-27 00:34:54,327 17216 INFO     [tempest.common.waiters] snapshot c5a8c739-9a61-481a-ba21-aed879846291 reached available after waiting for 2.327821 seconds
2022-04-27 00:34:54,915 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 201 POST http://controller:5000/v3/auth/tokens 0.578s
2022-04-27 00:34:54,915 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:54 GMT', 'server': 'Apache', 'content-length': '3896', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e62fa55a-94e1-4bb9-9ebe-c48ac6955420', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "cf8a9949ba5c42b28e3e8f1ff2819111", "name": "tempest-VolumesSnapshotTestJSON-190360460-project", "password_expires_at": null}, "audit_ids": ["SLqtVxpHTfSMDJCDKK1T2g"], "expires_at": "2022-04-27T21:34:54.000000Z", "issued_at": "2022-04-26T21:34:54.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "name": "tempest-VolumesSnapshotTestJSON-190360460"}, "is_domain": false, "roles": [{"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0fcdfe7dbccf4c6bae3caafb6b11074a", "region": "RegionOne"}, {"id": "e8
    de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/0fcdfe7dbccf4c6bae3caafb6b11074a", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/0fcdfe7dbccf4c6bae3caafb6b11074a", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-04-27 00:34:54,923 17216 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online) Found network None available for tenant
2022-04-27 00:34:55,172 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.247s
2022-04-27 00:34:55,172 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-1066272417", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-cce6482c-f118-4304-ae03-501cfb44c1db', 'x-compute-request-id': 'req-cce6482c-f118-4304-ae03-501cfb44c1db', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "be490fb4-a876-4129-8a20-bad4db1a9ff8", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a
    9ff8"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "a3cFC3n6SG9T"}}'
2022-04-27 00:34:55,243 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8 0.068s
2022-04-27 00:34:55,244 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:55 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1327', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-717d94d7-a0fa-49ed-afd4-5bf0a2fb175f', 'x-compute-request-id': 'req-717d94d7-a0fa-49ed-afd4-5bf0a2fb175f', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8'}
        Body: b'{"server": {"id": "be490fb4-a876-4129-8a20-bad4db1a9ff8", "name": "tempest-VolumesSnapshotTestJSON-instance-1066272417", "status": "BUILD", "tenant_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "user_id": "cf8a9949ba5c42b28e3e8f1ff2819111", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:55Z", "updated": "2022-04-26T21:34:55Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:56,349 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8 0.093s
2022-04-27 00:34:56,350 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:56 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '3921', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-24a51fb6-b795-4e7f-9bb5-9feee7feb24c', 'x-compute-request-id': 'req-24a51fb6-b795-4e7f-9bb5-9feee7feb24c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8'}
        Body: b'{"server": {"id": "be490fb4-a876-4129-8a20-bad4db1a9ff8", "name": "tempest-VolumesSnapshotTestJSON-instance-1066272417", "status": "ERROR", "tenant_id": "0fcdfe7dbccf4c6bae3caafb6b11074a", "user_id": "cf8a9949ba5c42b28e3e8f1ff2819111", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0
    ", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:55Z", "updated": "2022-04-26T21:34:55Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-04-26T21:34:55Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000004f1", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:56,360 17216 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2022-04-27 00:34:56,669 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8 0.308s
2022-04-27 00:34:56,669 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitte
    d>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:56 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-242bf439-cfcc-4e9d-ab83-d6571a72fa55', 'x-compute-request-id': 'req-242bf439-cfcc-4e9d-ab83-d6571a72fa55', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8'}
        Body: b''
2022-04-27 00:34:56,700 17216 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8 0.030s
2022-04-27 00:34:56,701 17216 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:56 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-bfdec733-66af-46b4-9a86-97057ed09717', 'x-compute-request-id': 'req-bfdec733-66af-46b4-9a86-97057ed09717', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/be490fb4-a876-4129-8a20-bad4db1a9ff8'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance be490fb4-a876-4129-8a20-bad4db1a9ff8 could not be found."}}'


tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_list_get_volume_attachments_multiattach[id-8d5853f7-56e7-4988-9b0c-48cea3c7049a]
----------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 406, in test_list_get_volume_attachments_multiattach
    servers, volume, attachments = self._create_and_multiattach()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 389, in _create_and_multiattach
    'ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-04-26T21:34:55Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-27 00:34:55,101 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.552s
2022-04-27 00:34:55,101 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:54 GMT', 'server': 'Apache', 'content-length': '3904', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-310e0a4c-4eec-4cc1-ad72-3c33d670fbfd', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "name": "tempest-AttachVolumeMultiAttachTest-379792290-project", "password_expires_at": null}, "audit_ids": ["W2ETshB0Sj6q2v6ywticgQ"], "expires_at": "2022-04-27T21:34:55.000000Z", "issued_at": "2022-04-26T21:34:55.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "04dc43a08ff44a1ca73bb95701a0f612", "name": "tempest-AttachVolumeMultiAttachTest-379792290"}, "is_domain": false, "roles": [{"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOn
    e", "url": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-04-27 00:34:55,110 17218 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-04-27 00:34:55,249 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.137s
2022-04-27 00:34:55,249 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-0", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:55 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6b236cbb-1920-4ba1-a2c9-21f3382caa7a', 'x-compute-request-id': 'req-6b236cbb-1920-4ba1-a2c9-21f3382caa7a', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "wTzCkeid5JXm"}}'
2022-04-27 00:34:55,768 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.511s
2022-04-27 00:34:55,769 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:55 GMT', 'server': 'Apache', 'content-length': '3904', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7eb952f1-db7e-44db-92e8-0416b5e5d408', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "name": "tempest-AttachVolumeMultiAttachTest-379792290-project", "password_expires_at": null}, "audit_ids": ["6TtcYOWESVGxtGgahRc6dg"], "expires_at": "2022-04-27T21:34:55.000000Z", "issued_at": "2022-04-26T21:34:55.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "04dc43a08ff44a1ca73bb95701a0f612", "name": "tempest-AttachVolumeMultiAttachTest-379792290"}, "is_domain": false, "roles": [{"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "R
    egionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-04-27 00:34:55,777 17218 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach) Found network None available for tenant
2022-04-27 00:34:55,906 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.128s
2022-04-27 00:34:55,906 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "multiattach-server-1", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0", "networks": "none"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:55 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/71873126-af98-422d-a706-aa1a74f68c14', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-
    API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-fefddcd2-7c95-4701-88e7-a6c961043441', 'x-compute-request-id': 'req-fefddcd2-7c95-4701-88e7-a6c961043441', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "71873126-af98-422d-a706-aa1a74f68c14", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/71873126-af98-422d-a706-aa1a74f68c14"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/71873126-af98-422d-a706-aa1a74f68c14"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "ZF6XA6YffGJ3"}}'
2022-04-27 00:34:56,007 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7 0.098s
2022-04-27 00:34:56,008 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:55 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4257', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-bf281944-c472-4597-9251-a98ffe379fb7', 'x-compute-request-id': 'req-bf281944-c472-4597-9251-a98ffe379fb7', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7'}
        Body: b'{"server": {"id": "ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7", "name": "multiattach-server-0", "status": "ERROR", "tenant_id": "04dc43a08ff44a1ca73bb95701a0f612", "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-04-26T21:34:55Z", "updated": "2022-04-26T21:34:55Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-04-26T21:34:55Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689,
     in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000004f2", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-s6la88x0", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-
2022-04-27 00:34:57,118 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_list_get_volume_attachments_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7 0.097s
2022-04-27 00:34:57,118 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:57 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4257', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-b6900943-e361-4b30-ae90-d5506129e8be', 'x-compute-request-id': 'req-b6900943-e361-4b30-ae90-d5506129e8be', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7'}
        Body: b'{"server": {"id": "ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7", "name": "multiattach-server-0", "status": "ERROR", "tenant_id": "04dc43a08ff44a1ca73bb95701a0f612", "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-04-26T21:34:55Z", "updated": "2022-04-26T21:34:55Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/ae1dbd02-72d6-4d01-b17f-bf0ebc9676a7"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-04-26T21:34:55Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in s
    chedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000004f2", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-s6la88x0", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "multiattach-server-0", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-


tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_attach_attached_volume_to_same_server[id-aab919e2-d992-4cbb-a4ed-745c2475398c,negative]
-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume_negative.py", line 57, in test_attach_attached_volume_to_same_server
    server = self.create_test_server(wait_until='ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/base.py", line 272, in create_test_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server cf582990-89fb-4f99-aed5-167e01fc4fbb failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-04-26T21:34:59Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-27 00:34:51,113 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 201 POST http://controller:5000/v3/auth/tokens 0.592s
2022-04-27 00:34:51,114 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:50 GMT', 'server': 'Apache', 'content-length': '3900', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3cdaff47-8cb4-47fd-9333-ce64afff349c', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "00c1fd941beb4beca8cde3518ccd1074", "name": "tempest-AttachVolumeNegativeTest-1913639363-project", "password_expires_at": null}, "audit_ids": ["eqp9oKiSRRiuhP-LsNm9HA"], "expires_at": "2022-04-27T21:34:51.000000Z", "issued_at": "2022-04-26T21:34:51.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "3db295dda5b74dcaacb9173b7ae4ebfc", "name": "tempest-AttachVolumeNegativeTest-1913639363"}, "is_domain": false, "roles": [{"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url"
    : "http://[LB_IP_ADDRESS]:8776/v3/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-04-27 00:34:51,122 17217 INFO     [tempest.lib.common.fixed_network] (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server) Found network None available for tenant
2022-04-27 00:34:51,353 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.229s
2022-04-27 00:34:51,353 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-AttachVolumeNegativeTest-server-1787833852", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8ff2a73b-197b-4c17-96d8-7078bd7cea38', 'x-compute-request-id': 'req-8ff2a73b-197b-4c17-96d8-7078bd7cea38', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "cf582990-89fb-4f99-aed5-167e01fc4fbb", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "w9Em78ZuwAhP"}}'
2022-04-27 00:34:51,432 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.075s
2022-04-27 00:34:51,432 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:51 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-e0806b16-e77c-46c4-a605-0073563df435', 'x-compute-request-id': 'req-e0806b16-e77c-46c4-a605-0073563df435', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"server": {"id": "cf582990-89fb-4f99-aed5-167e01fc4fbb", "name": "tempest-AttachVolumeNegativeTest-server-1787833852", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:51Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "hre
    f": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:52,521 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.077s
2022-04-27 00:34:52,521 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:52 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-4a3b72e1-7621-4f5d-b508-79157895975b', 'x-compute-request-id': 'req-4a3b72e1-7621-4f5d-b508-79157895975b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"server": {"id": "cf582990-89fb-4f99-aed5-167e01fc4fbb", "name": "tempest-AttachVolumeNegativeTest-server-1787833852", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:52Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:53,605 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.073s
2022-04-27 00:34:53,605 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:53 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-cb874562-3c48-4ce1-9de6-a71579a9b6d5', 'x-compute-request-id': 'req-cb874562-3c48-4ce1-9de6-a71579a9b6d5', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"server": {"id": "cf582990-89fb-4f9
    9-aed5-167e01fc4fbb", "name": "tempest-AttachVolumeNegativeTest-server-1787833852", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:53Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:54,687 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.071s
2022-04-27 00:34:54,688 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:54 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-98811faa-11b7-42af-af7d-a4fbc4cb4ee4', 'x-compute-request-id': 'req-98811faa-11b7-42af-af7d-a4fbc4cb4ee4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"server": {"id": "cf582990-89fb-4f99-aed5-167e01fc4fbb", "name": "tempest-AttachVolumeNegativeTest-server-1787833852", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:54Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:55,765 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.067s
2022-04-27 00:34:55,766 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'
    }
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:55 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-399891e8-3521-4d6d-9b74-495346586912', 'x-compute-request-id': 'req-399891e8-3521-4d6d-9b74-495346586912', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"server": {"id": "cf582990-89fb-4f99-aed5-167e01fc4fbb", "name": "tempest-AttachVolumeNegativeTest-server-1787833852", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:55Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:56,847 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.070s
2022-04-27 00:34:56,848 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:56 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-dbfa7acd-5ff5-470d-9768-25dcb769da34', 'x-compute-request-id': 'req-dbfa7acd-5ff5-470d-9768-25dcb769da34', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"server": {"id": "cf582990-89fb-4f99-aed5-167e01fc4fbb", "name": "tempest-AttachVolumeNegativeTest-server-1787833852", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:56Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS
    -EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:57,933 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.073s
2022-04-27 00:34:57,933 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:57 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d2dc7b15-f3da-404a-922d-8f1cb6ab189a', 'x-compute-request-id': 'req-d2dc7b15-f3da-404a-922d-8f1cb6ab189a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"server": {"id": "cf582990-89fb-4f99-aed5-167e01fc4fbb", "name": "tempest-AttachVolumeNegativeTest-server-1787833852", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:57Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:34:59,015 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.070s
2022-04-27 00:34:59,015 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:58 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1326', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ed641f85-cae7-4f73-a107-fbac8698f921', 'x-compute-request-id': 'req-ed641f85-cae7-4f73-a107-fbac8698f921', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"server": {"id": "cf582990-89fb-4f99-aed5-167e01fc4fbb", "name": "tempest-AttachVolumeNegativeTest-server-1787833852", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor"
    : {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:58Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:35:00,125 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.098s
2022-04-27 00:35:00,125 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:00 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '3920', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ff4620b0-4642-4e48-af28-042653cf642c', 'x-compute-request-id': 'req-ff4620b0-4642-4e48-af28-042653cf642c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"server": {"id": "cf582990-89fb-4f99-aed5-167e01fc4fbb", "name": "tempest-AttachVolumeNegativeTest-server-1787833852", "status": "ERROR", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:34:51Z", "updated": "2022-04-26T21:34:59Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-04-26T21:34:59Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(targ
    et, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000004f4", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:35:00,135 17217 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 9 second wait
2022-04-27 00:35:00,489 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.353s
2022-04-27 00:35:00,490 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:00 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-9b4d725d-ce69-4a43-9ae3-f13564ed9954', 'x-compute-request-id': 'req-9b4d725d-ce69-4a43-9ae3-f13564ed9954', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b''
2022-04-27 00:35:00,524 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_attach_attached_volume_to_same_server): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb 0.033s
2022-04-27 00:35:00,525 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:00 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d628f29b-47fd-4bb0-add1-63985fc36801', 'x-compute-request-id': 'req-d628f29b-47fd-4bb0-add1-63985fc36801', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/cf582990-89fb-4f99-aed5-167e01fc4fbb'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance cf582990-89fb-4f99-aed5-167e01f
    c4fbb could not be found."}}'


tempest.api.compute.volumes.test_attach_volume_negative.AttachVolumeNegativeTest.test_delete_attached_volume[id-a313b5cd-fbd0-49cc-94de-870e99f763c7,negative]
--------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/lib/decorators.py", line 105, in wrapper
    raise exc

      File "/usr/local/lib/python3.6/site-packages/tempest/lib/decorators.py", line 97, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume_negative.py", line 40, in test_delete_attached_volume
    server = self.create_test_server(wait_until='ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/base.py", line 272, in create_test_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 41827b7b-f90a-4c5e-97f5-7c9717db2ee9 failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-04-26T21:35:01Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-27 00:35:01,123 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_delete_attached_volume): 201 POST http://controller:5000/v3/auth/tokens 0.588s
2022-04-27 00:35:01,124 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:00 GMT', 'server': 'Apache', 'content-length': '3900', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7e69d6f5-46ba-4ca7-ab87-f368e17635fa', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "00c1fd941beb4beca8cde3518ccd1074", "name": "tempest-AttachVolumeNegativeTest-1913639363-project", "password_expires_at": null}, "audit_ids": ["OVVFeA_QQSi5FOMQ0EJZUw"], "expires_at": "2022-04-27T21:35:01.000000Z", "issued_at": "2022-04-26T21:35:01.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "3db295dda5b74dcaacb9173b7ae4ebfc", "name": "tempest-AttachVolumeNegativeTest-1913639363"}, "is_domain": false, "roles": [{"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url": "http://192.1
    68.23.253:8776/v3/3db295dda5b74dcaacb9173b7ae4ebfc", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-04-27 00:35:01,133 17217 INFO     [tempest.lib.common.fixed_network] (AttachVolumeNegativeTest:test_delete_attached_volume) Found network None available for tenant
2022-04-27 00:35:01,376 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_delete_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.242s
2022-04-27 00:35:01,377 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-AttachVolumeNegativeTest-server-681655793", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-69cf1a32-c521-469f-93c4-01ebc7086dd0', 'x-compute-request-id': 'req-69cf1a32-c521-469f-93c4-01ebc7086dd0', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "41827b7b-f90a-4c5e-97f5-7c9717db2ee9", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "UR5vYVzSXn3z"}}'
2022-04-27 00:35:01,452 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_delete_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9 0.071s
2022-04-27 00:35:01,452 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1325', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-a254bc0b-c455-4242-b6ec-9381b6bc014e', 'x-compute-request-id': 'req-a254bc0b-c455-4242-b6ec-9381b6bc014e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9'}
        Body: b'{"server": {"id": "41827b7b-f90a-4c5e-97f5-7c9717db2ee9", "name": "tempest-AttachVolumeNegativeTest-server-681655793", "status": "BUILD", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:35:01Z", "updated": "2022-04-26T21:35:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5
    e-97f5-7c9717db2ee9"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:35:02,566 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_delete_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9 0.102s
2022-04-27 00:35:02,567 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:02 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '3919', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c3ecd57d-85bc-4747-8084-3b9ce6ee90ba', 'x-compute-request-id': 'req-c3ecd57d-85bc-4747-8084-3b9ce6ee90ba', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9'}
        Body: b'{"server": {"id": "41827b7b-f90a-4c5e-97f5-7c9717db2ee9", "name": "tempest-AttachVolumeNegativeTest-server-681655793", "status": "ERROR", "tenant_id": "3db295dda5b74dcaacb9173b7ae4ebfc", "user_id": "00c1fd941beb4beca8cde3518ccd1074", "metadata": {}, "hostId": "", "image": {"id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2022-04-26T21:35:01Z", "updated": "2022-04-26T21:35:01Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-04-26T21:35:01Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in 
    _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000004f5", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2022-04-27 00:35:02,577 17217 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2022-04-27 00:35:02,825 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_delete_attached_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9 0.248s
2022-04-27 00:35:02,826 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:02 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-22290b75-7833-432f-b626-b8fb5d062bad', 'x-compute-request-id': 'req-22290b75-7833-432f-b626-b8fb5d062bad', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9'}
        Body: b''
2022-04-27 00:35:02,859 17217 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeNegativeTest:test_delete_attached_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9 0.032s
2022-04-27 00:35:02,859 17217 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:02 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7901e204-207e-414d-8b6d-01956d4cf54a', 'x-compute-request-id': 'req-7901e204-207e-414d-8b6d-01956d4cf54a', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/41827b7b-f90a-4c5e-97f5-7c9717db2ee9'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 41827b7b-f90a-4c5e-97f5-7c9717db2ee9 could not be found."}}'


tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_snapshot_volume_backed_multiattach[id-885ac48a-2d7a-40c5-ae8b-1993882d724c,image]
-----------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 466, in test_snapshot_volume_backed_multiattach
    server, volume = self._boot_from_multiattach_volume()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/volumes/test_attach_volume.py", line 443, in _boot_from_multiattach_volume
    image_id='', block_device_mapping_v2=bdm, wait_until='ACTIVE')

      File "/usr/local/lib/python3.6/site-packages/tempest/api/compute/base.py", line 272, in create_test_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 266, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 237, in create_test_server
    clients.servers_client, server['id'], wait_until)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 76, in wait_for_server_status
    server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf failed to build and is in ERROR status
Details: {'code': 500, 'created': '2022-04-26T21:35:09Z', 'message': 'No valid host was found. There are not enough hosts available.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 1548, in schedule_and_build_instances\n    host_lists = self._schedule_instances(context, request_specs[0],\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py", line 908, in _schedule_instances\n    host_lists = self.query_client.select_destinations(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py", line 41, in select_destinations\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py", line 160, in select_destinations\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py", line 189, in call\n    result = self.transport._send(\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py", line 123, in _send\n    return self._driver.send(target, ctxt, message,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 689, in send\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py", line 681, in _send\n    raise result\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\nTraceback (most recent call last):\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py", line 241, in inner\n    return func(*args, **kwargs)\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 223, in select_destinations\n    selections = self._select_destinations(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 250, in _select_destinations\n    selections = self._schedule(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 416, in _schedule\n    self._ensure_sufficient_hosts(\n\n  File "/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py", line 455, in _ensure_sufficient_hosts\n    raise exception.NoValidHost(reason=reason)\n\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\n\n'}


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2022-04-27 00:34:57,590 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 202 POST http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes 0.457s
2022-04-27 00:34:57,590 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"multiattach": true, "size": 1, "display_name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "imageRef": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:57 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '853', 'x-compute-request-id': 'req-068cbd41-6f90-4ad5-9215-14c88ebac885', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-068cbd41-6f90-4ad5-9215-14c88ebac885', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.528198", "updated_at": null, "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null}}'
2022-04-27 00:34:57,639 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.041s
2022-04-27 00:34:57,640 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:57 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1032', 'x-compute-request-id': 'req-3bc2dab6-9a36-4171-b4df-bda93441e95e', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-3bc2dab6-9a36-4171-b4df-bda93441e95e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": null, "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": null, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:58,696 17218 INFO 
        [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.046s
2022-04-27 00:34:58,696 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:58 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1148', 'x-compute-request-id': 'req-8d76c6b2-8f38-42c0-8f90-6edd6c2769cf', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-8d76c6b2-8f38-42c0-8f90-6edd6c2769cf', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:34:57.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:34:59,751 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.044s
2022-04-27 00:34:59,752 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:34:59 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1148', 'x-compute-request-id': 'req-8ce7c29f-cd9d-40a2-abe4-3b9173edd2b4', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-8ce7c29f-cd9d-40a2-abe4-3b9173edd2b4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:34:57.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host
    ": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:35:00,811 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.048s
2022-04-27 00:35:00,811 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:00 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-104d3243-b77a-4ecb-8785-8d14ef2fa037', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-104d3243-b77a-4ecb-8785-8d14ef2fa037', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:35:00.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:35:01,868 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.046s
2022-04-27 00:35:01,868 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:01 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-f786cedf-1789-4104-8b37-c1113e8c7886', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-f786cedf-1789-4104-8b37-c1113e8c7886', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:35:00.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95
    701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:35:02,942 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.063s
2022-04-27 00:35:02,942 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:02 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-74a21a14-9344-4bc4-acd1-88eaefca56aa', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-74a21a14-9344-4bc4-acd1-88eaefca56aa', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:35:00.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:35:03,995 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.041s
2022-04-27 00:35:03,995 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:03 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-cde0e3df-994e-4a65-889c-b0157a24dab0', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-cde0e3df-994e-4a65-889c-b0157a24dab0', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:35:00.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFA
    ULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:35:05,050 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.044s
2022-04-27 00:35:05,050 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:05 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-7b47d412-7987-4a37-a055-3c8bee4dd714', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-7b47d412-7987-4a37-a055-3c8bee4dd714', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:35:00.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:35:06,107 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.046s
2022-04-27 00:35:06,107 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:06 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1151', 'x-compute-request-id': 'req-f1d85ad0-0908-48d2-9aef-1f9f4fb44aa8', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-f1d85ad0-0908-48d2-9aef-1f9f4fb44aa8', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a20
    6-fac5-48e4-9c55-3c86020f3718", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:35:00.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:35:07,164 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.045s
2022-04-27 00:35:07,164 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:07 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1150', 'x-compute-request-id': 'req-1446a136-e959-449f-8a11-690889be89c2', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-1446a136-e959-449f-8a11-690889be89c2', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "downloading", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:35:07.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "true", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:35:08,221 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718 0.047s
2022-04-27 00:35:08,222 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:08 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1507', 'x-compute-request-id': 'req-4a138daf-2587-41ef-86b6-e62c60e4c1ca', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'r
    eq-4a138daf-2587-41ef-86b6-e62c60e4c1ca', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718'}
        Body: b'{"volume": {"id": "04f7a206-fac5-48e4-9c55-3c86020f3718", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2022-04-26T21:34:57.000000", "updated_at": "2022-04-26T21:35:07.000000", "name": "tempest-AttachVolumeMultiAttachTest-volume-872345317", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/04dc43a08ff44a1ca73bb95701a0f612/volumes/04f7a206-fac5-48e4-9c55-3c86020f3718"}], "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "bootable": "true", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": true, "attachments": [], "migration_status": null, "os-vol-host-attr:host": "rack08-server75@LIGHTOSohqurh#ohqurh", "volume_image_metadata": {"signature_verified": "False", "owner_specified.openstack.md5": "", "owner_specified.openstack.sha256": "", "owner_specified.openstack.object": "images/cirros", "image_id": "2ffdf4f7-6ff2-45c5-8146-f1e6f690bb3e", "image_name": "cirros", "checksum": "443b7623e27ecf03dc9e01ee93f67afe", "container_format": "bare", "disk_format": "qcow2", "min_disk": "0", "min_ram": "0", "size": "12716032"}, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-tenant-attr:tenant_id": "04dc43a08ff44a1ca73bb95701a0f612"}}'
2022-04-27 00:35:08,231 17218 INFO     [tempest.common.waiters] volume 04f7a206-fac5-48e4-9c55-3c86020f3718 reached available after waiting for 11.231647 seconds
2022-04-27 00:35:08,807 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 201 POST http://controller:5000/v3/auth/tokens 0.569s
2022-04-27 00:35:08,807 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:08 GMT', 'server': 'Apache', 'content-length': '3904', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ac625aee-6acd-4cc6-bf4b-5d2a3daed266', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "name": "tempest-AttachVolumeMultiAttachTest-379792290-project", "password_expires_at": null}, "audit_ids": ["NL-77eXTQ5yK3msBB_vxTQ"], "expires_at": "2022-04-27T21:35:08.000000Z", "issued_at": "2022-04-26T21:35:08.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "04dc43a08ff44a1ca73bb95701a0f612", "name": "tempest-AttachVolumeMultiAttachTest-379792290"}, "is_domain": false, "roles": [{"id": "98b47d94b3e541b2804787a80c29845f", "name": "admin"}, {"id": "72dd32b715cb439b9af72ccbb94db58c", "name": "member"}, {"id": "5650530c79cb499c94fe9a571698f819", "name": "reader"}], "catalog": [{"endpoints": [{"id": "6f08506964374e9296550b569dfe533d", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "751a0978b50143408f02461d3e6c4821", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "22895d5146cd46bc84f077cc8b67abce", "type": "image", "name": "glance"}, {"endpoints": [{"id": "135e60ca913b482aac470e07eda45a90", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}, {"id": "e8de1a35f99d47e7b808
    736405bc80f1", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}], "id": "557aa95cc3d344b59d5fddec9c810b12", "type": "compute_legacy", "name": "nova_legacy"}, {"endpoints": [{"id": "6676a492d9744c2ebd968dd8db6a98d7", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "737ec72e16e84c2f906a3714895922cc", "interface": "admin", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:35357", "region": "RegionOne"}, {"id": "832149f255ef4ccf90c451264d4f7ecd", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "63b6f37da07d472890306efd3a7450e1", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "99cbccc63846453fb4780a6d90cfcee1", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "fdf45a2442b7410fb4f7f78663199255", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "7eb0b4acccc640da9a97c5fad88a5c10", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "2d5c3f2e84e147c3b4e098a6357f2f1a", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "427473929c1642d1bc5b4a087c5054ac", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "9c07ae473d3a4f52b1a8b4566df072d0", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "190350df7e0d4e1e94f59e7592eabaaf", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}, {"id": "b3e6fc61fcb040419c5d69bf178aa019", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/04dc43a08ff44a1ca73bb95701a0f612", "region": "RegionOne"}], "id": "c7c577cae5a945d292d094f71bf667df", "type": "volumev3", "name": "cinderv3"}, {"endpoints": [{"id": "80eb5a2352ba488b8de0a69eac37a712", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "9faefbbfd6e24c0292bab50f58618a45", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "e2359ac0b25d4559962d1aea4a6c4263", "type": "network", "name": "neutron"}]}}'
2022-04-27 00:35:08,814 17218 INFO     [tempest.lib.common.fixed_network] (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach) Found network None available for tenant
2022-04-27 00:35:09,122 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.307s
2022-04-27 00:35:09,122 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-AttachVolumeMultiAttachTest-server-2144464826", "imageRef": "", "flavorRef": "0", "block_device_mapping_v2": [{"uuid": "04f7a206-fac5-48e4-9c55-3c86020f3718", "source_type": "volume", "destination_type": "volume", "boot_index": 0, "delete_on_termination": false}], "networks": "none"}}
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:08 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-3e03829c-7ec8-4beb-a820-d5ac11080a0e', 'x-compute-request-id': 'req-3e03829c-7ec8-4beb-a820-d5ac11080a0e', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v
    2.1/servers'}
        Body: b'{"server": {"id": "766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "6omkxwPR3rZJ"}}'
2022-04-27 00:35:09,202 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf 0.076s
2022-04-27 00:35:09,202 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:09 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '1571', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-9fbb9df7-65ef-40b2-bc12-b7bace7c3c0c', 'x-compute-request-id': 'req-9fbb9df7-65ef-40b2-bc12-b7bace7c3c0c', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf'}
        Body: b'{"server": {"id": "766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf", "name": "tempest-AttachVolumeMultiAttachTest-server-2144464826", "status": "BUILD", "tenant_id": "04dc43a08ff44a1ca73bb95701a0f612", "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "metadata": {}, "hostId": "", "image": "", "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-04-26T21:35:09Z", "updated": "2022-04-26T21:35:09Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-2yrd55oj", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "tempest-attachvolumemultiattachtest-server-2144464826", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": [], "host_status": "", "locked": false, "description": null, "tags": []}}'
2022-04-27 00:35:10,315 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf 0.099s
2022-04-27 00:35:10,315 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:10 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '4243', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-784f75f9-dde8-44e8-8643-323db299ffc4', 'x-compute-request-id': 'req-784f75f9-dde8-44e8-8643-323db299ffc4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774
    /v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf'}
        Body: b'{"server": {"id": "766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf", "name": "tempest-AttachVolumeMultiAttachTest-server-2144464826", "status": "ERROR", "tenant_id": "04dc43a08ff44a1ca73bb95701a0f612", "user_id": "36c4a4b65b4c4ddabaf200c0e26c86ff", "metadata": {}, "hostId": "", "image": "", "flavor": {"vcpus": 2, "ram": 1024, "disk": 1, "ephemeral": 0, "swap": 0, "original_name": "m1.nano", "extra_specs": {}}, "created": "2022-04-26T21:35:09Z", "updated": "2022-04-26T21:35:09Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2022-04-26T21:35:09Z", "message": "No valid host was found. There are not enough hosts available.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 1548, in schedule_and_build_instances\\n    host_lists = self._schedule_instances(context, request_specs[0],\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/conductor/manager.py\\", line 908, in _schedule_instances\\n    host_lists = self.query_client.select_destinations(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/client/query.py\\", line 41, in select_destinations\\n    return self.scheduler_rpcapi.select_destinations(context, spec_obj,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/rpcapi.py\\", line 160, in select_destinations\\n    return cctxt.call(ctxt, \'select_destinations\', **msg_args)\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/client.py\\", line 189, in call\\n    result = self.transport._send(\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/transport.py\\", line 123, in _send\\n    return self._driver.send(target, ctxt, message,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 689, in send\\n    return self._send(target, ctxt, message, wait_for_reply, timeout,\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/_drivers/amqpdriver.py\\", line 681, in _send\\n    raise result\\nnova.exception_Remote.NoValidHost_Remote: No valid host was found. There are not enough hosts available.\\nTraceback (most recent call last):\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/oslo_messaging/rpc/server.py\\", line 241, in inner\\n    return func(*args, **kwargs)\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 223, in select_destinations\\n    selections = self._select_destinations(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 250, in _select_destinations\\n    selections = self._schedule(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 416, in _schedule\\n    self._ensure_sufficient_hosts(\\n\\n  File \\"/var/lib/kolla/venv/lib/python3.8/site-packages/nova/scheduler/manager.py\\", line 455, in _ensure_sufficient_hosts\\n    raise exception.NoValidHost(reason=reason)\\n\\nnova.exception.NoValidHost: No valid host was found. There are not enough hosts available.\\n\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-000004f6", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-SRV-ATTR:reservation_id": "r-2yrd55oj", "OS-EXT-SRV-ATTR:launch_index": 0, "OS-EXT-SRV-ATTR:hostname": "tempest-attachvolumemultiattachtest-server-2144464826", "OS-EXT-SRV-ATTR:kernel_id": "", "OS-EXT-SRV-ATTR:ramdisk_id": "", "OS-EXT-SRV-ATTR:root_device_name": null, "OS-EXT-SRV-ATTR:user_data": null, "O
    S-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EX
2022-04-27 00:35:10,327 17218 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2022-04-27 00:35:10,672 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf 0.344s
2022-04-27 00:35:10,672 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:10 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-30d30607-8958-461c-b42d-c8eab8769c25', 'x-compute-request-id': 'req-30d30607-8958-461c-b42d-c8eab8769c25', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf'}
        Body: b''
2022-04-27 00:35:10,725 17218 INFO     [tempest.lib.common.rest_client] Request (AttachVolumeMultiAttachTest:test_snapshot_volume_backed_multiattach): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf 0.052s
2022-04-27 00:35:10,725 17218 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-OpenStack-Nova-API-Version': '2.60', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 26 Apr 2022 21:35:10 GMT', 'server': 'Apache/2.4.41 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.60', 'x-openstack-nova-api-version': '2.60', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-d71150ab-b286-45ef-9daa-9d58423fc288', 'x-compute-request-id': 'req-d71150ab-b286-45ef-9daa-9d58423fc288', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 766dbd6e-4da5-417a-bfc0-81d0c2f9bbaf could not be found."}}'



======
Totals
======
Ran: 221 tests in 1012.2834 sec.
 - Passed: 206
 - Skipped: 7
 - Expected Fail: 0
 - Unexpected Success: 0
 - Failed: 8
Sum of execute time for each test: 1498.3535 sec.

==============
Worker Balance
==============
 - Worker 0 (7 tests) => 0:00:37.034272
 - Worker 1 (138 tests) => 0:16:49.912853
 - Worker 2 (76 tests) => 0:13:25.335639

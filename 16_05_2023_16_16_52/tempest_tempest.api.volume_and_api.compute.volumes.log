{2} tempest.api.compute.volumes.test_attach_volume.AttachVolumeMultiAttachTest.test_resize_server_with_multiattached_volume ... SKIPPED: Resize not available.
{0} tempest.api.compute.volumes.test_volumes_get.VolumesGetTestJSON.test_volume_create_get_delete [3.514252s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list [0.054881s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_param_limit [0.052442s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_param_offset_and_limit [0.108033s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_detail_param_limit [0.053306s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_detail_param_offset_and_limit [0.137261s] ... ok
{1} tempest.api.compute.volumes.test_volumes_list.VolumesTestJSON.test_volume_list_with_details [0.065441s] ... ok
{0} tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON.test_compare_volume_stats_values [0.066942s] ... ok
{0} tempest.api.volume.admin.test_backends_capabilities.BackendsCapabilitiesAdminTestsJSON.test_get_capabilities_backend [0.033141s] ... ok
{2} tempest.api.compute.volumes.test_volume_snapshots.VolumesSnapshotsTestJSON.test_volume_snapshot_create_get_list_delete [6.601696s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.143006s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.012404s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.011939s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.038405s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.010875s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.009567s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.037264s] ... ok
{2} tempest.api.compute.volumes.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.037296s] ... ok
{2} tempest.api.volume.admin.test_encrypted_volumes_extend.EncryptedVolumesExtendAttachedTest.test_extend_attached_encrypted_volume_luksv1 ... SKIPPED: Attached encrypted volume extend is disabled.
{2} tempest.api.volume.admin.test_group_types.GroupTypesTest.test_group_type_create_list_update_show_delete [0.282227s] ... ok
{2} tempest.api.volume.admin.test_group_types.GroupTypesTest.test_group_type_list_by_optional_params [0.214098s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsTest.test_group_create_show_list_delete [8.207921s] ... ok
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_create_group_from_group_snapshot [12.960903s] ... ok
{0} tempest.api.volume.admin.test_groups.GroupsTest.test_group_update [11.840623s] ... ok
{0} setUpClass (tempest.api.volume.admin.test_multi_backend.VolumeMultiBackendTest) ... SKIPPED: Cinder multi-backend feature disabled
{2} tempest.api.volume.admin.test_groups.GroupsV314Test.test_create_group_from_group [8.983097s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_associate_disassociate_qos [0.344295s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_back_end_consumer [0.098755s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_both_consumer [0.099380s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_create_delete_qos_with_front_end_consumer [0.097814s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_get_qos [0.020562s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_list_qos [0.020385s] ... ok
{0} tempest.api.volume.admin.test_qos.QosSpecsTestJSON.test_set_unset_qos_key [0.128582s] ... ok
{2} tempest.api.volume.admin.test_groups.GroupsV320Test.test_reset_group_status [2.947330s] ... ok
{2} setUpClass (tempest.api.volume.admin.test_snapshot_manage.SnapshotManageAdminTest) ... SKIPPED: Manage snapshot tests are disabled
{0} tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_list_hosts [0.180623s] ... ok
{0} tempest.api.volume.admin.test_volume_hosts.VolumeHostsAdminTestsJSON.test_show_host [0.145759s] ... ok
{0} setUpClass (tempest.api.volume.admin.test_volume_manage.VolumeManageAdminTest) ... SKIPPED: Manage volume tests are disabled
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_delete_group_snapshots_following_updated_volumes [18.539681s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_delete_quota [0.326284s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_list_default_quotas [0.038232s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_list_quotas [0.048125s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_reset_snapshot_status [0.233537s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage [3.700969s] ... ok
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsTest.test_group_snapshot_create_show_list_delete [8.410522s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_creating [3.417926s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_quota_usage_after_volume_transfer [4.235935s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_show_quota_usage [0.052568s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_deleting [3.467567s] ... ok
{0} tempest.api.volume.admin.test_volume_quotas.VolumeQuotasAdminTestJSON.test_update_all_quota_resources_for_tenant [0.238976s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_error [3.423208s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_snapshot_force_delete_when_snapshot_is_error_deleting [3.437671s] ... ok
{2} tempest.api.volume.admin.test_snapshots_actions.SnapshotsActionsTest.test_update_snapshot_status [0.187238s] ... ok
{0} tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithoutMigrationTest.test_available_volume_retype [3.846047s] ... ok
{1} tempest.api.volume.admin.test_group_snapshots.GroupSnapshotsV319Test.test_reset_group_snapshot_status [8.829500s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_disable_log_reason_with_no_reason [0.017493s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_disable_service_with_invalid_binary [0.025228s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_enable_service_with_invalid_host [0.026792s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_freeze_host_with_invalid_host [0.026082s] ... ok
{2} tempest.api.volume.admin.test_volume_services_negative.VolumeServicesNegativeTest.test_thaw_host_with_invalid_host [0.026691s] ... ok
{1} tempest.api.volume.admin.test_group_type_specs.GroupTypeSpecsTest.test_group_type_specs_create_show_update_list_delete [0.472140s] ... ok
{0} tempest.api.volume.admin.test_volume_type_access.VolumeTypesAccessTest.test_volume_type_access_list [0.345547s] ... ok
{1} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_delete_message [1.593711s] ... ok
{1} tempest.api.volume.admin.test_user_messages.UserMessagesTest.test_list_show_messages [1.395427s] ... ok
{2} tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_gigabytes_snapshots [0.244207s] ... ok
{2} tempest.api.volume.admin.test_volume_snapshot_quotas_negative.VolumeSnapshotQuotasNegativeTestJSON.test_quota_volume_snapshots [0.058276s] ... ok
{1} tempest.api.volume.admin.test_volume_pools.VolumePoolsAdminTestsJSON.test_get_pools_without_details [0.160884s] ... ok
{2} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_create_get_delete [0.195648s] ... ok
{2} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_encryption_create_get_update_delete [0.277145s] ... ok
{2} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_list [0.031934s] ... ok
{2} tempest.api.volume.admin.test_volume_types.VolumeTypesTest.test_volume_type_update [0.121616s] ... ok
{1} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_show_default_quota [0.180327s] ... ok
{1} tempest.api.volume.admin.test_volume_quota_classes.VolumeQuotaClassesTest.test_update_default_quota [0.702607s] ... ok
{0} tempest.api.volume.test_image_metadata.VolumesImageMetadata.test_update_show_delete_image_metadata [0.196909s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_invalid_body [0.015847s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_none_body [0.022495s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_create_nonexistent_type_id [0.029520s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_delete_nonexistent_volume_type_id [0.019017s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_get_nonexistent_extra_spec_name [0.023115s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_get_nonexistent_volume_type_id [0.019145s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_list_nonexistent_volume_type_id [0.028896s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_multiple_extra_spec [0.014778s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_no_body [0.014688s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_none_extra_spec_id [0.029836s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_nonexistent_extra_spec_id [0.030747s] ... ok
{2} tempest.api.volume.admin.test_volume_types_extra_specs_negative.ExtraSpecsNegativeTest.test_update_nonexistent_type_id [0.029880s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_quota_volume_gigabytes [0.200396s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_quota_volumes [0.190051s] ... ok
{1} tempest.api.volume.admin.test_volume_quotas_negative.VolumeQuotasNegativeTestJSON.test_volume_extend_gigabytes_quota_deviation [0.149672s] ... ok
{0} tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON.test_crud_snapshot_metadata [0.245618s] ... ok
{0} tempest.api.volume.test_snapshot_metadata.SnapshotMetadataTestJSON.test_update_show_snapshot_metadata_item [0.204731s] ... ok
{1} setUpClass (tempest.api.volume.admin.test_volume_retype.VolumeRetypeWithMigrationTest) ... SKIPPED: Cinder multi-backend feature disabled
{1} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_host_name [0.025636s] ... ok
{1} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_service_and_host_name [0.025059s] ... ok
{1} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_service_binary_name [0.021098s] ... ok
{1} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_get_service_by_volume_host_name [2.545446s] ... ok
{1} tempest.api.volume.admin.test_volume_services.VolumesServicesTestJSON.test_list_services [0.022258s] ... ok
{0} tempest.api.volume.test_volume_absolute_limits.AbsoluteLimitsTests.test_get_volume_absolute_limits [0.051915s] ... ok
{2} tempest.api.volume.admin.test_volumes_list.VolumesListAdminTestJSON.test_volume_list_param_tenant [2.585471s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_spec_create_get_delete [0.131660s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_specs_list [0.070596s] ... ok
{1} tempest.api.volume.admin.test_volume_types_extra_specs.VolumeTypesExtraSpecsTest.test_volume_type_extra_specs_update [0.185474s] ... ok
{2} tempest.api.volume.test_extensions.ExtensionsTestJSON.test_list_extensions [0.148945s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_volume_type_encryption_nonexistent_type_id [0.164094s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_empty_name [0.014815s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_create_with_repeated_name [0.049367s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_delete_nonexistent_type_id [0.019452s] ... ok
{1} tempest.api.volume.admin.test_volume_types_negative.VolumeTypesNegativeTest.test_get_nonexistent_type_id [0.015916s] ... ok
{0} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_get_list_accept_volume_transfer [4.393737s] ... ok
{2} tempest.api.volume.test_volume_metadata.VolumesMetadataTest.test_crud_volume_metadata [0.268451s] ... ok
{2} tempest.api.volume.test_volume_metadata.VolumesMetadataTest.test_update_show_volume_metadata_item [0.186093s] ... ok
{0} tempest.api.volume.test_volume_transfers.VolumesTransfersV355Test.test_create_list_delete_volume_transfer [3.629023s] ... ok
{1} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_force_detach_volume [4.257763s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/admin/test_volumes_actions.py", line 83, in test_force_detach_volume
    server_id = self.create_server()['id']

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server d8f8af3b-530c-4958-aa36-4e8886c708a7 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2023-05-16T16:21:08Z', 'message': 'Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance d8f8af3b-530c-4958-aa36-4e8886c708a7.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py", line 703, in build_instances\n    raise exception.MaxRetriesExceeded(reason=msg)\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance d8f8af3b-530c-4958-aa36-4e8886c708a7.\n'}. Server boot request ID: req-606ac341-1d5b-457c-b779-a7925e3b6eb0.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2023-05-16 16:21:06,925 25530 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 201 POST http://controller:5000/v3/auth/tokens 0.586s
2023-05-16 16:21:06,925 25530 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:06 GMT', 'server': 'Apache', 'content-length': '3247', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e576e5a9-bacb-4c98-a93f-fc783890cb57', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "834f51987aff49ba8e5f44baf437dfed", "name": "tempest-VolumesActionsTest-1467295966-project", "password_expires_at": null}, "audit_ids": ["DAVoGT65QR-3a578hLy0ow"], "expires_at": "2023-05-17T16:21:06.000000Z", "issued_at": "2023-05-16T16:21:06.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "23c3cf41cd0a47b2ad82220d17af77c5", "name": "tempest-VolumesActionsTest-1467295966"}, "is_domain": false, "roles": [{"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member"}, {"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader"}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin"}], "catalog": [{"endpoints": [{"id": "2ef038ce87a54afcb6d51f63a97336c6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "643c1a643c2e4bf0b88f318cade181d2", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "2a634ba537ea4355bcf9ff6b2acccc7a", "type": "image", "name": "glance"}, {"endpoints": [{"id": "3832feab28214fd9a55abd43ffbbbdd9", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "ee21a250ad5540ae9f80535c28d35fc5", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "4cfd37b40e6140c5b9776e56cf44ed32", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "1b408a9c4aaf42a1b8fb00c9f642e622", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "f096abc126de408eacaa5f2cf56a3dbe", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "642a2e91c13e4f21a10fcf71d190a840", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "218551f599544d07b8108f478c159b9c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "d2a9ca8d9aa24476bf6baedb3004f388", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "7112f77e91ac48d29b3593625f36f04d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "44b5f5e22c1e4184aead65119b5231d6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "6b1a1973507e40e690e7cee40b83a2f8", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "7bae18bfa06748a58770dc3fd970e5df", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "2146b3fa527d4407908a2db7815efe83", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/23c3cf41cd0a47b2ad82220d17af77c5", "region": "RegionOne"}, {"id": "a526c2b9a24e40db895e151a35171d26", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/23c3cf41cd0a47b2ad82220d17af77c5", "region": "RegionOne"}], "id": "e4f2c864cf244ef9b1d96d93a9fdef3e", "type": "volumev3", "name": "cinderv3"}]}}'
2023-05-16 16:21:06,933 25530 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest
    :test_force_detach_volume) Found network None available for tenant
2023-05-16 16:21:07,346 25530 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.411s
2023-05-16 16:21:07,347 25530 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-1767395720", "imageRef": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:06 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-606ac341-1d5b-457c-b779-a7925e3b6eb0', 'x-compute-request-id': 'req-606ac341-1d5b-457c-b779-a7925e3b6eb0', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "d8f8af3b-530c-4958-aa36-4e8886c708a7", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "E8AMWjLhPjK7"}}'
2023-05-16 16:21:07,429 25530 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7 0.078s
2023-05-16 16:21:07,429 25530 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:07 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5b3c56eb-51ba-44ef-bfbb-ebf8ae1fdbdc', 'x-compute-request-id': 'req-5b3c56eb-51ba-44ef-bfbb-ebf8ae1fdbdc', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7'}
        Body: b'{"server": {"id": "d8f8af3b-530c-4958-aa36-4e8886c708a7", "name": "tempest-VolumesActionsTest-instance-1767395720", "status": "BUILD", "tenant_id": "23c3cf41cd0a47b2ad82220d17af77c5", "user_id": "834f51987aff49ba8e5f44baf437dfed", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:07Z", "updated": "2023-05-16T16:21:07Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:08,541 25530 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_vol
    ume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7 0.101s
2023-05-16 16:21:08,542 25530 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1335', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8f9da15c-19f7-49a5-8df8-824bc9bcb6c1', 'x-compute-request-id': 'req-8f9da15c-19f7-49a5-8df8-824bc9bcb6c1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7'}
        Body: b'{"server": {"id": "d8f8af3b-530c-4958-aa36-4e8886c708a7", "name": "tempest-VolumesActionsTest-instance-1767395720", "status": "BUILD", "tenant_id": "23c3cf41cd0a47b2ad82220d17af77c5", "user_id": "834f51987aff49ba8e5f44baf437dfed", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:07Z", "updated": "2023-05-16T16:21:08Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000063", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:08,551 25530 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/None" after 1 second wait
2023-05-16 16:21:09,647 25530 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7 0.094s
2023-05-16 16:21:09,647 25530 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:09 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1932', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8b11234b-3b3d-4607-8337-19a6ce66055a', 'x-compute-request-id': 'req-8b11234b-3b3d-4607-8337-19a6ce66055a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7'}
        Body: b'{"server": {"id": "d8f8af3b-530c-4958-aa36-4e8886c708a7", "name": "tempest-VolumesActionsTest-instance-1767395720", "status": "ERROR", "tenant_id": "23c3cf41cd0a47b2ad82220d17af77c5", "user_id": "834f51987aff49ba8e5f44baf437dfed", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:07Z", "updated": "2023-05-16T16:21:08Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "ht
    tp://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2023-05-16T16:21:08Z", "message": "Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance d8f8af3b-530c-4958-aa36-4e8886c708a7.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py\\", line 703, in build_instances\\n    raise exception.MaxRetriesExceeded(reason=msg)\\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance d8f8af3b-530c-4958-aa36-4e8886c708a7.\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000063", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:09,657 25530 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 2 second wait
2023-05-16 16:21:10,555 25530 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7 0.897s
2023-05-16 16:21:10,555 25530 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:09 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5757cc3e-4a40-47d7-8fcd-1fcb6ed727f5', 'x-compute-request-id': 'req-5757cc3e-4a40-47d7-8fcd-1fcb6ed727f5', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7'}
        Body: b''
2023-05-16 16:21:10,585 25530 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7 0.029s
2023-05-16 16:21:10,585 25530 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:10 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-60639f57-6c37-435c-b9a2-09f64c423302', 'x-compute-request-id': 'req-60639f57-6c37-435c-b9a2-09f64c423302', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance d8f8af3b-530c-4958-aa36-4e8886c708a7 could not be found."}}'

{0} tempest.api.volume.test_volumes_clone_negative.VolumesCloneNegativeTest.test_create_from_volume_decreasing_size [2.558493s] ... ok
{1} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_attaching [3.758438s] ... ok
{2} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_attach_detach_volume_to_instance [5.066490s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 45, in test_attach_detach_volume_to_instance
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server d2b31362-37b1-4d3d-890b-8c80d31e6787 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2023-05-16T16:21:14Z', 'message': 'Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance d2b31362-37b1-4d3d-890b-8c80d31e6787.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py", line 703, in build_instances\n    raise exception.MaxRetriesExceeded(reason=msg)\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance d2b31362-37b1-4d3d-890b-8c80d31e6787.\n'}. Server boot request ID: req-17bd5db3-fa84-4230-9755-953ee0f54f51.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2023-05-16 16:21:11,337 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://controller:5000/v3/auth/tokens 0.590s
2023-05-16 16:21:11,337 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:10 GMT', 'server': 'Apache', 'content-length': '3245', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ea0ee1ff-6b03-40fe-a68e-b81afa15b0e3', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "19895b4d35c047a2a6449e472f5cbce0", "name": "tempest-VolumesActionsTest-236274730-project", "password_expires_at": null}, "audit_ids": ["O3L3nhG-QkC01Da5Gb1afQ"], "expires_at": "2023-05-17T16:21:11.000000Z", "issued_at": "2023-05-16T16:21:11.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "c34e8801dd8e46c1ae8f9094ad913526", "name": "tempest-VolumesActionsTest-236274730"}, "is_domain": false, "roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader"}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin"}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member"}], "catalog": [{"endpoints": [{"id": "2ef038ce87a54afcb6d51f63a97336c6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "643c1a643c2e4bf0b88f318cade181d2", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "2a634ba537ea4355bcf9ff6b2acccc7a", "type": "image", "name": "glance"}, {"endpoints": [{"id": "3832feab28214fd9a55abd43ffbbbdd9", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "ee21a250ad5540ae9f80535c28d35fc5", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "4cfd37b40e6140c5b9776e56cf44ed32", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "1b408a9c4aaf42a1b8fb00c9f642e622", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "f096abc126de408eacaa5f2cf56a3dbe", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "642a2e91c13e4f21a10fcf71d190a840", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "218551f599544d07b8108f478c159b9c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "d2a9ca8d9aa24476bf6baedb3004f388", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "7112f77e91ac48d29b3593625f36f04d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "44b5f5e22c1e4184aead65119b5231d6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "6b1a1973507e40e690e7cee40b83a2f8", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "7bae18bfa06748a58770dc3fd970e5df", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "2146b3fa527d4407908a2db7815efe83", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/c34e8801dd8e46c1ae8f9094ad913526", "region": "RegionOne"}, {"id": "a526c2b9a24e40db895e151a35171d26", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/c34e8801dd8e46c1ae8f9094ad913526", "region": "RegionOne"}], "id": "e4f2c864cf244ef9b1d96d93a9fdef3e", "type": "volumev3", "name": "cinderv3"}]}}'
2023-05-16 16:21:11,338 25531 DEBUG    [tempest.lib.common.dynamic_creds] Creating
     new dynamic creds for scope: None and credential_type: admin
2023-05-16 16:21:11,429 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.090s
2023-05-16 16:21:11,429 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesActionsTest-57335240-desc", "domain_id": "default", "name": "tempest-VolumesActionsTest-57335240"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:11 GMT', 'server': 'Apache', 'content-length': '368', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7d7ad138-2e82-496f-a9e4-0ec813e8fdc4', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "418daeb797564fa283693574ac826e2a", "name": "tempest-VolumesActionsTest-57335240", "domain_id": "default", "description": "tempest-VolumesActionsTest-57335240-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/418daeb797564fa283693574ac826e2a"}}}\n'
2023-05-16 16:21:12,011 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.581s
2023-05-16 16:21:12,011 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesActionsTest-57335240-project-admin", "password": "G3_V~fztZZk38+8", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:11 GMT', 'server': 'Apache', 'content-length': '290', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-52724672-ce69-4f57-b09e-ff95a40308af', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "f063dbc38cf74981ae6a1602f1776ce5", "name": "tempest-VolumesActionsTest-57335240-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/f063dbc38cf74981ae6a1602f1776ce5"}}}\n'
2023-05-16 16:21:12,039 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.027s
2023-05-16 16:21:12,040 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-854de949-a2a2-4dcb-821f-ff98fea3bf3d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]
    0:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:21:12,083 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/418daeb797564fa283693574ac826e2a/users/f063dbc38cf74981ae6a1602f1776ce5/roles/b7eebb47178e4fea97f8f534796f62f1 0.042s
2023-05-16 16:21:12,083 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-4b6c6ff6-5221-471d-9029-d30a4b5177dc', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/418daeb797564fa283693574ac826e2a/users/f063dbc38cf74981ae6a1602f1776ce5/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:21:12,159 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.075s
2023-05-16 16:21:12,159 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ae17f4de-2af7-4de8-9e62-c1c93225d1db', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:21:12,192 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/f063dbc38cf74981ae6a1602f1776ce5/roles/b7eebb47178e4fea97f8f534796f62f1 0.031s
2023-05-16 16:21:12,192 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b37e0f17-55e5-4871-b42f-df1ad1793aca', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/f063dbc38cf74981ae6a1602f1776ce5/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:21:12,262 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.069s
2023-05-16 16:21:12,262 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Hea
    ders: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8c06dc9a-131e-4d27-9934-2e7c614895b1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:21:12,295 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/418daeb797564fa283693574ac826e2a/users/f063dbc38cf74981ae6a1602f1776ce5/roles/b7eebb47178e4fea97f8f534796f62f1 0.032s
2023-05-16 16:21:12,296 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-c13cd7da-4e04-4aad-a67e-c0bc91d3b7b0', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/418daeb797564fa283693574ac826e2a/users/f063dbc38cf74981ae6a1602f1776ce5/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:21:12,363 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.066s
2023-05-16 16:21:12,363 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-12bb7a2d-7b27-4c8b-9df0-7e9d75a922d3', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:21:12,395 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_
    attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/418daeb797564fa283693574ac826e2a/users/f063dbc38cf74981ae6a1602f1776ce5/roles/b7eebb47178e4fea97f8f534796f62f1 0.031s
2023-05-16 16:21:12,395 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-17ecfe61-874c-4e03-9dfe-b98ae4a635a1', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/418daeb797564fa283693574ac826e2a/users/f063dbc38cf74981ae6a1602f1776ce5/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:21:12,396 25531 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user f063dbc38cf74981ae6a1602f1776ce5 is created with scope project and roles: ['admin', 'admin']
2023-05-16 16:21:12,396 25531 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesActionsTest-57335240-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '418daeb797564fa283693574ac826e2a', 'project_name': 'tempest-VolumesActionsTest-57335240', 'tenant_id': '418daeb797564fa283693574ac826e2a', 'tenant_name': 'tempest-VolumesActionsTest-57335240', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'f063dbc38cf74981ae6a1602f1776ce5', 'system': None}, Network: None, Subnet: None, Router: None
2023-05-16 16:21:12,405 25531 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_attach_detach_volume_to_instance) Found network None available for tenant
2023-05-16 16:21:12,618 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.212s
2023-05-16 16:21:12,618 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-401990909", "imageRef": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-17bd5db3-fa84-4230-9755-953ee0f54f51', 'x-compute-request-id': 'req-17bd5db3-fa84-4230-9755-953ee0f54f51', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "d2b31362-37b1-4d3d-890b-8c80d31e6787", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "ysMD8iiW2eDk"}}'
2023-05-16 16:21:12,685 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787 0.063s
2023-05-16 16:21:12,685 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1321', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-
    Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-9d6421a4-82fb-491c-a758-393b17205efd', 'x-compute-request-id': 'req-9d6421a4-82fb-491c-a758-393b17205efd', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787'}
        Body: b'{"server": {"id": "d2b31362-37b1-4d3d-890b-8c80d31e6787", "name": "tempest-VolumesActionsTest-instance-401990909", "status": "BUILD", "tenant_id": "c34e8801dd8e46c1ae8f9094ad913526", "user_id": "19895b4d35c047a2a6449e472f5cbce0", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:12Z", "updated": "2023-05-16T16:21:12Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:13,769 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787 0.073s
2023-05-16 16:21:13,769 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:13 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1334', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-72bbaf55-1267-4c6a-96a2-e87fd592adb1', 'x-compute-request-id': 'req-72bbaf55-1267-4c6a-96a2-e87fd592adb1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787'}
        Body: b'{"server": {"id": "d2b31362-37b1-4d3d-890b-8c80d31e6787", "name": "tempest-VolumesActionsTest-instance-401990909", "status": "BUILD", "tenant_id": "c34e8801dd8e46c1ae8f9094ad913526", "user_id": "19895b4d35c047a2a6449e472f5cbce0", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:12Z", "updated": "2023-05-16T16:21:13Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000064", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:13,779 25531 I
    NFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/None" after 1 second wait
2023-05-16 16:21:14,862 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787 0.081s
2023-05-16 16:21:14,862 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:14 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1931', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-408badb5-0c9b-4cf0-9dac-c573bf7e8a2e', 'x-compute-request-id': 'req-408badb5-0c9b-4cf0-9dac-c573bf7e8a2e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787'}
        Body: b'{"server": {"id": "d2b31362-37b1-4d3d-890b-8c80d31e6787", "name": "tempest-VolumesActionsTest-instance-401990909", "status": "ERROR", "tenant_id": "c34e8801dd8e46c1ae8f9094ad913526", "user_id": "19895b4d35c047a2a6449e472f5cbce0", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:12Z", "updated": "2023-05-16T16:21:14Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2023-05-16T16:21:14Z", "message": "Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance d2b31362-37b1-4d3d-890b-8c80d31e6787.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py\\", line 703, in build_instances\\n    raise exception.MaxRetriesExceeded(reason=msg)\\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance d2b31362-37b1-4d3d-890b-8c80d31e6787.\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000064", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:14,872 25531 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 2 second wait
2023-05-16 16:21:15,771 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787 0.898s
2023-05-16 16:21:15,771 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:14 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ab27fa11-fb68-4ff2-ab11-1e6d6865e8b8', 'x-compute-request-id': 'req-ab27fa11-fb68-4ff2-ab11-1e6d6865e8b8', 'connection': 'close', 'status': '204', 'content-location': '
    http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787'}
        Body: b''
2023-05-16 16:21:15,804 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787 0.032s
2023-05-16 16:21:15,804 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:15 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-48b4548d-7e9f-4a5a-a85f-fe1484f963e4', 'x-compute-request-id': 'req-48b4548d-7e9f-4a5a-a85f-fe1484f963e4', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance d2b31362-37b1-4d3d-890b-8c80d31e6787 could not be found."}}'

{1} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_creating [2.493958s] ... ok
{2} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_get_volume_attachment [3.972093s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 81, in test_get_volume_attachment
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 991f87a4-de38-4e20-a567-d30e7184401a failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2023-05-16T16:21:18Z', 'message': 'Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 991f87a4-de38-4e20-a567-d30e7184401a.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py", line 703, in build_instances\n    raise exception.MaxRetriesExceeded(reason=msg)\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 991f87a4-de38-4e20-a567-d30e7184401a.\n'}. Server boot request ID: req-02cc0b97-b880-45cc-a3ba-aac3ac82b2ce.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2023-05-16 16:21:16,401 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 201 POST http://controller:5000/v3/auth/tokens 0.584s
2023-05-16 16:21:16,402 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:15 GMT', 'server': 'Apache', 'content-length': '3245', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-9f8094dd-bafa-4a1b-8c21-667b3bc2b84c', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "19895b4d35c047a2a6449e472f5cbce0", "name": "tempest-VolumesActionsTest-236274730-project", "password_expires_at": null}, "audit_ids": ["Jqvq49o7QfONEKwKDITA1w"], "expires_at": "2023-05-17T16:21:16.000000Z", "issued_at": "2023-05-16T16:21:16.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "c34e8801dd8e46c1ae8f9094ad913526", "name": "tempest-VolumesActionsTest-236274730"}, "is_domain": false, "roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader"}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin"}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member"}], "catalog": [{"endpoints": [{"id": "2ef038ce87a54afcb6d51f63a97336c6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "643c1a643c2e4bf0b88f318cade181d2", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "2a634ba537ea4355bcf9ff6b2acccc7a", "type": "image", "name": "glance"}, {"endpoints": [{"id": "3832feab28214fd9a55abd43ffbbbdd9", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "ee21a250ad5540ae9f80535c28d35fc5", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "4cfd37b40e6140c5b9776e56cf44ed32", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "1b408a9c4aaf42a1b8fb00c9f642e622", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "f096abc126de408eacaa5f2cf56a3dbe", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "642a2e91c13e4f21a10fcf71d190a840", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "218551f599544d07b8108f478c159b9c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "d2a9ca8d9aa24476bf6baedb3004f388", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "7112f77e91ac48d29b3593625f36f04d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "44b5f5e22c1e4184aead65119b5231d6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "6b1a1973507e40e690e7cee40b83a2f8", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "7bae18bfa06748a58770dc3fd970e5df", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "2146b3fa527d4407908a2db7815efe83", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/c34e8801dd8e46c1ae8f9094ad913526", "region": "RegionOne"}, {"id": "a526c2b9a24e40db895e151a35171d26", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/c34e8801dd8e46c1ae8f9094ad913526", "region": "RegionOne"}], "id": "e4f2c864cf244ef9b1d96d93a9fdef3e", "type": "volumev3", "name": "cinderv3"}]}}'
2023-05-16 16:21:16,410 25531 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest
    :test_get_volume_attachment) Found network None available for tenant
2023-05-16 16:21:16,606 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.195s
2023-05-16 16:21:16,606 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-1322569445", "imageRef": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:16 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-02cc0b97-b880-45cc-a3ba-aac3ac82b2ce', 'x-compute-request-id': 'req-02cc0b97-b880-45cc-a3ba-aac3ac82b2ce', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "991f87a4-de38-4e20-a567-d30e7184401a", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/991f87a4-de38-4e20-a567-d30e7184401a"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "wVC3M3vD5YQ8"}}'
2023-05-16 16:21:16,668 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a 0.058s
2023-05-16 16:21:16,668 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:16 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ba083dbc-2866-4ace-994f-831cf6ae8b21', 'x-compute-request-id': 'req-ba083dbc-2866-4ace-994f-831cf6ae8b21', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a'}
        Body: b'{"server": {"id": "991f87a4-de38-4e20-a567-d30e7184401a", "name": "tempest-VolumesActionsTest-instance-1322569445", "status": "BUILD", "tenant_id": "c34e8801dd8e46c1ae8f9094ad913526", "user_id": "19895b4d35c047a2a6449e472f5cbce0", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:16Z", "updated": "2023-05-16T16:21:16Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/991f87a4-de38-4e20-a567-d30e7184401a"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:17,757 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume
    _attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a 0.078s
2023-05-16 16:21:17,757 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:17 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1335', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-63d765b1-1a76-4b60-b21c-990c958bc8ac', 'x-compute-request-id': 'req-63d765b1-1a76-4b60-b21c-990c958bc8ac', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a'}
        Body: b'{"server": {"id": "991f87a4-de38-4e20-a567-d30e7184401a", "name": "tempest-VolumesActionsTest-instance-1322569445", "status": "BUILD", "tenant_id": "c34e8801dd8e46c1ae8f9094ad913526", "user_id": "19895b4d35c047a2a6449e472f5cbce0", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:16Z", "updated": "2023-05-16T16:21:17Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/991f87a4-de38-4e20-a567-d30e7184401a"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000065", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:17,767 25531 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/None" after 1 second wait
2023-05-16 16:21:18,856 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a 0.087s
2023-05-16 16:21:18,857 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:18 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1932', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-79213926-a4fd-4fa3-a8b4-aae324411838', 'x-compute-request-id': 'req-79213926-a4fd-4fa3-a8b4-aae324411838', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a'}
        Body: b'{"server": {"id": "991f87a4-de38-4e20-a567-d30e7184401a", "name": "tempest-VolumesActionsTest-instance-1322569445", "status": "ERROR", "tenant_id": "c34e8801dd8e46c1ae8f9094ad913526", "user_id": "19895b4d35c047a2a6449e472f5cbce0", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:16Z", "updated": "2023-05-16T16:21:18Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "
    href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/991f87a4-de38-4e20-a567-d30e7184401a"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2023-05-16T16:21:18Z", "message": "Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 991f87a4-de38-4e20-a567-d30e7184401a.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py\\", line 703, in build_instances\\n    raise exception.MaxRetriesExceeded(reason=msg)\\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 991f87a4-de38-4e20-a567-d30e7184401a.\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000065", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:18,867 25531 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 2 second wait
2023-05-16 16:21:19,751 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a 0.884s
2023-05-16 16:21:19,752 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:18 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7bc12f0a-08f4-4131-a771-8bd258a04430', 'x-compute-request-id': 'req-7bc12f0a-08f4-4131-a771-8bd258a04430', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a'}
        Body: b''
2023-05-16 16:21:19,780 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a 0.027s
2023-05-16 16:21:19,780 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:19 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7b1d8f21-adbb-487a-b1e9-7090eab50c93', 'x-compute-request-id': 'req-7b1d8f21-adbb-487a-b1e9-7090eab50c93', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 991f87a4-de38-4e20-a567-d30e7184401a could not be found."}}'

{2} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_reserve_unreserve_volume [0.161789s] ... ok
{2} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_bootable [0.163628s] ... ok
{2} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_readonly_update [0.169979s] ... ok
{1} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_error [3.519394s] ... ok
{1} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_force_delete_when_volume_is_maintenance [2.497488s] ... ok
{0} tempest.api.volume.test_volumes_extend.VolumesExtendAttachedTest.test_extend_attached_volume [5.399827s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 187, in test_extend_attached_volume
    self._test_extend_attached_volume(volume)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 117, in _test_extend_attached_volume
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 9be95707-5275-4051-a1bc-96784fd6d46d failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2023-05-16T16:21:22Z', 'message': 'Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 9be95707-5275-4051-a1bc-96784fd6d46d.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py", line 703, in build_instances\n    raise exception.MaxRetriesExceeded(reason=msg)\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 9be95707-5275-4051-a1bc-96784fd6d46d.\n'}. Server boot request ID: req-7d47fd0e-6087-42c6-b023-cd1db7f50e68.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2023-05-16 16:21:18,857 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34/volumes 0.384s
2023-05-16 16:21:18,857 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesExtendAttachedTest-Volume-727342785"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:18 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '891', 'x-compute-request-id': 'req-26f37d10-d425-4232-841a-6d96bc8aec69', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-26f37d10-d425-4232-841a-6d96bc8aec69', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34/volumes'}
        Body: b'{"volume": {"id": "0a589600-86e6-4b78-91f1-82b7df2db0be", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2023-05-16T16:21:18.794443", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-727342785", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be"}], "user_id": "956cb75cda1e49358af8b3e282fde0ac", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null}}'
2023-05-16 16:21:18,902 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be 0.035s
2023-05-16 16:21:18,902 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:18 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1070', 'x-compute-request-id': 'req-96ff295d-6f92-4bbe-a984-157667787a3e', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-96ff295d-6f92-4bbe-a984-157667787a3e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be'}
        Body: b'{"volume": {"id": "0a589600-86e6-4b78-91f1-82b7df2db0be", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2023-05-16T16:21:18.000000", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-727342785", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be"}], "user_id": "956cb75cda1e49358af8b3e282fde0ac", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-host-attr:host": null, "os-vol-tenant-attr:tenant_id": "2fe98ba261fc4845bc7860e58
    8b81a34"}}'
2023-05-16 16:21:19,948 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be 0.036s
2023-05-16 16:21:19,948 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:19 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1129', 'x-compute-request-id': 'req-3abc415b-9c94-4e3e-bf99-85f9d05548ef', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-3abc415b-9c94-4e3e-bf99-85f9d05548ef', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be'}
        Body: b'{"volume": {"id": "0a589600-86e6-4b78-91f1-82b7df2db0be", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2023-05-16T16:21:18.000000", "updated_at": "2023-05-16T16:21:19.000000", "name": "tempest-VolumesExtendAttachedTest-Volume-727342785", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be"}], "user_id": "956cb75cda1e49358af8b3e282fde0ac", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-host-attr:host": "rack02-server70@LIGHTOSiptkjp#iptkjp", "os-vol-tenant-attr:tenant_id": "2fe98ba261fc4845bc7860e588b81a34"}}'
2023-05-16 16:21:19,959 25529 INFO     [tempest.common.waiters] volume 0a589600-86e6-4b78-91f1-82b7df2db0be reached available after waiting for 1.958960 seconds
2023-05-16 16:21:20,499 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 201 POST http://controller:5000/v3/auth/tokens 0.535s
2023-05-16 16:21:20,500 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:19 GMT', 'server': 'Apache', 'content-length': '3259', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ce1b58ee-053b-498d-a01c-46545009de7a', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "956cb75cda1e49358af8b3e282fde0ac", "name": "tempest-VolumesExtendAttachedTest-555594919-project", "password_expires_at": null}, "audit_ids": ["80tvTg_-TyaPzWnDM43n_g"], "expires_at": "2023-05-17T16:21:20.000000Z", "issued_at": "2023-05-16T16:21:20.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "2fe98ba261fc4845bc7860e588b81a34", "name": "tempest-VolumesExtendAttachedTest-555594919"}, "is_domain": false, "roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader"}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member"}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin"}], "catalog": [{"endpoints": [{"id": "2ef038ce87a54afcb6d51f63a97336c6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "643c1a643c2e4bf0b88f318cade181d2", "in
    terface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "2a634ba537ea4355bcf9ff6b2acccc7a", "type": "image", "name": "glance"}, {"endpoints": [{"id": "3832feab28214fd9a55abd43ffbbbdd9", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "ee21a250ad5540ae9f80535c28d35fc5", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "4cfd37b40e6140c5b9776e56cf44ed32", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "1b408a9c4aaf42a1b8fb00c9f642e622", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "f096abc126de408eacaa5f2cf56a3dbe", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "642a2e91c13e4f21a10fcf71d190a840", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "218551f599544d07b8108f478c159b9c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "d2a9ca8d9aa24476bf6baedb3004f388", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "7112f77e91ac48d29b3593625f36f04d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "44b5f5e22c1e4184aead65119b5231d6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "6b1a1973507e40e690e7cee40b83a2f8", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "7bae18bfa06748a58770dc3fd970e5df", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "2146b3fa527d4407908a2db7815efe83", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34", "region": "RegionOne"}, {"id": "a526c2b9a24e40db895e151a35171d26", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34", "region": "RegionOne"}], "id": "e4f2c864cf244ef9b1d96d93a9fdef3e", "type": "volumev3", "name": "cinderv3"}]}}'
2023-05-16 16:21:20,509 25529 INFO     [tempest.lib.common.fixed_network] (VolumesExtendAttachedTest:test_extend_attached_volume) Found network None available for tenant
2023-05-16 16:21:20,717 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.206s
2023-05-16 16:21:20,717 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesExtendAttachedTest-instance-2054721514", "imageRef": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:20 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7d47fd0e-6087-42c6-b023-cd1db7f50e68', 'x-compute-request-id': 'req-7d47fd0e-6087-42c6-b023-cd1db7f50e68', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "9be95707-5275-4051-a1bc-96784fd6d46d", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/9be95707-5275-4051-a1bc-96784fd6d46d"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "9Rkbz4UFRHyd"}}'
2023-05-16 16:21:20,782 25529 INFO     [tempest.
    lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d 0.061s
2023-05-16 16:21:20,782 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:20 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1329', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-37d90c37-4f6b-436b-a4b6-912d57c4d181', 'x-compute-request-id': 'req-37d90c37-4f6b-436b-a4b6-912d57c4d181', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d'}
        Body: b'{"server": {"id": "9be95707-5275-4051-a1bc-96784fd6d46d", "name": "tempest-VolumesExtendAttachedTest-instance-2054721514", "status": "BUILD", "tenant_id": "2fe98ba261fc4845bc7860e588b81a34", "user_id": "956cb75cda1e49358af8b3e282fde0ac", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:20Z", "updated": "2023-05-16T16:21:20Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/9be95707-5275-4051-a1bc-96784fd6d46d"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:21,864 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d 0.070s
2023-05-16 16:21:21,865 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:21 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1424', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-dc988a4e-ebd9-4f95-aab9-fa0993c53f3a', 'x-compute-request-id': 'req-dc988a4e-ebd9-4f95-aab9-fa0993c53f3a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d'}
        Body: b'{"server": {"id": "9be95707-5275-4051-a1bc-96784fd6d46d", "name": "tempest-VolumesExtendAttachedTest-instance-2054721514", "status": "BUILD", "tenant_id": "2fe98ba261fc4845bc7860e588b81a34", "user_id": "956cb75cda1e49358af8b3e282fde0ac", "metadata": {}, "hostId": "af6e0cfad1d067a751dccf1a77093d4e73fcef9e923e405803714d63", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:20Z", "updated": "2023-05-16T16:21:21Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self"
    , "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/9be95707-5275-4051-a1bc-96784fd6d46d"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": "rack01-server57", "OS-EXT-SRV-ATTR:instance_name": "instance-00000066", "OS-EXT-SRV-ATTR:hypervisor_hostname": "rack01-server57", "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:21,875 25529 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/None" after 1 second wait
2023-05-16 16:21:22,962 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d 0.085s
2023-05-16 16:21:22,962 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:22 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1939', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-e6e020f3-f4ae-4442-a739-cf50a298f79a', 'x-compute-request-id': 'req-e6e020f3-f4ae-4442-a739-cf50a298f79a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d'}
        Body: b'{"server": {"id": "9be95707-5275-4051-a1bc-96784fd6d46d", "name": "tempest-VolumesExtendAttachedTest-instance-2054721514", "status": "ERROR", "tenant_id": "2fe98ba261fc4845bc7860e588b81a34", "user_id": "956cb75cda1e49358af8b3e282fde0ac", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:20Z", "updated": "2023-05-16T16:21:22Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/9be95707-5275-4051-a1bc-96784fd6d46d"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2023-05-16T16:21:22Z", "message": "Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 9be95707-5275-4051-a1bc-96784fd6d46d.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py\\", line 703, in build_instances\\n    raise exception.MaxRetriesExceeded(reason=msg)\\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 9be95707-5275-4051-a1bc-96784fd6d46d.\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000066", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:22,972 25529 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 2 second wait
2023-05-16 16:21:23,833 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 204 DELETE http://192.168.16.
    180:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d 0.860s
2023-05-16 16:21:23,833 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:22 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8ae11591-6101-4274-b5c5-7bba08b306f5', 'x-compute-request-id': 'req-8ae11591-6101-4274-b5c5-7bba08b306f5', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d'}
        Body: b''
2023-05-16 16:21:23,868 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d 0.034s
2023-05-16 16:21:23,868 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:23 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8e0dfdaa-2dfd-4564-927c-0285a7c10841', 'x-compute-request-id': 'req-8e0dfdaa-2dfd-4564-927c-0285a7c10841', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 9be95707-5275-4051-a1bc-96784fd6d46d could not be found."}}'

{1} tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_volume_reset_status [2.817399s] ... ok
{0} tempest.api.volume.test_volumes_get.VolumesSummaryTest.test_show_volume_summary [0.317420s] ... ok
{1} tempest.api.volume.test_availability_zone.AvailabilityZoneTestJSON.test_get_availability_zone_list [0.213145s] ... ok
{1} tempest.api.volume.test_versions.VersionsTest.test_list_versions [0.011843s] ... ok
{1} tempest.api.volume.test_versions.VersionsTest.test_show_version [0.151550s] ... ok
{2} tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_volume_upload [14.823749s] ... ok
{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_delete_with_volume_in_use [4.405523s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 48, in test_snapshot_create_delete_with_volume_in_use
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 61f1a533-0b2c-415d-99f6-21a07d1fd077 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2023-05-16T16:21:37Z', 'message': 'Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 61f1a533-0b2c-415d-99f6-21a07d1fd077.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py", line 703, in build_instances\n    raise exception.MaxRetriesExceeded(reason=msg)\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 61f1a533-0b2c-415d-99f6-21a07d1fd077.\n'}. Server boot request ID: req-f7ad8ccc-6545-4be0-be6b-f435d5e8174f.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2023-05-16 16:21:34,432 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://controller:5000/v3/auth/tokens 0.590s
2023-05-16 16:21:34,432 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:33 GMT', 'server': 'Apache', 'content-length': '3257', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-82ccfa45-5e1a-42c1-b7db-9eecb3c0baf3', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "5c642dfc1ad54e62bd4ed545982f0081", "name": "tempest-VolumesSnapshotTestJSON-1728728794-project", "password_expires_at": null}, "audit_ids": ["rmWtPpSoQAemnZ5eKT5qVA"], "expires_at": "2023-05-17T16:21:34.000000Z", "issued_at": "2023-05-16T16:21:34.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "8fc8ee79a0074f78965c24adff2c1169", "name": "tempest-VolumesSnapshotTestJSON-1728728794"}, "is_domain": false, "roles": [{"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member"}, {"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader"}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin"}], "catalog": [{"endpoints": [{"id": "2ef038ce87a54afcb6d51f63a97336c6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "643c1a643c2e4bf0b88f318cade181d2", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "2a634ba537ea4355bcf9ff6b2acccc7a", "type": "image", "name": "glance"}, {"endpoints": [{"id": "3832feab28214fd9a55abd43ffbbbdd9", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "ee21a250ad5540ae9f80535c28d35fc5", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "4cfd37b40e6140c5b9776e56cf44ed32", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "1b408a9c4aaf42a1b8fb00c9f642e622", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "f096abc126de408eacaa5f2cf56a3dbe", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "642a2e91c13e4f21a10fcf71d190a840", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "218551f599544d07b8108f478c159b9c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "d2a9ca8d9aa24476bf6baedb3004f388", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "7112f77e91ac48d29b3593625f36f04d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "44b5f5e22c1e4184aead65119b5231d6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "6b1a1973507e40e690e7cee40b83a2f8", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "7bae18bfa06748a58770dc3fd970e5df", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "2146b3fa527d4407908a2db7815efe83", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169", "region": "RegionOne"}, {"id": "a526c2b9a24e40db895e151a35171d26", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169", "region": "RegionOne"}], "id": "e4f2c864cf244ef9b1d96d93a9fdef3e", "type": "volumev3", "name": "cinderv3"}]}}'
2023-05-16 16:21:34,433 25529 DEBUG    [tempest.lib.comm
    on.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2023-05-16 16:21:34,478 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.045s
2023-05-16 16:21:34,479 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesSnapshotTestJSON-242257796-desc", "domain_id": "default", "name": "tempest-VolumesSnapshotTestJSON-242257796"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:34 GMT', 'server': 'Apache', 'content-length': '380', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-33803ad6-346e-4cce-8c68-b585e2072f4d', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "6d754987f2d543dbb3a8089822837403", "name": "tempest-VolumesSnapshotTestJSON-242257796", "domain_id": "default", "description": "tempest-VolumesSnapshotTestJSON-242257796-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/6d754987f2d543dbb3a8089822837403"}}}\n'
2023-05-16 16:21:35,074 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.594s
2023-05-16 16:21:35,074 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesSnapshotTestJSON-242257796-project-admin", "password": "N6@ImST5*MEhr@c", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:34 GMT', 'server': 'Apache', 'content-length': '296', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2a651142-f765-4d28-baa7-ea9b2fc21690', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "9fd3f257f2274afda0dd8e189a13b0fa", "name": "tempest-VolumesSnapshotTestJSON-242257796-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/9fd3f257f2274afda0dd8e189a13b0fa"}}}\n'
2023-05-16 16:21:35,104 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.029s
2023-05-16 16:21:35,104 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3b469f25-851d-4064-8441-7c7a346e8977', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_
    member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:21:35,146 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/6d754987f2d543dbb3a8089822837403/users/9fd3f257f2274afda0dd8e189a13b0fa/roles/b7eebb47178e4fea97f8f534796f62f1 0.040s
2023-05-16 16:21:35,146 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-dcab8722-e592-4d9a-b081-0ed7ddf4fea0', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/6d754987f2d543dbb3a8089822837403/users/9fd3f257f2274afda0dd8e189a13b0fa/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:21:35,215 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.068s
2023-05-16 16:21:35,216 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-eb59275e-4fc5-4d8d-9a6e-d2d342639286', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:21:35,247 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/9fd3f257f2274afda0dd8e189a13b0fa/roles/b7eebb47178e4fea97f8f534796f62f1 0.030s
2023-05-16 16:21:35,247 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8dd38bca-1f98-4108-9aa5-4d3aa6aeb49d', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/9fd3f257f2274afda0dd8e189a13b0fa/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:21:35,315 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.067s
2023-05-16 16:21:35,315 25529 DEBUG    [tempest.lib.common.rest_
    client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-71fc9803-2565-4e90-b26c-50c84b2e2c3d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:21:35,390 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/6d754987f2d543dbb3a8089822837403/users/9fd3f257f2274afda0dd8e189a13b0fa/roles/b7eebb47178e4fea97f8f534796f62f1 0.074s
2023-05-16 16:21:35,391 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2f14eb4e-4dda-46c8-b5b8-cfaaea6e2912', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/6d754987f2d543dbb3a8089822837403/users/9fd3f257f2274afda0dd8e189a13b0fa/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:21:35,461 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.069s
2023-05-16 16:21:35,461 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-79e92c34-9a5d-4cba-83a7-994d94c5d5c1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {
    "next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:21:35,491 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/6d754987f2d543dbb3a8089822837403/users/9fd3f257f2274afda0dd8e189a13b0fa/roles/b7eebb47178e4fea97f8f534796f62f1 0.029s
2023-05-16 16:21:35,492 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-d4c3c531-9b49-4308-9859-405a637203b8', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/6d754987f2d543dbb3a8089822837403/users/9fd3f257f2274afda0dd8e189a13b0fa/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:21:35,492 25529 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 9fd3f257f2274afda0dd8e189a13b0fa is created with scope project and roles: ['admin', 'admin']
2023-05-16 16:21:35,493 25529 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesSnapshotTestJSON-242257796-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '6d754987f2d543dbb3a8089822837403', 'project_name': 'tempest-VolumesSnapshotTestJSON-242257796', 'tenant_id': '6d754987f2d543dbb3a8089822837403', 'tenant_name': 'tempest-VolumesSnapshotTestJSON-242257796', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '9fd3f257f2274afda0dd8e189a13b0fa', 'system': None}, Network: None, Subnet: None, Router: None
2023-05-16 16:21:35,502 25529 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use) Found network None available for tenant
2023-05-16 16:21:35,731 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.228s
2023-05-16 16:21:35,732 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-1618981895", "imageRef": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f7ad8ccc-6545-4be0-be6b-f435d5e8174f', 'x-compute-request-id': 'req-f7ad8ccc-6545-4be0-be6b-f435d5e8174f', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "61f1a533-0b2c-415d-99f6-21a07d1fd077", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "c5fYkriT2G8Q"}}'
2023-05-16 16:21:35,812 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077 0.077s
2023-05-16 16:21:35,812 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-To
    ken': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1327', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-fb8ace04-065e-4bf7-8d52-0a2fe67fea44', 'x-compute-request-id': 'req-fb8ace04-065e-4bf7-8d52-0a2fe67fea44', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077'}
        Body: b'{"server": {"id": "61f1a533-0b2c-415d-99f6-21a07d1fd077", "name": "tempest-VolumesSnapshotTestJSON-instance-1618981895", "status": "BUILD", "tenant_id": "8fc8ee79a0074f78965c24adff2c1169", "user_id": "5c642dfc1ad54e62bd4ed545982f0081", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:35Z", "updated": "2023-05-16T16:21:35Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:36,897 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077 0.073s
2023-05-16 16:21:36,897 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:36 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1340', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0b154a24-eb66-4a21-9eeb-b7c50d83c279', 'x-compute-request-id': 'req-0b154a24-eb66-4a21-9eeb-b7c50d83c279', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077'}
        Body: b'{"server": {"id": "61f1a533-0b2c-415d-99f6-21a07d1fd077", "name": "tempest-VolumesSnapshotTestJSON-instance-1618981895", "status": "BUILD", "tenant_id": "8fc8ee79a0074f78965c24adff2c1169", "user_id": "5c642dfc1ad54e62bd4ed545982f0081", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:35Z", "updated": "2023-05-16T16:21:36Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT
    -SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000067", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:36,907 25529 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/None" after 1 second wait
2023-05-16 16:21:37,990 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077 0.082s
2023-05-16 16:21:37,991 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:37 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1937', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-27526608-e6cf-4b4f-aa0a-3013cf114981', 'x-compute-request-id': 'req-27526608-e6cf-4b4f-aa0a-3013cf114981', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077'}
        Body: b'{"server": {"id": "61f1a533-0b2c-415d-99f6-21a07d1fd077", "name": "tempest-VolumesSnapshotTestJSON-instance-1618981895", "status": "ERROR", "tenant_id": "8fc8ee79a0074f78965c24adff2c1169", "user_id": "5c642dfc1ad54e62bd4ed545982f0081", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:35Z", "updated": "2023-05-16T16:21:37Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2023-05-16T16:21:37Z", "message": "Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 61f1a533-0b2c-415d-99f6-21a07d1fd077.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py\\", line 703, in build_instances\\n    raise exception.MaxRetriesExceeded(reason=msg)\\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 61f1a533-0b2c-415d-99f6-21a07d1fd077.\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000067", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:38,001 25529 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 3 second wait
2023-05-16 16:21:38,212 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077 0.211s
2023-05-16 16:21:38,213 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:38 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-a
    pi-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f59e816c-0aaa-4131-aebf-e5c0fdbb0a15', 'x-compute-request-id': 'req-f59e816c-0aaa-4131-aebf-e5c0fdbb0a15', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077'}
        Body: b''
2023-05-16 16:21:38,239 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077 0.025s
2023-05-16 16:21:38,239 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:38 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-60326939-b7ec-433c-9d33-59dd67b96211', 'x-compute-request-id': 'req-60326939-b7ec-433c-9d33-59dd67b96211', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 61f1a533-0b2c-415d-99f6-21a07d1fd077 could not be found."}}'

{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_get_list_update_delete [3.400576s] ... ok
{1} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_delete_cascade [8.013131s] ... ok
{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_offline_delete_online [4.438027s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 83, in test_snapshot_create_offline_delete_online
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server dee33b3f-bcdd-42f9-952a-b6ff8f4822da failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2023-05-16T16:21:45Z', 'message': 'Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance dee33b3f-bcdd-42f9-952a-b6ff8f4822da.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py", line 703, in build_instances\n    raise exception.MaxRetriesExceeded(reason=msg)\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance dee33b3f-bcdd-42f9-952a-b6ff8f4822da.\n'}. Server boot request ID: req-cc43bc21-41f2-4073-b2a0-b88103b428b7.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2023-05-16 16:21:41,748 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169/snapshots 0.103s
2023-05-16 16:21:41,749 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "234cc7ad-c9f5-4234-950e-7d4b546b1775", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1370035692"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:41 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '310', 'x-compute-request-id': 'req-89f0487c-71bb-4b11-9c06-8115127ce6fc', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-89f0487c-71bb-4b11-9c06-8115127ce6fc', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169/snapshots'}
        Body: b'{"snapshot": {"id": "e8efa96f-bf90-4362-9157-01b4f71c6582", "created_at": "2023-05-16T16:21:41.707013", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1370035692", "description": null, "volume_id": "234cc7ad-c9f5-4234-950e-7d4b546b1775", "status": "creating", "size": 1, "metadata": {}}}'
2023-05-16 16:21:41,775 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169/snapshots/e8efa96f-bf90-4362-9157-01b4f71c6582 0.023s
2023-05-16 16:21:41,775 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:41 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '442', 'x-compute-request-id': 'req-05d2da56-8f7b-4347-8f32-10644d693af7', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-05d2da56-8f7b-4347-8f32-10644d693af7', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169/snapshots/e8efa96f-bf90-4362-9157-01b4f71c6582'}
        Body: b'{"snapshot": {"id": "e8efa96f-bf90-4362-9157-01b4f71c6582", "created_at": "2023-05-16T16:21:41.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1370035692", "description": null, "volume_id": "234cc7ad-c9f5-4234-950e-7d4b546b1775", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "8fc8ee79a0074f78965c24adff2c1169", "os-extended-snapshot-attributes:progress": "0%"}}'
2023-05-16 16:21:42,801 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169/snapshots/e8efa96f-bf90-4362-9157-01b4f71c6582 0.020s
2023-05-16 16:21:42,801 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:42 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '442', 'x-compute-request-id': 'req-8af15a21-a3a5-47de-aba5-2239db873032', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-8af15a21-a3a5-47de-aba5-2239db873032', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169/snapshots/e8efa96f-bf90-4362-9157-01b4f71c6582'}
        Body: b'{"snapshot": {"id": "e8efa96f-bf90-4362-9157-01b4f71c6582", "created_at": "2023-05-16T16:21:41.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTe
    stJSON-Snapshot-1370035692", "description": null, "volume_id": "234cc7ad-c9f5-4234-950e-7d4b546b1775", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "8fc8ee79a0074f78965c24adff2c1169", "os-extended-snapshot-attributes:progress": "0%"}}'
2023-05-16 16:21:43,827 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169/snapshots/e8efa96f-bf90-4362-9157-01b4f71c6582 0.021s
2023-05-16 16:21:43,828 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:43 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '469', 'x-compute-request-id': 'req-e6ef6627-e187-4464-ad3e-b2dbe6d52e7a', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-e6ef6627-e187-4464-ad3e-b2dbe6d52e7a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169/snapshots/e8efa96f-bf90-4362-9157-01b4f71c6582'}
        Body: b'{"snapshot": {"id": "e8efa96f-bf90-4362-9157-01b4f71c6582", "created_at": "2023-05-16T16:21:41.000000", "updated_at": "2023-05-16T16:21:43.000000", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1370035692", "description": null, "volume_id": "234cc7ad-c9f5-4234-950e-7d4b546b1775", "status": "available", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "8fc8ee79a0074f78965c24adff2c1169", "os-extended-snapshot-attributes:progress": "100%"}}'
2023-05-16 16:21:43,831 25529 INFO     [tempest.common.waiters] snapshot e8efa96f-bf90-4362-9157-01b4f71c6582 reached available after waiting for 2.831800 seconds
2023-05-16 16:21:44,424 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 201 POST http://controller:5000/v3/auth/tokens 0.585s
2023-05-16 16:21:44,425 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:43 GMT', 'server': 'Apache', 'content-length': '3257', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-21825ebe-0cb9-47c7-8d2b-120d3074b5ac', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "5c642dfc1ad54e62bd4ed545982f0081", "name": "tempest-VolumesSnapshotTestJSON-1728728794-project", "password_expires_at": null}, "audit_ids": ["TFjuMFXdQHasyNNJbjUxeg"], "expires_at": "2023-05-17T16:21:44.000000Z", "issued_at": "2023-05-16T16:21:44.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "8fc8ee79a0074f78965c24adff2c1169", "name": "tempest-VolumesSnapshotTestJSON-1728728794"}, "is_domain": false, "roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader"}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member"}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin"}], "catalog": [{"endpoints": [{"id": "2ef038ce87a54afcb6d51f63a97336c6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "643c1a643c2e4bf0b88f318cade181d2", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "2a634ba537ea4355bcf9ff6b2acccc7a", "type": "image", "name": "glance"}, {"endpoints": [{"id": "3832feab28214fd9a55abd43ffbbbdd9", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "ee21a250ad5540ae9f80535c28d35fc5",
     "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "4cfd37b40e6140c5b9776e56cf44ed32", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "1b408a9c4aaf42a1b8fb00c9f642e622", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "f096abc126de408eacaa5f2cf56a3dbe", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "642a2e91c13e4f21a10fcf71d190a840", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "218551f599544d07b8108f478c159b9c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "d2a9ca8d9aa24476bf6baedb3004f388", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "7112f77e91ac48d29b3593625f36f04d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "44b5f5e22c1e4184aead65119b5231d6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "6b1a1973507e40e690e7cee40b83a2f8", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "7bae18bfa06748a58770dc3fd970e5df", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "2146b3fa527d4407908a2db7815efe83", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169", "region": "RegionOne"}, {"id": "a526c2b9a24e40db895e151a35171d26", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169", "region": "RegionOne"}], "id": "e4f2c864cf244ef9b1d96d93a9fdef3e", "type": "volumev3", "name": "cinderv3"}]}}'
2023-05-16 16:21:44,433 25529 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online) Found network None available for tenant
2023-05-16 16:21:44,638 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.203s
2023-05-16 16:21:44,638 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-1961912215", "imageRef": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:44 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-cc43bc21-41f2-4073-b2a0-b88103b428b7', 'x-compute-request-id': 'req-cc43bc21-41f2-4073-b2a0-b88103b428b7', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "dee33b3f-bcdd-42f9-952a-b6ff8f4822da", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "vybWau3mEdBh"}}'
2023-05-16 16:21:44,698 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da 0.057s
2023-05-16 16:21:44,699 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omit
    ted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:44 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1327', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6bc4673b-9e41-4813-a2e0-01b307baa269', 'x-compute-request-id': 'req-6bc4673b-9e41-4813-a2e0-01b307baa269', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da'}
        Body: b'{"server": {"id": "dee33b3f-bcdd-42f9-952a-b6ff8f4822da", "name": "tempest-VolumesSnapshotTestJSON-instance-1961912215", "status": "BUILD", "tenant_id": "8fc8ee79a0074f78965c24adff2c1169", "user_id": "5c642dfc1ad54e62bd4ed545982f0081", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:44Z", "updated": "2023-05-16T16:21:44Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:45,832 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da 0.122s
2023-05-16 16:21:45,832 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1937', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c0594489-fe60-4d1b-8878-05fb79337ce1', 'x-compute-request-id': 'req-c0594489-fe60-4d1b-8878-05fb79337ce1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da'}
        Body: b'{"server": {"id": "dee33b3f-bcdd-42f9-952a-b6ff8f4822da", "name": "tempest-VolumesSnapshotTestJSON-instance-1961912215", "status": "ERROR", "tenant_id": "8fc8ee79a0074f78965c24adff2c1169", "user_id": "5c642dfc1ad54e62bd4ed545982f0081", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:44Z", "updated": "2023-05-16T16:21:45Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2023-05-16T16:21:45Z", "message": "Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance dee3
    3b3f-bcdd-42f9-952a-b6ff8f4822da.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py\\", line 703, in build_instances\\n    raise exception.MaxRetriesExceeded(reason=msg)\\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance dee33b3f-bcdd-42f9-952a-b6ff8f4822da.\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000068", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:45,842 25529 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2023-05-16 16:21:46,052 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da 0.209s
2023-05-16 16:21:46,052 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1623aea3-4340-4843-b43c-6a3b852ed8e7', 'x-compute-request-id': 'req-1623aea3-4340-4843-b43c-6a3b852ed8e7', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da'}
        Body: b''
2023-05-16 16:21:46,080 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da 0.027s
2023-05-16 16:21:46,081 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-55dc27a7-2f69-42a9-b2f2-220c59a35e94', 'x-compute-request-id': 'req-55dc27a7-2f69-42a9-b2f2-220c59a35e94', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance dee33b3f-bcdd-42f9-952a-b6ff8f4822da could not be found."}}'

{1} tempest.api.volume.test_volume_delete_cascade.VolumesDeleteCascade.test_volume_from_snapshot_cascade_delete [8.135189s] ... ok
{2} tempest.api.volume.test_volumes_extend.VolumesExtendTest.test_volume_extend [13.766519s] ... ok
{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot [8.074622s] ... ok
{2} tempest.api.volume.test_volumes_extend.VolumesExtendTest.test_volume_extend_when_volume_has_snapshot [5.737336s] ... ok
{0} tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_volume_from_snapshot_no_size [8.013156s] ... ok
{1} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_get_list_accept_volume_transfer [4.445800s] ... ok
{1} tempest.api.volume.test_volume_transfers.VolumesTransfersTest.test_create_list_delete_volume_transfer [3.677019s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete [7.287337s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit [0.023466s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit_equals_infinite [0.049683s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_limit_equals_zero [0.094072s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_marker [0.051348s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_offset [0.035068s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_created_at_asc [0.025686s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_created_at_desc [0.025809s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_id_asc [0.024219s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_id_desc [0.023318s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_name_asc [0.034893s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshot_list_param_sort_name_desc [0.024865s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshots_list_details_with_params [0.072638s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_as_clone [9.428733s] ... ok
{0} tempest.api.volume.test_volumes_snapshots_list.VolumesSnapshotListTestJSON.test_snapshots_list_with_params [0.070811s] ... ok
{1} tempest.api.volume.test_volumes_clone.VolumesCloneTest.test_create_from_bootable_volume [15.458120s] ... ok
{1} tempest.api.volume.test_volumes_clone.VolumesCloneTest.test_create_from_volume [4.793390s] ... ok
{2} tempest.api.volume.test_volumes_get.VolumesGetTest.test_volume_create_get_update_delete_from_image [16.652784s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list [0.032247s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_by_name [0.028394s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_by_name [0.041097s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_pagination [0.181167s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_details_with_multiple_params [0.082420s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_pagination [0.134239s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_param_display_name_and_status [0.028096s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_display_name_and_status [0.043591s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_marker [0.048599s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_detail_param_metadata [0.047561s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_details [0.043148s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volume_list_with_param_metadata [0.031965s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_availability_zone [0.059750s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_bootable [0.059553s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_by_status [0.060799s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_availability_zone [0.046017s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_bootable [0.044422s] ... ok
{1} tempest.api.volume.test_volumes_list.VolumesListTestJSON.test_volumes_list_details_by_status [0.051556s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_attach_volumes_with_nonexistent_volume_id [3.482833s] ... FAILED

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_negative.py", line 179, in test_attach_volumes_with_nonexistent_volume_id
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 4a030806-da11-43f0-876b-5931b73aca27 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2023-05-16T16:22:47Z', 'message': 'Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 4a030806-da11-43f0-876b-5931b73aca27.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py", line 703, in build_instances\n    raise exception.MaxRetriesExceeded(reason=msg)\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 4a030806-da11-43f0-876b-5931b73aca27.\n'}. Server boot request ID: req-2f7aa1f1-1393-4e8b-b099-3e3abebb290f.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2023-05-16 16:22:45,064 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://controller:5000/v3/auth/tokens 0.527s
2023-05-16 16:22:45,064 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:44 GMT', 'server': 'Apache', 'content-length': '3249', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-9cec0562-ddb5-4ced-8b38-cd23a93f3616', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "ab50e88ea79b4372b5826ba31a841885", "name": "tempest-VolumesNegativeTest-1822289237-project", "password_expires_at": null}, "audit_ids": ["uwR2D0KfTUO2gwhC3TMqpA"], "expires_at": "2023-05-17T16:22:45.000000Z", "issued_at": "2023-05-16T16:22:45.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "647405abd21042638d3edb89a45b971c", "name": "tempest-VolumesNegativeTest-1822289237"}, "is_domain": false, "roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader"}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin"}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member"}], "catalog": [{"endpoints": [{"id": "2ef038ce87a54afcb6d51f63a97336c6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "643c1a643c2e4bf0b88f318cade181d2", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "2a634ba537ea4355bcf9ff6b2acccc7a", "type": "image", "name": "glance"}, {"endpoints": [{"id": "3832feab28214fd9a55abd43ffbbbdd9", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "ee21a250ad5540ae9f80535c28d35fc5", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "4cfd37b40e6140c5b9776e56cf44ed32", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "1b408a9c4aaf42a1b8fb00c9f642e622", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "f096abc126de408eacaa5f2cf56a3dbe", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "642a2e91c13e4f21a10fcf71d190a840", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "218551f599544d07b8108f478c159b9c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "d2a9ca8d9aa24476bf6baedb3004f388", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "7112f77e91ac48d29b3593625f36f04d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "44b5f5e22c1e4184aead65119b5231d6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "6b1a1973507e40e690e7cee40b83a2f8", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "7bae18bfa06748a58770dc3fd970e5df", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "2146b3fa527d4407908a2db7815efe83", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/647405abd21042638d3edb89a45b971c", "region": "RegionOne"}, {"id": "a526c2b9a24e40db895e151a35171d26", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/647405abd21042638d3edb89a45b971c", "region": "RegionOne"}], "id": "e4f2c864cf244ef9b1d96d93a9fdef3e", "type": "volumev3", "name": "cinderv3"}]}}'
2023-05-16 16:22:45,065 25531 DEBUG    [tempest.lib.common.dynamic_c
    reds] Creating new dynamic creds for scope: None and credential_type: admin
2023-05-16 16:22:45,149 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.083s
2023-05-16 16:22:45,149 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesNegativeTest-1431850301-desc", "domain_id": "default", "name": "tempest-VolumesNegativeTest-1431850301"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:45 GMT', 'server': 'Apache', 'content-length': '374', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b61534b3-2b2c-4859-855b-2a1f55f62f23', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "eae88ec75e174a24bc0b19c262f158c6", "name": "tempest-VolumesNegativeTest-1431850301", "domain_id": "default", "description": "tempest-VolumesNegativeTest-1431850301-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/eae88ec75e174a24bc0b19c262f158c6"}}}\n'
2023-05-16 16:22:45,726 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.576s
2023-05-16 16:22:45,727 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesNegativeTest-1431850301-project-admin", "password": "Q6#cxR89dExPdpj", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:45 GMT', 'server': 'Apache', 'content-length': '293', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-4b27f2b0-c2a1-418f-ade6-d1bd40b646aa', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "b135b91a01cd4c1c99de504c0672b94d", "name": "tempest-VolumesNegativeTest-1431850301-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/b135b91a01cd4c1c99de504c0672b94d"}}}\n'
2023-05-16 16:22:45,755 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.027s
2023-05-16 16:22:45,756 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:45 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-6efe58a8-e9d9-4ad3-b9a4-ac1e09be29fe', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description"
    : null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:22:45,812 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/eae88ec75e174a24bc0b19c262f158c6/users/b135b91a01cd4c1c99de504c0672b94d/roles/b7eebb47178e4fea97f8f534796f62f1 0.056s
2023-05-16 16:22:45,813 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:45 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-96dff0fa-6d55-4079-83d7-32025fad8642', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/eae88ec75e174a24bc0b19c262f158c6/users/b135b91a01cd4c1c99de504c0672b94d/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:22:45,884 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.070s
2023-05-16 16:22:45,884 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:45 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e8cf7381-67b8-4200-91c9-5c970c6640b1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:22:45,915 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/b135b91a01cd4c1c99de504c0672b94d/roles/b7eebb47178e4fea97f8f534796f62f1 0.030s
2023-05-16 16:22:45,915 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:45 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-d583c566-8d10-4efa-a231-a7929a248961', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/b135b91a01cd4c1c99de504c0672b94d/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:22:45,985 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.069s
2023-05-16 16:22:45,986 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/j
    son', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:45 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-c45d8d4f-9bb3-4cd5-a0a6-4436765f169b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:22:46,018 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/eae88ec75e174a24bc0b19c262f158c6/users/b135b91a01cd4c1c99de504c0672b94d/roles/b7eebb47178e4fea97f8f534796f62f1 0.031s
2023-05-16 16:22:46,018 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:45 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0ab6897d-f76d-4997-82a4-c0e9a3d65a8f', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/eae88ec75e174a24bc0b19c262f158c6/users/b135b91a01cd4c1c99de504c0672b94d/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:22:46,087 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.068s
2023-05-16 16:22:46,087 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:46 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-fde8eb82-90ce-4985-9bcf-e1ab5aaa34d9', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "prev
    ious": null}}\n'
2023-05-16 16:22:46,117 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/eae88ec75e174a24bc0b19c262f158c6/users/b135b91a01cd4c1c99de504c0672b94d/roles/b7eebb47178e4fea97f8f534796f62f1 0.029s
2023-05-16 16:22:46,118 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:46 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-158a52b7-35de-4476-876c-fb3501ed3996', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/eae88ec75e174a24bc0b19c262f158c6/users/b135b91a01cd4c1c99de504c0672b94d/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:22:46,118 25531 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user b135b91a01cd4c1c99de504c0672b94d is created with scope project and roles: ['admin', 'admin']
2023-05-16 16:22:46,119 25531 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesNegativeTest-1431850301-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': 'eae88ec75e174a24bc0b19c262f158c6', 'project_name': 'tempest-VolumesNegativeTest-1431850301', 'tenant_id': 'eae88ec75e174a24bc0b19c262f158c6', 'tenant_name': 'tempest-VolumesNegativeTest-1431850301', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'b135b91a01cd4c1c99de504c0672b94d', 'system': None}, Network: None, Subnet: None, Router: None
2023-05-16 16:22:46,126 25531 INFO     [tempest.lib.common.fixed_network] (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id) Found network None available for tenant
2023-05-16 16:22:46,329 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.201s
2023-05-16 16:22:46,329 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesNegativeTest-instance-472287476", "imageRef": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-2f7aa1f1-1393-4e8b-b099-3e3abebb290f', 'x-compute-request-id': 'req-2f7aa1f1-1393-4e8b-b099-3e3abebb290f', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "4a030806-da11-43f0-876b-5931b73aca27", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/4a030806-da11-43f0-876b-5931b73aca27"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "BvnSuMNLP8WS"}}'
2023-05-16 16:22:46,394 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27 0.062s
2023-05-16 16:22:46,395 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:4
    6 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-e8e82e45-f87a-4ea3-bd0c-02433b53aea7', 'x-compute-request-id': 'req-e8e82e45-f87a-4ea3-bd0c-02433b53aea7', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27'}
        Body: b'{"server": {"id": "4a030806-da11-43f0-876b-5931b73aca27", "name": "tempest-VolumesNegativeTest-instance-472287476", "status": "BUILD", "tenant_id": "647405abd21042638d3edb89a45b971c", "user_id": "ab50e88ea79b4372b5826ba31a841885", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:22:46Z", "updated": "2023-05-16T16:22:46Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/4a030806-da11-43f0-876b-5931b73aca27"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:22:47,491 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27 0.086s
2023-05-16 16:22:47,492 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:47 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1932', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-03965846-11d4-4733-91c9-ae3e3cbaadf4', 'x-compute-request-id': 'req-03965846-11d4-4733-91c9-ae3e3cbaadf4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27'}
        Body: b'{"server": {"id": "4a030806-da11-43f0-876b-5931b73aca27", "name": "tempest-VolumesNegativeTest-instance-472287476", "status": "ERROR", "tenant_id": "647405abd21042638d3edb89a45b971c", "user_id": "ab50e88ea79b4372b5826ba31a841885", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:22:46Z", "updated": "2023-05-16T16:22:47Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/4a030806-da11-43f0-876b-5931b73aca27"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2023-05-16T16:22:47Z", "message": "Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 4a030806-da11-43f0-876b-5931b73aca27.", "details": "Traceback (most recent call last):\\n  File \\
    "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py\\", line 703, in build_instances\\n    raise exception.MaxRetriesExceeded(reason=msg)\\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 4a030806-da11-43f0-876b-5931b73aca27.\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000069", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:22:47,501 25531 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2023-05-16 16:22:47,911 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27 0.410s
2023-05-16 16:22:47,912 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:47 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f7291511-23fc-4bbb-9980-623a2f8f4f70', 'x-compute-request-id': 'req-f7291511-23fc-4bbb-9980-623a2f8f4f70', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27'}
        Body: b''
2023-05-16 16:22:47,941 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27 0.028s
2023-05-16 16:22:47,941 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:47 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c77aaded-581b-4988-8592-6b0598899b98', 'x-compute-request-id': 'req-c77aaded-581b-4988-8592-6b0598899b98', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 4a030806-da11-43f0-876b-5931b73aca27 could not be found."}}'

{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_from_deactivated_image [0.406832s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_from_image_with_decreasing_size [0.277945s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_invalid_size [0.013542s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_snapshot_id [0.021000s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_source_volid [0.023368s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_nonexistent_volume_type [0.021787s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_negative [0.012982s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_with_size_zero [0.012861s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_create_volume_without_passing_size [0.012439s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_delete_invalid_volume_id [0.021770s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_delete_volume_without_passing_volume_id [0.009365s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_detach_volumes_with_invalid_volume_id [0.023009s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_get_invalid_volume_id [0.022618s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_get_volume_without_passing_volume_id [0.009644s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_detail_with_invalid_status [0.034398s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_detail_with_nonexistent_name [0.032021s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_with_invalid_status [0.028288s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_list_volumes_with_nonexistent_name [0.026466s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_reserve_volume_with_negative_volume_status [0.103913s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_reserve_volume_with_nonexistent_volume_id [0.021591s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_unreserve_volume_with_nonexistent_volume_id [0.022897s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_empty_volume_id [0.009774s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_invalid_volume_id [0.022873s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_update_volume_with_nonexistent_volume_id [0.022088s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_delete_nonexistent_volume_id [0.021791s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_None_size [0.013079s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_non_number_size [0.012839s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_nonexistent_volume_id [0.022631s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_with_size_smaller_than_original_size [0.011959s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_extend_without_passing_volume_id [0.023243s] ... ok
{2} tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_volume_get_nonexistent_volume_id [0.022225s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_with_nonexistent_volume_id [0.156333s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_create_snapshot_without_passing_volume_id [0.023598s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshot_invalid_param_limit [0.012531s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_marker [0.021420s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_list_snapshots_invalid_param_sort [0.013497s] ... ok
{1} tempest.api.volume.test_volumes_snapshots_negative.VolumesSnapshotNegativeTestJSON.test_volume_from_snapshot_decreasing_size [4.626122s] ... ok

==============================
Failed 7 tests - output below:
==============================

tempest.api.volume.admin.test_volumes_actions.VolumesActionsTest.test_force_detach_volume[compute,id-d38285d9-929d-478f-96a5-00e66a115b81]
------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/admin/test_volumes_actions.py", line 83, in test_force_detach_volume
    server_id = self.create_server()['id']

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server d8f8af3b-530c-4958-aa36-4e8886c708a7 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2023-05-16T16:21:08Z', 'message': 'Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance d8f8af3b-530c-4958-aa36-4e8886c708a7.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py", line 703, in build_instances\n    raise exception.MaxRetriesExceeded(reason=msg)\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance d8f8af3b-530c-4958-aa36-4e8886c708a7.\n'}. Server boot request ID: req-606ac341-1d5b-457c-b779-a7925e3b6eb0.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2023-05-16 16:21:06,925 25530 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 201 POST http://controller:5000/v3/auth/tokens 0.586s
2023-05-16 16:21:06,925 25530 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:06 GMT', 'server': 'Apache', 'content-length': '3247', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e576e5a9-bacb-4c98-a93f-fc783890cb57', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "834f51987aff49ba8e5f44baf437dfed", "name": "tempest-VolumesActionsTest-1467295966-project", "password_expires_at": null}, "audit_ids": ["DAVoGT65QR-3a578hLy0ow"], "expires_at": "2023-05-17T16:21:06.000000Z", "issued_at": "2023-05-16T16:21:06.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "23c3cf41cd0a47b2ad82220d17af77c5", "name": "tempest-VolumesActionsTest-1467295966"}, "is_domain": false, "roles": [{"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member"}, {"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader"}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin"}], "catalog": [{"endpoints": [{"id": "2ef038ce87a54afcb6d51f63a97336c6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "643c1a643c2e4bf0b88f318cade181d2", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "2a634ba537ea4355bcf9ff6b2acccc7a", "type": "image", "name": "glance"}, {"endpoints": [{"id": "3832feab28214fd9a55abd43ffbbbdd9", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "ee21a250ad5540ae9f80535c28d35fc5", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "4cfd37b40e6140c5b9776e56cf44ed32", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "1b408a9c4aaf42a1b8fb00c9f642e622", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "f096abc126de408eacaa5f2cf56a3dbe", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "642a2e91c13e4f21a10fcf71d190a840", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "218551f599544d07b8108f478c159b9c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "d2a9ca8d9aa24476bf6baedb3004f388", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "7112f77e91ac48d29b3593625f36f04d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "44b5f5e22c1e4184aead65119b5231d6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "6b1a1973507e40e690e7cee40b83a2f8", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "7bae18bfa06748a58770dc3fd970e5df", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "2146b3fa527d4407908a2db7815efe83", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/23c3cf41cd0a47b2ad82220d17af77c5", "region": "RegionOne"}, {"id": "a526c2b9a24e40db895e151a35171d26", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/23c3cf41cd0a47b2ad82220d17af77c5", "region": "RegionOne"}], "id": "e4f2c864cf244ef9b1d96d93a9fdef3e", "type": "volumev3", "name": "cinderv3"}]}}'
2023-05-16 16:21:06,933 25530 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest
    :test_force_detach_volume) Found network None available for tenant
2023-05-16 16:21:07,346 25530 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.411s
2023-05-16 16:21:07,347 25530 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-1767395720", "imageRef": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:06 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-606ac341-1d5b-457c-b779-a7925e3b6eb0', 'x-compute-request-id': 'req-606ac341-1d5b-457c-b779-a7925e3b6eb0', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "d8f8af3b-530c-4958-aa36-4e8886c708a7", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "E8AMWjLhPjK7"}}'
2023-05-16 16:21:07,429 25530 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7 0.078s
2023-05-16 16:21:07,429 25530 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:07 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5b3c56eb-51ba-44ef-bfbb-ebf8ae1fdbdc', 'x-compute-request-id': 'req-5b3c56eb-51ba-44ef-bfbb-ebf8ae1fdbdc', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7'}
        Body: b'{"server": {"id": "d8f8af3b-530c-4958-aa36-4e8886c708a7", "name": "tempest-VolumesActionsTest-instance-1767395720", "status": "BUILD", "tenant_id": "23c3cf41cd0a47b2ad82220d17af77c5", "user_id": "834f51987aff49ba8e5f44baf437dfed", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:07Z", "updated": "2023-05-16T16:21:07Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:08,541 25530 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_vol
    ume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7 0.101s
2023-05-16 16:21:08,542 25530 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:08 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1335', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8f9da15c-19f7-49a5-8df8-824bc9bcb6c1', 'x-compute-request-id': 'req-8f9da15c-19f7-49a5-8df8-824bc9bcb6c1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7'}
        Body: b'{"server": {"id": "d8f8af3b-530c-4958-aa36-4e8886c708a7", "name": "tempest-VolumesActionsTest-instance-1767395720", "status": "BUILD", "tenant_id": "23c3cf41cd0a47b2ad82220d17af77c5", "user_id": "834f51987aff49ba8e5f44baf437dfed", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:07Z", "updated": "2023-05-16T16:21:08Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000063", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:08,551 25530 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/None" after 1 second wait
2023-05-16 16:21:09,647 25530 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7 0.094s
2023-05-16 16:21:09,647 25530 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:09 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1932', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8b11234b-3b3d-4607-8337-19a6ce66055a', 'x-compute-request-id': 'req-8b11234b-3b3d-4607-8337-19a6ce66055a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7'}
        Body: b'{"server": {"id": "d8f8af3b-530c-4958-aa36-4e8886c708a7", "name": "tempest-VolumesActionsTest-instance-1767395720", "status": "ERROR", "tenant_id": "23c3cf41cd0a47b2ad82220d17af77c5", "user_id": "834f51987aff49ba8e5f44baf437dfed", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:07Z", "updated": "2023-05-16T16:21:08Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "ht
    tp://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2023-05-16T16:21:08Z", "message": "Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance d8f8af3b-530c-4958-aa36-4e8886c708a7.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py\\", line 703, in build_instances\\n    raise exception.MaxRetriesExceeded(reason=msg)\\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance d8f8af3b-530c-4958-aa36-4e8886c708a7.\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000063", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:09,657 25530 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 2 second wait
2023-05-16 16:21:10,555 25530 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7 0.897s
2023-05-16 16:21:10,555 25530 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:09 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-5757cc3e-4a40-47d7-8fcd-1fcb6ed727f5', 'x-compute-request-id': 'req-5757cc3e-4a40-47d7-8fcd-1fcb6ed727f5', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7'}
        Body: b''
2023-05-16 16:21:10,585 25530 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_force_detach_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7 0.029s
2023-05-16 16:21:10,585 25530 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:10 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-60639f57-6c37-435c-b9a2-09f64c423302', 'x-compute-request-id': 'req-60639f57-6c37-435c-b9a2-09f64c423302', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d8f8af3b-530c-4958-aa36-4e8886c708a7'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance d8f8af3b-530c-4958-aa36-4e8886c708a7 could not be found."}}'


tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_attach_detach_volume_to_instance[compute,id-fff42874-7db5-4487-a8e1-ddda5fb5288d,smoke]
-------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 45, in test_attach_detach_volume_to_instance
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server d2b31362-37b1-4d3d-890b-8c80d31e6787 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2023-05-16T16:21:14Z', 'message': 'Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance d2b31362-37b1-4d3d-890b-8c80d31e6787.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py", line 703, in build_instances\n    raise exception.MaxRetriesExceeded(reason=msg)\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance d2b31362-37b1-4d3d-890b-8c80d31e6787.\n'}. Server boot request ID: req-17bd5db3-fa84-4230-9755-953ee0f54f51.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2023-05-16 16:21:11,337 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://controller:5000/v3/auth/tokens 0.590s
2023-05-16 16:21:11,337 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:10 GMT', 'server': 'Apache', 'content-length': '3245', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ea0ee1ff-6b03-40fe-a68e-b81afa15b0e3', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "19895b4d35c047a2a6449e472f5cbce0", "name": "tempest-VolumesActionsTest-236274730-project", "password_expires_at": null}, "audit_ids": ["O3L3nhG-QkC01Da5Gb1afQ"], "expires_at": "2023-05-17T16:21:11.000000Z", "issued_at": "2023-05-16T16:21:11.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "c34e8801dd8e46c1ae8f9094ad913526", "name": "tempest-VolumesActionsTest-236274730"}, "is_domain": false, "roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader"}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin"}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member"}], "catalog": [{"endpoints": [{"id": "2ef038ce87a54afcb6d51f63a97336c6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "643c1a643c2e4bf0b88f318cade181d2", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "2a634ba537ea4355bcf9ff6b2acccc7a", "type": "image", "name": "glance"}, {"endpoints": [{"id": "3832feab28214fd9a55abd43ffbbbdd9", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "ee21a250ad5540ae9f80535c28d35fc5", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "4cfd37b40e6140c5b9776e56cf44ed32", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "1b408a9c4aaf42a1b8fb00c9f642e622", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "f096abc126de408eacaa5f2cf56a3dbe", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "642a2e91c13e4f21a10fcf71d190a840", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "218551f599544d07b8108f478c159b9c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "d2a9ca8d9aa24476bf6baedb3004f388", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "7112f77e91ac48d29b3593625f36f04d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "44b5f5e22c1e4184aead65119b5231d6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "6b1a1973507e40e690e7cee40b83a2f8", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "7bae18bfa06748a58770dc3fd970e5df", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "2146b3fa527d4407908a2db7815efe83", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/c34e8801dd8e46c1ae8f9094ad913526", "region": "RegionOne"}, {"id": "a526c2b9a24e40db895e151a35171d26", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/c34e8801dd8e46c1ae8f9094ad913526", "region": "RegionOne"}], "id": "e4f2c864cf244ef9b1d96d93a9fdef3e", "type": "volumev3", "name": "cinderv3"}]}}'
2023-05-16 16:21:11,338 25531 DEBUG    [tempest.lib.common.dynamic_creds] Creating
     new dynamic creds for scope: None and credential_type: admin
2023-05-16 16:21:11,429 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.090s
2023-05-16 16:21:11,429 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesActionsTest-57335240-desc", "domain_id": "default", "name": "tempest-VolumesActionsTest-57335240"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:11 GMT', 'server': 'Apache', 'content-length': '368', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-7d7ad138-2e82-496f-a9e4-0ec813e8fdc4', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "418daeb797564fa283693574ac826e2a", "name": "tempest-VolumesActionsTest-57335240", "domain_id": "default", "description": "tempest-VolumesActionsTest-57335240-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/418daeb797564fa283693574ac826e2a"}}}\n'
2023-05-16 16:21:12,011 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.581s
2023-05-16 16:21:12,011 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesActionsTest-57335240-project-admin", "password": "G3_V~fztZZk38+8", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:11 GMT', 'server': 'Apache', 'content-length': '290', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-52724672-ce69-4f57-b09e-ff95a40308af', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "f063dbc38cf74981ae6a1602f1776ce5", "name": "tempest-VolumesActionsTest-57335240-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/f063dbc38cf74981ae6a1602f1776ce5"}}}\n'
2023-05-16 16:21:12,039 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.027s
2023-05-16 16:21:12,040 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-854de949-a2a2-4dcb-821f-ff98fea3bf3d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]
    0:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:21:12,083 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/418daeb797564fa283693574ac826e2a/users/f063dbc38cf74981ae6a1602f1776ce5/roles/b7eebb47178e4fea97f8f534796f62f1 0.042s
2023-05-16 16:21:12,083 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-4b6c6ff6-5221-471d-9029-d30a4b5177dc', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/418daeb797564fa283693574ac826e2a/users/f063dbc38cf74981ae6a1602f1776ce5/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:21:12,159 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.075s
2023-05-16 16:21:12,159 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ae17f4de-2af7-4de8-9e62-c1c93225d1db', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:21:12,192 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/f063dbc38cf74981ae6a1602f1776ce5/roles/b7eebb47178e4fea97f8f534796f62f1 0.031s
2023-05-16 16:21:12,192 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b37e0f17-55e5-4871-b42f-df1ad1793aca', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/f063dbc38cf74981ae6a1602f1776ce5/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:21:12,262 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.069s
2023-05-16 16:21:12,262 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Hea
    ders: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8c06dc9a-131e-4d27-9934-2e7c614895b1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:21:12,295 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/418daeb797564fa283693574ac826e2a/users/f063dbc38cf74981ae6a1602f1776ce5/roles/b7eebb47178e4fea97f8f534796f62f1 0.032s
2023-05-16 16:21:12,296 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-c13cd7da-4e04-4aad-a67e-c0bc91d3b7b0', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/418daeb797564fa283693574ac826e2a/users/f063dbc38cf74981ae6a1602f1776ce5/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:21:12,363 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.066s
2023-05-16 16:21:12,363 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-12bb7a2d-7b27-4c8b-9df0-7e9d75a922d3', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:21:12,395 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_
    attach_detach_volume_to_instance): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/418daeb797564fa283693574ac826e2a/users/f063dbc38cf74981ae6a1602f1776ce5/roles/b7eebb47178e4fea97f8f534796f62f1 0.031s
2023-05-16 16:21:12,395 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-17ecfe61-874c-4e03-9dfe-b98ae4a635a1', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/418daeb797564fa283693574ac826e2a/users/f063dbc38cf74981ae6a1602f1776ce5/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:21:12,396 25531 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user f063dbc38cf74981ae6a1602f1776ce5 is created with scope project and roles: ['admin', 'admin']
2023-05-16 16:21:12,396 25531 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesActionsTest-57335240-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '418daeb797564fa283693574ac826e2a', 'project_name': 'tempest-VolumesActionsTest-57335240', 'tenant_id': '418daeb797564fa283693574ac826e2a', 'tenant_name': 'tempest-VolumesActionsTest-57335240', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'f063dbc38cf74981ae6a1602f1776ce5', 'system': None}, Network: None, Subnet: None, Router: None
2023-05-16 16:21:12,405 25531 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest:test_attach_detach_volume_to_instance) Found network None available for tenant
2023-05-16 16:21:12,618 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.212s
2023-05-16 16:21:12,618 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-401990909", "imageRef": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-17bd5db3-fa84-4230-9755-953ee0f54f51', 'x-compute-request-id': 'req-17bd5db3-fa84-4230-9755-953ee0f54f51', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "d2b31362-37b1-4d3d-890b-8c80d31e6787", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "ysMD8iiW2eDk"}}'
2023-05-16 16:21:12,685 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787 0.063s
2023-05-16 16:21:12,685 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:12 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1321', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-
    Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-9d6421a4-82fb-491c-a758-393b17205efd', 'x-compute-request-id': 'req-9d6421a4-82fb-491c-a758-393b17205efd', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787'}
        Body: b'{"server": {"id": "d2b31362-37b1-4d3d-890b-8c80d31e6787", "name": "tempest-VolumesActionsTest-instance-401990909", "status": "BUILD", "tenant_id": "c34e8801dd8e46c1ae8f9094ad913526", "user_id": "19895b4d35c047a2a6449e472f5cbce0", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:12Z", "updated": "2023-05-16T16:21:12Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:13,769 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787 0.073s
2023-05-16 16:21:13,769 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:13 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1334', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-72bbaf55-1267-4c6a-96a2-e87fd592adb1', 'x-compute-request-id': 'req-72bbaf55-1267-4c6a-96a2-e87fd592adb1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787'}
        Body: b'{"server": {"id": "d2b31362-37b1-4d3d-890b-8c80d31e6787", "name": "tempest-VolumesActionsTest-instance-401990909", "status": "BUILD", "tenant_id": "c34e8801dd8e46c1ae8f9094ad913526", "user_id": "19895b4d35c047a2a6449e472f5cbce0", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:12Z", "updated": "2023-05-16T16:21:13Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000064", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:13,779 25531 I
    NFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/None" after 1 second wait
2023-05-16 16:21:14,862 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787 0.081s
2023-05-16 16:21:14,862 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:14 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1931', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-408badb5-0c9b-4cf0-9dac-c573bf7e8a2e', 'x-compute-request-id': 'req-408badb5-0c9b-4cf0-9dac-c573bf7e8a2e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787'}
        Body: b'{"server": {"id": "d2b31362-37b1-4d3d-890b-8c80d31e6787", "name": "tempest-VolumesActionsTest-instance-401990909", "status": "ERROR", "tenant_id": "c34e8801dd8e46c1ae8f9094ad913526", "user_id": "19895b4d35c047a2a6449e472f5cbce0", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:12Z", "updated": "2023-05-16T16:21:14Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2023-05-16T16:21:14Z", "message": "Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance d2b31362-37b1-4d3d-890b-8c80d31e6787.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py\\", line 703, in build_instances\\n    raise exception.MaxRetriesExceeded(reason=msg)\\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance d2b31362-37b1-4d3d-890b-8c80d31e6787.\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000064", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:14,872 25531 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 2 second wait
2023-05-16 16:21:15,771 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787 0.898s
2023-05-16 16:21:15,771 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:14 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ab27fa11-fb68-4ff2-ab11-1e6d6865e8b8', 'x-compute-request-id': 'req-ab27fa11-fb68-4ff2-ab11-1e6d6865e8b8', 'connection': 'close', 'status': '204', 'content-location': '
    http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787'}
        Body: b''
2023-05-16 16:21:15,804 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_attach_detach_volume_to_instance): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787 0.032s
2023-05-16 16:21:15,804 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:15 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-48b4548d-7e9f-4a5a-a85f-fe1484f963e4', 'x-compute-request-id': 'req-48b4548d-7e9f-4a5a-a85f-fe1484f963e4', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/d2b31362-37b1-4d3d-890b-8c80d31e6787'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance d2b31362-37b1-4d3d-890b-8c80d31e6787 could not be found."}}'


tempest.api.volume.test_volumes_actions.VolumesActionsTest.test_get_volume_attachment[compute,id-9516a2c8-9135-488c-8dd6-5677a7e5f371]
--------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_actions.py", line 81, in test_get_volume_attachment
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 991f87a4-de38-4e20-a567-d30e7184401a failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2023-05-16T16:21:18Z', 'message': 'Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 991f87a4-de38-4e20-a567-d30e7184401a.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py", line 703, in build_instances\n    raise exception.MaxRetriesExceeded(reason=msg)\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 991f87a4-de38-4e20-a567-d30e7184401a.\n'}. Server boot request ID: req-02cc0b97-b880-45cc-a3ba-aac3ac82b2ce.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2023-05-16 16:21:16,401 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 201 POST http://controller:5000/v3/auth/tokens 0.584s
2023-05-16 16:21:16,402 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:15 GMT', 'server': 'Apache', 'content-length': '3245', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-9f8094dd-bafa-4a1b-8c21-667b3bc2b84c', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "19895b4d35c047a2a6449e472f5cbce0", "name": "tempest-VolumesActionsTest-236274730-project", "password_expires_at": null}, "audit_ids": ["Jqvq49o7QfONEKwKDITA1w"], "expires_at": "2023-05-17T16:21:16.000000Z", "issued_at": "2023-05-16T16:21:16.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "c34e8801dd8e46c1ae8f9094ad913526", "name": "tempest-VolumesActionsTest-236274730"}, "is_domain": false, "roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader"}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin"}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member"}], "catalog": [{"endpoints": [{"id": "2ef038ce87a54afcb6d51f63a97336c6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "643c1a643c2e4bf0b88f318cade181d2", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "2a634ba537ea4355bcf9ff6b2acccc7a", "type": "image", "name": "glance"}, {"endpoints": [{"id": "3832feab28214fd9a55abd43ffbbbdd9", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "ee21a250ad5540ae9f80535c28d35fc5", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "4cfd37b40e6140c5b9776e56cf44ed32", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "1b408a9c4aaf42a1b8fb00c9f642e622", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "f096abc126de408eacaa5f2cf56a3dbe", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "642a2e91c13e4f21a10fcf71d190a840", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "218551f599544d07b8108f478c159b9c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "d2a9ca8d9aa24476bf6baedb3004f388", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "7112f77e91ac48d29b3593625f36f04d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "44b5f5e22c1e4184aead65119b5231d6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "6b1a1973507e40e690e7cee40b83a2f8", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "7bae18bfa06748a58770dc3fd970e5df", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "2146b3fa527d4407908a2db7815efe83", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/c34e8801dd8e46c1ae8f9094ad913526", "region": "RegionOne"}, {"id": "a526c2b9a24e40db895e151a35171d26", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/c34e8801dd8e46c1ae8f9094ad913526", "region": "RegionOne"}], "id": "e4f2c864cf244ef9b1d96d93a9fdef3e", "type": "volumev3", "name": "cinderv3"}]}}'
2023-05-16 16:21:16,410 25531 INFO     [tempest.lib.common.fixed_network] (VolumesActionsTest
    :test_get_volume_attachment) Found network None available for tenant
2023-05-16 16:21:16,606 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.195s
2023-05-16 16:21:16,606 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesActionsTest-instance-1322569445", "imageRef": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:16 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-02cc0b97-b880-45cc-a3ba-aac3ac82b2ce', 'x-compute-request-id': 'req-02cc0b97-b880-45cc-a3ba-aac3ac82b2ce', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "991f87a4-de38-4e20-a567-d30e7184401a", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/991f87a4-de38-4e20-a567-d30e7184401a"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "wVC3M3vD5YQ8"}}'
2023-05-16 16:21:16,668 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a 0.058s
2023-05-16 16:21:16,668 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:16 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-ba083dbc-2866-4ace-994f-831cf6ae8b21', 'x-compute-request-id': 'req-ba083dbc-2866-4ace-994f-831cf6ae8b21', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a'}
        Body: b'{"server": {"id": "991f87a4-de38-4e20-a567-d30e7184401a", "name": "tempest-VolumesActionsTest-instance-1322569445", "status": "BUILD", "tenant_id": "c34e8801dd8e46c1ae8f9094ad913526", "user_id": "19895b4d35c047a2a6449e472f5cbce0", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:16Z", "updated": "2023-05-16T16:21:16Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/991f87a4-de38-4e20-a567-d30e7184401a"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:17,757 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume
    _attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a 0.078s
2023-05-16 16:21:17,757 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:17 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1335', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-63d765b1-1a76-4b60-b21c-990c958bc8ac', 'x-compute-request-id': 'req-63d765b1-1a76-4b60-b21c-990c958bc8ac', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a'}
        Body: b'{"server": {"id": "991f87a4-de38-4e20-a567-d30e7184401a", "name": "tempest-VolumesActionsTest-instance-1322569445", "status": "BUILD", "tenant_id": "c34e8801dd8e46c1ae8f9094ad913526", "user_id": "19895b4d35c047a2a6449e472f5cbce0", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:16Z", "updated": "2023-05-16T16:21:17Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/991f87a4-de38-4e20-a567-d30e7184401a"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000065", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:17,767 25531 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/None" after 1 second wait
2023-05-16 16:21:18,856 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a 0.087s
2023-05-16 16:21:18,857 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:18 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1932', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-79213926-a4fd-4fa3-a8b4-aae324411838', 'x-compute-request-id': 'req-79213926-a4fd-4fa3-a8b4-aae324411838', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a'}
        Body: b'{"server": {"id": "991f87a4-de38-4e20-a567-d30e7184401a", "name": "tempest-VolumesActionsTest-instance-1322569445", "status": "ERROR", "tenant_id": "c34e8801dd8e46c1ae8f9094ad913526", "user_id": "19895b4d35c047a2a6449e472f5cbce0", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:16Z", "updated": "2023-05-16T16:21:18Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "
    href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/991f87a4-de38-4e20-a567-d30e7184401a"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2023-05-16T16:21:18Z", "message": "Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 991f87a4-de38-4e20-a567-d30e7184401a.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py\\", line 703, in build_instances\\n    raise exception.MaxRetriesExceeded(reason=msg)\\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 991f87a4-de38-4e20-a567-d30e7184401a.\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000065", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:18,867 25531 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 2 second wait
2023-05-16 16:21:19,751 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a 0.884s
2023-05-16 16:21:19,752 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:18 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7bc12f0a-08f4-4131-a771-8bd258a04430', 'x-compute-request-id': 'req-7bc12f0a-08f4-4131-a771-8bd258a04430', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a'}
        Body: b''
2023-05-16 16:21:19,780 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesActionsTest:test_get_volume_attachment): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a 0.027s
2023-05-16 16:21:19,780 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:19 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7b1d8f21-adbb-487a-b1e9-7090eab50c93', 'x-compute-request-id': 'req-7b1d8f21-adbb-487a-b1e9-7090eab50c93', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/991f87a4-de38-4e20-a567-d30e7184401a'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 991f87a4-de38-4e20-a567-d30e7184401a could not be found."}}'


tempest.api.volume.test_volumes_extend.VolumesExtendAttachedTest.test_extend_attached_volume[compute,id-301f5a30-1c6f-4ea0-be1a-91fd28d44354]
---------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 187, in test_extend_attached_volume
    self._test_extend_attached_volume(volume)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_extend.py", line 117, in _test_extend_attached_volume
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 9be95707-5275-4051-a1bc-96784fd6d46d failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2023-05-16T16:21:22Z', 'message': 'Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 9be95707-5275-4051-a1bc-96784fd6d46d.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py", line 703, in build_instances\n    raise exception.MaxRetriesExceeded(reason=msg)\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 9be95707-5275-4051-a1bc-96784fd6d46d.\n'}. Server boot request ID: req-7d47fd0e-6087-42c6-b023-cd1db7f50e68.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2023-05-16 16:21:18,857 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34/volumes 0.384s
2023-05-16 16:21:18,857 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: {"volume": {"size": 1, "name": "tempest-VolumesExtendAttachedTest-Volume-727342785"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:18 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '891', 'x-compute-request-id': 'req-26f37d10-d425-4232-841a-6d96bc8aec69', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-26f37d10-d425-4232-841a-6d96bc8aec69', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34/volumes'}
        Body: b'{"volume": {"id": "0a589600-86e6-4b78-91f1-82b7df2db0be", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2023-05-16T16:21:18.794443", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-727342785", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be"}], "user_id": "956cb75cda1e49358af8b3e282fde0ac", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null}}'
2023-05-16 16:21:18,902 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be 0.035s
2023-05-16 16:21:18,902 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:18 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1070', 'x-compute-request-id': 'req-96ff295d-6f92-4bbe-a984-157667787a3e', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-96ff295d-6f92-4bbe-a984-157667787a3e', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be'}
        Body: b'{"volume": {"id": "0a589600-86e6-4b78-91f1-82b7df2db0be", "status": "creating", "size": 1, "availability_zone": "nova", "created_at": "2023-05-16T16:21:18.000000", "updated_at": null, "name": "tempest-VolumesExtendAttachedTest-Volume-727342785", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be"}], "user_id": "956cb75cda1e49358af8b3e282fde0ac", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-host-attr:host": null, "os-vol-tenant-attr:tenant_id": "2fe98ba261fc4845bc7860e58
    8b81a34"}}'
2023-05-16 16:21:19,948 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be 0.036s
2023-05-16 16:21:19,948 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'Openstack-Api-Version': 'volume 3.42', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:19 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1129', 'x-compute-request-id': 'req-3abc415b-9c94-4e3e-bf99-85f9d05548ef', 'openstack-api-version': 'volume 3.42', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-3abc415b-9c94-4e3e-bf99-85f9d05548ef', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be'}
        Body: b'{"volume": {"id": "0a589600-86e6-4b78-91f1-82b7df2db0be", "status": "available", "size": 1, "availability_zone": "nova", "created_at": "2023-05-16T16:21:18.000000", "updated_at": "2023-05-16T16:21:19.000000", "name": "tempest-VolumesExtendAttachedTest-Volume-727342785", "description": null, "volume_type": "__DEFAULT__", "snapshot_id": null, "source_volid": null, "metadata": {}, "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8776/2fe98ba261fc4845bc7860e588b81a34/volumes/0a589600-86e6-4b78-91f1-82b7df2db0be"}], "user_id": "956cb75cda1e49358af8b3e282fde0ac", "bootable": "false", "encrypted": false, "replication_status": null, "consistencygroup_id": null, "multiattach": false, "attachments": [], "migration_status": null, "group_id": null, "provider_id": null, "os-vol-mig-status-attr:migstat": null, "os-vol-mig-status-attr:name_id": null, "os-vol-host-attr:host": "rack02-server70@LIGHTOSiptkjp#iptkjp", "os-vol-tenant-attr:tenant_id": "2fe98ba261fc4845bc7860e588b81a34"}}'
2023-05-16 16:21:19,959 25529 INFO     [tempest.common.waiters] volume 0a589600-86e6-4b78-91f1-82b7df2db0be reached available after waiting for 1.958960 seconds
2023-05-16 16:21:20,499 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 201 POST http://controller:5000/v3/auth/tokens 0.535s
2023-05-16 16:21:20,500 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:19 GMT', 'server': 'Apache', 'content-length': '3259', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-ce1b58ee-053b-498d-a01c-46545009de7a', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "956cb75cda1e49358af8b3e282fde0ac", "name": "tempest-VolumesExtendAttachedTest-555594919-project", "password_expires_at": null}, "audit_ids": ["80tvTg_-TyaPzWnDM43n_g"], "expires_at": "2023-05-17T16:21:20.000000Z", "issued_at": "2023-05-16T16:21:20.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "2fe98ba261fc4845bc7860e588b81a34", "name": "tempest-VolumesExtendAttachedTest-555594919"}, "is_domain": false, "roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader"}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member"}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin"}], "catalog": [{"endpoints": [{"id": "2ef038ce87a54afcb6d51f63a97336c6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "643c1a643c2e4bf0b88f318cade181d2", "in
    terface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "2a634ba537ea4355bcf9ff6b2acccc7a", "type": "image", "name": "glance"}, {"endpoints": [{"id": "3832feab28214fd9a55abd43ffbbbdd9", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "ee21a250ad5540ae9f80535c28d35fc5", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "4cfd37b40e6140c5b9776e56cf44ed32", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "1b408a9c4aaf42a1b8fb00c9f642e622", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "f096abc126de408eacaa5f2cf56a3dbe", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "642a2e91c13e4f21a10fcf71d190a840", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "218551f599544d07b8108f478c159b9c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "d2a9ca8d9aa24476bf6baedb3004f388", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "7112f77e91ac48d29b3593625f36f04d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "44b5f5e22c1e4184aead65119b5231d6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "6b1a1973507e40e690e7cee40b83a2f8", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "7bae18bfa06748a58770dc3fd970e5df", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "2146b3fa527d4407908a2db7815efe83", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34", "region": "RegionOne"}, {"id": "a526c2b9a24e40db895e151a35171d26", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/2fe98ba261fc4845bc7860e588b81a34", "region": "RegionOne"}], "id": "e4f2c864cf244ef9b1d96d93a9fdef3e", "type": "volumev3", "name": "cinderv3"}]}}'
2023-05-16 16:21:20,509 25529 INFO     [tempest.lib.common.fixed_network] (VolumesExtendAttachedTest:test_extend_attached_volume) Found network None available for tenant
2023-05-16 16:21:20,717 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.206s
2023-05-16 16:21:20,717 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesExtendAttachedTest-instance-2054721514", "imageRef": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:20 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-7d47fd0e-6087-42c6-b023-cd1db7f50e68', 'x-compute-request-id': 'req-7d47fd0e-6087-42c6-b023-cd1db7f50e68', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "9be95707-5275-4051-a1bc-96784fd6d46d", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/9be95707-5275-4051-a1bc-96784fd6d46d"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "9Rkbz4UFRHyd"}}'
2023-05-16 16:21:20,782 25529 INFO     [tempest.
    lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d 0.061s
2023-05-16 16:21:20,782 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:20 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1329', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-37d90c37-4f6b-436b-a4b6-912d57c4d181', 'x-compute-request-id': 'req-37d90c37-4f6b-436b-a4b6-912d57c4d181', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d'}
        Body: b'{"server": {"id": "9be95707-5275-4051-a1bc-96784fd6d46d", "name": "tempest-VolumesExtendAttachedTest-instance-2054721514", "status": "BUILD", "tenant_id": "2fe98ba261fc4845bc7860e588b81a34", "user_id": "956cb75cda1e49358af8b3e282fde0ac", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:20Z", "updated": "2023-05-16T16:21:20Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/9be95707-5275-4051-a1bc-96784fd6d46d"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:21,864 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d 0.070s
2023-05-16 16:21:21,865 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:21 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1424', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-dc988a4e-ebd9-4f95-aab9-fa0993c53f3a', 'x-compute-request-id': 'req-dc988a4e-ebd9-4f95-aab9-fa0993c53f3a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d'}
        Body: b'{"server": {"id": "9be95707-5275-4051-a1bc-96784fd6d46d", "name": "tempest-VolumesExtendAttachedTest-instance-2054721514", "status": "BUILD", "tenant_id": "2fe98ba261fc4845bc7860e588b81a34", "user_id": "956cb75cda1e49358af8b3e282fde0ac", "metadata": {}, "hostId": "af6e0cfad1d067a751dccf1a77093d4e73fcef9e923e405803714d63", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:20Z", "updated": "2023-05-16T16:21:21Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self"
    , "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/9be95707-5275-4051-a1bc-96784fd6d46d"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": "rack01-server57", "OS-EXT-SRV-ATTR:instance_name": "instance-00000066", "OS-EXT-SRV-ATTR:hypervisor_hostname": "rack01-server57", "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:21,875 25529 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/None" after 1 second wait
2023-05-16 16:21:22,962 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d 0.085s
2023-05-16 16:21:22,962 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:22 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1939', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-e6e020f3-f4ae-4442-a739-cf50a298f79a', 'x-compute-request-id': 'req-e6e020f3-f4ae-4442-a739-cf50a298f79a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d'}
        Body: b'{"server": {"id": "9be95707-5275-4051-a1bc-96784fd6d46d", "name": "tempest-VolumesExtendAttachedTest-instance-2054721514", "status": "ERROR", "tenant_id": "2fe98ba261fc4845bc7860e588b81a34", "user_id": "956cb75cda1e49358af8b3e282fde0ac", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:20Z", "updated": "2023-05-16T16:21:22Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/9be95707-5275-4051-a1bc-96784fd6d46d"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2023-05-16T16:21:22Z", "message": "Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 9be95707-5275-4051-a1bc-96784fd6d46d.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py\\", line 703, in build_instances\\n    raise exception.MaxRetriesExceeded(reason=msg)\\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 9be95707-5275-4051-a1bc-96784fd6d46d.\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000066", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:22,972 25529 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 2 second wait
2023-05-16 16:21:23,833 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 204 DELETE http://192.168.16.
    180:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d 0.860s
2023-05-16 16:21:23,833 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:22 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8ae11591-6101-4274-b5c5-7bba08b306f5', 'x-compute-request-id': 'req-8ae11591-6101-4274-b5c5-7bba08b306f5', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d'}
        Body: b''
2023-05-16 16:21:23,868 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesExtendAttachedTest:test_extend_attached_volume): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d 0.034s
2023-05-16 16:21:23,868 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:23 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-8e0dfdaa-2dfd-4564-927c-0285a7c10841', 'x-compute-request-id': 'req-8e0dfdaa-2dfd-4564-927c-0285a7c10841', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/9be95707-5275-4051-a1bc-96784fd6d46d'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 9be95707-5275-4051-a1bc-96784fd6d46d could not be found."}}'


tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_delete_with_volume_in_use[compute,id-8567b54c-4455-446d-a1cf-651ddeaa3ff2]
-----------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 48, in test_snapshot_create_delete_with_volume_in_use
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 61f1a533-0b2c-415d-99f6-21a07d1fd077 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2023-05-16T16:21:37Z', 'message': 'Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 61f1a533-0b2c-415d-99f6-21a07d1fd077.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py", line 703, in build_instances\n    raise exception.MaxRetriesExceeded(reason=msg)\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 61f1a533-0b2c-415d-99f6-21a07d1fd077.\n'}. Server boot request ID: req-f7ad8ccc-6545-4be0-be6b-f435d5e8174f.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2023-05-16 16:21:34,432 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://controller:5000/v3/auth/tokens 0.590s
2023-05-16 16:21:34,432 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:33 GMT', 'server': 'Apache', 'content-length': '3257', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-82ccfa45-5e1a-42c1-b7db-9eecb3c0baf3', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "5c642dfc1ad54e62bd4ed545982f0081", "name": "tempest-VolumesSnapshotTestJSON-1728728794-project", "password_expires_at": null}, "audit_ids": ["rmWtPpSoQAemnZ5eKT5qVA"], "expires_at": "2023-05-17T16:21:34.000000Z", "issued_at": "2023-05-16T16:21:34.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "8fc8ee79a0074f78965c24adff2c1169", "name": "tempest-VolumesSnapshotTestJSON-1728728794"}, "is_domain": false, "roles": [{"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member"}, {"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader"}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin"}], "catalog": [{"endpoints": [{"id": "2ef038ce87a54afcb6d51f63a97336c6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "643c1a643c2e4bf0b88f318cade181d2", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "2a634ba537ea4355bcf9ff6b2acccc7a", "type": "image", "name": "glance"}, {"endpoints": [{"id": "3832feab28214fd9a55abd43ffbbbdd9", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "ee21a250ad5540ae9f80535c28d35fc5", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "4cfd37b40e6140c5b9776e56cf44ed32", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "1b408a9c4aaf42a1b8fb00c9f642e622", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "f096abc126de408eacaa5f2cf56a3dbe", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "642a2e91c13e4f21a10fcf71d190a840", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "218551f599544d07b8108f478c159b9c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "d2a9ca8d9aa24476bf6baedb3004f388", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "7112f77e91ac48d29b3593625f36f04d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "44b5f5e22c1e4184aead65119b5231d6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "6b1a1973507e40e690e7cee40b83a2f8", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "7bae18bfa06748a58770dc3fd970e5df", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "2146b3fa527d4407908a2db7815efe83", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169", "region": "RegionOne"}, {"id": "a526c2b9a24e40db895e151a35171d26", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169", "region": "RegionOne"}], "id": "e4f2c864cf244ef9b1d96d93a9fdef3e", "type": "volumev3", "name": "cinderv3"}]}}'
2023-05-16 16:21:34,433 25529 DEBUG    [tempest.lib.comm
    on.dynamic_creds] Creating new dynamic creds for scope: None and credential_type: admin
2023-05-16 16:21:34,478 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.045s
2023-05-16 16:21:34,479 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesSnapshotTestJSON-242257796-desc", "domain_id": "default", "name": "tempest-VolumesSnapshotTestJSON-242257796"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:34 GMT', 'server': 'Apache', 'content-length': '380', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-33803ad6-346e-4cce-8c68-b585e2072f4d', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "6d754987f2d543dbb3a8089822837403", "name": "tempest-VolumesSnapshotTestJSON-242257796", "domain_id": "default", "description": "tempest-VolumesSnapshotTestJSON-242257796-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/6d754987f2d543dbb3a8089822837403"}}}\n'
2023-05-16 16:21:35,074 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.594s
2023-05-16 16:21:35,074 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesSnapshotTestJSON-242257796-project-admin", "password": "N6@ImST5*MEhr@c", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:34 GMT', 'server': 'Apache', 'content-length': '296', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2a651142-f765-4d28-baa7-ea9b2fc21690', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "9fd3f257f2274afda0dd8e189a13b0fa", "name": "tempest-VolumesSnapshotTestJSON-242257796-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/9fd3f257f2274afda0dd8e189a13b0fa"}}}\n'
2023-05-16 16:21:35,104 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.029s
2023-05-16 16:21:35,104 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-3b469f25-851d-4064-8441-7c7a346e8977', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_
    member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:21:35,146 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/6d754987f2d543dbb3a8089822837403/users/9fd3f257f2274afda0dd8e189a13b0fa/roles/b7eebb47178e4fea97f8f534796f62f1 0.040s
2023-05-16 16:21:35,146 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-dcab8722-e592-4d9a-b081-0ed7ddf4fea0', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/6d754987f2d543dbb3a8089822837403/users/9fd3f257f2274afda0dd8e189a13b0fa/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:21:35,215 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.068s
2023-05-16 16:21:35,216 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-eb59275e-4fc5-4d8d-9a6e-d2d342639286', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:21:35,247 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/9fd3f257f2274afda0dd8e189a13b0fa/roles/b7eebb47178e4fea97f8f534796f62f1 0.030s
2023-05-16 16:21:35,247 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-8dd38bca-1f98-4108-9aa5-4d3aa6aeb49d', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/9fd3f257f2274afda0dd8e189a13b0fa/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:21:35,315 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.067s
2023-05-16 16:21:35,315 25529 DEBUG    [tempest.lib.common.rest_
    client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-71fc9803-2565-4e90-b26c-50c84b2e2c3d', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:21:35,390 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/6d754987f2d543dbb3a8089822837403/users/9fd3f257f2274afda0dd8e189a13b0fa/roles/b7eebb47178e4fea97f8f534796f62f1 0.074s
2023-05-16 16:21:35,391 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-2f14eb4e-4dda-46c8-b5b8-cfaaea6e2912', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/6d754987f2d543dbb3a8089822837403/users/9fd3f257f2274afda0dd8e189a13b0fa/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:21:35,461 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.069s
2023-05-16 16:21:35,461 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-79e92c34-9a5d-4cba-83a7-994d94c5d5c1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {
    "next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:21:35,491 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/6d754987f2d543dbb3a8089822837403/users/9fd3f257f2274afda0dd8e189a13b0fa/roles/b7eebb47178e4fea97f8f534796f62f1 0.029s
2023-05-16 16:21:35,492 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-d4c3c531-9b49-4308-9859-405a637203b8', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/6d754987f2d543dbb3a8089822837403/users/9fd3f257f2274afda0dd8e189a13b0fa/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:21:35,492 25529 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user 9fd3f257f2274afda0dd8e189a13b0fa is created with scope project and roles: ['admin', 'admin']
2023-05-16 16:21:35,493 25529 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesSnapshotTestJSON-242257796-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': '6d754987f2d543dbb3a8089822837403', 'project_name': 'tempest-VolumesSnapshotTestJSON-242257796', 'tenant_id': '6d754987f2d543dbb3a8089822837403', 'tenant_name': 'tempest-VolumesSnapshotTestJSON-242257796', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': '9fd3f257f2274afda0dd8e189a13b0fa', 'system': None}, Network: None, Subnet: None, Router: None
2023-05-16 16:21:35,502 25529 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use) Found network None available for tenant
2023-05-16 16:21:35,731 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.228s
2023-05-16 16:21:35,732 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-1618981895", "imageRef": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f7ad8ccc-6545-4be0-be6b-f435d5e8174f', 'x-compute-request-id': 'req-f7ad8ccc-6545-4be0-be6b-f435d5e8174f', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "61f1a533-0b2c-415d-99f6-21a07d1fd077", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "c5fYkriT2G8Q"}}'
2023-05-16 16:21:35,812 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077 0.077s
2023-05-16 16:21:35,812 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-To
    ken': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:35 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1327', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-fb8ace04-065e-4bf7-8d52-0a2fe67fea44', 'x-compute-request-id': 'req-fb8ace04-065e-4bf7-8d52-0a2fe67fea44', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077'}
        Body: b'{"server": {"id": "61f1a533-0b2c-415d-99f6-21a07d1fd077", "name": "tempest-VolumesSnapshotTestJSON-instance-1618981895", "status": "BUILD", "tenant_id": "8fc8ee79a0074f78965c24adff2c1169", "user_id": "5c642dfc1ad54e62bd4ed545982f0081", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:35Z", "updated": "2023-05-16T16:21:35Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:36,897 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077 0.073s
2023-05-16 16:21:36,897 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:36 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1340', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-0b154a24-eb66-4a21-9eeb-b7c50d83c279', 'x-compute-request-id': 'req-0b154a24-eb66-4a21-9eeb-b7c50d83c279', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077'}
        Body: b'{"server": {"id": "61f1a533-0b2c-415d-99f6-21a07d1fd077", "name": "tempest-VolumesSnapshotTestJSON-instance-1618981895", "status": "BUILD", "tenant_id": "8fc8ee79a0074f78965c24adff2c1169", "user_id": "5c642dfc1ad54e62bd4ed545982f0081", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:35Z", "updated": "2023-05-16T16:21:36Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "nova", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT
    -SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000067", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:36,907 25529 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "BUILD/None" after 1 second wait
2023-05-16 16:21:37,990 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077 0.082s
2023-05-16 16:21:37,991 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:37 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1937', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-27526608-e6cf-4b4f-aa0a-3013cf114981', 'x-compute-request-id': 'req-27526608-e6cf-4b4f-aa0a-3013cf114981', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077'}
        Body: b'{"server": {"id": "61f1a533-0b2c-415d-99f6-21a07d1fd077", "name": "tempest-VolumesSnapshotTestJSON-instance-1618981895", "status": "ERROR", "tenant_id": "8fc8ee79a0074f78965c24adff2c1169", "user_id": "5c642dfc1ad54e62bd4ed545982f0081", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:35Z", "updated": "2023-05-16T16:21:37Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2023-05-16T16:21:37Z", "message": "Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 61f1a533-0b2c-415d-99f6-21a07d1fd077.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py\\", line 703, in build_instances\\n    raise exception.MaxRetriesExceeded(reason=msg)\\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 61f1a533-0b2c-415d-99f6-21a07d1fd077.\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000067", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:38,001 25529 INFO     [tempest.common.waiters] State transition "BUILD/None" ==> "ERROR/None" after 3 second wait
2023-05-16 16:21:38,212 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077 0.211s
2023-05-16 16:21:38,213 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:38 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-a
    pi-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f59e816c-0aaa-4131-aebf-e5c0fdbb0a15', 'x-compute-request-id': 'req-f59e816c-0aaa-4131-aebf-e5c0fdbb0a15', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077'}
        Body: b''
2023-05-16 16:21:38,239 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_delete_with_volume_in_use): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077 0.025s
2023-05-16 16:21:38,239 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:38 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-60326939-b7ec-433c-9d33-59dd67b96211', 'x-compute-request-id': 'req-60326939-b7ec-433c-9d33-59dd67b96211', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/61f1a533-0b2c-415d-99f6-21a07d1fd077'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 61f1a533-0b2c-415d-99f6-21a07d1fd077 could not be found."}}'


tempest.api.volume.test_volumes_snapshots.VolumesSnapshotTestJSON.test_snapshot_create_offline_delete_online[compute,id-5210a1de-85a0-11e6-bb21-641c676a5d61]
-------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_snapshots.py", line 83, in test_snapshot_create_offline_delete_online
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server dee33b3f-bcdd-42f9-952a-b6ff8f4822da failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2023-05-16T16:21:45Z', 'message': 'Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance dee33b3f-bcdd-42f9-952a-b6ff8f4822da.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py", line 703, in build_instances\n    raise exception.MaxRetriesExceeded(reason=msg)\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance dee33b3f-bcdd-42f9-952a-b6ff8f4822da.\n'}. Server boot request ID: req-cc43bc21-41f2-4073-b2a0-b88103b428b7.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2023-05-16 16:21:41,748 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169/snapshots 0.103s
2023-05-16 16:21:41,749 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"snapshot": {"volume_id": "234cc7ad-c9f5-4234-950e-7d4b546b1775", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1370035692"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:41 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '310', 'x-compute-request-id': 'req-89f0487c-71bb-4b11-9c06-8115127ce6fc', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-89f0487c-71bb-4b11-9c06-8115127ce6fc', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169/snapshots'}
        Body: b'{"snapshot": {"id": "e8efa96f-bf90-4362-9157-01b4f71c6582", "created_at": "2023-05-16T16:21:41.707013", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1370035692", "description": null, "volume_id": "234cc7ad-c9f5-4234-950e-7d4b546b1775", "status": "creating", "size": 1, "metadata": {}}}'
2023-05-16 16:21:41,775 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169/snapshots/e8efa96f-bf90-4362-9157-01b4f71c6582 0.023s
2023-05-16 16:21:41,775 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:41 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '442', 'x-compute-request-id': 'req-05d2da56-8f7b-4347-8f32-10644d693af7', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-05d2da56-8f7b-4347-8f32-10644d693af7', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169/snapshots/e8efa96f-bf90-4362-9157-01b4f71c6582'}
        Body: b'{"snapshot": {"id": "e8efa96f-bf90-4362-9157-01b4f71c6582", "created_at": "2023-05-16T16:21:41.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1370035692", "description": null, "volume_id": "234cc7ad-c9f5-4234-950e-7d4b546b1775", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "8fc8ee79a0074f78965c24adff2c1169", "os-extended-snapshot-attributes:progress": "0%"}}'
2023-05-16 16:21:42,801 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169/snapshots/e8efa96f-bf90-4362-9157-01b4f71c6582 0.020s
2023-05-16 16:21:42,801 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:42 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '442', 'x-compute-request-id': 'req-8af15a21-a3a5-47de-aba5-2239db873032', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-8af15a21-a3a5-47de-aba5-2239db873032', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169/snapshots/e8efa96f-bf90-4362-9157-01b4f71c6582'}
        Body: b'{"snapshot": {"id": "e8efa96f-bf90-4362-9157-01b4f71c6582", "created_at": "2023-05-16T16:21:41.000000", "updated_at": null, "name": "tempest-VolumesSnapshotTe
    stJSON-Snapshot-1370035692", "description": null, "volume_id": "234cc7ad-c9f5-4234-950e-7d4b546b1775", "status": "creating", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "8fc8ee79a0074f78965c24adff2c1169", "os-extended-snapshot-attributes:progress": "0%"}}'
2023-05-16 16:21:43,827 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169/snapshots/e8efa96f-bf90-4362-9157-01b4f71c6582 0.021s
2023-05-16 16:21:43,828 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:43 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '469', 'x-compute-request-id': 'req-e6ef6627-e187-4464-ad3e-b2dbe6d52e7a', 'openstack-api-version': 'volume 3.0', 'vary': 'OpenStack-API-Version', 'x-openstack-request-id': 'req-e6ef6627-e187-4464-ad3e-b2dbe6d52e7a', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169/snapshots/e8efa96f-bf90-4362-9157-01b4f71c6582'}
        Body: b'{"snapshot": {"id": "e8efa96f-bf90-4362-9157-01b4f71c6582", "created_at": "2023-05-16T16:21:41.000000", "updated_at": "2023-05-16T16:21:43.000000", "name": "tempest-VolumesSnapshotTestJSON-Snapshot-1370035692", "description": null, "volume_id": "234cc7ad-c9f5-4234-950e-7d4b546b1775", "status": "available", "size": 1, "metadata": {}, "os-extended-snapshot-attributes:project_id": "8fc8ee79a0074f78965c24adff2c1169", "os-extended-snapshot-attributes:progress": "100%"}}'
2023-05-16 16:21:43,831 25529 INFO     [tempest.common.waiters] snapshot e8efa96f-bf90-4362-9157-01b4f71c6582 reached available after waiting for 2.831800 seconds
2023-05-16 16:21:44,424 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 201 POST http://controller:5000/v3/auth/tokens 0.585s
2023-05-16 16:21:44,425 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:43 GMT', 'server': 'Apache', 'content-length': '3257', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-21825ebe-0cb9-47c7-8d2b-120d3074b5ac', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "5c642dfc1ad54e62bd4ed545982f0081", "name": "tempest-VolumesSnapshotTestJSON-1728728794-project", "password_expires_at": null}, "audit_ids": ["TFjuMFXdQHasyNNJbjUxeg"], "expires_at": "2023-05-17T16:21:44.000000Z", "issued_at": "2023-05-16T16:21:44.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "8fc8ee79a0074f78965c24adff2c1169", "name": "tempest-VolumesSnapshotTestJSON-1728728794"}, "is_domain": false, "roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader"}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member"}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin"}], "catalog": [{"endpoints": [{"id": "2ef038ce87a54afcb6d51f63a97336c6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "643c1a643c2e4bf0b88f318cade181d2", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "2a634ba537ea4355bcf9ff6b2acccc7a", "type": "image", "name": "glance"}, {"endpoints": [{"id": "3832feab28214fd9a55abd43ffbbbdd9", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "ee21a250ad5540ae9f80535c28d35fc5",
     "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "4cfd37b40e6140c5b9776e56cf44ed32", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "1b408a9c4aaf42a1b8fb00c9f642e622", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "f096abc126de408eacaa5f2cf56a3dbe", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "642a2e91c13e4f21a10fcf71d190a840", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "218551f599544d07b8108f478c159b9c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "d2a9ca8d9aa24476bf6baedb3004f388", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "7112f77e91ac48d29b3593625f36f04d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "44b5f5e22c1e4184aead65119b5231d6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "6b1a1973507e40e690e7cee40b83a2f8", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "7bae18bfa06748a58770dc3fd970e5df", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "2146b3fa527d4407908a2db7815efe83", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169", "region": "RegionOne"}, {"id": "a526c2b9a24e40db895e151a35171d26", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/8fc8ee79a0074f78965c24adff2c1169", "region": "RegionOne"}], "id": "e4f2c864cf244ef9b1d96d93a9fdef3e", "type": "volumev3", "name": "cinderv3"}]}}'
2023-05-16 16:21:44,433 25529 INFO     [tempest.lib.common.fixed_network] (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online) Found network None available for tenant
2023-05-16 16:21:44,638 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.203s
2023-05-16 16:21:44,638 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesSnapshotTestJSON-instance-1961912215", "imageRef": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:44 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-cc43bc21-41f2-4073-b2a0-b88103b428b7', 'x-compute-request-id': 'req-cc43bc21-41f2-4073-b2a0-b88103b428b7', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "dee33b3f-bcdd-42f9-952a-b6ff8f4822da", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "vybWau3mEdBh"}}'
2023-05-16 16:21:44,698 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da 0.057s
2023-05-16 16:21:44,699 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omit
    ted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:44 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1327', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-6bc4673b-9e41-4813-a2e0-01b307baa269', 'x-compute-request-id': 'req-6bc4673b-9e41-4813-a2e0-01b307baa269', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da'}
        Body: b'{"server": {"id": "dee33b3f-bcdd-42f9-952a-b6ff8f4822da", "name": "tempest-VolumesSnapshotTestJSON-instance-1961912215", "status": "BUILD", "tenant_id": "8fc8ee79a0074f78965c24adff2c1169", "user_id": "5c642dfc1ad54e62bd4ed545982f0081", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:44Z", "updated": "2023-05-16T16:21:44Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:45,832 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da 0.122s
2023-05-16 16:21:45,832 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1937', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c0594489-fe60-4d1b-8878-05fb79337ce1', 'x-compute-request-id': 'req-c0594489-fe60-4d1b-8878-05fb79337ce1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da'}
        Body: b'{"server": {"id": "dee33b3f-bcdd-42f9-952a-b6ff8f4822da", "name": "tempest-VolumesSnapshotTestJSON-instance-1961912215", "status": "ERROR", "tenant_id": "8fc8ee79a0074f78965c24adff2c1169", "user_id": "5c642dfc1ad54e62bd4ed545982f0081", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:21:44Z", "updated": "2023-05-16T16:21:45Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2023-05-16T16:21:45Z", "message": "Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance dee3
    3b3f-bcdd-42f9-952a-b6ff8f4822da.", "details": "Traceback (most recent call last):\\n  File \\"/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py\\", line 703, in build_instances\\n    raise exception.MaxRetriesExceeded(reason=msg)\\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance dee33b3f-bcdd-42f9-952a-b6ff8f4822da.\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000068", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:21:45,842 25529 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2023-05-16 16:21:46,052 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da 0.209s
2023-05-16 16:21:46,052 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:45 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-1623aea3-4340-4843-b43c-6a3b852ed8e7', 'x-compute-request-id': 'req-1623aea3-4340-4843-b43c-6a3b852ed8e7', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da'}
        Body: b''
2023-05-16 16:21:46,080 25529 INFO     [tempest.lib.common.rest_client] Request (VolumesSnapshotTestJSON:test_snapshot_create_offline_delete_online): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da 0.027s
2023-05-16 16:21:46,081 25529 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:21:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-55dc27a7-2f69-42a9-b2f2-220c59a35e94', 'x-compute-request-id': 'req-55dc27a7-2f69-42a9-b2f2-220c59a35e94', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/dee33b3f-bcdd-42f9-952a-b6ff8f4822da'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance dee33b3f-bcdd-42f9-952a-b6ff8f4822da could not be found."}}'


tempest.api.volume.test_volumes_negative.VolumesNegativeTest.test_attach_volumes_with_nonexistent_volume_id[compute,id-f5e56b0a-5d02-43c1-a2a7-c9b792c2e3f6,negative]
---------------------------------------------------------------------------------------------------------------------------------------------------------------------

Captured traceback:
~~~~~~~~~~~~~~~~~~~
    Traceback (most recent call last):

      File "/usr/local/lib/python3.6/site-packages/tempest/common/utils/__init__.py", line 70, in wrapper
    return f(*func_args, **func_kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/test_volumes_negative.py", line 179, in test_attach_volumes_with_nonexistent_volume_id
    server = self.create_server()

      File "/usr/local/lib/python3.6/site-packages/tempest/api/volume/base.py", line 208, in create_server
    **kwargs)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 354, in create_test_server
    server['id'])

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 227, in __exit__
    self.force_reraise()

      File "/usr/local/lib/python3.6/site-packages/oslo_utils/excutils.py", line 200, in force_reraise
    raise self.value

      File "/usr/local/lib/python3.6/site-packages/tempest/common/compute.py", line 321, in create_test_server
    request_id=request_id)

      File "/usr/local/lib/python3.6/site-packages/tempest/common/waiters.py", line 81, in wait_for_server_status
    raise exceptions.BuildErrorException(details, server_id=server_id)

    tempest.exceptions.BuildErrorException: Server 4a030806-da11-43f0-876b-5931b73aca27 failed to build and is in ERROR status
Details: Fault: {'code': 500, 'created': '2023-05-16T16:22:47Z', 'message': 'Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 4a030806-da11-43f0-876b-5931b73aca27.', 'details': 'Traceback (most recent call last):\n  File "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py", line 703, in build_instances\n    raise exception.MaxRetriesExceeded(reason=msg)\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 4a030806-da11-43f0-876b-5931b73aca27.\n'}. Server boot request ID: req-2f7aa1f1-1393-4e8b-b099-3e3abebb290f.


Captured pythonlogging:
~~~~~~~~~~~~~~~~~~~~~~~
    2023-05-16 16:22:45,064 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://controller:5000/v3/auth/tokens 0.527s
2023-05-16 16:22:45,064 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json'}
        Body: <omitted>
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:44 GMT', 'server': 'Apache', 'content-length': '3249', 'x-subject-token': '<omitted>', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-9cec0562-ddb5-4ced-8b38-cd23a93f3616', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://controller:5000/v3/auth/tokens'}
        Body: b'{"token": {"methods": ["password"], "user": {"domain": {"id": "default", "name": "Default"}, "id": "ab50e88ea79b4372b5826ba31a841885", "name": "tempest-VolumesNegativeTest-1822289237-project", "password_expires_at": null}, "audit_ids": ["uwR2D0KfTUO2gwhC3TMqpA"], "expires_at": "2023-05-17T16:22:45.000000Z", "issued_at": "2023-05-16T16:22:45.000000Z", "project": {"domain": {"id": "default", "name": "Default"}, "id": "647405abd21042638d3edb89a45b971c", "name": "tempest-VolumesNegativeTest-1822289237"}, "is_domain": false, "roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader"}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin"}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member"}], "catalog": [{"endpoints": [{"id": "2ef038ce87a54afcb6d51f63a97336c6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}, {"id": "643c1a643c2e4bf0b88f318cade181d2", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9292", "region": "RegionOne"}], "id": "2a634ba537ea4355bcf9ff6b2acccc7a", "type": "image", "name": "glance"}, {"endpoints": [{"id": "3832feab28214fd9a55abd43ffbbbdd9", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}, {"id": "ee21a250ad5540ae9f80535c28d35fc5", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8780", "region": "RegionOne"}], "id": "4cfd37b40e6140c5b9776e56cf44ed32", "type": "placement", "name": "placement"}, {"endpoints": [{"id": "1b408a9c4aaf42a1b8fb00c9f642e622", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}, {"id": "f096abc126de408eacaa5f2cf56a3dbe", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:9696", "region": "RegionOne"}], "id": "642a2e91c13e4f21a10fcf71d190a840", "type": "network", "name": "neutron"}, {"endpoints": [{"id": "218551f599544d07b8108f478c159b9c", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}, {"id": "d2a9ca8d9aa24476bf6baedb3004f388", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:5000", "region": "RegionOne"}], "id": "7112f77e91ac48d29b3593625f36f04d", "type": "identity", "name": "keystone"}, {"endpoints": [{"id": "44b5f5e22c1e4184aead65119b5231d6", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}, {"id": "6b1a1973507e40e690e7cee40b83a2f8", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8774/v2.1", "region": "RegionOne"}], "id": "7bae18bfa06748a58770dc3fd970e5df", "type": "compute", "name": "nova"}, {"endpoints": [{"id": "2146b3fa527d4407908a2db7815efe83", "interface": "public", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/647405abd21042638d3edb89a45b971c", "region": "RegionOne"}, {"id": "a526c2b9a24e40db895e151a35171d26", "interface": "internal", "region_id": "RegionOne", "url": "http://[LB_IP_ADDRESS]:8776/v3/647405abd21042638d3edb89a45b971c", "region": "RegionOne"}], "id": "e4f2c864cf244ef9b1d96d93a9fdef3e", "type": "volumev3", "name": "cinderv3"}]}}'
2023-05-16 16:22:45,065 25531 DEBUG    [tempest.lib.common.dynamic_c
    reds] Creating new dynamic creds for scope: None and credential_type: admin
2023-05-16 16:22:45,149 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/projects 0.083s
2023-05-16 16:22:45,149 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"project": {"description": "tempest-VolumesNegativeTest-1431850301-desc", "domain_id": "default", "name": "tempest-VolumesNegativeTest-1431850301"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:45 GMT', 'server': 'Apache', 'content-length': '374', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-b61534b3-2b2c-4859-855b-2a1f55f62f23', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects'}
        Body: b'{"project": {"id": "eae88ec75e174a24bc0b19c262f158c6", "name": "tempest-VolumesNegativeTest-1431850301", "domain_id": "default", "description": "tempest-VolumesNegativeTest-1431850301-desc", "enabled": true, "parent_id": "default", "is_domain": false, "tags": [], "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/projects/eae88ec75e174a24bc0b19c262f158c6"}}}\n'
2023-05-16 16:22:45,726 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 201 POST http://[LB_IP_ADDRESS]:5000/v3/users 0.576s
2023-05-16 16:22:45,727 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"user": {"name": "tempest-VolumesNegativeTest-1431850301-project-admin", "password": "Q6#cxR89dExPdpj", "domain_id": "default"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:45 GMT', 'server': 'Apache', 'content-length': '293', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-4b27f2b0-c2a1-418f-ade6-d1bd40b646aa', 'connection': 'close', 'content-type': 'application/json', 'status': '201', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/users'}
        Body: b'{"user": {"id": "b135b91a01cd4c1c99de504c0672b94d", "name": "tempest-VolumesNegativeTest-1431850301-project-admin", "domain_id": "default", "enabled": true, "password_expires_at": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/users/b135b91a01cd4c1c99de504c0672b94d"}}}\n'
2023-05-16 16:22:45,755 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.027s
2023-05-16 16:22:45,756 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:45 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-6efe58a8-e9d9-4ad3-b9a4-ac1e09be29fe', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description"
    : null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:22:45,812 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/eae88ec75e174a24bc0b19c262f158c6/users/b135b91a01cd4c1c99de504c0672b94d/roles/b7eebb47178e4fea97f8f534796f62f1 0.056s
2023-05-16 16:22:45,813 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:45 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-96dff0fa-6d55-4079-83d7-32025fad8642', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/eae88ec75e174a24bc0b19c262f158c6/users/b135b91a01cd4c1c99de504c0672b94d/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:22:45,884 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.070s
2023-05-16 16:22:45,884 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:45 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-e8cf7381-67b8-4200-91c9-5c970c6640b1', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:22:45,915 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/b135b91a01cd4c1c99de504c0672b94d/roles/b7eebb47178e4fea97f8f534796f62f1 0.030s
2023-05-16 16:22:45,915 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:45 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-d583c566-8d10-4efa-a231-a7929a248961', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/domains/default/users/b135b91a01cd4c1c99de504c0672b94d/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:22:45,985 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.069s
2023-05-16 16:22:45,986 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/j
    son', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:45 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-c45d8d4f-9bb3-4cd5-a0a6-4436765f169b', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "previous": null}}\n'
2023-05-16 16:22:46,018 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/eae88ec75e174a24bc0b19c262f158c6/users/b135b91a01cd4c1c99de504c0672b94d/roles/b7eebb47178e4fea97f8f534796f62f1 0.031s
2023-05-16 16:22:46,018 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:45 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-0ab6897d-f76d-4997-82a4-c0e9a3d65a8f', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/eae88ec75e174a24bc0b19c262f158c6/users/b135b91a01cd4c1c99de504c0672b94d/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:22:46,087 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:5000/v3/roles 0.068s
2023-05-16 16:22:46,087 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:46 GMT', 'server': 'Apache', 'content-length': '986', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-fde8eb82-90ce-4985-9bcf-e1ab5aaa34d9', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/roles'}
        Body: b'{"roles": [{"id": "07a2da8f5f0b471b85ab084f553e97cd", "name": "reader", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/07a2da8f5f0b471b85ab084f553e97cd"}}, {"id": "3eb7c41441a04b8ba09e6e5835bf1deb", "name": "member", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/3eb7c41441a04b8ba09e6e5835bf1deb"}}, {"id": "b7eebb47178e4fea97f8f534796f62f1", "name": "admin", "domain_id": null, "description": null, "options": {"immutable": true}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/b7eebb47178e4fea97f8f534796f62f1"}}, {"id": "cc6e341d1c5847f7a1e5440713b2ca7d", "name": "_member_", "domain_id": null, "description": null, "options": {}, "links": {"self": "http://[LB_IP_ADDRESS]:5000/v3/roles/cc6e341d1c5847f7a1e5440713b2ca7d"}}], "links": {"next": null, "self": "http://[LB_IP_ADDRESS]:5000/v3/roles", "prev
    ious": null}}\n'
2023-05-16 16:22:46,117 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 PUT http://[LB_IP_ADDRESS]:5000/v3/projects/eae88ec75e174a24bc0b19c262f158c6/users/b135b91a01cd4c1c99de504c0672b94d/roles/b7eebb47178e4fea97f8f534796f62f1 0.029s
2023-05-16 16:22:46,118 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:46 GMT', 'server': 'Apache', 'vary': 'X-Auth-Token', 'x-openstack-request-id': 'req-158a52b7-35de-4476-876c-fb3501ed3996', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:5000/v3/projects/eae88ec75e174a24bc0b19c262f158c6/users/b135b91a01cd4c1c99de504c0672b94d/roles/b7eebb47178e4fea97f8f534796f62f1'}
        Body: b''
2023-05-16 16:22:46,118 25531 INFO     [tempest.lib.common.dynamic_creds] Dynamic test user b135b91a01cd4c1c99de504c0672b94d is created with scope project and roles: ['admin', 'admin']
2023-05-16 16:22:46,119 25531 INFO     [tempest.lib.common.dynamic_creds] Acquired dynamic creds:
 credentials: Credentials: {'domain_id': 'default', 'domain_name': 'Default', 'username': 'tempest-VolumesNegativeTest-1431850301-project-admin', 'project_domain_id': 'default', 'project_domain_name': 'Default', 'project_id': 'eae88ec75e174a24bc0b19c262f158c6', 'project_name': 'tempest-VolumesNegativeTest-1431850301', 'tenant_id': 'eae88ec75e174a24bc0b19c262f158c6', 'tenant_name': 'tempest-VolumesNegativeTest-1431850301', 'user_domain_id': 'default', 'user_domain_name': 'Default', 'user_id': 'b135b91a01cd4c1c99de504c0672b94d', 'system': None}, Network: None, Subnet: None, Router: None
2023-05-16 16:22:46,126 25531 INFO     [tempest.lib.common.fixed_network] (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id) Found network None available for tenant
2023-05-16 16:22:46,329 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 202 POST http://[LB_IP_ADDRESS]:8774/v2.1/servers 0.201s
2023-05-16 16:22:46,329 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: {"server": {"name": "tempest-VolumesNegativeTest-instance-472287476", "imageRef": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "flavorRef": "0"}}
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:46 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '380', 'location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-2f7aa1f1-1393-4e8b-b099-3e3abebb290f', 'x-compute-request-id': 'req-2f7aa1f1-1393-4e8b-b099-3e3abebb290f', 'connection': 'close', 'content-type': 'application/json', 'status': '202', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers'}
        Body: b'{"server": {"id": "4a030806-da11-43f0-876b-5931b73aca27", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/4a030806-da11-43f0-876b-5931b73aca27"}], "OS-DCF:diskConfig": "MANUAL", "security_groups": [{"name": "default"}], "adminPass": "BvnSuMNLP8WS"}}'
2023-05-16 16:22:46,394 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27 0.062s
2023-05-16 16:22:46,395 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:4
    6 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1322', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-e8e82e45-f87a-4ea3-bd0c-02433b53aea7', 'x-compute-request-id': 'req-e8e82e45-f87a-4ea3-bd0c-02433b53aea7', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27'}
        Body: b'{"server": {"id": "4a030806-da11-43f0-876b-5931b73aca27", "name": "tempest-VolumesNegativeTest-instance-472287476", "status": "BUILD", "tenant_id": "647405abd21042638d3edb89a45b971c", "user_id": "ab50e88ea79b4372b5826ba31a841885", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:22:46Z", "updated": "2023-05-16T16:22:46Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/4a030806-da11-43f0-876b-5931b73aca27"}], "OS-DCF:diskConfig": "MANUAL", "progress": 0, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": "scheduling", "OS-EXT-STS:vm_state": "building", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:22:47,491 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 200 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27 0.086s
2023-05-16 16:22:47,492 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:47 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '1932', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-03965846-11d4-4733-91c9-ae3e3cbaadf4', 'x-compute-request-id': 'req-03965846-11d4-4733-91c9-ae3e3cbaadf4', 'connection': 'close', 'content-type': 'application/json', 'status': '200', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27'}
        Body: b'{"server": {"id": "4a030806-da11-43f0-876b-5931b73aca27", "name": "tempest-VolumesNegativeTest-instance-472287476", "status": "ERROR", "tenant_id": "647405abd21042638d3edb89a45b971c", "user_id": "ab50e88ea79b4372b5826ba31a841885", "metadata": {}, "hostId": "", "image": {"id": "7d4c0570-d28f-4a4c-956a-bae748ddb90c", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/images/7d4c0570-d28f-4a4c-956a-bae748ddb90c"}]}, "flavor": {"id": "0", "links": [{"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/flavors/0"}]}, "created": "2023-05-16T16:22:46Z", "updated": "2023-05-16T16:22:47Z", "addresses": {}, "accessIPv4": "", "accessIPv6": "", "links": [{"rel": "self", "href": "http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27"}, {"rel": "bookmark", "href": "http://[LB_IP_ADDRESS]:8774/servers/4a030806-da11-43f0-876b-5931b73aca27"}], "OS-DCF:diskConfig": "MANUAL", "fault": {"code": 500, "created": "2023-05-16T16:22:47Z", "message": "Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 4a030806-da11-43f0-876b-5931b73aca27.", "details": "Traceback (most recent call last):\\n  File \\
    "/var/lib/kolla/venv/lib/python3.10/site-packages/nova/conductor/manager.py\\", line 703, in build_instances\\n    raise exception.MaxRetriesExceeded(reason=msg)\\nnova.exception.MaxRetriesExceeded: Exceeded maximum number of retries. Exhausted all hosts available for retrying build failures for instance 4a030806-da11-43f0-876b-5931b73aca27.\\n"}, "OS-EXT-AZ:availability_zone": "", "config_drive": "", "key_name": null, "OS-SRV-USG:launched_at": null, "OS-SRV-USG:terminated_at": null, "OS-EXT-SRV-ATTR:host": null, "OS-EXT-SRV-ATTR:instance_name": "instance-00000069", "OS-EXT-SRV-ATTR:hypervisor_hostname": null, "OS-EXT-STS:task_state": null, "OS-EXT-STS:vm_state": "error", "OS-EXT-STS:power_state": 0, "os-extended-volumes:volumes_attached": []}}'
2023-05-16 16:22:47,501 25531 INFO     [tempest.common.waiters] State transition "BUILD/scheduling" ==> "ERROR/None" after 1 second wait
2023-05-16 16:22:47,911 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 204 DELETE http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27 0.410s
2023-05-16 16:22:47,912 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:47 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-f7291511-23fc-4bbb-9980-623a2f8f4f70', 'x-compute-request-id': 'req-f7291511-23fc-4bbb-9980-623a2f8f4f70', 'connection': 'close', 'status': '204', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27'}
        Body: b''
2023-05-16 16:22:47,941 25531 INFO     [tempest.lib.common.rest_client] Request (VolumesNegativeTest:test_attach_volumes_with_nonexistent_volume_id): 404 GET http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27 0.028s
2023-05-16 16:22:47,941 25531 DEBUG    [tempest.lib.common.rest_client] Request - Headers: {'Content-Type': 'application/json', 'Accept': 'application/json', 'X-Auth-Token': '<omitted>'}
        Body: None
    Response - Headers: {'date': 'Tue, 16 May 2023 16:22:47 GMT', 'server': 'Apache/2.4.52 (Ubuntu)', 'content-length': '111', 'openstack-api-version': 'compute 2.1', 'x-openstack-nova-api-version': '2.1', 'vary': 'OpenStack-API-Version,X-OpenStack-Nova-API-Version', 'x-openstack-request-id': 'req-c77aaded-581b-4988-8592-6b0598899b98', 'x-compute-request-id': 'req-c77aaded-581b-4988-8592-6b0598899b98', 'connection': 'close', 'content-type': 'application/json; charset=UTF-8', 'status': '404', 'content-location': 'http://[LB_IP_ADDRESS]:8774/v2.1/servers/4a030806-da11-43f0-876b-5931b73aca27'}
        Body: b'{"itemNotFound": {"code": 404, "message": "Instance 4a030806-da11-43f0-876b-5931b73aca27 could not be found."}}'



======
Totals
======
Ran: 216 tests in 237.4376 sec.
 - Passed: 203
 - Skipped: 6
 - Expected Fail: 0
 - Unexpected Success: 0
 - Failed: 7
Sum of execute time for each test: 331.2964 sec.

==============
Worker Balance
==============
 - Worker 0 (52 tests) => 0:03:21.448366
 - Worker 1 (72 tests) => 0:03:49.558682
 - Worker 2 (92 tests) => 0:03:49.137169
